(function(){
shadow$provide[654]=function(ba,N,wa,t){var f=N(2);!function(x,m){"object"==typeof t&&"object"==typeof wa?wa.exports=m(N(10),N(19)):"function"==typeof define&&define.amd?define(["react","react-dom"],m):"object"==typeof t?t.Excalidraw=m(N(10),N(19)):x.Excalidraw=m(x.React,x.ReactDOM)}(self,function(x,m){return(()=>{function h(w){if(a[w])return a[w].exports;var n=a[w]={id:w,exports:{}};return q[w](n,n.exports,h),n.exports}var d,e,k,q={5374:w=>{function n(g,v,C,F,I,R,B){try{var u=g[R](B),y=u.value}catch(r){return void C(r)}u.done?
v(y):Promise.resolve(y).then(F,I)}w.exports=function(g){return function(){var v=this,C=arguments;return new Promise(function(F,I){function R(y){n(u,F,I,R,B,"next",y)}function B(y){n(u,F,I,R,B,"throw",y)}var u=g.apply(v,C);R(void 0)})}}},566:w=>{w.exports=function(n,g,v){return g in n?Object.defineProperty(n,g,{value:v,enumerable:!0,configurable:!0,writable:!0}):n[g]=v,n}},6950:w=>{function n(){return w.exports=n=Object.assign||function(g){for(var v=1;v<arguments.length;v++){var C=arguments[v],F;for(F in C)Object.prototype.hasOwnProperty.call(C,
F)&&(g[F]=C[F])}return g},n.apply(this,arguments)}w.exports=n},5474:(w,n,g)=>{var v=g(8387);w.exports=function(C,F){if(null==C)return{};var I,R=v(C,F);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(C);for(I=0;I<B.length;I++){var u=B[I];0<=F.indexOf(u)||Object.prototype.propertyIsEnumerable.call(C,u)&&(R[u]=C[u])}}return R}},8387:w=>{w.exports=function(n,g){if(null==n)return{};var v,C={},F=Object.keys(n);for(v=0;v<F.length;v++){var I=F[v];0<=g.indexOf(I)||(C[I]=n[I])}return C}},
6009:(w,n,g)=>{n=g(487);g=g(8328);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[w.id,g,""]]);n(g,{insert:"head",singleton:!1});w.exports=g.locals||{}},1395:(w,n,g)=>{n=g(487);g=g(6121);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[w.id,g,""]]);n(g,{insert:"head",singleton:!1});w.exports=g.locals||{}},3211:(w,n,g)=>{n=g(487);g=g(2510);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[w.id,g,""]]);n(g,{insert:"head",singleton:!1});w.exports=g.locals||{}},5574:(w,n,g)=>{n=g(487);g=g(7972);
"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[w.id,g,""]]);n(g,{insert:"head",singleton:!1});w.exports=g.locals||{}},4518:(w,n,g)=>{n=g(487);g=g(190);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[w.id,g,""]]);n(g,{insert:"head",singleton:!1});w.exports=g.locals||{}},3040:(w,n,g)=>{n=g(487);g=g(6718);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[w.id,g,""]]);n(g,{insert:"head",singleton:!1});w.exports=g.locals||{}},8623:(w,n,g)=>{n=g(487);g=g(3623);"string"==typeof(g=g.__esModule?g.default:
g)&&(g=[[w.id,g,""]]);n(g,{insert:"head",singleton:!1});w.exports=g.locals||{}},4193:(w,n,g)=>{n=g(487);g=g(103);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[w.id,g,""]]);n(g,{insert:"head",singleton:!1});w.exports=g.locals||{}},341:(w,n,g)=>{n=g(487);g=g(7061);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[w.id,g,""]]);n(g,{insert:"head",singleton:!1});w.exports=g.locals||{}},9705:(w,n,g)=>{n=g(487);g=g(1498);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[w.id,g,""]]);n(g,{insert:"head",
singleton:!1});w.exports=g.locals||{}},7143:(w,n,g)=>{n=g(487);g=g(666);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[w.id,g,""]]);n(g,{insert:"head",singleton:!1});w.exports=g.locals||{}},7428:(w,n,g)=>{n=g(487);g=g(849);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[w.id,g,""]]);n(g,{insert:"head",singleton:!1});w.exports=g.locals||{}},8465:(w,n,g)=>{n=g(487);g=g(6915);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[w.id,g,""]]);n(g,{insert:"head",singleton:!1});w.exports=g.locals||
{}},8680:(w,n,g)=>{n=g(487);g=g(7030);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[w.id,g,""]]);n(g,{insert:"head",singleton:!1});w.exports=g.locals||{}},205:(w,n,g)=>{n=g(487);g=g(3994);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[w.id,g,""]]);n(g,{insert:"head",singleton:!1});w.exports=g.locals||{}},8416:(w,n,g)=>{n=g(487);g=g(700);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[w.id,g,""]]);n(g,{insert:"head",singleton:!1});w.exports=g.locals||{}},2816:(w,n,g)=>{n=g(487);g=g(287);
"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[w.id,g,""]]);n(g,{insert:"head",singleton:!1});w.exports=g.locals||{}},1575:(w,n,g)=>{n=g(487);g=g(5657);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[w.id,g,""]]);n(g,{insert:"head",singleton:!1});w.exports=g.locals||{}},7287:(w,n,g)=>{n=g(487);g=g(7392);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[w.id,g,""]]);n(g,{insert:"head",singleton:!1});w.exports=g.locals||{}},8518:(w,n,g)=>{n=g(487);g=g(6065);"string"==typeof(g=g.__esModule?g.default:
g)&&(g=[[w.id,g,""]]);n(g,{insert:"head",singleton:!1});w.exports=g.locals||{}},5849:(w,n,g)=>{n=g(487);g=g(83);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[w.id,g,""]]);n(g,{insert:"head",singleton:!1});w.exports=g.locals||{}},9478:(w,n,g)=>{n=g(487);g=g(1554);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[w.id,g,""]]);n(g,{insert:"head",singleton:!1});w.exports=g.locals||{}},2680:(w,n,g)=>{n=g(487);g=g(1970);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[w.id,g,""]]);n(g,{insert:"head",
singleton:!1});w.exports=g.locals||{}},3142:(w,n,g)=>{n=g(487);g=g(961);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[w.id,g,""]]);n(g,{insert:"head",singleton:!1});w.exports=g.locals||{}},8234:(w,n,g)=>{n=g(487);g=g(4878);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[w.id,g,""]]);n(g,{insert:"head",singleton:!1});w.exports=g.locals||{}},4651:(w,n,g)=>{n=g(487);g=g(1988);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[w.id,g,""]]);n(g,{insert:"head",singleton:!1});w.exports=g.locals||
{}},2189:(w,n,g)=>{n=g(487);g=g(3245);"string"==typeof(g=g.__esModule?g.default:g)&&(g=[[w.id,g,""]]);n(g,{insert:"head",singleton:!1});w.exports=g.locals||{}},487:(w,n,g)=>{function v(ia){for(var ha=-1,H=0;H<r.length;H++)if(r[H].identifier===ia){ha=H;break}return ha}function C(ia,ha){for(var H={},V=[],J=0;J<ia.length;J++){var S=ia[J],L=ha.base?S[0]+ha.base:S[0],W=H[L]||0,M="".concat(L," ").concat(W);H[L]=W+1;L=v(M);S={css:S[1],media:S[2],sourceMap:S[3]};-1!==L?(r[L].references++,r[L].updater(S)):
r.push({identifier:M,updater:B(S,ha),references:1});V.push(M)}return V}function F(ia){var ha=document.createElement("style"),H=ia.attributes||{};if(void 0===H.nonce){var V=g.nc;V&&(H.nonce=V)}if(Object.keys(H).forEach(function(J){ha.setAttribute(J,H[J])}),"function"==typeof ia.insert)ia.insert(ha);else{ia=y(ia.insert||"head");if(!ia)throw Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");ia.appendChild(ha)}return ha}function I(ia,ha,H,
V){H=H?"":V.media?"@media ".concat(V.media," {").concat(V.css,"}"):V.css;ia.styleSheet?ia.styleSheet.cssText=da(ha,H):(H=document.createTextNode(H),V=ia.childNodes,V[ha]&&ia.removeChild(V[ha]),V.length?ia.insertBefore(H,V[ha]):ia.appendChild(H))}function R(ia,ha,H){ha=H.css;var V=H.media;H=H.sourceMap;if(V?ia.setAttribute("media",V):ia.removeAttribute("media"),H&&"undefined"!=typeof btoa&&(ha+="\n/*# sourceMappingURL\x3ddata:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(H)))),
" */")),ia.styleSheet)ia.styleSheet.cssText=ha;else{for(;ia.firstChild;)ia.removeChild(ia.firstChild);ia.appendChild(document.createTextNode(ha))}}function B(ia,ha){if(ha.singleton){var H=ka++;var V=Y||(Y=F(ha));var J=I.bind(null,V,H,!1);var S=I.bind(null,V,H,!0)}else V=F(ha),J=R.bind(null,V,ha),S=function(){if(null===V.parentNode)var L=!1;else V.parentNode.removeChild(V),L=void 0;!L};return J(ia),function(L){L?(L.css!==ia.css||L.media!==ia.media||L.sourceMap!==ia.sourceMap)&&J(ia=L):S()}}var u,y=
function(){var ia={};return function(ha){if(void 0===ia[ha]){var H=document.querySelector(ha);if(window.HTMLIFrameElement&&H instanceof window.HTMLIFrameElement)try{H=H.contentDocument.head}catch(V){H=null}ia[ha]=H}return ia[ha]}}(),r=[],U,da=(U=[],function(ia,ha){return U[ia]=ha,U.filter(Boolean).join("\n")}),Y=null,ka=0;w.exports=function(ia,ha){(ha=ha||{}).singleton||"boolean"==typeof ha.singleton||(ha.singleton=(void 0===u&&(u=!(!(window&&document&&document.all)||window.atob)),u));var H=C(ia=
ia||[],ha);return function(V){if(V=V||[],"[object Array]"===Object.prototype.toString.call(V)){for(var J=0;J<H.length;J++){var S=v(H[J]);r[S].references--}V=C(V,ha);for(J=0;J<H.length;J++)S=v(H[J]),0===r[S].references&&(r[S].updater(),r.splice(S,1));H=V}}}},2829:w=>{w.exports=JSON.parse('{"labels":{"paste":"Paste","pasteCharts":"Paste charts","selectAll":"Select all","multiSelect":"Add element to selection","moveCanvas":"Move canvas","cut":"Cut","copy":"Copy","copyAsPng":"Copy to clipboard as PNG","copyAsSvg":"Copy to clipboard as SVG","bringForward":"Bring forward","sendToBack":"Send to back","bringToFront":"Bring to front","sendBackward":"Send backward","delete":"Delete","copyStyles":"Copy styles","pasteStyles":"Paste styles","stroke":"Stroke","background":"Background","fill":"Fill","strokeWidth":"Stroke width","strokeStyle":"Stroke style","strokeStyle_solid":"Solid","strokeStyle_dashed":"Dashed","strokeStyle_dotted":"Dotted","sloppiness":"Sloppiness","opacity":"Opacity","textAlign":"Text align","edges":"Edges","sharp":"Sharp","round":"Round","arrowheads":"Arrowheads","arrowhead_none":"None","arrowhead_arrow":"Arrow","arrowhead_bar":"Bar","arrowhead_dot":"Dot","fontSize":"Font size","fontFamily":"Font family","onlySelected":"Only selected","withBackground":"With background","exportEmbedScene":"Embed scene into exported file","exportEmbedScene_details":"Scene data will be saved into the exported PNG/SVG file so that the scene can be restored from it.\\nWill increase exported file size.","addWatermark":"Add \\"Made with Excalidraw\\"","handDrawn":"Hand-drawn","normal":"Normal","code":"Code","small":"Small","medium":"Medium","large":"Large","veryLarge":"Very large","solid":"Solid","hachure":"Hachure","crossHatch":"Cross-hatch","thin":"Thin","bold":"Bold","left":"Left","center":"Center","right":"Right","extraBold":"Extra bold","architect":"Architect","artist":"Artist","cartoonist":"Cartoonist","fileTitle":"File title","colorPicker":"Color picker","canvasBackground":"Canvas background","drawingCanvas":"Drawing canvas","layers":"Layers","actions":"Actions","language":"Language","liveCollaboration":"Live collaboration","duplicateSelection":"Duplicate","untitled":"Untitled","name":"Name","yourName":"Your name","madeWithExcalidraw":"Made with Excalidraw","group":"Group selection","ungroup":"Ungroup selection","collaborators":"Collaborators","showGrid":"Show grid","addToLibrary":"Add to library","removeFromLibrary":"Remove from library","libraryLoadingMessage":"Loading library…","libraries":"Browse libraries","loadingScene":"Loading scene…","align":"Align","alignTop":"Align top","alignBottom":"Align bottom","alignLeft":"Align left","alignRight":"Align right","centerVertically":"Center vertically","centerHorizontally":"Center horizontally","distributeHorizontally":"Distribute horizontally","distributeVertically":"Distribute vertically","viewMode":"View mode","toggleExportColorScheme":"Toggle export color scheme","share":"Share"},"buttons":{"clearReset":"Reset the canvas","export":"Export","exportToPng":"Export to PNG","exportToSvg":"Export to SVG","copyToClipboard":"Copy to clipboard","copyPngToClipboard":"Copy PNG to clipboard","scale":"Scale","save":"Save","saveAs":"Save as","load":"Load","getShareableLink":"Get shareable link","close":"Close","selectLanguage":"Select language","scrollBackToContent":"Scroll back to content","zoomIn":"Zoom in","zoomOut":"Zoom out","resetZoom":"Reset zoom","menu":"Menu","done":"Done","edit":"Edit","undo":"Undo","redo":"Redo","resetLibrary":"Reset library","createNewRoom":"Create new room","fullScreen":"Full screen","darkMode":"Dark mode","lightMode":"Light mode","zenMode":"Zen mode","exitZenMode":"Exit zen mode"},"alerts":{"clearReset":"This will clear the whole canvas. Are you sure?","couldNotCreateShareableLink":"Couldn\'t create shareable link.","couldNotCreateShareableLinkTooBig":"Couldn\'t create shareable link: the scene is too big","couldNotLoadInvalidFile":"Couldn\'t load invalid file","importBackendFailed":"Importing from backend failed.","cannotExportEmptyCanvas":"Cannot export empty canvas.","couldNotCopyToClipboard":"Couldn\'t copy to clipboard. Try using Chrome browser.","decryptFailed":"Couldn\'t decrypt data.","uploadedSecurly":"The upload has been secured with end-to-end encryption, which means that Excalidraw server and third parties can\'t read the content.","loadSceneOverridePrompt":"Loading external drawing will replace your existing content. Do you wish to continue?","collabStopOverridePrompt":"Stopping the session will overwrite your previous, locally stored drawing. Are you sure?\\n\\n(If you want to keep your local drawing, simply close the browser tab instead.)","errorLoadingLibrary":"There was an error loading the third party library.","confirmAddLibrary":"This will add {{numShapes}} shape(s) to your library. Are you sure?","imageDoesNotContainScene":"Importing images isn\'t supported at the moment.\\n\\nDid you want to import a scene? This image does not seem to contain any scene data. Have you enabled this during export?","cannotRestoreFromImage":"Scene couldn\'t be restored from this image file","invalidSceneUrl":"Couldn\'t import scene from the supplied URL. It\'s either malformed, or doesn\'t contain valid Excalidraw JSON data.","resetLibrary":"This will clear your library. Are you sure?"},"toolBar":{"selection":"Selection","draw":"Free draw","rectangle":"Rectangle","diamond":"Diamond","ellipse":"Ellipse","arrow":"Arrow","line":"Line","text":"Text","library":"Library","lock":"Keep selected tool active after drawing"},"headings":{"canvasActions":"Canvas actions","selectedShapeActions":"Selected shape actions","shapes":"Shapes"},"hints":{"linearElement":"Click to start multiple points, drag for single line","freeDraw":"Click and drag, release when you\'re finished","text":"Tip: you can also add text by double-clicking anywhere with the selection tool","linearElementMulti":"Click on last point or press Escape or Enter to finish","lockAngle":"You can constrain angle by holding SHIFT","resize":"You can constrain proportions by holding SHIFT while resizing,\\nhold ALT to resize from the center","rotate":"You can constrain angles by holding SHIFT while rotating","lineEditor_info":"Double-click or press Enter to edit points","lineEditor_pointSelected":"Press Delete to remove point, CtrlOrCmd+D to duplicate, or drag to move","lineEditor_nothingSelected":"Select a point to move or remove, or hold Alt and click to add new points"},"canvasError":{"cannotShowPreview":"Cannot show preview","canvasTooBig":"The canvas may be too big.","canvasTooBigTip":"Tip: try moving the farthest elements a bit closer together."},"errorSplash":{"headingMain_pre":"Encountered an error. Try ","headingMain_button":"reloading the page.","clearCanvasMessage":"If reloading doesn\'t work, try ","clearCanvasMessage_button":"clearing the canvas.","clearCanvasCaveat":" This will result in loss of work ","trackedToSentry_pre":"The error with identifier ","trackedToSentry_post":" was tracked on our system.","openIssueMessage_pre":"We were very cautious not to include your scene information on the error. If your scene is not private, please consider following up on our ","openIssueMessage_button":"bug tracker.","openIssueMessage_post":" Please include information below by copying and pasting into the GitHub issue.","sceneContent":"Scene content:"},"roomDialog":{"desc_intro":"You can invite people to your current scene to collaborate with you.","desc_privacy":"Don\'t worry, the session uses end-to-end encryption, so whatever you draw will stay private. Not even our server will be able to see what you come up with.","button_startSession":"Start session","button_stopSession":"Stop session","desc_inProgressIntro":"Live-collaboration session is now in progress.","desc_shareLink":"Share this link with anyone you want to collaborate with:","desc_exitSession":"Stopping the session will disconnect you from the room, but you\'ll be able to continue working with the scene, locally. Note that this won\'t affect other people, and they\'ll still be able to collaborate on their version.","shareTitle":"Join a live collaboration session on Excalidraw"},"errorDialog":{"title":"Error"},"helpDialog":{"blog":"Read our blog","click":"click","curvedArrow":"Curved arrow","curvedLine":"Curved line","documentation":"Documentation","drag":"drag","editor":"Editor","github":"Found an issue? Submit","howto":"Follow our guides","or":"or","preventBinding":"Prevent arrow binding","shapes":"Shapes","shortcuts":"Keyboard shortcuts","textFinish":"Finish editing (text)","textNewLine":"Add new line (text)","title":"Help","view":"View","zoomToFit":"Zoom to fit all elements","zoomToSelection":"Zoom to selection"},"encrypted":{"tooltip":"Your drawings are end-to-end encrypted so Excalidraw\'s servers will never see them."},"stats":{"angle":"Angle","element":"Element","elements":"Elements","height":"Height","scene":"Scene","selected":"Selected","storage":"Storage","title":"Stats for nerds","total":"Total","version":"Version","versionCopy":"Click to copy","versionNotAvailable":"Version not available","width":"Width"},"toast":{"copyStyles":"Copied styles.","copyToClipboard":"Copied to clipboard.","copyToClipboardAsPng":"Copied {{exportSelection}} to clipboard as PNG\\n({{exportColorScheme}})","fileSaved":"File saved.","fileSavedToFilename":"Saved to {filename}","canvas":"canvas","selection":"selection"}}')},
2051:w=>{w.exports=JSON.parse('{"ar-SA":84,"bg-BG":95,"ca-ES":95,"de-DE":100,"el-GR":99,"en":100,"es-ES":100,"fa-IR":91,"fi-FI":100,"fr-FR":100,"he-IL":92,"hi-IN":93,"hu-HU":83,"id-ID":99,"it-IT":100,"ja-JP":97,"kab-KAB":98,"ko-KR":95,"my-MM":78,"nb-NO":100,"nl-NL":99,"nn-NO":86,"oc-FR":100,"pa-IN":96,"pl-PL":97,"pt-BR":100,"pt-PT":98,"ro-RO":100,"ru-RU":100,"sk-SK":99,"sv-SE":100,"tr-TR":83,"uk-UA":96,"zh-CN":98,"zh-TW":100}')},788:(w,n,g)=>{function v(F){if(!g.o(C,F))return Promise.resolve().then(()=>
{var B=Error("Cannot find module '"+F+"'");throw B.code="MODULE_NOT_FOUND",B;});var I=C[F],R=I[0];return Promise.all(I.slice(1).map(g.e)).then(()=>g.t(R,3))}var C={"./ar-SA.json":[7294,558],"./bg-BG.json":[3860,384],"./ca-ES.json":[750,351],"./de-DE.json":[7439,43],"./el-GR.json":[9422,526],"./en.json":[2829],"./es-ES.json":[2863,317],"./fa-IR.json":[3853,710],"./fi-FI.json":[5472,472],"./fr-FR.json":[3280,364],"./he-IL.json":[3970,262],"./hi-IN.json":[5599,933],"./hu-HU.json":[1516,661],"./id-ID.json":[7992,
491],"./it-IT.json":[5963,465],"./ja-JP.json":[1323,137],"./kab-KAB.json":[9230,164],"./ko-KR.json":[7552,60],"./my-MM.json":[1778,242],"./nb-NO.json":[8751,246],"./nl-NL.json":[4675,196],"./nn-NO.json":[7558,920],"./oc-FR.json":[9945,565],"./pa-IN.json":[863,280],"./percentages.json":[2051],"./pl-PL.json":[122,852],"./pt-BR.json":[7443,381],"./pt-PT.json":[2560,149],"./ro-RO.json":[5654,752],"./ru-RU.json":[5609,869],"./sk-SK.json":[8684,401],"./sv-SE.json":[1570,698],"./tr-TR.json":[8146,213],"./uk-UA.json":[9746,
583],"./zh-CN.json":[9044,304],"./zh-TW.json":[2939,62]};v.keys=()=>Object.keys(C);v.id=788;w.exports=v},7154:w=>{function n(){return w.exports=n=Object.assign||function(g){for(var v=1;v<arguments.length;v++){var C=arguments[v],F;for(F in C)Object.prototype.hasOwnProperty.call(C,F)&&(g[F]=C[F])}return g},n.apply(this,arguments)}w.exports=n},6479:(w,n,g)=>{var v=g(7316);w.exports=function(C,F){if(null==C)return{};var I,R=v(C,F);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(C);
for(I=0;I<B.length;I++){var u=B[I];0<=F.indexOf(u)||Object.prototype.propertyIsEnumerable.call(C,u)&&(R[u]=C[u])}}return R}},7316:w=>{w.exports=function(n,g){if(null==n)return{};var v,C={},F=Object.keys(n);for(v=0;v<F.length;v++){var I=F[v];0<=g.indexOf(I)||(C[I]=n[I])}return C}},8328:(w,n,g)=>{g.r(n);g.d(n,{default:()=>F});n=g(3645);var v=g.n(n);n=g(1667);n=g.n(n);var C=g(7464);g=g(9638);v=v()(function(I){return I[1]});C=n()(C.Z);g=n()(g.Z);v.push([w.id,'@font-face{font-family:"Virgil";src:url('+
C+');font-display:swap}@font-face{font-family:"Cascadia";src:url('+g+");font-display:swap}",""]);const F=v},6121:(w,n,g)=>{g.r(n);g.d(n,{default:()=>v});n=g(3645);g=g.n(n)()(function(C){return C[1]});g.push([w.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Avatar{width:2.5rem;height:2.5rem;border-radius:1.25rem;display:flex;justify-content:center;align-items:center;color:#fff;cursor:pointer;font-size:.8rem;font-weight:500}",
""]);const v=g},2510:(w,n,g)=>{g.r(n);g.d(n,{default:()=>v});n=g(3645);g=g.n(n)()(function(C){return C[1]});g.push([w.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .CollabButton.is-collaborating{background-color:var(--button-special-active-bg-color)}.excalidraw .CollabButton.is-collaborating .ToolIcon__icon svg,.excalidraw .CollabButton.is-collaborating .ToolIcon__label{color:var(--icon-green-fill-color)}.excalidraw .CollabButton-collaborators{min-width:1em;position:absolute;bottom:-5px;padding:3px;border-radius:50%;background-color:#40c057;color:#fff;font-size:.7em;font-family:var(--ui-font)}:root[dir\x3dltr] .excalidraw .CollabButton-collaborators{right:-5px}:root[dir\x3drtl] .excalidraw .CollabButton-collaborators{left:-5px}",
""]);const v=g},7972:(w,n,g)=>{g.r(n);g.d(n,{default:()=>v});n=g(3645);g=g.n(n)()(function(C){return C[1]});g.push([w.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .color-picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}:root[dir\x3dltr] .excalidraw .color-picker{left:-5.5px}:root[dir\x3drtl] .excalidraw .color-picker{right:-5.5px}.excalidraw .color-picker-control-container{display:grid;grid-template-columns:auto 1fr;align-items:center}.excalidraw .color-picker-triangle{width:0;height:0;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent var(--popup-bg-color);position:absolute;top:-10px}:root[dir\x3dltr] .excalidraw .color-picker-triangle{left:12px}:root[dir\x3drtl] .excalidraw .color-picker-triangle{right:12px}.excalidraw .color-picker-triangle-shadow{border-color:transparent transparent rgba(0,0,0,.1);top:-11px}.excalidraw .color-picker-content{padding:.5rem;display:grid;grid-template-columns:repeat(5, auto);grid-gap:.5rem;border-radius:4px}.excalidraw .color-picker-content:focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-picker-content .color-input-container{grid-column:1/span 5}.excalidraw .color-picker-swatch{position:relative;height:1.875rem;width:1.875rem;cursor:pointer;border-radius:4px;margin:0;box-sizing:border-box;border:1px solid #ddd;background-color:currentColor !important;filter:var(--appearance-filter)}.excalidraw .color-picker-swatch:focus{box-shadow:0 0 4px 1px currentColor;border-color:var(--select-highlight-color)}.excalidraw .color-picker-transparent{border-radius:4px;box-shadow:rgba(0,0,0,.1) 0 0 0 1px inset;position:absolute;top:0;right:0;bottom:0;left:0}.excalidraw .color-picker-transparent,.excalidraw .color-picker-label-swatch{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg\x3d\x3d") left center}.excalidraw .color-picker-hash{background:var(--input-border-color);height:1.875rem;width:1.875rem;color:var(--input-label-color);display:flex;align-items:center;justify-content:center;position:relative}:root[dir\x3dltr] .excalidraw .color-picker-hash{border-radius:4px 0 0 4px}:root[dir\x3drtl] .excalidraw .color-picker-hash{border-radius:0 4px 4px 0}.excalidraw .color-input-container:focus-within .color-picker-hash{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-input-container:focus-within .color-picker-hash::before,.excalidraw .color-input-container:focus-within .color-picker-hash::after{content:"";width:1px;height:100%;position:absolute;top:0}.excalidraw .color-input-container:focus-within .color-picker-hash::before{background:var(--input-border-color)}:root[dir\x3dltr] .excalidraw .color-input-container:focus-within .color-picker-hash::before{right:-1px}:root[dir\x3drtl] .excalidraw .color-input-container:focus-within .color-picker-hash::before{left:-1px}.excalidraw .color-input-container:focus-within .color-picker-hash::after{background:var(--input-bg-color)}:root[dir\x3dltr] .excalidraw .color-input-container:focus-within .color-picker-hash::after{right:-2px}:root[dir\x3drtl] .excalidraw .color-input-container:focus-within .color-picker-hash::after{left:-2px}.excalidraw .color-input-container{display:flex}.excalidraw .color-picker-input{width:12ch;margin:0;font-size:1rem;background-color:var(--input-bg-color);color:var(--text-primary-color);border:0;outline:none;height:1.75em;box-shadow:var(--input-border-color) 0 0 0 1px inset;float:left;padding:1px;padding-inline-start:.5em;appearance:none}:root[dir\x3dltr] .excalidraw .color-picker-input{border-radius:0 4px 4px 0}:root[dir\x3drtl] .excalidraw .color-picker-input{border-radius:4px 0 0 4px}.excalidraw .color-picker-label-swatch{height:1.875rem;width:1.875rem;margin-inline-end:.25rem;border:1px solid #dee2e6;position:relative;overflow:hidden;background-color:transparent !important;filter:var(--appearance-filter)}.excalidraw .color-picker-label-swatch:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:var(--swatch-color)}.excalidraw .color-picker-keybinding{position:absolute;bottom:2px;font-size:.7em}:root[dir\x3dltr] .excalidraw .color-picker-keybinding{right:2px}:root[dir\x3drtl] .excalidraw .color-picker-keybinding{left:2px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .color-picker-keybinding{display:none}}.excalidraw .color-picker-type-canvasBackground .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementBackground .color-picker-keybinding{color:#fff}.excalidraw .color-picker-swatch[aria-label\x3dtransparent] .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementStroke .color-picker-keybinding{color:#d4d4d4}.excalidraw.Appearance_dark .color-picker-type-elementBackground .color-picker-keybinding{color:#000}.excalidraw.Appearance_dark .color-picker-swatch[aria-label\x3dtransparent] .color-picker-keybinding{color:#000}',
""]);const v=g},190:(w,n,g)=>{g.r(n);g.d(n,{default:()=>v});n=g(3645);g=g.n(n)()(function(C){return C[1]});g.push([w.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .context-menu{position:relative;border-radius:4px;box-shadow:0 3px 10px rgba(0,0,0,.2);padding:0;list-style:none;user-select:none;margin:-0.25rem 0 0 .125rem;padding:.5rem 0;background-color:var(--popup-secondary-bg-color);border:1px solid var(--button-gray-3);cursor:default}.excalidraw .context-menu button{color:var(--popup-text-color)}.excalidraw .context-menu-option{position:relative;width:100%;min-width:9.5rem;margin:0;padding:.25rem 1rem .25rem 1.25rem;text-align:start;border-radius:0;background-color:transparent;border:none;white-space:nowrap;display:grid;grid-template-columns:1fr .2fr;align-items:center}.excalidraw .context-menu-option.checkmark::before{position:absolute;left:6px;margin-bottom:1px;content:"✓"}.excalidraw .context-menu-option.dangerous .context-menu-option__label{color:#f03e3e}.excalidraw .context-menu-option .context-menu-option__label{justify-self:start;margin-inline-end:20px}.excalidraw .context-menu-option .context-menu-option__shortcut{justify-self:end;opacity:.6;font-family:inherit;font-size:.7rem}.excalidraw .context-menu-option:hover{color:var(--popup-bg-color);background-color:var(--select-highlight-color)}.excalidraw .context-menu-option:hover.dangerous{background-color:#fa5252}.excalidraw .context-menu-option:hover.dangerous .context-menu-option__label{color:var(--popup-bg-color)}.excalidraw .context-menu-option:focus{z-index:1}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .context-menu-option{display:block}.excalidraw .context-menu-option .context-menu-option__label{margin-inline-end:0}.excalidraw .context-menu-option .context-menu-option__shortcut{display:none}}.excalidraw .context-menu-option-separator{border:none;border-top:1px solid #adb5bd}',
""]);const v=g},6718:(w,n,g)=>{g.r(n);g.d(n,{default:()=>v});n=g(3645);g=g.n(n)()(function(C){return C[1]});g.push([w.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Dialog{user-select:text;cursor:auto}.excalidraw .Dialog__title{display:grid;align-items:center;margin-top:0;grid-template-columns:1fr calc(var(--space-factor) * 7);grid-gap:var(--metric);padding:calc(var(--space-factor) * 2);text-align:center;font-variant:small-caps;font-size:1.2em}.excalidraw .Dialog__titleContent{flex:1}.excalidraw .Dialog .Modal__close{color:var(--icon-fill-color);margin:0}.excalidraw .Dialog__content{padding:0 16px 16px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .Dialog{--metric: calc(var(--space-factor) * 4);--inset-left: max(var(--metric), var(--sal));--inset-right: max(var(--metric), var(--sar))}.excalidraw .Dialog__title{grid-template-columns:calc(var(--space-factor) * 7) 1fr calc( var(--space-factor) * 7 );position:sticky;top:0;padding:calc(var(--space-factor) * 2);background:var(--island-bg-color);font-size:1.25em;box-sizing:border-box;border-bottom:1px solid var(--button-gray-2);z-index:1}.excalidraw .Dialog__titleContent{text-align:center}.excalidraw .Dialog .Island{width:100vw;height:100%;box-sizing:border-box;overflow-y:auto;padding-left:max(calc(var(--padding) * var(--space-factor)), var(--sal));padding-right:max(calc(var(--padding) * var(--space-factor)), var(--sar));padding-bottom:max(calc(var(--padding) * var(--space-factor)), var(--sab))}.excalidraw .Dialog .Modal__close{order:-1}}",
""]);const v=g},3623:(w,n,g)=>{g.r(n);g.d(n,{default:()=>v});n=g(3645);g=g.n(n)()(function(C){return C[1]});g.push([w.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .ExportDialog__preview{--preview-padding: calc(var(--space-factor) * 4);background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg\x3d\x3d") left center;text-align:center;padding:var(--preview-padding);margin-bottom:calc(var(--space-factor) * 3)}.excalidraw .ExportDialog__preview canvas{max-width:calc(100% - var(--preview-padding) * 2);max-height:25rem}.excalidraw.Appearance_dark .ExportDialog__preview canvas{filter:none}.excalidraw .ExportDialog__actions{width:100%;display:flex;grid-gap:calc(var(--space-factor) * 2);align-items:top;justify-content:space-between}.excalidraw .ExportDialog__name{grid-column:project-name;margin:auto}.excalidraw .ExportDialog__name .TextInput{height:calc(1rem - 3px)}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .ExportDialog{display:flex;flex-direction:column}.excalidraw .ExportDialog__actions{flex-direction:column;align-items:center}.excalidraw .ExportDialog__actions\x3e*{margin-bottom:calc(var(--space-factor) * 3)}.excalidraw .ExportDialog__preview canvas{max-height:30vh}.excalidraw .ExportDialog__dialog,.excalidraw .ExportDialog__dialog .Island{height:100%;box-sizing:border-box}.excalidraw .ExportDialog__dialog .Island{overflow-y:auto}}',
""]);const v=g},103:(w,n,g)=>{g.r(n);g.d(n,{default:()=>v});n=g(3645);g=g.n(n)()(function(C){return C[1]});g.push([w.id,".excalidraw .FixedSideContainer{--margin: 0.25rem;position:absolute;pointer-events:none}.excalidraw .FixedSideContainer\x3e*{pointer-events:all}.excalidraw .FixedSideContainer_side_top{left:var(--margin);top:var(--margin);right:var(--margin);z-index:2}.excalidraw .FixedSideContainer_side_top.zen-mode{right:42px}",""]);const v=g},7061:(w,n,g)=>{g.r(n);g.d(n,{default:()=>v});n=g(3645);
g=g.n(n)()(function(C){return C[1]});g.push([w.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .HelpDialog h3{border-bottom:1px solid var(--button-gray-2);padding-bottom:4px}.excalidraw .HelpDialog--island{border:1px solid var(--button-gray-2);margin-bottom:16px}.excalidraw .HelpDialog--island-title{margin:0;padding:4px;background-color:var(--button-gray-1);text-align:center}.excalidraw .HelpDialog--shortcut{border-top:1px solid var(--button-gray-2)}.excalidraw .HelpDialog--key{word-break:keep-all;border:1px solid var(--button-gray-2);padding:2px 8px;margin:auto 4px;background-color:var(--button-gray-1);border-radius:2px;font-size:.8em;min-height:26px;box-sizing:border-box;display:flex;align-items:center;font-family:inherit}.excalidraw .HelpDialog--header{display:flex;flex-direction:row;justify-content:space-evenly;margin-bottom:32px;padding-bottom:16px}.excalidraw .HelpDialog--btn{border:1px solid var(--link-color);padding:8px 32px;border-radius:4px}.excalidraw .HelpDialog--btn:hover{text-decoration:none}",
""]);const v=g},1498:(w,n,g)=>{g.r(n);g.d(n,{default:()=>v});n=g(3645);g=g.n(n)()(function(C){return C[1]});g.push([w.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .HintViewer{pointer-events:none;box-sizing:border-box;position:absolute;display:flex;justify-content:center;left:0;top:100%;max-width:100%;width:100%;margin-top:6px;text-align:center;color:#868e96;font-size:.8rem}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .HintViewer{position:static;padding-right:2em}}.excalidraw .HintViewer\x3espan{padding:.2rem .4rem;background-color:var(--overlay-bg-color);border-radius:4px}",
""]);const v=g},666:(w,n,g)=>{g.r(n);g.d(n,{default:()=>v});n=g(3645);g=g.n(n)()(function(C){return C[1]});g.push([w.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .picker-container{display:inline-block;box-sizing:border-box;margin-right:.25rem}.excalidraw .picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}.excalidraw .picker-container button,.excalidraw .picker button{position:relative;display:flex;align-items:center;justify-content:center}.excalidraw .picker-container button:focus,.excalidraw .picker button:focus{outline:transparent;background-color:var(--button-gray-2)}.excalidraw .picker-container button:focus svg,.excalidraw .picker button:focus svg{opacity:1}.excalidraw .picker-container button:hover,.excalidraw .picker button:hover{background-color:var(--button-gray-2)}.excalidraw .picker-container button:active,.excalidraw .picker button:active{background-color:var(--button-gray-3)}.excalidraw .picker-container button:disabled,.excalidraw .picker button:disabled{cursor:not-allowed}.excalidraw .picker-container button svg,.excalidraw .picker button svg{margin:0;width:36px;height:18px;opacity:.6;pointer-events:none}.excalidraw .picker button{padding:.25rem .28rem .35rem .25rem}.excalidraw .picker-triangle{width:0;height:0;position:relative;top:-10px;z-index:10}:root[dir\x3dltr] .excalidraw .picker-triangle{left:12px}:root[dir\x3drtl] .excalidraw .picker-triangle{right:12px}.excalidraw .picker-triangle:before{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent rgba(0,0,0,.1);top:-1px}.excalidraw .picker-triangle:after{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent var(--popup-bg-color)}.excalidraw .picker-content{padding:.5rem;display:grid;grid-auto-flow:column;grid-gap:.5rem;border-radius:4px}:root[dir\x3drtl] .excalidraw .picker-content{padding:.4rem}.excalidraw .picker-keybinding{position:absolute;bottom:2px;font-size:.7em;color:var(--keybinding-color)}:root[dir\x3dltr] .excalidraw .picker-keybinding{right:2px}:root[dir\x3drtl] .excalidraw .picker-keybinding{left:2px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .picker-keybinding{display:none}}.excalidraw .picker-type-canvasBackground .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementBackground .picker-keybinding{color:#fff}.excalidraw .picker-swatch[aria-label\x3dtransparent] .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementStroke .picker-keybinding{color:#d4d4d4}.excalidraw.Appearance_dark .picker-type-elementBackground .picker-keybinding{color:#000}.excalidraw.Appearance_dark .picker-swatch[aria-label\x3dtransparent] .picker-keybinding{color:#000}',
""]);const v=g},849:(w,n,g)=>{g.r(n);g.d(n,{default:()=>v});n=g(3645);g=g.n(n)()(function(C){return C[1]});g.push([w.id,".excalidraw .Island{--padding: 0;background-color:var(--island-bg-color);backdrop-filter:saturate(100%) blur(10px);box-shadow:var(--shadow-island);border-radius:4px;padding:calc(var(--padding) * var(--space-factor));position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .Island.zen-mode{box-shadow:none}",""]);const v=g},6915:(w,n,g)=>{g.r(n);g.d(n,{default:()=>v});
n=g(3645);g=g.n(n)()(function(C){return C[1]});g.push([w.id,".excalidraw .layer-ui__library{margin:auto;display:flex;align-items:center;justify-content:center}.excalidraw .layer-ui__library .layer-ui__library-header{display:flex;align-items:center;width:100%;margin:2px 0}.excalidraw .layer-ui__library .layer-ui__library-header button{margin:0 2px}.excalidraw .layer-ui__library .layer-ui__library-header a{margin-inline-start:auto;padding-inline-end:18px;white-space:nowrap}.excalidraw .layer-ui__library-message{padding:10px 20px;max-width:200px}.excalidraw .layer-ui__library-items{max-height:50vh;overflow:auto}.excalidraw .layer-ui__wrapper{z-index:var(--zIndex-layerUI)}.excalidraw .layer-ui__wrapper .encrypted-icon{position:relative;margin-inline-start:15px;display:flex;justify-content:center;align-items:center;border-radius:var(--space-factor);color:#2b8a3e}.excalidraw .layer-ui__wrapper .encrypted-icon svg{width:1.2rem;height:1.2rem}.excalidraw .layer-ui__wrapper__github-corner{top:0;position:absolute;width:40px}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper__github-corner{right:0}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper__github-corner{left:0}.excalidraw .layer-ui__wrapper__footer{position:absolute;z-index:100;bottom:0;width:190px}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper__footer{right:0}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper__footer{left:0}.excalidraw .layer-ui__wrapper .zen-mode-transition{transition:transform .5s ease-in-out}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{transform:translate(-999px, 0)}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{transform:translate(999px, 0)}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{transform:translate(999px, 0)}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{transform:translate(-999px, 0)}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.App-menu_bottom--transition-left{transform:translate(-92px, 0)}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.App-menu_bottom--transition-left{transform:translate(92px, 0)}.excalidraw .layer-ui__wrapper .disable-zen-mode{height:30px;position:absolute;bottom:10px;font-size:10px;padding:10px;font-weight:500;opacity:0;visibility:hidden;transition:visibility 0s linear 0s,opacity .5s}[dir\x3dltr] .excalidraw .layer-ui__wrapper .disable-zen-mode{right:15px}[dir\x3drtl] .excalidraw .layer-ui__wrapper .disable-zen-mode{left:15px}.excalidraw .layer-ui__wrapper .disable-zen-mode--visible{opacity:1;visibility:visible;transition:visibility 0s linear 300ms,opacity .5s;transition-delay:.8s}",
""]);const v=g},7030:(w,n,g)=>{g.r(n);g.d(n,{default:()=>v});n=g(3645);g=g.n(n)()(function(C){return C[1]});g.push([w.id,".excalidraw .library-unit{align-items:center;border:1px solid var(--button-gray-2);display:flex;justify-content:center;position:relative;width:63px;height:63px}.excalidraw .library-unit__dragger{display:flex;height:100%;width:100%}.excalidraw .library-unit__dragger\x3esvg{filter:var(--appearance-filter);flex-grow:1;max-height:100%;max-width:100%}.excalidraw .library-unit__removeFromLibrary,.excalidraw .library-unit__removeFromLibrary:hover,.excalidraw .library-unit__removeFromLibrary:active{align-items:center;background:none;border:none;color:var(--icon-fill-color);display:flex;justify-content:center;margin:0;padding:0;position:absolute;right:5px;top:5px}.excalidraw .library-unit__removeFromLibrary\x3esvg{height:16px;width:16px}.excalidraw .library-unit__pulse{transform:scale(1);animation:library-unit__pulse-animation 1s ease-in infinite}.excalidraw .library-unit__adder{position:absolute;left:50%;top:50%;width:20px;height:20px;margin-left:-10px;margin-top:-10px;pointer-events:none}.excalidraw .library-unit__active{cursor:pointer}@keyframes library-unit__pulse-animation{0%{transform:scale(0.95)}50%{transform:scale(1)}100%{transform:scale(0.95)}}",
""]);const v=g},3994:(w,n,g)=>{g.r(n);g.d(n,{default:()=>v});n=g(3645);g=g.n(n)()(function(C){return C[1]});g.push([w.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw.excalidraw-modal-container{position:absolute;z-index:10}.excalidraw .Modal{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;overflow:auto;padding:calc(var(--space-factor) * 10)}.excalidraw .Modal__background{position:absolute;top:0;left:0;right:0;bottom:0;z-index:1;background-color:rgba(0,0,0,.3);backdrop-filter:blur(2px)}.excalidraw .Modal__content{position:relative;z-index:2;width:100%;max-width:var(--max-width);max-height:100%;opacity:0;transform:translateY(10px);animation:Modal__content_fade-in .1s ease-out .05s forwards;position:relative;overflow-y:auto;background:var(--island-bg-color);backdrop-filter:none;border:1px solid var(--dialog-border-color);box-shadow:0 2px 10px rgba(0,0,0,.25);border-radius:6px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .Modal__content{max-width:100%;border:0;border-radius:0}}@keyframes Modal__content_fade-in{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.excalidraw .Modal__close{width:calc(var(--space-factor) * 7);height:calc(var(--space-factor) * 7);display:flex;align-items:center;justify-content:center}.excalidraw .Modal__close svg{height:calc(var(--space-factor) * 5)}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .Modal{padding:0}.excalidraw .Modal__content{position:absolute;top:0;left:0;right:0;bottom:0}}",
""]);const v=g},700:(w,n,g)=>{g.r(n);g.d(n,{default:()=>v});n=g(3645);g=g.n(n)()(function(C){return C[1]});g.push([w.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .PasteChartDialog .Island{display:flex;flex-direction:column}}.excalidraw .PasteChartDialog .container{display:flex;align-items:center;justify-content:space-around;flex-wrap:wrap}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .PasteChartDialog .container{flex-direction:column;justify-content:center}}.excalidraw .PasteChartDialog .ChartPreview{margin:8px;text-align:center;width:192px;height:128px;border-radius:2px;padding:1px;border:1px solid #ced4da;display:flex;align-items:center;justify-content:center;background:transparent}.excalidraw .PasteChartDialog .ChartPreview div{display:inline-block}.excalidraw .PasteChartDialog .ChartPreview svg{max-height:120px;max-width:186px}.excalidraw .PasteChartDialog .ChartPreview:hover{padding:0;border:2px solid #339af0}",
""]);const v=g},287:(w,n,g)=>{g.r(n);g.d(n,{default:()=>v});n=g(3645);g=g.n(n)()(function(C){return C[1]});g.push([w.id,".excalidraw .popover{position:fixed;z-index:10}",""]);const v=g},5657:(w,n,g)=>{g.r(n);g.d(n,{default:()=>v});n=g(3645);g=g.n(n)()(function(C){return C[1]});g.push([w.id,".excalidraw .Stack{--gap: 0;display:grid;gap:calc(var(--space-factor) * var(--gap))}.excalidraw .Stack_vertical{grid-template-columns:auto;grid-auto-flow:row;grid-auto-rows:min-content}.excalidraw .Stack_horizontal{grid-template-rows:auto;grid-auto-flow:column;grid-auto-columns:min-content}",
""]);const v=g},7392:(w,n,g)=>{g.r(n);g.d(n,{default:()=>v});n=g(3645);g=g.n(n)()(function(C){return C[1]});g.push([w.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Stats{position:absolute;top:64px;right:12px;font-size:12px;z-index:999}.excalidraw .Stats h3{margin:0 24px 8px 0;white-space:nowrap}.excalidraw .Stats .close{float:right;height:16px;width:16px;cursor:pointer}.excalidraw .Stats .close svg{width:100%;height:100%}.excalidraw .Stats table{width:100%}.excalidraw .Stats table th{border-bottom:1px solid var(--input-border-color);padding:4px}.excalidraw .Stats table tr td:nth-child(2){min-width:24px;text-align:right}:root[dir\x3drtl] .excalidraw .Stats{left:12px;right:initial}:root[dir\x3drtl] .excalidraw .Stats h3{margin:0 0 8px 24px}:root[dir\x3drtl] .excalidraw .Stats .close{float:left}",
""]);const v=g},6065:(w,n,g)=>{g.r(n);g.d(n,{default:()=>v});n=g(3645);g=g.n(n)()(function(C){return C[1]});g.push([w.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .TextInput{color:var(--text-primary-color);display:inline-block;border:1.5px solid var(--button-gray-1);line-height:1;padding:.75rem;white-space:nowrap;border-radius:var(--space-factor);background-color:var(--input-bg-color)}.excalidraw .TextInput:not(:focus):hover{background-color:var(--input-hover-bg-color)}.excalidraw .TextInput:focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}",
""]);const v=g},83:(w,n,g)=>{g.r(n);g.d(n,{default:()=>v});n=g(3645);g=g.n(n)()(function(C){return C[1]});g.push([w.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Toast{animation:fade-in .5s;background-color:var(--button-gray-1);border-radius:4px;bottom:10px;box-sizing:border-box;cursor:default;left:50%;margin-left:-150px;padding:4px 0;position:absolute;text-align:center;width:300px;z-index:999999}.excalidraw .Toast__message{color:var(--popup-text-color);white-space:pre-wrap}@keyframes fade-in{from{opacity:0}to{opacity:1}}",
""]);const v=g},1554:(w,n,g)=>{g.r(n);g.d(n,{default:()=>v});n=g(3645);g=g.n(n)()(function(C){return C[1]});g.push([w.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .ToolIcon{display:inline-flex;align-items:center;position:relative;font-family:Cascadia;cursor:pointer;background-color:var(--button-gray-1);-webkit-tap-highlight-color:transparent;border-radius:var(--space-factor)}.excalidraw .ToolIcon__icon{width:2.5rem;height:2.5rem;color:var(--icon-fill-color);display:flex;justify-content:center;align-items:center;border-radius:var(--space-factor)}.excalidraw .ToolIcon__icon svg{position:relative;height:1em;fill:var(--icon-fill-color);color:var(--icon-fill-color)}.excalidraw .ToolIcon__icon+.ToolIcon__label{margin-inline-start:0}.excalidraw .ToolIcon__label{color:var(--icon-fill-color);font-family:var(--ui-font);margin:0 .8em;text-overflow:ellipsis}.excalidraw .ToolIcon_size_s .ToolIcon__icon{width:1.4rem;height:1.4rem;font-size:.8em}.excalidraw .excalidraw .ToolIcon_type_button,.excalidraw .Modal .ToolIcon_type_button,.excalidraw .ToolIcon_type_button{padding:0;border:none;margin:0;font-size:inherit}.excalidraw .excalidraw .ToolIcon_type_button:hover,.excalidraw .Modal .ToolIcon_type_button:hover,.excalidraw .ToolIcon_type_button:hover{background-color:var(--button-gray-1)}.excalidraw .excalidraw .ToolIcon_type_button:active,.excalidraw .Modal .ToolIcon_type_button:active,.excalidraw .ToolIcon_type_button:active{background-color:var(--button-gray-2)}.excalidraw .excalidraw .ToolIcon_type_button:focus,.excalidraw .Modal .ToolIcon_type_button:focus,.excalidraw .ToolIcon_type_button:focus{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .excalidraw .ToolIcon_type_button.ToolIcon--selected,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected,.excalidraw .ToolIcon_type_button.ToolIcon--selected{background-color:var(--button-gray-2)}.excalidraw .excalidraw .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .ToolIcon_type_button.ToolIcon--selected:active{background-color:var(--button-gray-3)}.excalidraw .excalidraw .ToolIcon_type_button--show,.excalidraw .Modal .ToolIcon_type_button--show,.excalidraw .ToolIcon_type_button--show{visibility:visible}.excalidraw .excalidraw .ToolIcon_type_button--hide,.excalidraw .Modal .ToolIcon_type_button--hide,.excalidraw .ToolIcon_type_button--hide{visibility:hidden}.excalidraw .ToolIcon_type_radio,.excalidraw .ToolIcon_type_checkbox{position:absolute;opacity:0;pointer-events:none}.excalidraw .ToolIcon_type_radio:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_radio:focus+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:focus+.ToolIcon__icon{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .ToolIcon_type_radio:active+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:active+.ToolIcon__icon{background-color:var(--button-gray-3)}.excalidraw .ToolIcon_type_floating{background-color:transparent}.excalidraw .ToolIcon_type_floating:hover{background-color:transparent}.excalidraw .ToolIcon_type_floating:active{background-color:transparent}.excalidraw .ToolIcon_type_floating:focus{box-shadow:none}.excalidraw .ToolIcon_type_floating .ToolIcon__icon{width:2rem;height:2em}.excalidraw .ToolIcon.ToolIcon__lock.ToolIcon_type_floating{margin-left:.1rem}.excalidraw .ToolIcon__keybinding{position:absolute;bottom:2px;right:3px;font-size:.5em;color:var(--keybinding-color);font-family:var(--ui-font);user-select:none}@media(max-width: 425px){.excalidraw .Shape .ToolIcon__icon{width:2rem;height:2rem}.excalidraw .Shape .ToolIcon__icon svg{height:.8em}}@media(max-width: 760px){.excalidraw .ToolIcon.ToolIcon__lock{display:inline-block;position:absolute;top:60px;right:-8px;margin-left:0;border-radius:20px 0 0 20px;z-index:1;background-color:var(--button-gray-1)}.excalidraw .ToolIcon.ToolIcon__lock:hover{background-color:var(--button-gray-1)}.excalidraw .ToolIcon.ToolIcon__lock:active{background-color:var(--button-gray-2)}.excalidraw .ToolIcon.ToolIcon__lock .ToolIcon__icon{border-radius:inherit}.excalidraw .ToolIcon.ToolIcon__lock svg{position:static}}.excalidraw .TooltipIcon{width:.9em;height:.9em;margin-left:5px;margin-top:1px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .TooltipIcon{display:none}}:root[dir\x3dltr] .excalidraw .unlocked-icon{left:2px}:root[dir\x3drtl] .excalidraw .unlocked-icon{right:2px}",
""]);const v=g},1970:(w,n,g)=>{g.r(n);g.d(n,{default:()=>v});n=g(3645);g=g.n(n)()(function(C){return C[1]});g.push([w.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Tooltip{position:relative}.excalidraw .Tooltip__label{--arrow-size: 4px;visibility:hidden;background:#000;color:#fff;text-align:center;border-radius:6px;padding:8px;position:absolute;z-index:10;font-size:13px;line-height:1.5;font-weight:500;left:calc(50% + var(--arrow-size) / 2 - 1px);transform:translateX(-50%);word-wrap:break-word}.excalidraw .Tooltip__label::after{content:"";border:var(--arrow-size) solid transparent;position:absolute;left:calc(50% - var(--arrow-size))}.excalidraw .Tooltip__label--above{bottom:calc(100% + var(--arrow-size) + 3px)}.excalidraw .Tooltip__label--above::after{border-top-color:#000;top:100%}.excalidraw .Tooltip__label--below{top:calc(100% + var(--arrow-size) + 3px)}.excalidraw .Tooltip__label--below::after{border-bottom-color:#000;bottom:100%}.excalidraw .Tooltip:hover .Tooltip__label{visibility:visible}.excalidraw .Tooltip__label:hover{visibility:visible}',
""]);const v=g},961:(w,n,g)=>{g.r(n);g.d(n,{default:()=>v});n=g(3645);g=g.n(n)()(function(C){return C[1]});g.push([w.id,".excalidraw .UserList{pointer-events:none;padding:var(--space-factor) 40px var(--space-factor) var(--space-factor);display:flex;flex-wrap:wrap;justify-content:flex-end}.excalidraw .UserList\x3e*{pointer-events:all;margin:0 0 var(--space-factor) var(--space-factor)}.excalidraw .UserList_mobile{padding:0;justify-content:normal}.excalidraw .UserList_mobile\x3e*{margin:0 var(--space-factor) var(--space-factor) 0}",
""]);const v=g},4878:(w,n,g)=>{g.r(n);g.d(n,{default:()=>v});n=g(3645);g=g.n(n)()(function(C){return C[1]});g.push([w.id,".visually-hidden{position:absolute !important;height:1px;width:1px;overflow:hidden;clip:rect(1px, 1px, 1px, 1px);white-space:nowrap}.LoadingMessage{position:absolute;top:0;right:0;bottom:0;left:0;z-index:999;display:flex;align-items:center;justify-content:center;pointer-events:none}.LoadingMessage span{background-color:var(--button-gray-1);border-radius:5px;padding:.8em 1.2em;color:var(--popup-text-color);font-size:1.3em}",
""]);const v=g},1988:(w,n,g)=>{g.r(n);g.d(n,{default:()=>v});n=g(3645);g=g.n(n)()(function(C){return C[1]});g.push([w.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}:export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw{--appearance-filter: none;--button-destructive-bg-color: #ffe3e3;--button-destructive-color: #c92a2a;--button-gray-1: #e9ecef;--button-gray-2: #ced4da;--button-gray-3: #adb5bd;--button-special-active-bg-color: #ebfbee;--dialog-border-color: #868e96;--dropdown-icon: url(\'data:image/svg+xml,\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"292.4" height\x3d"292.4" viewBox\x3d"0 0 292 292"\x3e\x3cpath d\x3d"M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/\x3e\x3c/svg\x3e\');--focus-highlight-color: #a5d8ff;--icon-fill-color: #000000;--icon-green-fill-color: #2b8a3e;--input-bg-color: #ffffff;--input-border-color: #dee2e6;--input-hover-bg-color: #f1f3f5;--input-label-color: #495057;--island-bg-color: rgba(255, 255, 255, 0.9);--keybinding-color: #adb5bd;--link-color: #1c7ed6;--overlay-bg-color: rgba(255, 255, 255, 0.88);--popup-bg-color: #ffffff;--popup-secondary-bg-color: #f1f3f5;--popup-text-color: #000000;--popup-text-inverted-color: #ffffff;--sab: env(safe-area-inset-bottom);--sal: env(safe-area-inset-left);--sar: env(safe-area-inset-right);--sat: env(safe-area-inset-top);--select-highlight-color: #339af0;--shadow-island: 0 1px 5px rgba(0, 0, 0, 0.15);--space-factor: 0.25rem;--text-primary-color: #343a40}.excalidraw.Appearance_dark{background:#000}.excalidraw.Appearance_dark.Appearance_dark-background-none{background:none}.excalidraw.Appearance_dark{--appearance-filter: invert(93%) hue-rotate(180deg);--button-destructive-bg-color: #5a0000;--button-destructive-color: #ffa8a8;--button-gray-1: #363636;--button-gray-2: #272727;--button-gray-3: #222;--button-special-active-bg-color: #204624;--dialog-border-color: #212529;--dropdown-icon: url(\'data:image/svg+xml,\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"292.4" height\x3d"292.4" viewBox\x3d"0 0 292 292"\x3e\x3cpath fill\x3d"%23ced4da" d\x3d"M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/\x3e\x3c/svg\x3e\');--focus-highlight-color: #228be6;--icon-fill-color: #ced4da;--icon-green-fill-color: #69db7c;--input-bg-color: #121212;--input-border-color: #2e2e2e;--input-hover-bg-color: #181818;--input-label-color: #e9ecef;--island-bg-color: #1e1e1e;--keybinding-color: #868e96;--overlay-bg-color: rgba(52, 58, 64, 0.12);--popup-bg-color: #2c2c2c;--popup-secondary-bg-color: #222;--popup-text-color: #ced4da;--popup-text-inverted-color: #2c2c2c;--select-highlight-color: #4dabf7;--shadow-island: 0 1px 5px rgba(0, 0, 0, 0.3);--text-primary-color: #ced4da}:root{--zIndex-canvas: 1;--zIndex-wysiwyg: 2;--zIndex-layerUI: 3}.excalidraw{position:relative;overflow:hidden;color:var(--text-primary-color);display:flex;top:0;bottom:0;left:0;right:0}.excalidraw a{font-weight:500;text-decoration:none;color:var(--link-color)}.excalidraw a:hover{text-decoration:underline}.excalidraw canvas{touch-action:none;user-select:none;image-rendering:pixelated;image-rendering:-moz-crisp-edges;z-index:var(--zIndex-canvas)}.excalidraw.Appearance_dark canvas{filter:var(--appearance-filter)}.excalidraw .FixedSideContainer{padding-top:var(--sat, 0);padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0)}.excalidraw .panelRow{display:flex;justify-content:space-between}.excalidraw .panelColumn{display:flex;flex-direction:column}.excalidraw .panelColumn h3,.excalidraw .panelColumn legend,.excalidraw .panelColumn .control-label{margin-top:.333rem;margin-bottom:.333rem;font-size:.75rem;color:var(--text-primary-color);font-weight:bold;display:block}.excalidraw .panelColumn .control-label input{display:block;width:100%}.excalidraw .panelColumn h3:first-child,.excalidraw .panelColumn legend:first-child,.excalidraw .panelColumn .control-label:first-child{margin-top:0}.excalidraw .panelColumn legend{padding:0}.excalidraw .panelColumn .iconSelectList{flex-wrap:wrap;position:relative}.excalidraw .panelColumn .buttonList{flex-wrap:wrap}.excalidraw .panelColumn .buttonList label{margin-right:.25rem;font-size:.75rem;display:inline-block}.excalidraw .panelColumn .buttonList input[type\x3dradio],.excalidraw .panelColumn .buttonList input[type\x3dbutton]{opacity:0;position:absolute;pointer-events:none}.excalidraw .panelColumn .buttonList .iconRow{margin-top:8px}.excalidraw .panelColumn .buttonList .ToolIcon{margin:0;margin-inline-end:8px}.excalidraw .panelColumn .buttonList .ToolIcon:focus{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .panelColumn .buttonList .ToolIcon:hover{background-color:var(--button-gray-2)}.excalidraw .panelColumn .buttonList .ToolIcon:active{background-color:var(--button-gray-3)}.excalidraw .panelColumn .buttonList .ToolIcon:disabled{cursor:not-allowed}.excalidraw .panelColumn .buttonList .ToolIcon__icon{width:28px;height:28px}.excalidraw .panelColumn fieldset{margin:0;margin-top:.333rem;padding:0;border:none}.excalidraw .divider{width:1px;background-color:#e9ecef;margin:1px}.excalidraw .buttonList label:focus-within,.excalidraw input:focus{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw button,.excalidraw .buttonList label{user-select:none;background-color:var(--button-gray-1);border:0;border-radius:4px;margin:.125rem 0;padding:.25rem;white-space:nowrap;cursor:pointer}.excalidraw button:focus,.excalidraw .buttonList label:focus{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw button:hover,.excalidraw .buttonList label:hover{background-color:var(--button-gray-2)}.excalidraw button:active,.excalidraw .buttonList label:active{background-color:var(--button-gray-3)}.excalidraw button:disabled,.excalidraw .buttonList label:disabled{cursor:not-allowed}.excalidraw .active,.excalidraw .buttonList label.active{background-color:var(--button-gray-2)}.excalidraw .active:hover,.excalidraw .buttonList label.active:hover{background-color:var(--button-gray-2)}.excalidraw .active:active,.excalidraw .buttonList label.active:active{background-color:var(--button-gray-3)}.excalidraw .buttonList.buttonListIcon label{display:inline-flex;justify-content:center;align-items:center}.excalidraw .buttonList.buttonListIcon label svg{width:36px;height:18px;opacity:.6}.excalidraw .buttonList.buttonListIcon label.active svg{opacity:1}.excalidraw .App-top-bar{z-index:var(--zIndex-layerUI);display:flex;flex-direction:column;align-items:center}.excalidraw .App-bottom-bar{position:absolute;top:0;bottom:0;left:0;right:0;--bar-padding: calc(4 * var(--space-factor));padding-top:max(var(--bar-padding), var(--sat,0));padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0);z-index:4;display:flex;align-items:flex-end;pointer-events:none}.excalidraw .App-bottom-bar\x3e.Island{width:100%;max-width:100%;min-width:100%;box-sizing:border-box;max-height:100%;display:flex;flex-direction:column;pointer-events:initial}.excalidraw .App-bottom-bar\x3e.Island .panelColumn{padding:8px 8px 0 8px}.excalidraw .App-toolbar{width:100%;box-sizing:border-box}.excalidraw .App-toolbar-content{display:flex;align-items:center;justify-content:space-between;padding:8px}.excalidraw .App-mobile-menu{width:100%;overflow-x:visible;overflow-y:auto;box-sizing:border-box;margin-bottom:var(--bar-padding)}.excalidraw .App-menu{display:grid;color:var(--icon-fill-color)}.excalidraw .App-menu_top{grid-template-columns:1fr auto 1fr;grid-gap:4px;align-items:flex-start;cursor:default;pointer-events:none !important}.excalidraw .layer-ui__wrapper:not(.disable-pointerEvents) .App-menu_top\x3e*{pointer-events:all}.excalidraw .App-menu_top\x3e*:first-child{justify-self:flex-start}.excalidraw .App-menu_top\x3e*:last-child{justify-self:flex-end}.excalidraw .App-menu_bottom{position:absolute;bottom:0;grid-template-columns:1fr auto 1fr;grid-gap:4px;align-items:flex-start;cursor:default;pointer-events:none !important;z-index:100}:root[dir\x3dltr] .excalidraw .App-menu_bottom{left:.25rem}:root[dir\x3drtl] .excalidraw .App-menu_bottom{right:.25rem}.excalidraw .App-menu_bottom--transition-left section{width:185px}.excalidraw .App-menu_bottom section{display:flex}.excalidraw .layer-ui__wrapper:not(.disable-pointerEvents) .App-menu_bottom\x3e*{pointer-events:all}.excalidraw .App-menu_bottom\x3e*:first-child{justify-self:flex-start}.excalidraw .App-menu_bottom\x3e*:last-child{justify-self:flex-end}.excalidraw .App-menu_left{grid-template-rows:1fr auto 1fr;height:100%}.excalidraw .App-menu_right{grid-template-rows:1fr;height:100%}.excalidraw .App-menu__left{overflow-y:auto}.excalidraw .dropdown-select{height:1.5rem;padding:0;padding-inline-start:.5rem;padding-inline-end:1.5rem;color:var(--icon-fill-color);background-color:var(--button-gray-1);border-radius:var(--space-factor);border:1px solid var(--button-gray-2);font-size:.8rem;outline:none;appearance:none;background-image:var(--dropdown-icon);background-repeat:no-repeat;background-position:right .7rem top 50%,0 0;background-size:.65em auto,100%}:root[dir\x3drtl] .excalidraw .dropdown-select{background-position:left .7rem top 50%,0 0}.excalidraw .dropdown-select:focus{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .dropdown-select:hover{background-color:var(--button-gray-2)}.excalidraw .dropdown-select:active{background-color:var(--button-gray-2)}.excalidraw .dropdown-select.dropdown-select--floating{position:absolute;margin:.5em}.excalidraw .dropdown-select__language.dropdown-select--floating{position:absolute;bottom:10px}:root[dir\x3dltr] .excalidraw .dropdown-select__language.dropdown-select--floating{right:44px}:root[dir\x3drtl] .excalidraw .dropdown-select__language.dropdown-select--floating{left:44px}.excalidraw .zIndexButton{margin:0;margin-inline-end:8px;padding:5px;display:inline-flex;align-items:center;justify-content:center}.excalidraw .zIndexButton svg{width:18px;height:18px}.excalidraw .scroll-back-to-content{color:var(--popup-text-color);position:absolute;left:50%;bottom:30px;transform:translateX(-50%);padding:10px 20px}.excalidraw .help-icon{position:absolute;cursor:pointer;fill:#868e96;bottom:14px;width:1.5rem}:root[dir\x3dltr] .excalidraw .help-icon{right:14px}:root[dir\x3drtl] .excalidraw .help-icon{left:14px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw aside{display:none}.excalidraw .scroll-back-to-content{bottom:calc(80px + var(--sab, 0));z-index:-1}}:root[dir\x3drtl] .excalidraw .rtl-mirror{transform:scaleX(-1)}.excalidraw .github-corner{position:absolute;top:0;z-index:2}:root[dir\x3dltr] .excalidraw .github-corner{right:0}:root[dir\x3drtl] .excalidraw .github-corner{left:0}.excalidraw .zen-mode-visibility{visibility:visible;opacity:1;height:auto;width:auto;transition:opacity .5s}.excalidraw .zen-mode-visibility.zen-mode-visibility--hidden{visibility:hidden;opacity:0;height:0;width:0;transition:opacity .5s}.excalidraw .disable-pointerEvents{pointer-events:none !important}.excalidraw.excalidraw--view-mode .App-menu{display:flex;justify-content:space-between}@media print{.excalidraw .App-bottom-bar,.excalidraw .FixedSideContainer,.excalidraw .layer-ui__wrapper{display:none}}.ErrorSplash.excalidraw{min-height:100vh;padding:20px 0;overflow:auto;display:flex;align-items:center;justify-content:center;user-select:text}.ErrorSplash.excalidraw .ErrorSplash-messageContainer{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;background-color:#ffe3e3;border:3px solid #c92a2a}.ErrorSplash.excalidraw .ErrorSplash-paragraph{margin:15px 0;max-width:600px}.ErrorSplash.excalidraw .ErrorSplash-paragraph.align-center{text-align:center}.ErrorSplash.excalidraw .bigger,.ErrorSplash.excalidraw .bigger button{font-size:1.1em}.ErrorSplash.excalidraw .smaller,.ErrorSplash.excalidraw .smaller button{font-size:.9em}.ErrorSplash.excalidraw .ErrorSplash-details{display:flex;flex-direction:column;align-items:flex-start}.ErrorSplash.excalidraw .ErrorSplash-details textarea{width:100%;margin:10px 0;font-family:"Cascadia";font-size:.8em}',
""]);const v=g},3245:(w,n,g)=>{g.r(n);g.d(n,{default:()=>v});n=g(3645);g=g.n(n)()(function(C){return C[1]});g.push([w.id,"",""]);g.locals={isMobileQuery:"(max-width: 600px), (max-height: 500px) and (max-width: 1000px)",appearanceFilter:"invert(93%) hue-rotate(180deg)"};const v=g},3645:w=>{w.exports=function(n){var g=[];return g.toString=function(){return this.map(function(v){var C=n(v);return v[2]?"@media ".concat(v[2]," {").concat(C,"}"):C}).join("")},g.i=function(v,C,F){"string"==typeof v&&(v=[[null,
v,""]]);var I={};if(F)for(var R=0;R<this.length;R++){var B=this[R][0];null!=B&&(I[B]=!0)}for(R=0;R<v.length;R++)B=[].concat(v[R]),F&&I[B[0]]||(C&&(B[2]?B[2]="".concat(C," and ").concat(B[2]):B[2]=C),g.push(B))},g}},1667:w=>{w.exports=function(n,g){return g||(g={}),"string"!=typeof(n=n&&n.__esModule?n.default:n)?n:(/^['"].*['"]$/.test(n)&&(n=n.slice(1,-1)),g.hash&&(n+=g.hash),/["'() \t\n]/.test(n)||g.needQuotes?'"'.concat(n.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):n)}},9638:(w,n,g)=>{g.d(n,{Z:()=>
v});const v=g.p+"excalidraw-assets/Cascadia.woff2"},7464:(w,n,g)=>{g.d(n,{Z:()=>v});const v=g.p+"excalidraw-assets/Virgil.woff2"},8288:(w,n,g)=>{g.d(n,{iC:()=>C,f:()=>F,qx:()=>I,Iw:()=>R,$e:()=>B,wZ:()=>u,ay:()=>y,oc:()=>r,Oh:()=>U,Ks:()=>v,Vi:()=>da,$C:()=>Y,ut:()=>ka,_D:()=>ia,n5:()=>ha,rk:()=>H,Hg:()=>V,hs:()=>J,eQ:()=>S,k:()=>L,LO:()=>W,I:()=>M,Gj:()=>ca,nM:()=>ua,Lg:()=>Z,HM:()=>pa,V4:()=>sa,EH:()=>ya,Gi:()=>Ca});var v;w=g(2189);g=g.n(w);var C="Excalidraw",F=10,I=8,R=5,B=1,u=30,y=Math.PI/12,
r={TEXT:"text",CROSSHAIR:"crosshair",GRABBING:"grabbing",POINTER:"pointer",MOVE:"move",AUTO:""},U={MAIN:0,WHEEL:1,SECONDARY:2,TOUCH:-1};!function(xa){xa.COPY="copy";xa.PASTE="paste";xa.CUT="cut";xa.KEYDOWN="keydown";xa.KEYUP="keyup";xa.MOUSE_MOVE="mousemove";xa.RESIZE="resize";xa.UNLOAD="unload";xa.BLUR="blur";xa.DRAG_OVER="dragover";xa.DROP="drop";xa.GESTURE_END="gestureend";xa.BEFORE_UNLOAD="beforeunload";xa.GESTURE_START="gesturestart";xa.GESTURE_CHANGE="gesturechange";xa.POINTER_MOVE="pointermove";
xa.POINTER_UP="pointerup";xa.STATE_CHANGE="statechange";xa.WHEEL="wheel";xa.TOUCH_START="touchstart";xa.TOUCH_END="touchend";xa.HASHCHANGE="hashchange";xa.VISIBILITY_CHANGE="visibilitychange";xa.SCROLL="scroll"}(v||(v={}));var da={TEST:"test",DEVELOPMENT:"development"},Y={SHAPE_ACTIONS_MENU:"App-menu__left"},ka={1:"Virgil",2:"Helvetica",3:"Cascadia"},ia="Segoe UI Emoji",ha=20,H=1,V="left",J="top",S="{version}",L=20,W={excalidraw:"application/vnd.excalidraw+json",excalidrawlib:"application/vnd.excalidrawlib+json"},
M={LOCAL_STORAGE_LIBRARY:"excalidraw-library"},ca=300,ua=500,Z=5E3,pa=100,sa=.1,ya={VIEW:"viewMode",ZEN:"zenMode",GRID:"gridMode"},Ca=g().appearanceFilter},3956:(w,n,g)=>{function v(l,D){return Math.pow(l[0]-D[0],2)+Math.pow(l[1]-D[1],2)}function C(l,D,G){return[l[0]+(D[0]-l[0])*G,l[1]+(D[1]-l[1])*G]}function F(l,D,G,T){T=T||[];var fa=l[D+0],na=l[D+1],Aa=l[D+2];const za=l[D+3];var Ga=3*na[0]-2*fa[0]-za[0];Ga*=Ga;na=3*na[1]-2*fa[1]-za[1];na*=na;let Ua=3*Aa[0]-2*za[0]-fa[0];Ua*=Ua;fa=3*Aa[1]-2*za[1]-
fa[1];(fa*=fa,Ga<Ua&&(Ga=Ua),na<fa&&(na=fa),Ga+na)<G?(G=l[D+0],T.length?1<(Pa=T[T.length-1],mb=G,Math.sqrt(v(Pa,mb)))&&T.push(G):T.push(G),T.push(l[D+3])):(Pa=l[D+0],Ga=l[D+1],mb=l[D+2],l=l[D+3],D=C(Pa,Ga,.5),fa=C(Ga,mb,.5),mb=C(mb,l,.5),Ga=C(D,fa,.5),fa=C(fa,mb,.5),Aa=C(Ga,fa,.5),F([Pa,D,Ga,Aa],0,G,T),F([Aa,fa,mb,l],0,G,T));var Pa,mb;return T}function I(l,D){return R(l,0,l.length,D)}function R(l,D,G,T,fa){fa=fa||[];const na=l[D],Aa=l[G-1];let za=0,Ga=1;for(let vb=D+1;vb<G-1;++vb){var Ua=l[vb];var Pa=
na,mb=Aa,sb=v(Pa,mb);0===sb?Ua=v(Ua,Pa):(sb=((Ua[0]-Pa[0])*(mb[0]-Pa[0])+(Ua[1]-Pa[1])*(mb[1]-Pa[1]))/sb,Ua=(sb=Math.max(0,Math.min(1,sb)),v(Ua,C(Pa,mb,sb))));Ua>za&&(za=Ua,Ga=vb)}return Math.sqrt(za)>T?(R(l,D,Ga+1,T,fa),R(l,Ga,G,T,fa)):(fa.length||fa.push(na),fa.push(Aa)),fa}function B(l,D=.15,G){const T=[],fa=(l.length-1)/3;for(let na=0;na<fa;na++)F(l,3*na,D,T);return G&&0<G?R(T,0,T.length,G):T}function u(l,D,G){if(l&&l.length){const [T,fa]=D;D=Math.PI/180*G;const na=Math.cos(D),Aa=Math.sin(D);
l.forEach(za=>{const [Ga,Ua]=za;za[0]=(Ga-T)*na-(Ua-fa)*Aa+T;za[1]=(Ga-T)*Aa+(Ua-fa)*na+fa})}}function y(l){const D=l[0];l=l[1];return Math.sqrt(Math.pow(D[0]-l[0],2)+Math.pow(D[1]-l[1],2))}function r(l,D,G,T){const fa=D[1]-l[1];D=l[0]-D[0];l=fa*l[0]+D*l[1];const na=T[1]-G[1];T=G[0]-T[0];G=na*G[0]+T*G[1];const Aa=fa*T-na*D;return Aa?[(T*l-D*G)/Aa,(fa*G-na*l)/Aa]:null}function U(l,D,G){const T=l.length;if(3>T)return!1;const fa=[Number.MAX_SAFE_INTEGER,G];D=[D,G];G=0;for(let na=0;na<T;na++){const Aa=
l[na],za=l[(na+1)%T];if(ka(Aa,za,D,fa)){if(0===Y(Aa,D,za))return da(Aa,D,za);G++}}return 1==G%2}function da(l,D,G){return D[0]<=Math.max(l[0],G[0])&&D[0]>=Math.min(l[0],G[0])&&D[1]<=Math.max(l[1],G[1])&&D[1]>=Math.min(l[1],G[1])}function Y(l,D,G){l=(D[1]-l[1])*(G[0]-D[0])-(D[0]-l[0])*(G[1]-D[1]);return 0===l?0:0<l?1:2}function ka(l,D,G,T){const fa=Y(l,D,G),na=Y(l,D,T),Aa=Y(G,T,l),za=Y(G,T,D);return fa!==na&&Aa!==za||!(0!==fa||!da(l,G,D))||!(0!==na||!da(l,T,D))||!(0!==Aa||!da(G,l,T))||!(0!==za||!da(G,
D,T))}function ia(l,D){const G=[0,0],T=Math.round(D.hachureAngle+90);T&&u(l,G,T);D=function(fa,na){var Aa=[...fa];Aa[0].join(",")!==Aa[Aa.length-1].join(",")&&Aa.push([Aa[0][0],Aa[0][1]]);fa=[];if(Aa&&2<Aa.length){let Ga=na.hachureGap;0>Ga&&(Ga=4*na.strokeWidth);Ga=Math.max(Ga,.1);na=[];for(var za=0;za<Aa.length-1;za++){const mb=Aa[za],sb=Aa[za+1];if(mb[1]!==sb[1]){const vb=Math.min(mb[1],sb[1]);na.push({ymin:vb,ymax:Math.max(mb[1],sb[1]),x:vb===mb[1]?mb[0]:sb[0],islope:(sb[0]-mb[0])/(sb[1]-mb[1])})}}if(na.sort((mb,
sb)=>mb.ymin<sb.ymin?-1:mb.ymin>sb.ymin?1:mb.x<sb.x?-1:mb.x>sb.x?1:mb.ymax===sb.ymax?0:(mb.ymax-sb.ymax)/Math.abs(mb.ymax-sb.ymax)),!na.length)return fa;let Ua=[],Pa=na[0].ymin;for(;Ua.length||na.length;){if(na.length){Aa=-1;for(za=0;za<na.length&&!(na[za].ymin>Pa);za++)Aa=za;na.splice(0,Aa+1).forEach(mb=>{Ua.push({s:Pa,edge:mb})})}if(Ua=Ua.filter(mb=>!(mb.edge.ymax<=Pa)),Ua.sort((mb,sb)=>mb.edge.x===sb.edge.x?0:(mb.edge.x-sb.edge.x)/Math.abs(mb.edge.x-sb.edge.x)),1<Ua.length)for(Aa=0;Aa<Ua.length;Aa+=
2){za=Aa+1;if(za>=Ua.length)break;fa.push([[Math.round(Ua[Aa].edge.x),Pa],[Math.round(Ua[za].edge.x),Pa]])}Pa+=Ga;Ua.forEach(mb=>{mb.edge.x+=Ga*mb.edge.islope})}}return fa}(l,D);return T&&(u(l,G,-T),function(fa,na,Aa){const za=[];fa.forEach(Ga=>za.push(...Ga));u(za,na,Aa)}(D,G,-T)),D}function ha(l){const D=[];a:{var G=l;for(var T=[];""!==G;){if(!G.match(/^([ \t\r\n,]+)/))if(G.match(/^([aAcChHlLmMqQsStTvVzZ])/))T[T.length]={type:0,text:RegExp.$1};else{if(!G.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/)){G=
[];break a}T[T.length]={type:1,text:`${parseFloat(RegExp.$1)}`}}G=G.substr(RegExp.$1.length)}G=(T[T.length]={type:2,text:""},T)}T="BOD";let fa=0;for(var na=G[fa];2!==na.type;){let Aa=0;const za=[];if("BOD"===T){if("M"!==na.text&&"m"!==na.text)return ha("M0,0"+l);fa++;Aa=Gg[na.text];T=na.text}else 1===na.type?Aa=Gg[T]:(fa++,Aa=Gg[na.text],T=na.text);if(!(fa+Aa<G.length))throw Error("Path data ended short");for(na=fa;na<fa+Aa;na++){const Ga=G[na];if(1!==Ga.type)throw Error("Param not a number: "+T+
","+Ga.text);za[za.length]=+Ga.text}if("number"!=typeof Gg[T])throw Error("Bad segment: "+T);D.push({key:T,data:za});fa+=Aa;na=G[fa];"M"===T&&(T="L");"m"===T&&(T="l")}return D}function H(l){let D=0,G=0,T=0,fa=0;const na=[];for(const {key:Aa,data:za}of l)switch(Aa){case "M":na.push({key:"M",data:[...za]});[D,G]=za;[T,fa]=za;break;case "m":D+=za[0];G+=za[1];na.push({key:"M",data:[D,G]});T=D;fa=G;break;case "L":na.push({key:"L",data:[...za]});[D,G]=za;break;case "l":D+=za[0];G+=za[1];na.push({key:"L",
data:[D,G]});break;case "C":na.push({key:"C",data:[...za]});D=za[4];G=za[5];break;case "c":l=za.map((Ga,Ua)=>Ua%2?Ga+G:Ga+D);na.push({key:"C",data:l});D=l[4];G=l[5];break;case "Q":na.push({key:"Q",data:[...za]});D=za[2];G=za[3];break;case "q":l=za.map((Ga,Ua)=>Ua%2?Ga+G:Ga+D);na.push({key:"Q",data:l});D=l[2];G=l[3];break;case "A":na.push({key:"A",data:[...za]});D=za[5];G=za[6];break;case "a":D+=za[5];G+=za[6];na.push({key:"A",data:[za[0],za[1],za[2],za[3],za[4],D,G]});break;case "H":na.push({key:"H",
data:[...za]});D=za[0];break;case "h":D+=za[0];na.push({key:"H",data:[D]});break;case "V":na.push({key:"V",data:[...za]});G=za[0];break;case "v":G+=za[0];na.push({key:"V",data:[G]});break;case "S":na.push({key:"S",data:[...za]});D=za[2];G=za[3];break;case "s":l=za.map((Ga,Ua)=>Ua%2?Ga+G:Ga+D);na.push({key:"S",data:l});D=l[2];G=l[3];break;case "T":na.push({key:"T",data:[...za]});D=za[0];G=za[1];break;case "t":D+=za[0];G+=za[1];na.push({key:"T",data:[D,G]});break;case "Z":case "z":na.push({key:"Z",
data:[]}),D=T,G=fa}return na}function V(l){const D=[];var G="";let T=0,fa=0,na=0,Aa=0,za=0,Ga=0;for(const {key:Pa,data:mb}of l){switch(Pa){case "M":D.push({key:"M",data:[...mb]});[T,fa]=mb;[na,Aa]=mb;break;case "C":D.push({key:"C",data:[...mb]});T=mb[4];fa=mb[5];za=mb[2];Ga=mb[3];break;case "L":D.push({key:"L",data:[...mb]});[T,fa]=mb;break;case "H":T=mb[0];D.push({key:"L",data:[T,fa]});break;case "V":fa=mb[0];D.push({key:"L",data:[T,fa]});break;case "S":var Ua=l=0;"C"===G||"S"===G?(l=T+(T-za),Ua=
fa+(fa-Ga)):(l=T,Ua=fa);D.push({key:"C",data:[l,Ua,...mb]});za=mb[0];Ga=mb[1];T=mb[2];fa=mb[3];break;case "T":const [sb,vb]=mb;Ua=l=0;"Q"===G||"T"===G?(l=T+(T-za),Ua=fa+(fa-Ga)):(l=T,Ua=fa);D.push({key:"C",data:[T+2*(l-T)/3,fa+2*(Ua-fa)/3,sb+2*(l-sb)/3,vb+2*(Ua-vb)/3,sb,vb]});za=l;Ga=Ua;T=sb;fa=vb;break;case "Q":const [ec,Zb,Ac,gd]=mb;D.push({key:"C",data:[T+2*(ec-T)/3,fa+2*(Zb-fa)/3,Ac+2*(ec-Ac)/3,gd+2*(Zb-gd)/3,Ac,gd]});za=ec;Ga=Zb;T=Ac;fa=gd;break;case "A":G=Math.abs(mb[0]);l=Math.abs(mb[1]);Ua=
mb[2];const kd=mb[3],xd=mb[4],ne=mb[5],me=mb[6];if(0===G||0===l)D.push({key:"C",data:[T,fa,ne,me,ne,me]}),T=ne,fa=me;else if(T!==ne||fa!==me)S(T,fa,ne,me,G,l,Ua,kd,xd).forEach(function(Re){D.push({key:"C",data:Re})}),T=ne,fa=me;break;case "Z":D.push({key:"Z",data:[]}),T=na,fa=Aa}G=Pa}return D}function J(l,D,G){return[l*Math.cos(G)-D*Math.sin(G),l*Math.sin(G)+D*Math.cos(G)]}function S(l,D,G,T,fa,na,Aa,za,Ga,Ua){const Pa=(mb=Aa,Math.PI*mb/180);var mb;mb=[];if(Ua)[za,sb,vb,ec]=Ua;else{[l,D]=J(l,D,-Pa);
[G,T]=J(G,T,-Pa);var sb=(l-G)/2;var vb=(D-T)/2;var ec=sb*sb/(fa*fa)+vb*vb/(na*na);1<ec&&(ec=Math.sqrt(ec),fa*=ec,na*=ec);ec=fa*fa;var Zb=na*na;za=(za===Ga?-1:1)*Math.sqrt(Math.abs((ec*Zb-ec*vb*vb-Zb*sb*sb)/(ec*vb*vb+Zb*sb*sb)));vb=za*fa*vb/na+(l+G)/2;ec=za*-na*sb/fa+(D+T)/2;za=Math.asin(parseFloat(((D-ec)/na).toFixed(9)));sb=Math.asin(parseFloat(((T-ec)/na).toFixed(9)));l<vb&&(za=Math.PI-za);G<vb&&(sb=Math.PI-sb);0>za&&(za=2*Math.PI+za);0>sb&&(sb=2*Math.PI+sb);Ga&&za>sb&&(za-=2*Math.PI);!Ga&&sb>za&&
(sb-=2*Math.PI)}if(Math.abs(sb-za)>120*Math.PI/180){mb=sb;Zb=G;const Ac=T;sb=Ga&&sb>za?za+120*Math.PI/180:za+120*Math.PI/180*-1;mb=S(G=vb+fa*Math.cos(sb),T=ec+na*Math.sin(sb),Zb,Ac,fa,na,Aa,0,Ga,[sb,mb,vb,ec])}Aa=Math.tan((sb-za)/4);fa=4/3*fa*Aa;Aa*=4/3*na;na=[l,D];l=[l+fa*Math.sin(za),D-Aa*Math.cos(za)];D=[G+fa*Math.sin(sb),T-Aa*Math.cos(sb)];G=[G,T];if(l[0]=2*na[0]-l[0],l[1]=2*na[1]-l[1],Ua)return[l,D,G].concat(mb);mb=[l,D,G].concat(mb);Ua=[];for(G=0;G<mb.length;G+=3)T=J(mb[G][0],mb[G][1],Pa),l=
J(mb[G+1][0],mb[G+1][1],Pa),D=J(mb[G+2][0],mb[G+2][1],Pa),Ua.push([T[0],T[1],l[0],l[1],D[0],D[1]]);return Ua}function L(l,D,G){const T=(l||[]).length;if(2<T){const fa=[];for(let na=0;na<T-1;na++)fa.push(...xa(l[na][0],l[na][1],l[na+1][0],l[na+1][1],G));return D&&fa.push(...xa(l[T-1][0],l[T-1][1],l[0][0],l[0][1],G)),{type:"path",ops:fa}}return 2===T?{type:"path",ops:xa(l[0][0],l[0][1],l[1][0],l[1][1],G)}:{type:"path",ops:[]}}function W(l,D){let G=Ta(l,1+.2*D.roughness,D);if(!D.disableMultiStroke){var T=
1.5*(1+.22*D.roughness);const fa=Object.assign({},D);fa.randomizer=void 0;D.seed&&(fa.seed=D.seed+1);l=Ta(l,T,fa);G=G.concat(l)}return{type:"path",ops:G}}function M(l,D,G){const T=2*Math.PI/Math.max(G.curveStepCount,G.curveStepCount/Math.sqrt(200)*Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(l/2,2)+Math.pow(D/2,2))/2)));l=Math.abs(l/2);D=Math.abs(D/2);const fa=1-G.curveFitting;return l+=Ca(l*fa,G),D+=Ca(D*fa,G),{increment:T,rx:l,ry:D}}function ca(l,D,G,T){const [fa,na]=eb(T.increment,l,D,T.rx,T.ry,1,T.increment*
ya(.1,ya(.4,1,G),G),G);let Aa=Va(fa,null,G);G.disableMultiStroke||([l]=eb(T.increment,l,D,T.rx,T.ry,1.5,0,G),G=Va(l,null,G),Aa=Aa.concat(G));return{estimatedPoints:na,opset:{type:"path",ops:Aa}}}function ua(l,D,G,T,fa,na,Aa,za,Ga){G=Math.abs(G/2);T=Math.abs(T/2);G+=Ca(.01*G,Ga);for(T+=Ca(.01*T,Ga);0>fa;)fa+=2*Math.PI,na+=2*Math.PI;na-fa>2*Math.PI&&(fa=0,na=2*Math.PI);var Ua=Math.min(2*Math.PI/Ga.curveStepCount/2,(na-fa)/2);const Pa=Kb(Ua,l,D,G,T,fa,na,1,Ga);Ga.disableMultiStroke||(Ua=Kb(Ua,l,D,G,
T,fa,na,1.5,Ga),Pa.push(...Ua));return Aa&&(za?Pa.push(...xa(l,D,l+G*Math.cos(fa),D+T*Math.sin(fa),Ga),...xa(l,D,l+G*Math.cos(na),D+T*Math.sin(na),Ga)):Pa.push({op:"lineTo",data:[l,D]},{op:"lineTo",data:[l+G*Math.cos(fa),D+T*Math.sin(fa)]})),{type:"path",ops:Pa}}function Z(l,D){const G=[];if(l.length){const T=D.maxRandomnessOffset||0,fa=l.length;if(2<fa){G.push({op:"move",data:[l[0][0]+Ca(T,D),l[0][1]+Ca(T,D)]});for(let na=1;na<fa;na++)G.push({op:"lineTo",data:[l[na][0]+Ca(T,D),l[na][1]+Ca(T,D)]})}}return{type:"fillPath",
ops:G}}function pa(l,D){var G=Fd;let T=D.fillStyle||"hachure";if(!df[T])switch(T){case "zigzag":df[T]||(df[T]=new Hd(G));break;case "cross-hatch":df[T]||(df[T]=new af(G));break;case "dots":df[T]||(df[T]=new Bg(G));break;case "dashed":df[T]||(df[T]=new uh(G));break;case "zigzag-line":df[T]||(df[T]=new ah(G));break;default:T="hachure",df[T]||(df[T]=new Cd(G))}return df[T].fillPolygon(l,D)}function sa(l){return l.randomizer||(l.randomizer=new Me(l.seed||0)),l.randomizer.next()}function ya(l,D,G,T=1){return G.roughness*
T*(sa(G)*(D-l)+l)}function Ca(l,D,G=1){return ya(-l,l,D,G)}function xa(l,D,G,T,fa,na=!1){const Aa=na?fa.disableMultiStrokeFill:fa.disableMultiStroke;na=Ma(l,D,G,T,fa,!0,!1);if(Aa)return na;l=Ma(l,D,G,T,fa,!0,!0);return na.concat(l)}function Ma(l,D,G,T,fa,na,Aa){var za=Math.pow(l-G,2)+Math.pow(D-T,2),Ga=Math.sqrt(za);let Ua;Ua=200>Ga?1:500<Ga?.4:-.0016668*Ga+1.233334;let Pa=fa.maxRandomnessOffset||0;Pa*Pa*100>za&&(Pa=Ga/10);za=Pa/2;Ga=.2+.2*sa(fa);let mb=fa.bowing*fa.maxRandomnessOffset*(T-D)/200,
sb=fa.bowing*fa.maxRandomnessOffset*(l-G)/200;mb=Ca(mb,fa,Ua);sb=Ca(sb,fa,Ua);const vb=[];return na&&(Aa?vb.push({op:"move",data:[l+Ca(za,fa,Ua),D+Ca(za,fa,Ua)]}):vb.push({op:"move",data:[l+Ca(Pa,fa,Ua),D+Ca(Pa,fa,Ua)]})),Aa?vb.push({op:"bcurveTo",data:[mb+l+(G-l)*Ga+Ca(za,fa,Ua),sb+D+(T-D)*Ga+Ca(za,fa,Ua),mb+l+2*(G-l)*Ga+Ca(za,fa,Ua),sb+D+2*(T-D)*Ga+Ca(za,fa,Ua),G+Ca(za,fa,Ua),T+Ca(za,fa,Ua)]}):vb.push({op:"bcurveTo",data:[mb+l+(G-l)*Ga+Ca(Pa,fa,Ua),sb+D+(T-D)*Ga+Ca(Pa,fa,Ua),mb+l+2*(G-l)*Ga+Ca(Pa,
fa,Ua),sb+D+2*(T-D)*Ga+Ca(Pa,fa,Ua),G+Ca(Pa,fa,Ua),T+Ca(Pa,fa,Ua)]}),vb}function Ta(l,D,G){const T=[];T.push([l[0][0]+Ca(D,G),l[0][1]+Ca(D,G)]);T.push([l[0][0]+Ca(D,G),l[0][1]+Ca(D,G)]);for(let fa=1;fa<l.length;fa++)T.push([l[fa][0]+Ca(D,G),l[fa][1]+Ca(D,G)]),fa===l.length-1&&T.push([l[fa][0]+Ca(D,G),l[fa][1]+Ca(D,G)]);return Va(T,null,G)}function Va(l,D,G){const T=l.length,fa=[];if(3<T){const na=[],Aa=1-G.curveTightness;fa.push({op:"move",data:[l[1][0],l[1][1]]});for(let za=1;za+2<T;za++){const Ga=
l[za];na[0]=[Ga[0],Ga[1]];na[1]=[Ga[0]+(Aa*l[za+1][0]-Aa*l[za-1][0])/6,Ga[1]+(Aa*l[za+1][1]-Aa*l[za-1][1])/6];na[2]=[l[za+1][0]+(Aa*l[za][0]-Aa*l[za+2][0])/6,l[za+1][1]+(Aa*l[za][1]-Aa*l[za+2][1])/6];na[3]=[l[za+1][0],l[za+1][1]];fa.push({op:"bcurveTo",data:[na[1][0],na[1][1],na[2][0],na[2][1],na[3][0],na[3][1]]})}D&&2===D.length&&(l=G.maxRandomnessOffset,fa.push({op:"lineTo",data:[D[0]+Ca(l,G),D[1]+Ca(l,G)]}))}else 3===T?(fa.push({op:"move",data:[l[1][0],l[1][1]]}),fa.push({op:"bcurveTo",data:[l[1][0],
l[1][1],l[2][0],l[2][1],l[2][0],l[2][1]]})):2===T&&fa.push(...xa(l[0][0],l[0][1],l[1][0],l[1][1],G));return fa}function eb(l,D,G,T,fa,na,Aa,za){const Ga=[],Ua=[],Pa=Ca(.5,za)-Math.PI/2;Ua.push([Ca(na,za)+D+.9*T*Math.cos(Pa-l),Ca(na,za)+G+.9*fa*Math.sin(Pa-l)]);for(let mb=Pa;mb<2*Math.PI+Pa-.01;mb+=l){const sb=[Ca(na,za)+D+T*Math.cos(mb),Ca(na,za)+G+fa*Math.sin(mb)];Ga.push(sb);Ua.push(sb)}return Ua.push([Ca(na,za)+D+T*Math.cos(Pa+2*Math.PI+.5*Aa),Ca(na,za)+G+fa*Math.sin(Pa+2*Math.PI+.5*Aa)]),Ua.push([Ca(na,
za)+D+.98*T*Math.cos(Pa+Aa),Ca(na,za)+G+.98*fa*Math.sin(Pa+Aa)]),Ua.push([Ca(na,za)+D+.9*T*Math.cos(Pa+.5*Aa),Ca(na,za)+G+.9*fa*Math.sin(Pa+.5*Aa)]),[Ua,Ga]}function Kb(l,D,G,T,fa,na,Aa,za,Ga){var Ua=na+Ca(.1,Ga);na=[];for(na.push([Ca(za,Ga)+D+.9*T*Math.cos(Ua-l),Ca(za,Ga)+G+.9*fa*Math.sin(Ua-l)]);Ua<=Aa;Ua+=l)na.push([Ca(za,Ga)+D+T*Math.cos(Ua),Ca(za,Ga)+G+fa*Math.sin(Ua)]);return na.push([D+T*Math.cos(Aa),G+fa*Math.sin(Aa)]),na.push([D+T*Math.cos(Aa),G+fa*Math.sin(Aa)]),Va(na,null,Ga)}function Gb(l,
D,G,T,fa,na,Aa,za){const Ga=[],Ua=[za.maxRandomnessOffset||1,(za.maxRandomnessOffset||1)+.3];let Pa;const mb=za.disableMultiStroke?1:2;for(let sb=0;sb<mb;sb++)0===sb?Ga.push({op:"move",data:[Aa[0],Aa[1]]}):Ga.push({op:"move",data:[Aa[0]+Ca(Ua[0],za),Aa[1]+Ca(Ua[0],za)]}),Pa=[fa+Ca(Ua[sb],za),na+Ca(Ua[sb],za)],Ga.push({op:"bcurveTo",data:[l+Ca(Ua[sb],za),D+Ca(Ua[sb],za),G+Ca(Ua[sb],za),T+Ca(Ua[sb],za),Pa[0],Pa[1]]});return Ga}function Ub(l){var D,G,T="";if("string"==typeof l||"number"==typeof l)T+=
l;else if("object"==typeof l)if(Array.isArray(l))for(D=0;D<l.length;D++)l[D]&&(G=Ub(l[D]))&&(T&&(T+=" "),T+=G);else for(D in l)l[D]&&(T&&(T+=" "),T+=D);return T}function oc(){for(var l,D,G=0,T="";G<arguments.length;)(l=arguments[G++])&&(D=Ub(l))&&(T&&(T+=" "),T+=D);return T}function Hb(l,D){var G=Object.keys(l);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(l);D&&(T=T.filter(function(fa){return Object.getOwnPropertyDescriptor(l,fa).enumerable}));G.push.apply(G,T)}return G}function ac(l){for(var D=
1;D<arguments.length;D++){var G=null!=arguments[D]?arguments[D]:{};D%2?Hb(Object(G),!0).forEach(function(T){Qc()(l,T,G[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(G)):Hb(Object(G)).forEach(function(T){Object.defineProperty(l,T,Object.getOwnPropertyDescriptor(G,T))})}return l}function Vb(l,D){var G=Object.keys(l);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(l);D&&(T=T.filter(function(fa){return Object.getOwnPropertyDescriptor(l,
fa).enumerable}));G.push.apply(G,T)}return G}function Ab(l){for(var D=1;D<arguments.length;D++){var G=null!=arguments[D]?arguments[D]:{};D%2?Vb(Object(G),!0).forEach(function(T){Qc()(l,T,G[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(G)):Vb(Object(G)).forEach(function(T){Object.defineProperty(l,T,Object.getOwnPropertyDescriptor(G,T))})}return l}function hb(l,D){var G=Object.keys(l);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(l);
D&&(T=T.filter(function(fa){return Object.getOwnPropertyDescriptor(l,fa).enumerable}));G.push.apply(G,T)}return G}function fb(l){for(var D=1;D<arguments.length;D++){var G=null!=arguments[D]?arguments[D]:{};D%2?hb(Object(G),!0).forEach(function(T){Qc()(l,T,G[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(G)):hb(Object(G)).forEach(function(T){Object.defineProperty(l,T,Object.getOwnPropertyDescriptor(G,T))})}return l}function Oa(l,D){var G=Object.keys(l);
if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(l);D&&(T=T.filter(function(fa){return Object.getOwnPropertyDescriptor(l,fa).enumerable}));G.push.apply(G,T)}return G}function Ka(l){for(var D=1;D<arguments.length;D++){var G=null!=arguments[D]?arguments[D]:{};D%2?Oa(Object(G),!0).forEach(function(T){Qc()(l,T,G[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(G)):Oa(Object(G)).forEach(function(T){Object.defineProperty(l,T,Object.getOwnPropertyDescriptor(G,
T))})}return l}function Ya(l,D){var G=Object.keys(l);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(l);D&&(T=T.filter(function(fa){return Object.getOwnPropertyDescriptor(l,fa).enumerable}));G.push.apply(G,T)}return G}function ib(l){for(var D=1;D<arguments.length;D++){var G=null!=arguments[D]?arguments[D]:{};D%2?Ya(Object(G),!0).forEach(function(T){Qc()(l,T,G[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(G)):Ya(Object(G)).forEach(function(T){Object.defineProperty(l,
T,Object.getOwnPropertyDescriptor(G,T))})}return l}function Wb(l,D){var G=Object.keys(l);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(l);D&&(T=T.filter(function(fa){return Object.getOwnPropertyDescriptor(l,fa).enumerable}));G.push.apply(G,T)}return G}function Sb(l,D){var G=Object.keys(l);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(l);D&&(T=T.filter(function(fa){return Object.getOwnPropertyDescriptor(l,fa).enumerable}));G.push.apply(G,T)}return G}function Gc(l){for(var D=
1;D<arguments.length;D++){var G=null!=arguments[D]?arguments[D]:{};D%2?Sb(Object(G),!0).forEach(function(T){Qc()(l,T,G[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(G)):Sb(Object(G)).forEach(function(T){Object.defineProperty(l,T,Object.getOwnPropertyDescriptor(G,T))})}return l}function Kc(l,D){var G=Object.keys(l);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(l);D&&(T=T.filter(function(fa){return Object.getOwnPropertyDescriptor(l,
fa).enumerable}));G.push.apply(G,T)}return G}function Dc(l){for(var D=1;D<arguments.length;D++){var G=null!=arguments[D]?arguments[D]:{};D%2?Kc(Object(G),!0).forEach(function(T){Qc()(l,T,G[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(G)):Kc(Object(G)).forEach(function(T){Object.defineProperty(l,T,Object.getOwnPropertyDescriptor(G,T))})}return l}function Jc(l,D){var G=Object.keys(l);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(l);
D&&(T=T.filter(function(fa){return Object.getOwnPropertyDescriptor(l,fa).enumerable}));G.push.apply(G,T)}return G}function Zc(l){for(var D=1;D<arguments.length;D++){var G=null!=arguments[D]?arguments[D]:{};D%2?Jc(Object(G),!0).forEach(function(T){Qc()(l,T,G[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(G)):Jc(Object(G)).forEach(function(T){Object.defineProperty(l,T,Object.getOwnPropertyDescriptor(G,T))})}return l}function Md(l,D){var G=Object.keys(l);
if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(l);D&&(T=T.filter(function(fa){return Object.getOwnPropertyDescriptor(l,fa).enumerable}));G.push.apply(G,T)}return G}function ld(l){for(var D=1;D<arguments.length;D++){var G=null!=arguments[D]?arguments[D]:{};D%2?Md(Object(G),!0).forEach(function(T){Qc()(l,T,G[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(G)):Md(Object(G)).forEach(function(T){Object.defineProperty(l,T,Object.getOwnPropertyDescriptor(G,
T))})}return l}function pe(l,D){var G=Object.keys(l);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(l);D&&(T=T.filter(function(fa){return Object.getOwnPropertyDescriptor(l,fa).enumerable}));G.push.apply(G,T)}return G}function qe(l){for(var D=1;D<arguments.length;D++){var G=null!=arguments[D]?arguments[D]:{};D%2?pe(Object(G),!0).forEach(function(T){Qc()(l,T,G[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(G)):pe(Object(G)).forEach(function(T){Object.defineProperty(l,
T,Object.getOwnPropertyDescriptor(G,T))})}return l}function td(l){var D=l.options,G=l.value,T=l.label,fa=l.onChange,na=l.onClose,Aa=Ha().useRef(),za=Ha().useRef(),Ga=Ha().useRef(null);Ha().useEffect(function(){za.current?za.current.focus():Ga.current&&Ga.current.focus()},[]);return Ha().createElement("div",{className:"picker",role:"dialog","aria-modal":"true","aria-label":T,onKeyDown:function(Ua){var Pa=D.find(function(ec){return ec.keyBinding===Ua.key.toLowerCase()});if(Ua.metaKey||Ua.altKey||Ua.ctrlKey||
!Pa)if("Tab"===Ua.key)setTimeout(function(){za.current!==document.activeElement&&na()},0);else if(yg(Ua.key)){Pa=O.rtl;if(-1!==(vb=Array.prototype.indexOf.call(Ga.current.children,document.activeElement))){var mb=D.length,sb=vb;switch(Ua.key){case Pa?"ArrowLeft":"ArrowRight":case "ArrowDown":sb=(vb+1)%mb;break;case Pa?"ArrowRight":"ArrowLeft":case "ArrowUp":sb=(mb+vb-1)%mb}Ga.current.children[sb].focus()}Ua.preventDefault()}else"Escape"!==Ua.key&&"Enter"!==Ua.key||(Ua.preventDefault(),na());else{var vb=
D.indexOf(Pa);Ga.current.children[vb].focus();Ua.preventDefault()}Ua.nativeEvent.stopImmediatePropagation()}},Ha().createElement("div",{className:"picker-content",ref:Ga},D.map(function(Ua,Pa){return Ha().createElement("button",{className:"picker-option",onClick:function(mb){mb.currentTarget.focus();fa(Ua.value)},title:"".concat(Ua.text," — ").concat(Ua.keyBinding.toUpperCase()),"aria-label":Ua.text||"none","aria-keyshortcuts":Ua.keyBinding,key:Ua.text,ref:function(mb){mb&&0===Pa&&(Aa.current=mb);
mb&&Ua.value===G&&(za.current=mb)},onFocus:function(){fa(Ua.value)}},Ua.icon,Ha().createElement("span",{className:"picker-keybinding"},Ua.keyBinding))})))}function ud(l){var D,G=l.value,T=l.label,fa=l.options,na=l.onChange;l=l.group;l=void 0===l?"":l;var Aa=Ha().useState(!1),za=Aa[0],Ga=Aa[1],Ua=Ha().useRef(null);Aa=O.rtl;return Ha().createElement("label",{className:"picker-container"},Ha().createElement("button",{name:l,className:za?"active":"","aria-label":T,onClick:function(){return Ga(!za)},ref:Ua},
null===(D=fa.find(function(Pa){return Pa.value===G}))||void 0===D?void 0:D.icon),Ha().createElement(Ha().Suspense,{fallback:""},za?Ha().createElement(Ha().Fragment,null,Ha().createElement(kb,Ud()({onCloseRequest:function(Pa){return Pa.target!==Ua.current&&Ga(!1)}},Aa?{right:5.5}:{left:-5.5}),Ha().createElement(td,{options:fa,value:G,label:T,onChange:na,onClose:function(){var Pa;Ga(!1);null===(Pa=Ua.current)||void 0===Pa||Pa.focus()}})),Ha().createElement("div",{className:"picker-triangle"})):null))}
function Ce(l,D){var G=Object.keys(l);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(l);D&&(T=T.filter(function(fa){return Object.getOwnPropertyDescriptor(l,fa).enumerable}));G.push.apply(G,T)}return G}function Ie(l){for(var D=1;D<arguments.length;D++){var G=null!=arguments[D]?arguments[D]:{};D%2?Ce(Object(G),!0).forEach(function(T){Qc()(l,T,G[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(G)):Ce(Object(G)).forEach(function(T){Object.defineProperty(l,
T,Object.getOwnPropertyDescriptor(G,T))})}return l}function Qe(){return(0,kc.useContext)(mg)}function kf(l,D){var G=Object.keys(l);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(l);D&&(T=T.filter(function(fa){return Object.getOwnPropertyDescriptor(l,fa).enumerable}));G.push.apply(G,T)}return G}function De(l){for(var D=1;D<arguments.length;D++){var G=null!=arguments[D]?arguments[D]:{};D%2?kf(Object(G),!0).forEach(function(T){Qc()(l,T,G[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,
Object.getOwnPropertyDescriptors(G)):kf(Object(G)).forEach(function(T){Object.defineProperty(l,T,Object.getOwnPropertyDescriptor(G,T))})}return l}function pf(l,D){var G=Object.keys(l);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(l);D&&(T=T.filter(function(fa){return Object.getOwnPropertyDescriptor(l,fa).enumerable}));G.push.apply(G,T)}return G}function tg(l){for(var D=1;D<arguments.length;D++){var G=null!=arguments[D]?arguments[D]:{};D%2?pf(Object(G),!0).forEach(function(T){Qc()(l,
T,G[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(G)):pf(Object(G)).forEach(function(T){Object.defineProperty(l,T,Object.getOwnPropertyDescriptor(G,T))})}return l}async function Rg(...l){return(await ym).default(...l)}async function Sg(...l){return(await tf).default(...l)}function xe(l,D){var G=Object.keys(l);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(l);D&&(T=T.filter(function(fa){return Object.getOwnPropertyDescriptor(l,
fa).enumerable}));G.push.apply(G,T)}return G}function Te(l){for(var D=1;D<arguments.length;D++){var G=null!=arguments[D]?arguments[D]:{};D%2?xe(Object(G),!0).forEach(function(T){Qc()(l,T,G[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(G)):xe(Object(G)).forEach(function(T){Object.defineProperty(l,T,Object.getOwnPropertyDescriptor(G,T))})}return l}function ig(l,D){var G=Object.keys(l);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(l);
D&&(T=T.filter(function(fa){return Object.getOwnPropertyDescriptor(l,fa).enumerable}));G.push.apply(G,T)}return G}function ze(l){for(var D=1;D<arguments.length;D++){var G=null!=arguments[D]?arguments[D]:{};D%2?ig(Object(G),!0).forEach(function(T){Qc()(l,T,G[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(G)):ig(Object(G)).forEach(function(T){Object.defineProperty(l,T,Object.getOwnPropertyDescriptor(G,T))})}return l}function tb(l,D){var G=Object.keys(l);
if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(l);D&&(T=T.filter(function(fa){return Object.getOwnPropertyDescriptor(l,fa).enumerable}));G.push.apply(G,T)}return G}function Eb(l){for(var D=1;D<arguments.length;D++){var G=null!=arguments[D]?arguments[D]:{};D%2?tb(Object(G),!0).forEach(function(T){Qc()(l,T,G[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(G)):tb(Object(G)).forEach(function(T){Object.defineProperty(l,T,Object.getOwnPropertyDescriptor(G,
T))})}return l}function pb(l,D){var G=Object.keys(l);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(l);D&&(T=T.filter(function(fa){return Object.getOwnPropertyDescriptor(l,fa).enumerable}));G.push.apply(G,T)}return G}function ab(l){for(var D=1;D<arguments.length;D++){var G=null!=arguments[D]?arguments[D]:{};D%2?pb(Object(G),!0).forEach(function(T){Qc()(l,T,G[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(G)):pb(Object(G)).forEach(function(T){Object.defineProperty(l,
T,Object.getOwnPropertyDescriptor(G,T))})}return l}function jb(l,D){var G=Object.keys(l);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(l);D&&(T=T.filter(function(fa){return Object.getOwnPropertyDescriptor(l,fa).enumerable}));G.push.apply(G,T)}return G}function xb(l){for(var D=1;D<arguments.length;D++){var G=null!=arguments[D]?arguments[D]:{};D%2?jb(Object(G),!0).forEach(function(T){Qc()(l,T,G[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(G)):
jb(Object(G)).forEach(function(T){Object.defineProperty(l,T,Object.getOwnPropertyDescriptor(G,T))})}return l}function Tb(l,D){var G=Object.keys(l);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(l);D&&(T=T.filter(function(fa){return Object.getOwnPropertyDescriptor(l,fa).enumerable}));G.push.apply(G,T)}return G}function sc(l){for(var D=1;D<arguments.length;D++){var G=null!=arguments[D]?arguments[D]:{};D%2?Tb(Object(G),!0).forEach(function(T){Qc()(l,T,G[T])}):Object.getOwnPropertyDescriptors?
Object.defineProperties(l,Object.getOwnPropertyDescriptors(G)):Tb(Object(G)).forEach(function(T){Object.defineProperty(l,T,Object.getOwnPropertyDescriptor(G,T))})}return l}function wc(l,D){var G=Object.keys(l);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(l);D&&(T=T.filter(function(fa){return Object.getOwnPropertyDescriptor(l,fa).enumerable}));G.push.apply(G,T)}return G}function Nc(l){for(var D=1;D<arguments.length;D++){var G=null!=arguments[D]?arguments[D]:{};D%2?wc(Object(G),
!0).forEach(function(T){Qc()(l,T,G[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(G)):wc(Object(G)).forEach(function(T){Object.defineProperty(l,T,Object.getOwnPropertyDescriptor(G,T))})}return l}function rd(l,D){var G=Object.keys(l);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(l);D&&(T=T.filter(function(fa){return Object.getOwnPropertyDescriptor(l,fa).enumerable}));G.push.apply(G,T)}return G}function $c(l){for(var D=1;D<arguments.length;D++){var G=
null!=arguments[D]?arguments[D]:{};D%2?rd(Object(G),!0).forEach(function(T){Qc()(l,T,G[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(G)):rd(Object(G)).forEach(function(T){Object.defineProperty(l,T,Object.getOwnPropertyDescriptor(G,T))})}return l}function Xd(l,D){var G=Object.keys(l);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(l);D&&(T=T.filter(function(fa){return Object.getOwnPropertyDescriptor(l,fa).enumerable}));G.push.apply(G,
T)}return G}function uc(l){for(var D=1;D<arguments.length;D++){var G=null!=arguments[D]?arguments[D]:{};D%2?Xd(Object(G),!0).forEach(function(T){Qc()(l,T,G[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(G)):Xd(Object(G)).forEach(function(T){Object.defineProperty(l,T,Object.getOwnPropertyDescriptor(G,T))})}return l}function Xb(l,D){var G=Object.keys(l);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(l);D&&(T=T.filter(function(fa){return Object.getOwnPropertyDescriptor(l,
fa).enumerable}));G.push.apply(G,T)}return G}function ae(l){for(var D=1;D<arguments.length;D++){var G=null!=arguments[D]?arguments[D]:{};D%2?Xb(Object(G),!0).forEach(function(T){Qc()(l,T,G[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(G)):Xb(Object(G)).forEach(function(T){Object.defineProperty(l,T,Object.getOwnPropertyDescriptor(G,T))})}return l}function ad(l,D){var G=Object.keys(l);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(l);
D&&(T=T.filter(function(fa){return Object.getOwnPropertyDescriptor(l,fa).enumerable}));G.push.apply(G,T)}return G}function we(l){for(var D=1;D<arguments.length;D++){var G=null!=arguments[D]?arguments[D]:{};D%2?ad(Object(G),!0).forEach(function(T){Qc()(l,T,G[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(G)):ad(Object(G)).forEach(function(T){Object.defineProperty(l,T,Object.getOwnPropertyDescriptor(G,T))})}return l}function rb(l,D){var G=Object.keys(l);
if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(l);D&&(T=T.filter(function(fa){return Object.getOwnPropertyDescriptor(l,fa).enumerable}));G.push.apply(G,T)}return G}function jc(l){for(var D=1;D<arguments.length;D++){var G=null!=arguments[D]?arguments[D]:{};D%2?rb(Object(G),!0).forEach(function(T){Qc()(l,T,G[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(G)):rb(Object(G)).forEach(function(T){Object.defineProperty(l,T,Object.getOwnPropertyDescriptor(G,
T))})}return l}function nb(l,D){var G=Object.keys(l);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(l);D&&(T=T.filter(function(fa){return Object.getOwnPropertyDescriptor(l,fa).enumerable}));G.push.apply(G,T)}return G}function lc(l){for(var D=1;D<arguments.length;D++){var G=null!=arguments[D]?arguments[D]:{};D%2?nb(Object(G),!0).forEach(function(T){Qc()(l,T,G[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(G)):nb(Object(G)).forEach(function(T){Object.defineProperty(l,
T,Object.getOwnPropertyDescriptor(G,T))})}return l}function md(l,D){var G=Object.keys(l);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(l);D&&(T=T.filter(function(fa){return Object.getOwnPropertyDescriptor(l,fa).enumerable}));G.push.apply(G,T)}return G}function Bd(l){for(var D=1;D<arguments.length;D++){var G=null!=arguments[D]?arguments[D]:{};D%2?md(Object(G),!0).forEach(function(T){Qc()(l,T,G[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(G)):
md(Object(G)).forEach(function(T){Object.defineProperty(l,T,Object.getOwnPropertyDescriptor(G,T))})}return l}function Vd(l,D){var G=Object.keys(l);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(l);D&&(T=T.filter(function(fa){return Object.getOwnPropertyDescriptor(l,fa).enumerable}));G.push.apply(G,T)}return G}function Oe(l){for(var D=1;D<arguments.length;D++){var G=null!=arguments[D]?arguments[D]:{};D%2?Vd(Object(G),!0).forEach(function(T){Qc()(l,T,G[T])}):Object.getOwnPropertyDescriptors?
Object.defineProperties(l,Object.getOwnPropertyDescriptors(G)):Vd(Object(G)).forEach(function(T){Object.defineProperty(l,T,Object.getOwnPropertyDescriptor(G,T))})}return l}function Ec(l,D){var G=Object.keys(l);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(l);D&&(T=T.filter(function(fa){return Object.getOwnPropertyDescriptor(l,fa).enumerable}));G.push.apply(G,T)}return G}function Wc(l){for(var D=1;D<arguments.length;D++){var G=null!=arguments[D]?arguments[D]:{};D%2?Ec(Object(G),
!0).forEach(function(T){Qc()(l,T,G[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(G)):Ec(Object(G)).forEach(function(T){Object.defineProperty(l,T,Object.getOwnPropertyDescriptor(G,T))})}return l}function pc(l,D){var G=Object.keys(l);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(l);D&&(T=T.filter(function(fa){return Object.getOwnPropertyDescriptor(l,fa).enumerable}));G.push.apply(G,T)}return G}function zb(l){for(var D=1;D<arguments.length;D++){var G=
null!=arguments[D]?arguments[D]:{};D%2?pc(Object(G),!0).forEach(function(T){Qc()(l,T,G[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(G)):pc(Object(G)).forEach(function(T){Object.defineProperty(l,T,Object.getOwnPropertyDescriptor(G,T))})}return l}function yd(l,D){var G=Object.keys(l);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(l);D&&(T=T.filter(function(fa){return Object.getOwnPropertyDescriptor(l,fa).enumerable}));G.push.apply(G,
T)}return G}function ff(l,D){var G=Object.keys(l);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(l);D&&(T=T.filter(function(fa){return Object.getOwnPropertyDescriptor(l,fa).enumerable}));G.push.apply(G,T)}return G}function Qd(l,D){var G=Object.keys(l);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(l);D&&(T=T.filter(function(fa){return Object.getOwnPropertyDescriptor(l,fa).enumerable}));G.push.apply(G,T)}return G}function Tf(l){for(var D=1;D<arguments.length;D++){var G=
null!=arguments[D]?arguments[D]:{};D%2?Qd(Object(G),!0).forEach(function(T){Qc()(l,T,G[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(G)):Qd(Object(G)).forEach(function(T){Object.defineProperty(l,T,Object.getOwnPropertyDescriptor(G,T))})}return l}function Ja(l,D){var G=Object.keys(l);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(l);D&&(T=T.filter(function(fa){return Object.getOwnPropertyDescriptor(l,fa).enumerable}));G.push.apply(G,
T)}return G}function $a(l){for(var D=1;D<arguments.length;D++){var G=null!=arguments[D]?arguments[D]:{};D%2?Ja(Object(G),!0).forEach(function(T){Qc()(l,T,G[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(G)):Ja(Object(G)).forEach(function(T){Object.defineProperty(l,T,Object.getOwnPropertyDescriptor(G,T))})}return l}g.r(n);g.d(n,{default:()=>du,defaultLang:()=>va,getElementMap:()=>$i,getSceneVersion:()=>cl,getSyncableElements:()=>Nk,languages:()=>z,
restore:()=>mn,restoreAppState:()=>ln,restoreElements:()=>wk});var Xa=g(7154),lb=g.n(Xa),Lb=g(6479),tc=g.n(Lb),kc=g(4698),Ha=g.n(kc),hc=g(8288);const Xc=JSON.parse('{"u2":"@excalidraw/excalidraw","i8":"0.4.3"}');"production"!==hc.Vi.TEST&&(g.p=window.EXCALIDRAW_ASSET_PATH||"https://unpkg.com/".concat(Xc.u2,"@").concat(Xc.i8,"/dist/"));var Pd=g(5374),Rc=g.n(Pd),Rd=g(2829),Nf=g(2051),de=function(l,D){function G(Ga){return function(Ua){return function(Pa){if(T)throw new TypeError("Generator is already executing.");
for(;za;)try{if(T=1,fa&&(na=2&Pa[0]?fa.return:Pa[0]?fa.throw||((na=fa.return)&&na.call(fa),0):fa.next)&&!(na=na.call(fa,Pa[1])).done)return na;switch(fa=0,na&&(Pa=[2&Pa[0],na.value]),Pa[0]){case 0:case 1:na=Pa;break;case 4:return za.label++,{value:Pa[1],done:!1};case 5:za.label++;fa=Pa[1];Pa=[0];continue;case 7:Pa=za.ops.pop();za.trys.pop();continue;default:if(!(na=za.trys,(na=0<na.length&&na[na.length-1])||6!==Pa[0]&&2!==Pa[0])){za=0;continue}if(3===Pa[0]&&(!na||Pa[1]>na[0]&&Pa[1]<na[3]))za.label=
Pa[1];else if(6===Pa[0]&&za.label<na[1])za.label=na[1],na=Pa;else if(na&&za.label<na[2])za.label=na[2],za.ops.push(Pa);else{na[2]&&za.ops.pop();za.trys.pop();continue}}Pa=D.call(l,za)}catch(mb){Pa=[6,mb],fa=0}finally{T=na=0}if(5&Pa[0])throw Pa[1];return{value:Pa[0]?Pa[1]:void 0,done:!0}}([Ga,Ua])}}var T,fa,na,Aa,za={label:0,sent:function(){if(1&na[0])throw na[1];return na[1]},trys:[],ops:[]};return Aa={next:G(0),throw:G(1),return:G(2)},"function"==typeof Symbol&&(Aa[Symbol.iterator]=function(){return this}),
Aa},va={code:"en",label:"English"},z=[{code:"ar-SA",label:"العربية",rtl:!0},{code:"bg-BG",label:"Български"},{code:"ca-ES",label:"Català"},{code:"de-DE",label:"Deutsch"},{code:"el-GR",label:"Ελληνικά"},{code:"es-ES",label:"Español"},{code:"fa-IR",label:"فارسی",rtl:!0},{code:"fi-FI",label:"Suomi"},{code:"fr-FR",label:"Français"},{code:"he-IL",label:"עברית",rtl:!0},{code:"hi-IN",label:"हिन्दी"},{code:"hu-HU",label:"Magyar"},{code:"id-ID",label:"Bahasa Indonesia"},{code:"it-IT",label:"Italiano"},{code:"ja-JP",
label:"日本語"},{code:"kab-KAB",label:"Taqbaylit"},{code:"ko-KR",label:"한국어"},{code:"my-MM",label:"Burmese"},{code:"nb-NO",label:"Norsk bokmål"},{code:"nl-NL",label:"Nederlands"},{code:"nn-NO",label:"Norsk nynorsk"},{code:"oc-FR",label:"Occitan"},{code:"pa-IN",label:"ਪੰਜਾਬੀ"},{code:"pl-PL",label:"Polski"},{code:"pt-BR",label:"Português Brasileiro"},{code:"pt-PT",label:"Português"},{code:"ro-RO",label:"Română"},{code:"ru-RU",label:"Русский"},{code:"sk-SK",label:"Slovenčina"},{code:"sv-SE",label:"Svenska"},
{code:"tr-TR",label:"Türkçe"},{code:"uk-UA",label:"Українська"},{code:"zh-CN",label:"简体中文"},{code:"zh-TW",label:"繁體中文"}].concat([va]).sort(function(l,D){return l.label>D.label?1:-1}).filter(function(l){return 85<=Nf[l.code]});"production"===hc.Vi.DEVELOPMENT&&z.unshift({code:"__test__",label:"test language"},{code:"".concat("__test__",".rtl"),label:"‪test language (rtl)‬",rtl:!0});var E,O=va,ma={},Da=function(){var l=Rc()(function(D){return de(this,function(G){switch(G.label){case 0:return O=D,document.documentElement.dir=
O.rtl?"rtl":"ltr",document.documentElement.lang=O.code,D.code.startsWith("__test__")?(ma={},[3,3]):[3,1];case 1:return[4,g(788)("./".concat(O.code,".json"))];case 2:ma=G.sent(),G.label=3;case 3:return[2]}})});return function(D){return l.apply(this,arguments)}}(),Ra=function(l,D){for(var G=0;G<D.length;++G){var T=D[G];if(void 0===l[T])return;l=l[T]}if("string"==typeof l)return l},La=function(l,D){if(O.code.startsWith("__test__"))return l=D?"".concat(l,"(").concat(JSON.stringify(D).slice(1,-1),")"):
l,"‪[[".concat(l,"]]‬");var G=l.split(".");G=Ra(ma,G)||Ra(Rd,G);if(void 0===G)throw Error("Can't find translation for ".concat(l));if(D)for(var T in D)G=G.replace("{{".concat(T,"}}"),D[T]);return G},ub=function(){return Ha().createElement("div",{className:"LoadingMessage"},Ha().createElement("span",null,La("labels.loadingScene")))},nc=(E=function(l,D){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,T){G.__proto__=T}||function(G,T){for(var fa in T)Object.prototype.hasOwnProperty.call(T,
fa)&&(G[fa]=T[fa])})(l,D)},function(l,D){function G(){this.constructor=l}if("function"!=typeof D&&null!==D)throw new TypeError("Class extends value "+String(D)+" is not a constructor or null");E(l,D);l.prototype=null===D?Object.create(D):(G.prototype=D.prototype,new G)}),Mc=function(l,D){function G(Ga){return function(Ua){return function(Pa){if(T)throw new TypeError("Generator is already executing.");for(;za;)try{if(T=1,fa&&(na=2&Pa[0]?fa.return:Pa[0]?fa.throw||((na=fa.return)&&na.call(fa),0):fa.next)&&
!(na=na.call(fa,Pa[1])).done)return na;switch(fa=0,na&&(Pa=[2&Pa[0],na.value]),Pa[0]){case 0:case 1:na=Pa;break;case 4:return za.label++,{value:Pa[1],done:!1};case 5:za.label++;fa=Pa[1];Pa=[0];continue;case 7:Pa=za.ops.pop();za.trys.pop();continue;default:if(!(na=za.trys,(na=0<na.length&&na[na.length-1])||6!==Pa[0]&&2!==Pa[0])){za=0;continue}if(3===Pa[0]&&(!na||Pa[1]>na[0]&&Pa[1]<na[3]))za.label=Pa[1];else if(6===Pa[0]&&za.label<na[1])za.label=na[1],na=Pa;else if(na&&za.label<na[2])za.label=na[2],
za.ops.push(Pa);else{na[2]&&za.ops.pop();za.trys.pop();continue}}Pa=D.call(l,za)}catch(mb){Pa=[6,mb],fa=0}finally{T=na=0}if(5&Pa[0])throw Pa[1];return{value:Pa[0]?Pa[1]:void 0,done:!0}}([Ga,Ua])}}var T,fa,na,Aa,za={label:0,sent:function(){if(1&na[0])throw na[1];return na[1]},trys:[],ops:[]};return Aa={next:G(0),throw:G(1),return:G(2)},"function"==typeof Symbol&&(Aa[Symbol.iterator]=function(){return this}),Aa},Ad=function(l){function D(){for(var G=[],T=0;T<arguments.length;T++)G[T]=arguments[T];var fa;
T=this;return fa=T=l.apply(this,G)||this,T.state={isLoading:!0},fa}return nc(D,l),D.prototype.componentDidMount=function(){var G=this;return Rc()(function(){var T;return Mc(this,function(fa){switch(fa.label){case 0:return T=z.find(function(na){return na.code===G.props.langCode})||va,[4,Da(T)];case 1:return fa.sent(),G.setState({isLoading:!1}),[2]}})})()},D.prototype.render=function(){return this.state.isLoading?Ha().createElement(ub,null):this.props.children},D}(Ha().Component),Ed=g(566),Qc=g.n(Ed);
class Cd{constructor(l){this.helper=l}fillPolygon(l,D){return this._fillPolygon(l,D)}_fillPolygon(l,D,G=!1){let T=ia(l,D);G&&(l=this.connectingLines(l,T),T=T.concat(l));return{type:"fillSketch",ops:this.renderLines(T,D)}}renderLines(l,D){const G=[];for(const T of l)G.push(...this.helper.doubleLineOps(T[0][0],T[0][1],T[1][0],T[1][1],D));return G}connectingLines(l,D){const G=[];if(1<D.length)for(let fa=1;fa<D.length;fa++){var T=D[fa-1];3>y(T)||(T=[D[fa][0],T[1]],3<y(T)&&(T=this.splitOnIntersections(l,
T),G.push(...T)))}return G}midPointInPolygon(l,D){return U(l,(D[0][0]+D[1][0])/2,(D[0][1]+D[1][1])/2)}splitOnIntersections(l,D){var G=Math.max(5,.1*y(D)),T=[];for(var fa=0;fa<l.length;fa++){var na=l[fa],Aa=l[(fa+1)%l.length];if(ka(na,Aa,...D)&&(na=r(na,Aa,D[0],D[1]))){Aa=y([na,D[0]]);const za=y([na,D[1]]);Aa>G&&za>G&&T.push({point:na,distance:Aa})}}if(1<T.length){G=T.sort((za,Ga)=>za.distance-Ga.distance).map(za=>za.point);if(U(l,...D[0])||G.shift(),U(l,...D[1])||G.pop(),1>=G.length)return this.midPointInPolygon(l,
D)?[D]:[];D=[D[0],...G,D[1]];G=[];for(T=0;T<D.length-1;T+=2)fa=[D[T],D[T+1]],this.midPointInPolygon(l,fa)&&G.push(fa);return G}return this.midPointInPolygon(l,D)?[D]:[]}}class Hd extends Cd{fillPolygon(l,D){return this._fillPolygon(l,D,!0)}}class af extends Cd{fillPolygon(l,D){const G=this._fillPolygon(l,D);D=Object.assign({},D,{hachureAngle:D.hachureAngle+90});l=this._fillPolygon(l,D);return G.ops=G.ops.concat(l.ops),G}}class Bg{constructor(l){this.helper=l}fillPolygon(l,D){l=ia(l,D=Object.assign({},
D,{curveStepCount:4,hachureAngle:0,roughness:1}));return this.dotsOnLines(l,D)}dotsOnLines(l,D){const G=[];let T=D.hachureGap;0>T&&(T=4*D.strokeWidth);T=Math.max(T,.1);let fa=D.fillWeight;0>fa&&(fa=D.strokeWidth/2);const na=T/4;for(const Ua of l){var Aa=y(Ua);l=Math.ceil(Aa/T)-1;Aa-=l*T;const Pa=(Ua[0][0]+Ua[1][0])/2-T/4,mb=Math.min(Ua[0][1],Ua[1][1]);for(let sb=0;sb<l;sb++){var za=mb+Aa+sb*T,Ga=this.helper.randOffsetWithRange(Pa-na,Pa+na,D);za=this.helper.randOffsetWithRange(za-na,za+na,D);Ga=this.helper.ellipse(Ga,
za,fa,fa,D);G.push(...Ga.ops)}}return{type:"fillSketch",ops:G}}}class uh{constructor(l){this.helper=l}fillPolygon(l,D){l=ia(l,D);return{type:"fillSketch",ops:this.dashedLine(l,D)}}dashedLine(l,D){const G=0>D.dashOffset?0>D.hachureGap?4*D.strokeWidth:D.hachureGap:D.dashOffset,T=0>D.dashGap?0>D.hachureGap?4*D.strokeWidth:D.hachureGap:D.dashGap,fa=[];return l.forEach(na=>{var Aa=y(na);const za=Math.floor(Aa/(G+T));Aa=(Aa+T-za*(G+T))/2;let Ga=na[0];var Ua=na[1];Ga[0]>Ua[0]&&(Ga=na[1],Ua=na[0]);na=Math.atan((Ua[1]-
Ga[1])/(Ua[0]-Ga[0]));for(Ua=0;Ua<za;Ua++){var Pa=Ua*(G+T),mb=Pa+G;Pa=[Ga[0]+Pa*Math.cos(na)+Aa*Math.cos(na),Ga[1]+Pa*Math.sin(na)+Aa*Math.sin(na)];mb=[Ga[0]+mb*Math.cos(na)+Aa*Math.cos(na),Ga[1]+mb*Math.sin(na)+Aa*Math.sin(na)];fa.push(...this.helper.doubleLineOps(Pa[0],Pa[1],mb[0],mb[1],D))}}),fa}}class ah{constructor(l){this.helper=l}fillPolygon(l,D){const G=0>D.hachureGap?4*D.strokeWidth:D.hachureGap,T=0>D.zigzagOffset?G:D.zigzagOffset;l=ia(l,D=Object.assign({},D,{hachureGap:G+T}));return{type:"fillSketch",
ops:this.zigzagLines(l,T,D)}}zigzagLines(l,D,G){const T=[];return l.forEach(fa=>{var na=y(fa);na=Math.round(na/(2*D));let Aa=fa[0];var za=fa[1];Aa[0]>za[0]&&(Aa=fa[1],za=fa[0]);fa=Math.atan((za[1]-Aa[1])/(za[0]-Aa[0]));for(za=0;za<na;za++){var Ga=2*za*D,Ua=2*(za+1)*D,Pa=Math.sqrt(2*Math.pow(D,2));Ga=[Aa[0]+Ga*Math.cos(fa),Aa[1]+Ga*Math.sin(fa)];Ua=[Aa[0]+Ua*Math.cos(fa),Aa[1]+Ua*Math.sin(fa)];Pa=[Ga[0]+Pa*Math.cos(fa+Math.PI/4),Ga[1]+Pa*Math.sin(fa+Math.PI/4)];T.push(...this.helper.doubleLineOps(Ga[0],
Ga[1],Pa[0],Pa[1],G),...this.helper.doubleLineOps(Pa[0],Pa[1],Ua[0],Ua[1],G))}}),T}}const df={};class Me{constructor(l){this.seed=l}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const Gg={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0},Fd={randOffset:function(l,D){return Ca(l,D)},randOffsetWithRange:function(l,D,G){return ya(l,D,G)},ellipse:function(l,D,G,T,fa){G=M(G,T,fa);return ca(l,D,fa,G).opset},doubleLineOps:function(l,
D,G,T,fa){return xa(l,D,G,T,fa,!0)}};class Eh{constructor(l){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,combineNestedSvgPaths:!1,disableMultiStroke:!1,disableMultiStrokeFill:!1};this.config=l||{};this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*
2**31)}_o(l){return l?Object.assign({},this.defaultOptions,l):this.defaultOptions}_d(l,D,G){return{shape:l,sets:D||[],options:G||this.defaultOptions}}line(l,D,G,T,fa){fa=this._o(fa);return this._d("line",[{type:"path",ops:xa(l,D,G,T,fa)}],fa)}rectangle(l,D,G,T,fa){fa=this._o(fa);const na=[];var Aa=L([[l,D],[l+G,D],[l+G,D+T],[l,D+T]],!0,fa);fa.fill&&(l=[[l,D],[l+G,D],[l+G,D+T],[l,D+T]],"solid"===fa.fillStyle?na.push(Z(l,fa)):na.push(pa(l,fa)));return"none"!==fa.stroke&&na.push(Aa),this._d("rectangle",
na,fa)}ellipse(l,D,G,T,fa){fa=this._o(fa);const na=[];T=M(G,T,fa);G=ca(l,D,fa,T);fa.fill&&("solid"===fa.fillStyle?(l=ca(l,D,fa,T).opset,l.type="fillPath",na.push(l)):na.push(pa(G.estimatedPoints,fa)));return"none"!==fa.stroke&&na.push(G.opset),this._d("ellipse",na,fa)}circle(l,D,G,T){l=this.ellipse(l,D,G,G,T);return l.shape="circle",l}linearPath(l,D){D=this._o(D);return this._d("linearPath",[L(l,!1,D)],D)}arc(l,D,G,T,fa,na,Aa=!1,za){za=this._o(za);const Ga=[],Ua=ua(l,D,G,T,fa,na,Aa,!0,za);if(Aa&&
za.fill)if("solid"===za.fillStyle)l=ua(l,D,G,T,fa,na,!0,!1,za),l.type="fillPath",Ga.push(l);else{Aa=Ga.push;G=Math.abs(G/2);T=Math.abs(T/2);G+=Ca(.01*G,za);for(T+=Ca(.01*T,za);0>fa;)fa+=2*Math.PI,na+=2*Math.PI;na-fa>2*Math.PI&&(fa=0,na=2*Math.PI);const Pa=(na-fa)/za.curveStepCount,mb=[];for(;fa<=na;fa+=Pa)mb.push([l+G*Math.cos(fa),D+T*Math.sin(fa)]);l=(mb.push([l+G*Math.cos(na),D+T*Math.sin(na)]),mb.push([l,D]),pa(mb,za));Aa.call(Ga,l)}return"none"!==za.stroke&&Ga.push(Ua),this._d("arc",Ga,za)}curve(l,
D){D=this._o(D);const G=[],T=W(l,D);D.fill&&"none"!==D.fill&&3<=l.length&&(l=B(function(fa,na=0){var Aa=fa.length;if(3>Aa)throw Error("A curve must have at least three points.");const za=[];if(3===Aa)za.push([...fa[0]],[...fa[1]],[...fa[2]],[...fa[2]]);else{Aa=[];Aa.push(fa[0],fa[0]);for(var Ga=1;Ga<fa.length;Ga++)Aa.push(fa[Ga]),Ga===fa.length-1&&Aa.push(fa[Ga]);fa=[];na=1-na;za.push([...Aa[0]]);for(Ga=1;Ga+2<Aa.length;Ga++){const Ua=Aa[Ga];fa[0]=[Ua[0],Ua[1]];fa[1]=[Ua[0]+(na*Aa[Ga+1][0]-na*Aa[Ga-
1][0])/6,Ua[1]+(na*Aa[Ga+1][1]-na*Aa[Ga-1][1])/6];fa[2]=[Aa[Ga+1][0]+(na*Aa[Ga][0]-na*Aa[Ga+2][0])/6,Aa[Ga+1][1]+(na*Aa[Ga][1]-na*Aa[Ga+2][1])/6];fa[3]=[Aa[Ga+1][0],Aa[Ga+1][1]];za.push(fa[1],fa[2],fa[3])}}return za}(l),10,(1+D.roughness)/2),"solid"===D.fillStyle?G.push(Z(l,D)):G.push(pa(l,D)));return"none"!==D.stroke&&G.push(T),this._d("curve",G,D)}polygon(l,D){D=this._o(D);const G=[],T=L(l,!0,D);return D.fill&&("solid"===D.fillStyle?G.push(Z(l,D)):G.push(pa(l,D))),"none"!==D.stroke&&G.push(T),this._d("polygon",
G,D)}path(l,D){const G=this._o(D),T=[];if(!l)return this._d("path",T,G);l=(l||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");D=G.fill&&"transparent"!==G.fill&&"none"!==G.fill;const fa="none"!==G.stroke,na=!!(G.simplification&&1>G.simplification),Aa=function(za,Ga,Ua){var Pa=V(H(ha(za)));za=[];let mb=[];var sb=[0,0];let vb=[];const ec=()=>{4<=vb.length&&mb.push(...B(vb,Ga));vb=[]};for(const {key:Zb,data:Ac}of Pa)switch(Zb){case "M":ec();mb.length&&(za.push(mb),mb=[]);sb=[Ac[0],
Ac[1]];mb.push(sb);break;case "L":ec();mb.push([Ac[0],Ac[1]]);break;case "C":vb.length||(Pa=mb.length?mb[mb.length-1]:sb,vb.push([Pa[0],Pa[1]]));vb.push([Ac[0],Ac[1]]);vb.push([Ac[2],Ac[3]]);vb.push([Ac[4],Ac[5]]);break;case "Z":ec(),mb.push([sb[0],sb[1]])}ec();mb.length&&(za.push(mb),mb=[]);if(!Ua)return za;sb=[];for(const Zb of za)za=I(Zb,Ua),za.length&&sb.push(za);return sb}(l,1,na?4-4*G.simplification:(1+G.roughness)/2);if(D)if(G.combineNestedSvgPaths){const za=[];Aa.forEach(Ga=>za.push(...Ga));
"solid"===G.fillStyle?T.push(Z(za,G)):T.push(pa(za,G))}else Aa.forEach(za=>{"solid"===G.fillStyle?T.push(Z(za,G)):T.push(pa(za,G))});return fa&&(na?Aa.forEach(za=>{T.push(L(za,!1,G))}):T.push(function(za,Ga){za=V(H(ha(za)));const Ua=[];let Pa=[0,0],mb=[0,0];for(const {key:sb,data:vb}of za)switch(sb){case "M":const ec=1*(Ga.maxRandomnessOffset||0);Ua.push({op:"move",data:vb.map(me=>me+Ca(ec,Ga))});mb=[vb[0],vb[1]];Pa=[vb[0],vb[1]];break;case "L":Ua.push(...xa(mb[0],mb[1],vb[0],vb[1],Ga));mb=[vb[0],
vb[1]];break;case "C":const [Zb,Ac,gd,kd,xd,ne]=vb;Ua.push(...Gb(Zb,Ac,gd,kd,xd,ne,mb,Ga));mb=[xd,ne];break;case "Z":Ua.push(...xa(mb[0],mb[1],Pa[0],Pa[1],Ga)),mb=[Pa[0],Pa[1]]}return{type:"path",ops:Ua}}(l,G))),this._d("path",T,G)}opsToPath(l){let D="";for(const G of l.ops)switch(l=G.data,G.op){case "move":D+=`M${l[0]} ${l[1]} `;break;case "bcurveTo":D+=`C${l[0]} ${l[1]}, ${l[2]} ${l[3]}, ${l[4]} ${l[5]} `;break;case "lineTo":D+=`L${l[0]} ${l[1]} `}return D.trim()}toPaths(l){var D=l.sets||[];l=l.options||
this.defaultOptions;const G=[];for(const T of D){D=null;switch(T.type){case "path":D={d:this.opsToPath(T),stroke:l.stroke,strokeWidth:l.strokeWidth,fill:"none"};break;case "fillPath":D={d:this.opsToPath(T),stroke:"none",strokeWidth:0,fill:l.fill||"none"};break;case "fillSketch":D=this.fillSketch(T,l)}D&&G.push(D)}return G}fillSketch(l,D){let G=D.fillWeight;return 0>G&&(G=D.strokeWidth/2),{d:this.opsToPath(l),stroke:D.fill||"none",strokeWidth:G,fill:"none"}}}class qi{constructor(l,D){this.canvas=l;
this.ctx=this.canvas.getContext("2d");this.gen=new Eh(D)}draw(l){const D=l.sets||[],G=l.options||this.getDefaultOptions(),T=this.ctx;for(const fa of D)switch(fa.type){case "path":T.save();T.strokeStyle="none"===G.stroke?"transparent":G.stroke;T.lineWidth=G.strokeWidth;G.strokeLineDash&&T.setLineDash(G.strokeLineDash);G.strokeLineDashOffset&&(T.lineDashOffset=G.strokeLineDashOffset);this._drawToContext(T,fa);T.restore();break;case "fillPath":T.save();T.fillStyle=G.fill||"";this._drawToContext(T,fa,
"curve"===l.shape||"polygon"===l.shape?"evenodd":"nonzero");T.restore();break;case "fillSketch":this.fillSketch(T,fa,G)}}fillSketch(l,D,G){let T=G.fillWeight;0>T&&(T=G.strokeWidth/2);l.save();G.fillLineDash&&l.setLineDash(G.fillLineDash);G.fillLineDashOffset&&(l.lineDashOffset=G.fillLineDashOffset);l.strokeStyle=G.fill||"";l.lineWidth=T;this._drawToContext(l,D);l.restore()}_drawToContext(l,D,G="nonzero"){l.beginPath();for(const T of D.ops){const fa=T.data;switch(T.op){case "move":l.moveTo(fa[0],fa[1]);
break;case "bcurveTo":l.bezierCurveTo(fa[0],fa[1],fa[2],fa[3],fa[4],fa[5]);break;case "lineTo":l.lineTo(fa[0],fa[1])}}"fillPath"===D.type?l.fill(G):l.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(l,D,G,T,fa){l=this.gen.line(l,D,G,T,fa);return this.draw(l),l}rectangle(l,D,G,T,fa){l=this.gen.rectangle(l,D,G,T,fa);return this.draw(l),l}ellipse(l,D,G,T,fa){l=this.gen.ellipse(l,D,G,T,fa);return this.draw(l),l}circle(l,D,G,T){l=this.gen.circle(l,D,G,T);
return this.draw(l),l}linearPath(l,D){l=this.gen.linearPath(l,D);return this.draw(l),l}polygon(l,D){l=this.gen.polygon(l,D);return this.draw(l),l}arc(l,D,G,T,fa,na,Aa=!1,za){l=this.gen.arc(l,D,G,T,fa,na,Aa,za);return this.draw(l),l}curve(l,D){l=this.gen.curve(l,D);return this.draw(l),l}path(l,D){l=this.gen.path(l,D);return this.draw(l),l}}class xk{constructor(l,D){this.svg=l;this.gen=new Eh(D)}draw(l){var D=l.sets||[];const G=l.options||this.getDefaultOptions(),T=this.svg.ownerDocument||window.document,
fa=T.createElementNS("http://www.w3.org/2000/svg","g");for(const na of D){D=null;switch(na.type){case "path":D=T.createElementNS("http://www.w3.org/2000/svg","path");D.setAttribute("d",this.opsToPath(na));D.setAttribute("stroke",G.stroke);D.setAttribute("stroke-width",G.strokeWidth+"");D.setAttribute("fill","none");G.strokeLineDash&&D.setAttribute("stroke-dasharray",G.strokeLineDash.join(" ").trim());G.strokeLineDashOffset&&D.setAttribute("stroke-dashoffset",`${G.strokeLineDashOffset}`);break;case "fillPath":D=
T.createElementNS("http://www.w3.org/2000/svg","path");D.setAttribute("d",this.opsToPath(na));D.setAttribute("stroke","none");D.setAttribute("stroke-width","0");D.setAttribute("fill",G.fill||"");"curve"!==l.shape&&"polygon"!==l.shape||D.setAttribute("fill-rule","evenodd");break;case "fillSketch":D=this.fillSketch(T,na,G)}D&&fa.appendChild(D)}return fa}fillSketch(l,D,G){let T=G.fillWeight;0>T&&(T=G.strokeWidth/2);l=l.createElementNS("http://www.w3.org/2000/svg","path");return l.setAttribute("d",this.opsToPath(D)),
l.setAttribute("stroke",G.fill||""),l.setAttribute("stroke-width",T+""),l.setAttribute("fill","none"),G.fillLineDash&&l.setAttribute("stroke-dasharray",G.fillLineDash.join(" ").trim()),G.fillLineDashOffset&&l.setAttribute("stroke-dashoffset",`${G.fillLineDashOffset}`),l}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(l){return this.gen.opsToPath(l)}line(l,D,G,T,fa){l=this.gen.line(l,D,G,T,fa);return this.draw(l)}rectangle(l,D,G,T,fa){l=this.gen.rectangle(l,
D,G,T,fa);return this.draw(l)}ellipse(l,D,G,T,fa){l=this.gen.ellipse(l,D,G,T,fa);return this.draw(l)}circle(l,D,G,T){l=this.gen.circle(l,D,G,T);return this.draw(l)}linearPath(l,D){l=this.gen.linearPath(l,D);return this.draw(l)}polygon(l,D){l=this.gen.polygon(l,D);return this.draw(l)}arc(l,D,G,T,fa,na,Aa=!1,za){l=this.gen.arc(l,D,G,T,fa,na,Aa,za);return this.draw(l)}curve(l,D){l=this.gen.curve(l,D);return this.draw(l)}path(l,D){l=this.gen.path(l,D);return this.draw(l)}}const Qh={canvas:(l,D)=>new qi(l,
D),svg:(l,D)=>new xk(l,D),generator:l=>new Eh(l),newSeed:()=>Eh.newSeed()};var fe=function(l){return null!=l&&"text"===l.type},Hg=function(l){return null!=l&&hj(l.type)},hj=function(l){return"arrow"===l||"line"===l||"draw"===l},pg=function(l){return null!=l&&"arrow"===l.type},yk=function(l){return null!=l&&("rectangle"===l.type||"diamond"===l.type||"ellipse"===l.type||"text"===l.type)},Hf=function(l,D,G,T,fa){return[(l-G)*Math.cos(fa)-(D-T)*Math.sin(fa)+G,(l-G)*Math.sin(fa)+(D-T)*Math.cos(fa)+T]},
ij=function(l,D,G){return Hf(l[0],l[1],D[0],D[1],G)},Zf=function(l,D,G,T,fa,na,Aa,za){var Ga=Math.cos(T);T=Math.sin(T);return l.e&&l.w?D+=fa+Aa:l.e?(D+=fa*(1+Ga),G+=fa*T,D+=Aa*(1-Ga),G+=Aa*-T):l.w&&(D+=fa*(1-Ga),G+=fa*-T,D+=Aa*(1+Ga),G+=Aa*T),l.n&&l.s?G+=na+za:l.n?(D+=na*T,G+=na*(1-Ga),D+=za*-T,G+=za*(1+Ga)):l.s&&(D+=na*-T,G+=na*(1+Ga),D+=za*T,G+=za*(1-Ga)),[D,G]},ei=function(l,D){if(void 0===D&&(D=1),3<=l.length){var G=[l[0],l[l.length-1]];l=G[0];G=G[1];return Math.hypot(G[0]-l[0],G[1]-l[1])<=hc.qx/
D}return!1},Ei=function(l,D,G){var T=l.length;if(3>T)return!1;var fa=[Number.MAX_SAFE_INTEGER,G];D=[D,G];for(var na=G=0;na<T;na++){var Aa=l[na],za=l[(na+1)%T],Ga=Aa,Ua=za,Pa=D,mb=fa,sb=jj(Ga,Ua,Pa),vb=jj(Ga,Ua,mb),ec=jj(Pa,mb,Ga),Zb=jj(Pa,mb,Ua);if(sb!==vb&&ec!==Zb||0===sb&&zk(Ga,Pa,Ua)||0===vb&&zk(Ga,mb,Ua)||0===ec&&zk(Pa,Ga,mb)||0===Zb&&zk(Pa,Ua,mb)){if(0===jj(Aa,D,za))return zk(Aa,D,za);G++}}return 1==G%2},zk=function(l,D,G){return D[0]<=Math.max(l[0],G[0])&&D[0]>=Math.min(l[0],G[0])&&D[1]<=Math.max(l[1],
G[1])&&D[1]>=Math.min(l[1],G[1])},jj=function(l,D,G){l=(D[1]-l[1])*(G[0]-D[0])-(D[0]-l[0])*(G[1]-D[1]);return 0===l?0:0<l?1:2},ri=function(l,D,G){return G?[Math.round(l/G)*G,Math.round(D/G)*G]:[l,D]},Gi=function(l,D,G){var T=G.map(function(Ga){return Ga[l]}),fa=Math.max.apply(Math,T);T=Math.min.apply(Math,T);fa-=T;var na=0===fa?1:D/fa,Aa=1/0;D=G.map(function(Ga){return Ga.map(function(Ua,Pa){if(Pa!==l)return Ua;Ua*=na;return Aa=Math.min(Ua,Aa),Ua})});if(2===D.length)return D;var za=T-Aa;return D.map(function(Ga){return Ga.map(function(Ua,
Pa){return Pa===l?Ua+za:Ua})})},jg=function(l){return Hg(l)?vj(l):[l.x,l.y,l.x+l.width,l.y+l.height]},Hi=function(l){for(var D=0,G=l.sets;D<G.length;D++){var T=G[D];if("path"===T.type)return T.ops}return l.sets[0].ops},Bk=function(l,D){var G=[0,0];l=l.reduce(function(T,fa){var na,Aa=fa.op;fa=fa.data;if("move"===Aa)G=fa;else if("bcurveTo"===Aa){var za=[fa[0],fa[1]],Ga=[fa[2],fa[3]],Ua=[fa[4],fa[5]],Pa=G;G=Ua;Aa=function(vb,ec){return Math.pow(1-vb,3)*Ua[ec]+3*vb*Math.pow(1-vb,2)*Ga[ec]+3*Math.pow(vb,
2)*(1-vb)*za[ec]+Pa[ec]*Math.pow(vb,3)};for(fa=0;1>=fa;){var mb=Aa(fa,0),sb=Aa(fa,1);D&&(mb=(na=D(mb,sb))[0],sb=na[1]);T.minY=Math.min(T.minY,sb);T.minX=Math.min(T.minX,mb);T.maxX=Math.max(T.maxX,mb);T.maxY=Math.max(T.maxY,sb);fa+=.1}}return T},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[l.minX,l.minY,l.maxX,l.maxY]},vj=function(l){if(2>l.points.length||!wi.get(l)){var D=l.points.reduce(function(G,T){var fa=T[0];T=T[1];return G.minY=Math.min(G.minY,T),G.minX=Math.min(G.minX,fa),G.maxX=Math.max(G.maxX,
fa),G.maxY=Math.max(G.maxY,T),G},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[D.minX+l.x,D.minY+l.y,D.maxX+l.x,D.maxY+l.y]}D=wi.get(l);D=Hi(D[0]);D=Bk(D);return[D[0]+l.x,D[1]+l.y,D[2]+l.x,D[3]+l.y]},si=function(l){var D=jg(l),G=D[0],T=D[1],fa=D[2],na=D[3];D=(G+fa)/2;var Aa=(T+na)/2;if(Hg(l))return function(mb,sb,vb){if(2>mb.points.length||!wi.get(mb)){var ec=mb.points.reduce(function(Zb,Ac){var gd,kd=Ac[0];Ac=Ac[1];return kd=(gd=Hf(mb.x+kd,mb.y+Ac,sb,vb,mb.angle))[0],Ac=gd[1],Zb.minY=Math.min(Zb.minY,
Ac),Zb.minX=Math.min(Zb.minX,kd),Zb.maxX=Math.max(Zb.maxX,kd),Zb.maxY=Math.max(Zb.maxY,Ac),Zb},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[ec.minX,ec.minY,ec.maxX,ec.maxY]}ec=wi.get(mb);ec=Hi(ec[0]);return Bk(ec,function(Zb,Ac){return Hf(mb.x+Zb,mb.y+Ac,sb,vb,mb.angle)})}(l,D,Aa);if("diamond"===l.type){T=Hf(D,T,D,Aa,l.angle);var za=T[0];T=T[1];na=Hf(D,na,D,Aa,l.angle);var Ga=na[0];na=na[1];var Ua=Hf(G,Aa,D,Aa,l.angle);G=Ua[0];Ua=Ua[1];Aa=Hf(fa,Aa,D,Aa,l.angle);D=Aa[0];Aa=Aa[1];return[Math.min(za,
Ga,G,D),Math.min(T,na,Ua,Aa),Math.max(za,Ga,G,D),Math.max(T,na,Ua,Aa)]}if("ellipse"===l.type)return fa=(fa-G)/2,za=(na-T)/2,T=Math.cos(l.angle),Ga=Math.sin(l.angle),l=Math.hypot(fa*T,za*Ga),fa=Math.hypot(za*T,fa*Ga),[D-l,Aa-fa,D+l,Aa+fa];Ga=Hf(G,T,D,Aa,l.angle);za=Ga[0];Ga=Ga[1];Ua=Hf(G,na,D,Aa,l.angle);G=Ua[0];Ua=Ua[1];var Pa=Hf(fa,na,D,Aa,l.angle);na=Pa[0];Pa=Pa[1];Aa=Hf(fa,T,D,Aa,l.angle);D=Aa[0];Aa=Aa[1];return[Math.min(za,G,na,D),Math.min(Ga,Ua,Pa,Aa),Math.max(za,G,na,D),Math.max(Ga,Ua,Pa,Aa)]},
Dg=function(l){if(!l.length)return[0,0,0,0];var D=1/0,G=-1/0,T=1/0,fa=-1/0;return l.forEach(function(na){na=si(na);var Aa=na[1],za=na[2],Ga=na[3];D=Math.min(D,na[0]);T=Math.min(T,Aa);G=Math.max(G,za);fa=Math.max(fa,Ga)}),[D,T,G,fa]},Tg=function(l,D,G){if(!Hg(l))return[l.x,l.y,l.x+D,l.y+G];D=Gi(0,D,Gi(1,G,l.points));G=Qh.generator();D="sharp"===l.strokeSharpness?G.linearPath(D,Th(l)):G.curve(D,Th(l));D=Hi(D);D=Bk(D);return[D[0]+l.x,D[1]+l.y,D[2]+l.x,D[3]+l.y]},Fe=function(l,D,G){var T=Qh.generator();
D="sharp"===G?T.linearPath(D,Th(l)):T.curve(D,Th(l));D=Hi(D);D=Bk(D);return[D[0]+l.x,D[1]+l.y,D[2]+l.x,D[3]+l.y]};const Je=JSON.parse('{"ix":"#ffffff","Sn":"#000000","MA":["#f8f9fa","#f1f3f5",0,0,"#ced4da","#adb5bd","#868e96","#495057","#343a40"],"Q6":["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],"iQ":["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],"pl":["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],"ht":["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],"QN":["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],"iN":["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],"sl":["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],"$C":["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],"ek":["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],"LR":["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],"er":["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],"$y":["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]}');
var xh=function(l,D){for(var G=0,T=D.length,fa=l.length;G<T;G++,fa++)l[fa]=D[G];return l},Lg=function(l){return[Je.Q6[l],Je.iQ[l],Je.pl[l],Je.ht[l],Je.QN[l],Je.iN[l],Je.sl[l],Je.$C[l],Je.ek[l],Je.LR[l],Je.er[l],Je.$y[l]]};const Ek={canvasBackground:xh([Je.ix,Je.MA[0],Je.MA[1]],Lg(0)),elementBackground:xh(["transparent",Je.MA[4],Je.MA[6]],Lg(6)),elementStroke:xh([Je.Sn,Je.MA[8],Je.MA[7]],Lg(9))};var $f=g(6207),Mg=/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),Jj=/^Win/.test(window.navigator.platform),
ef=Mg?"metaKey":"ctrlKey",yg=function(l){return"ArrowLeft"===l||"ArrowRight"===l||"ArrowDown"===l||"ArrowUp"===l},kj=function(l){return l.charAt(0).toUpperCase()+l.slice(1)},Eg=function(l){return l instanceof HTMLElement&&"wysiwyg"===l.dataset.type||l instanceof HTMLBRElement||l instanceof HTMLTextAreaElement||l instanceof HTMLInputElement&&("text"===l.type||"number"===l.type)},Vi=function(l){var D=l.fontFamily;return"".concat(l.fontSize,"px ").concat("".concat(hc.ut[D],", ").concat(hc._D))},Wi=function(l,
D){var G=document.createElement("div"),T=document.body;G.style.position="absolute";G.style.whiteSpace="pre";G.style.font=D;T.appendChild(G);G.innerText=l.split("\n").map(function(fa){return fa||" "}).join("\n");l=G.offsetWidth;D=G.offsetHeight;T=document.createElement("span");T.style.display="inline-block";T.style.overflow="hidden";T.style.width="1px";T.style.height="1px";G.appendChild(T);T=T.offsetTop+T.offsetHeight;return document.body.removeChild(G),{width:l,height:D,baseline:T}},ti=function(l,
D){var G,T=0,fa=function(){for(var na=[],Aa=0;Aa<arguments.length;Aa++)na[Aa]=arguments[Aa];G=na;clearTimeout(T);T=window.setTimeout(function(){return l.apply(void 0,na)},D)};return fa.flush=function(){clearTimeout(T);G&&l.apply(void 0,G)},fa.cancel=function(){clearTimeout(T)},fa},Ii=function(l){l&&(l.style.cursor="")},Ji=function(l,D){l&&(l.style.cursor=D)},ui=function(l,D){l&&("selection"===D?Ii(l):l.style.cursor=hc.oc.CROSSHAIR)},yh=function(){var l;return"HTML"===(null===(l=document.fullscreenElement)||
void 0===l?void 0:l.nodeName)},$d=function(l){return l=l.replace(/\bAlt\b/i,"Alt").replace(/\bShift\b/i,"Shift").replace(/\b(Enter|Return)\b/i,"Enter").replace(/\bDel\b/i,"Delete"),Mg?l.replace(/\bCtrlOrCmd\b/i,"Cmd").replace(/\bAlt\b/i,"Option"):l.replace(/\bCtrlOrCmd\b/i,"Ctrl")},vg=function(l,D){var G=D.zoom,T=1/G.value;return{x:(l.clientX-G.translation.x-D.offsetLeft)*T-D.scrollX,y:(l.clientY-G.translation.y-D.offsetTop)*T-D.scrollY}},oh=function(l,D){var G=D.zoom;return{x:(l.sceneX+D.scrollX+
D.offsetLeft)*G.value+G.translation.x,y:(l.sceneY+D.scrollY+D.offsetTop)*G.value+G.translation.y}},ag=function(l){return getComputedStyle(document.documentElement).getPropertyValue("--".concat(l))},zh=new RegExp("^[^".concat("A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿Ⰰ-﬜﷾-﹯﻽-￿","]*[").concat("֑-߿יִ-﷽ﹰ-ﻼ","]")),Fg=function(l){return{x:l[0],y:l[1]}},Gk=function(l){if("AbortError"!==(null==l?void 0:l.name))throw l;},bg=function(l){return function(D){(0,$f.unstable_batchedUpdates)(l,D)}},xl=function(l,D){var G,T=[{value:1,
symbol:"b"},{value:1E3,symbol:"k"},{value:1E6,symbol:"M"},{value:1E9,symbol:"G"}];for(G=T.length-1;0<G&&!(l>=T[G].value);G--);return(l/T[G].value).toFixed(D).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+T[G].symbol},Lf=function(){var l;return(null===(l=document.querySelector('meta[name\x3d"version"]'))||void 0===l?void 0:l.content)||hc.eQ},Fh=function(){var l=new Map,D=hc.rk,G=hc.n5,T=Je.Sn,fa=hc.Hg,na=window.innerHeight,Aa="".concat(La("labels.untitled"),"-"),za=Aa.concat;var Ga=new Date;var Ua=Ga.getFullYear();
var Pa="".concat(Ga.getMonth()+1).padStart(2,"0"),mb="".concat(Ga.getDate()).padStart(2,"0"),sb="".concat(Ga.getHours()).padStart(2,"0");Ga="".concat(Ga.getMinutes()).padStart(2,"0");Ua="".concat(Ua,"-").concat(Pa,"-").concat(mb,"-").concat(sb).concat(Ga);return{appearance:"light",collaborators:l,currentChartType:"bar",currentItemBackgroundColor:"transparent",currentItemEndArrowhead:"arrow",currentItemFillStyle:"hachure",currentItemFontFamily:D,currentItemFontSize:G,currentItemLinearStrokeSharpness:"round",
currentItemOpacity:100,currentItemRoughness:1,currentItemStartArrowhead:null,currentItemStrokeColor:T,currentItemStrokeSharpness:"sharp",currentItemStrokeStyle:"solid",currentItemStrokeWidth:1,currentItemTextAlign:fa,cursorButton:"up",draggingElement:null,editingElement:null,editingGroupId:null,editingLinearElement:null,elementLocked:!1,elementType:"selection",errorMessage:null,exportBackground:!0,exportEmbedScene:!1,exportWithDarkMode:!1,fileHandle:null,gridSize:null,height:na,isBindingEnabled:!0,
isLibraryOpen:!1,isLoading:!1,isResizing:!1,isRotating:!1,lastPointerDownWith:"mouse",multiElement:null,name:za.call(Aa,Ua),openMenu:null,pasteDialog:{shown:!1,data:null},previousSelectedElementIds:{},resizingElement:null,scrolledOutside:!1,scrollX:0,scrollY:0,selectedElementIds:{},selectedGroupIds:{},selectionElement:null,shouldAddWatermark:!1,shouldCacheIgnoreZoom:!1,showHelpDialog:!1,showStats:!1,startBoundElement:null,suggestedBindings:[],toastMessage:null,viewBackgroundColor:Je.ix,width:window.innerWidth,
zenModeEnabled:!1,zoom:{value:1,translation:{x:0,y:0}},viewModeEnabled:!1}},ph={appearance:{browser:!0,export:!1},collaborators:{browser:!1,export:!1},currentChartType:{browser:!0,export:!1},currentItemBackgroundColor:{browser:!0,export:!1},currentItemEndArrowhead:{browser:!0,export:!1},currentItemFillStyle:{browser:!0,export:!1},currentItemFontFamily:{browser:!0,export:!1},currentItemFontSize:{browser:!0,export:!1},currentItemLinearStrokeSharpness:{browser:!0,export:!1},currentItemOpacity:{browser:!0,
export:!1},currentItemRoughness:{browser:!0,export:!1},currentItemStartArrowhead:{browser:!0,export:!1},currentItemStrokeColor:{browser:!0,export:!1},currentItemStrokeSharpness:{browser:!0,export:!1},currentItemStrokeStyle:{browser:!0,export:!1},currentItemStrokeWidth:{browser:!0,export:!1},currentItemTextAlign:{browser:!0,export:!1},cursorButton:{browser:!0,export:!1},draggingElement:{browser:!1,export:!1},editingElement:{browser:!1,export:!1},editingGroupId:{browser:!0,export:!1},editingLinearElement:{browser:!1,
export:!1},elementLocked:{browser:!0,export:!1},elementType:{browser:!0,export:!1},errorMessage:{browser:!1,export:!1},exportBackground:{browser:!0,export:!1},exportEmbedScene:{browser:!0,export:!1},exportWithDarkMode:{browser:!0,export:!1},fileHandle:{browser:!1,export:!1},gridSize:{browser:!0,export:!0},height:{browser:!1,export:!1},isBindingEnabled:{browser:!1,export:!1},isLibraryOpen:{browser:!1,export:!1},isLoading:{browser:!1,export:!1},isResizing:{browser:!1,export:!1},isRotating:{browser:!1,
export:!1},lastPointerDownWith:{browser:!0,export:!1},multiElement:{browser:!1,export:!1},name:{browser:!0,export:!1},offsetLeft:{browser:!1,export:!1},offsetTop:{browser:!1,export:!1},openMenu:{browser:!0,export:!1},pasteDialog:{browser:!1,export:!1},previousSelectedElementIds:{browser:!0,export:!1},resizingElement:{browser:!1,export:!1},scrolledOutside:{browser:!0,export:!1},scrollX:{browser:!0,export:!1},scrollY:{browser:!0,export:!1},selectedElementIds:{browser:!0,export:!1},selectedGroupIds:{browser:!0,
export:!1},selectionElement:{browser:!1,export:!1},shouldAddWatermark:{browser:!0,export:!1},shouldCacheIgnoreZoom:{browser:!0,export:!1},showHelpDialog:{browser:!1,export:!1},showStats:{browser:!0,export:!1},startBoundElement:{browser:!1,export:!1},suggestedBindings:{browser:!1,export:!1},toastMessage:{browser:!1,export:!1},viewBackgroundColor:{browser:!0,export:!0},width:{browser:!1,export:!1},zenModeEnabled:{browser:!0,export:!1},zoom:{browser:!0,export:!1},viewModeEnabled:{browser:!1,export:!1}},
vi=function(l,D){for(var G={},T=0,fa=Object.keys(l);T<fa.length;T++){var na=fa[T],Aa=ph[na];null!=Aa&&Aa[D]&&(G[na]=l[na])}return G},qg=Fh(),Sh=[12,8],Yk=[3,6],fi=function(l,D,G){switch(G.globalAlpha=l.opacity/100,l.type){case "rectangle":case "diamond":case "ellipse":D.draw(wi.get(l));break;case "arrow":case "draw":case "line":wi.get(l).forEach(function(mb){D.draw(mb)});break;default:if(!fe(l))throw Error("Unimplemented type ".concat(l.type));var T=zh.test(l.text),fa=T&&!G.canvas.isConnected;fa&&
document.body.appendChild(G.canvas);G.canvas.setAttribute("dir",T?"rtl":"ltr");T=G.font;G.font=Vi(l);var na=G.fillStyle;G.fillStyle=l.strokeColor;var Aa=G.textAlign;G.textAlign=l.textAlign;var za=l.text.replace(/\r\n?/g,"\n").split("\n"),Ga=l.height/za.length,Ua=l.height-l.baseline;l="center"===l.textAlign?l.width/2:"right"===l.textAlign?l.width:0;for(var Pa=0;Pa<za.length;Pa++)G.fillText(za[Pa],l,(Pa+1)*Ga-Ua);G.fillStyle=na;G.font=T;G.textAlign=Aa;fa&&G.canvas.remove()}G.globalAlpha=1},Hk=new WeakMap,
wi=new WeakMap,Th=function(l){var D={seed:l.seed,strokeLineDash:"dashed"===l.strokeStyle?Sh:"dotted"===l.strokeStyle?Yk:void 0,disableMultiStroke:"solid"!==l.strokeStyle,strokeWidth:"solid"!==l.strokeStyle?l.strokeWidth+.5:l.strokeWidth,fillWeight:l.strokeWidth/2,hachureGap:4*l.strokeWidth,roughness:l.roughness,stroke:l.strokeColor};switch(l.type){case "rectangle":case "diamond":case "ellipse":return D.fillStyle=l.fillStyle,D.fill="transparent"===l.backgroundColor?void 0:l.backgroundColor,"ellipse"===
l.type&&(D.curveFitting=1),D;case "line":case "draw":return ei(l.points)&&(D.fillStyle=l.fillStyle,D.fill="transparent"===l.backgroundColor?void 0:l.backgroundColor),D;case "arrow":return D;default:throw Error("Unimplemented type ".concat(l.type));}},Yj=function(l,D){var G=wi.get(l)||null;if(!G){switch(Hk.delete(l),l.type){case "rectangle":if("round"===l.strokeSharpness){G=l.width;var T=l.height,fa=.25*Math.min(G,T);G=D.path("M ".concat(fa," 0 L ").concat(G-fa," 0 Q ").concat(G," 0, ").concat(G," ").concat(fa,
" L ").concat(G," ").concat(T-fa," Q ").concat(G," ").concat(T,", ").concat(G-fa," ").concat(T," L ").concat(fa," ").concat(T," Q 0 ").concat(T,", 0 ").concat(T-fa," L 0 ").concat(fa," Q 0 0, ").concat(fa," 0"),Th(l))}else G=D.rectangle(0,0,l.width,l.height,Th(l));break;case "diamond":G=function(Aa){var za=Math.floor(Aa.width/2)+1,Ga=Math.floor(Aa.height/2)+1;return[za,0,Aa.width,Ga,za,Aa.height,0,Ga]}(l);G=D.polygon([[G[0],G[1]],[G[2],G[3]],[G[4],G[5]],[G[6],G[7]]],Th(l));break;case "ellipse":G=
D.ellipse(l.width/2,l.height/2,l.width,l.height,Th(l));break;case "line":case "draw":case "arrow":var na=Th(l);G=l.points.length?l.points:[[0,0]];if(G="sharp"===l.strokeSharpness?na.fill?[D.polygon(G,na)]:[D.linearPath(G,na)]:[D.curve(G,na)],"arrow"===l.type){T=l.startArrowhead;T=void 0===T?null:T;fa=l.endArrowhead;fa=void 0===fa?"arrow":fa;function Aa(za,Ga,Ua,Pa){Ga=function(ec,Zb,Ac,gd){Zb=Hi(Zb[0]);if(1>Zb.length)return null;var kd="start"===Ac?1:Zb.length-1,xd=Zb[kd].data,ne=[xd[4],xd[5]],me=
[xd[2],xd[3]],Re=[xd[0],xd[1]];Zb=Zb[kd-1];var Ne=[0,0];"move"===Zb.op?Ne=Zb.data:"bcurveTo"===Zb.op&&(Ne=[Zb.data[4],Zb.data[5]]);kd=function(Dd,ce){return Math.pow(1-Dd,3)*ne[ce]+3*Dd*Math.pow(1-Dd,2)*me[ce]+3*Math.pow(Dd,2)*(1-Dd)*Re[ce]+Ne[ce]*Math.pow(Dd,3)};Zb="start"===Ac?Ne:ne;Ac=Zb[0];Zb=Zb[1];xd=[kd(.3,0),kd(.3,1)];kd=xd[0];xd=xd[1];var gf=Math.hypot(Ac-kd,Zb-xd);kd=(Ac-kd)/gf;xd=(Zb-xd)/gf;gf={arrow:30,bar:15,dot:15}[gd];ec=ec.points.reduce(function(Dd,ce,le,$e){le=0<le?$e[le-1]:[0,0];
return Dd+Math.hypot(ce[0]-le[0],ce[1]-le[1])},0);gf=Math.min(gf,ec/2);ec=Ac-kd*gf;kd=Zb-xd*gf;if("dot"===gd)return[Ac,Zb,Math.hypot(kd-Zb,ec-Ac)];xd={arrow:20,bar:90}[gd];gf=Hf(ec,kd,Ac,Zb,-xd*Math.PI/180);gd=gf[0];gf=gf[1];ec=Hf(ec,kd,Ac,Zb,xd*Math.PI/180);return[Ac,Zb,gd,gf,ec[0],ec[1]]}(za,Ga,Ua,Pa);if(null===Ga)return[];if("dot"===Pa)return[D.circle(Ga[0],Ga[1],Ga[2],ac(ac({},na),{},{fill:za.strokeColor,fillStyle:"solid"}))];Pa=Ga[0];Ua=Ga[1];var mb=Ga[2],sb=Ga[3],vb=Ga[4];Ga=Ga[5];return"dotted"===
za.strokeStyle?na.strokeLineDash=[3,4]:delete na.strokeLineDash,[D.line(mb,sb,Pa,Ua,na),D.line(vb,Ga,Pa,Ua,na)]}null!==T&&(T=Aa(l,G,"start",T),G.push.apply(G,T));null!==fa&&(T=Aa(l,G,"end",fa),G.push.apply(G,T))}break;case "text":G=[]}wi.set(l,G)}},on=function(l,D,G,T,fa){var na=D.generator;switch(l.type){case "selection":G.translate(l.x+fa.scrollX,l.y+fa.scrollY);D=G.fillStyle;G.fillStyle="rgba(0, 0, 255, 0.10)";G.fillRect(0,0,l.width,l.height);G.fillStyle=D;G.translate(-l.x-fa.scrollX,-l.y-fa.scrollY);
break;case "rectangle":case "diamond":case "ellipse":case "line":case "draw":case "arrow":case "text":if(Yj(l,na),T){D=fa?fa.zoom:qg.zoom;na=(T=Hk.get(l))&&T.canvasZoom!==D.value&&!(null!=fa&&fa.shouldCacheIgnoreZoom);if(!T||na){T=document.createElement("canvas");na=T.getContext("2d");var Aa=0,za=0;if(Hg(l)){Aa=jg(l);var Ga=Aa[0];za=Aa[1];var Ua=Aa[3];T.width=Math.abs(Ga-Aa[2])*window.devicePixelRatio*D.value+40*D.value;T.height=Math.abs(za-Ua)*window.devicePixelRatio*D.value+40*D.value;Aa=l.x>Ga?
Math.floor(Math.abs(l.x-Ga))*window.devicePixelRatio*D.value:0;za=l.y>za?Math.floor(Math.abs(l.y-za))*window.devicePixelRatio*D.value:0;na.translate(Aa,za)}else T.width=l.width*window.devicePixelRatio*D.value+40*D.value,T.height=l.height*window.devicePixelRatio*D.value+40*D.value;na.translate(20*D.value,20*D.value);na.scale(window.devicePixelRatio*D.value,window.devicePixelRatio*D.value);Ga=Qh.canvas(T);D=(fi(l,Ga,na),na.translate(-20*D.value,-20*D.value),na.scale(1/(window.devicePixelRatio*D.value),
1/(window.devicePixelRatio*D.value)),{element:l,canvas:T,canvasZoom:D.value,canvasOffsetX:Aa,canvasOffsetY:za});l=(Hk.set(l,D),D)}else l=T;D=l.element;Aa=jg(D);T=Aa[0];na=Aa[1];za=Aa[2];Aa=Aa[3];Ga=((T+za)/2+fa.scrollX)*window.devicePixelRatio;fa=((na+Aa)/2+fa.scrollY)*window.devicePixelRatio;G.scale(1/window.devicePixelRatio,1/window.devicePixelRatio);G.translate(Ga,fa);G.rotate(D.angle);G.drawImage(l.canvas,-(za-T)/2*window.devicePixelRatio-20*l.canvasZoom/l.canvasZoom,-(Aa-na)/2*window.devicePixelRatio-
20*l.canvasZoom/l.canvasZoom,l.canvas.width/l.canvasZoom,l.canvas.height/l.canvasZoom);G.rotate(-D.angle);G.translate(-Ga,-fa);G.scale(window.devicePixelRatio,window.devicePixelRatio);!0}else na=jg(l),za=na[0],T=na[1],Aa=na[2],Ga=na[3],na=(za+Aa)/2+fa.scrollX,fa=(T+Ga)/2+fa.scrollY,za=(Aa-za)/2-(l.x-za),T=(Ga-T)/2-(l.y-T),G.translate(na,fa),G.rotate(l.angle),G.translate(-za,-T),fi(l,D,G),G.translate(za,T),G.rotate(-l.angle),G.translate(-na,-fa);break;default:throw Error("Unimplemented type ".concat(l.type));
}},Ah=function(){function l(){this.callbacks=new Set;this.nonDeletedElements=[];this.elements=[];this.elementsMap=new Map}return l.mapElementToScene=function(D,G){"string"==typeof D?this.sceneMapById.set(D,G):this.sceneMapByElement.set(D,G)},l.getScene=function(D){return"string"==typeof D?this.sceneMapById.get(D)||null:this.sceneMapByElement.get(D)||null},l.prototype.getElementsIncludingDeleted=function(){return this.elements},l.prototype.getElements=function(){return this.nonDeletedElements},l.prototype.getElement=
function(D){return this.elementsMap.get(D)||null},l.prototype.getNonDeletedElement=function(D){return(D=this.getElement(D))&&!D.isDeleted?D:null},l.prototype.getNonDeletedElements=function(D){var G=this,T=[];return D.forEach(function(fa){fa=G.getNonDeletedElement(fa);null!=fa&&T.push(fa)}),T},l.prototype.replaceAllElements=function(D){var G=this;this.elements=D;this.elementsMap.clear();D.forEach(function(T){G.elementsMap.set(T.id,T);l.mapElementToScene(T,G)});this.nonDeletedElements=je(this.elements);
this.informMutation()},l.prototype.informMutation=function(){for(var D=0,G=Array.from(this.callbacks);D<G.length;D++)(0,G[D])()},l.prototype.addCallback=function(D){var G=this;if(this.callbacks.has(D))throw Error();return this.callbacks.add(D),function(){if(!G.callbacks.has(D))throw Error();G.callbacks.delete(D)}},l.prototype.destroy=function(){var D=this;l.sceneMapById.forEach(function(G,T){G===D&&l.sceneMapById.delete(T)});this.callbacks.clear()},l}();Ah.sceneMapByElement=new WeakMap;Ah.sceneMapById=
new Map;var Pm=new Me(Date.now()),Zj=function(){return Math.floor(Pm.next()*Math.pow(2,31))},xi=function(){return((l=21)=>{let D="",G=crypto.getRandomValues(new Uint8Array(l));for(;l--;){let T=63&G[l];D+=36>T?T.toString(36):62>T?(T-26).toString(36).toUpperCase():63>T?"_":"-"}return D})()},nf=function(l,D){var G,T=!1,fa=D.points,na;for(na in void 0!==fa&&(D=Ab(Ab({},function(vb){var ec=vb.map(function(Zb){return Zb[0]});vb=vb.map(function(Zb){return Zb[1]});return{width:Math.max.apply(Math,ec)-Math.min.apply(Math,
ec),height:Math.max.apply(Math,vb)-Math.min.apply(Math,vb)}}(fa)),D)),D){var Aa=D[na];if(void 0!==Aa&&(l[na]!==Aa||"object"==typeof Aa&&null!==Aa&&"groupIds"!==na)){if("points"===na){var za=l[na],Ga=Aa;if(za.length===Ga.length){for(var Ua=!1,Pa=za.length;--Pa;){var mb=za[Pa],sb=Ga[Pa];if(mb[0]!==sb[0]||mb[1]!==sb[1]){Ua=!0;break}}if(!Ua)continue}}l[na]=Aa;T=!0}}T&&(void 0===D.height&&void 0===D.width&&void 0===fa||wi.delete(l),l.version++,l.versionNonce=Zj(),null===(G=Ah.getScene(l))||void 0===G||
G.informMutation())},zg=function(l,D){return Ab(Ab(Ab({},l),D),{},{version:l.version+1,versionNonce:Zj()})},Rh=function(l){return Hg(l)?2>l.points.length:0===l.width&&0===l.height},Ye=function(l,D,G){var T=Math.abs(D),fa=Math.abs(G);"line"===l||"arrow"===l||"draw"===l?(l=Math.round(Math.atan(fa/T)/hc.ay)*hc.ay,0===l?G=0:l===Math.PI/2?D=0:G=Math.round(T*Math.tan(l))*Math.sign(G)||G):"selection"!==l&&(G=T*Math.sign(G));return{width:D,height:G}},Ml=function(l){var D={width:l.width,height:l.height,x:l.x,
y:l.y};if(0>l.width){var G=Math.abs(l.width);D.width=G;D.x=l.x-G}0>l.height&&(G=Math.abs(l.height),D.height=G,D.y=l.y-G);return D},Pf=g(5474),Vh=g.n(Pf),zl=function(l,D){for(var G=0,T=D.length,fa=l.length;G<T;G++,fa++)l[fa]=D[G];return l},bk=function(l,D,G){var T,fa;G=G.filter(function(na){return na.groupIds.includes(l)});return 2>G.length?D.selectedGroupIds[l]||D.editingGroupId===l?fb(fb({},D),{},{selectedGroupIds:fb(fb({},D.selectedGroupIds),{},(T={},T[l]=!1,T)),editingGroupId:null}):D:fb(fb({},
D),{},{selectedGroupIds:fb(fb({},D.selectedGroupIds),{},(fa={},fa[l]=!0,fa)),selectedElementIds:fb(fb({},D.selectedElementIds),Object.fromEntries(G.map(function(na){return[na.id,!0]})))})},Bh=function(l,D){return D.groupIds.filter(function(G){return G!==l.editingGroupId}).find(function(G){return l.selectedGroupIds[G]})},Li=function(l){return Object.entries(l.selectedGroupIds).filter(function(D){D[0];return D[1]}).map(function(D){var G=D[0];D[1];return G})},Wh=function(l,D){for(var G=fb({},l),T=0,
fa=wf(D,l);T<fa.length;T++){var na=fa[T].groupIds;if(l.editingGroupId){var Aa=na.indexOf(l.editingGroupId);-1<Aa&&(na=na.slice(0,Aa))}0<na.length&&(G=bk(na[na.length-1],G,D))}return G},ck=function(l,D){return l.filter(function(G){return G.groupIds.includes(D)})},yj=function(l,D){var G,T,fa=D.x,na=D.y,Aa=D.strokeColor,za=D.backgroundColor,Ga=D.fillStyle,Ua=D.strokeWidth,Pa=D.strokeStyle,mb=D.roughness,sb=D.opacity,vb=D.width;vb=void 0===vb?0:vb;var ec=D.height;ec=void 0===ec?0:ec;var Zb=D.angle;Zb=
void 0===Zb?0:Zb;var Ac=D.groupIds;Ac=void 0===Ac?[]:Ac;var gd=D.strokeSharpness,kd=D.boundElementIds;kd=void 0===kd?null:kd;D=Vh()(D,"x y strokeColor backgroundColor fillStyle strokeWidth strokeStyle roughness opacity width height angle groupIds strokeSharpness boundElementIds".split(" "));return{id:D.id||xi(),type:l,x:fa,y:na,width:vb,height:ec,angle:Zb,strokeColor:Aa,backgroundColor:za,fillStyle:Ga,strokeWidth:Ua,strokeStyle:Pa,roughness:mb,opacity:sb,groupIds:Ac,strokeSharpness:gd,seed:null!==
(G=D.seed)&&void 0!==G?G:Zj(),version:D.version||1,versionNonce:null!==(T=D.versionNonce)&&void 0!==T?T:0,isDeleted:!1,boundElementIds:kd}},Ol=function(l){return yj(l.type,l)},Xh=function(l,D){return{x:"center"===l.textAlign?D.width/2:"right"===l.textAlign?D.width:0,y:"middle"===l.verticalAlign?D.height/2:0}},Kj=function(l){var D=Wi(l.text,Vi(l)),G=Xh(l,D);return zg(Ka(Ka({},yj("text",l)),{},{text:l.text,fontSize:l.fontSize,fontFamily:l.fontFamily,textAlign:l.textAlign,verticalAlign:l.verticalAlign,
x:l.x-G.x,y:l.y-G.y,width:D.width,height:D.height,baseline:D.baseline}),{})},We=function(l){return Ka(Ka({},yj(l.type,l)),{},{points:l.points||[],lastCommittedPoint:null,startBinding:null,endBinding:null,startArrowhead:l.startArrowhead,endArrowhead:l.endArrowhead})},Lj=function(l,D){if(void 0===D&&(D=0),null==l||"object"!=typeof l)return l;if("[object Object]"===Object.prototype.toString.call(l)){var G="function"==typeof l.constructor?Object.create(Object.getPrototypeOf(l)):{},T;for(T in l)l.hasOwnProperty(T)&&
(0!==D||"shape"!==T&&"canvas"!==T)&&(G[T]=Lj(l[T],D+1));return G}if(Array.isArray(l)){G=l.length;for(T=Array(G);G--;)T[G]=Lj(l[G],D+1);return T}return l},Yi=function(l,D,G,T){G=Lj(G);return G.id=xi(),G.seed=Zj(),G.groupIds=function(fa,na,Aa){var za=zl([],fa);na=na?fa.indexOf(na):-1;fa=-1<na?na:fa.length;for(na=0;na<fa;na++)za[na]=Aa(za[na]);return za}(G.groupIds,l,function(fa){return D.has(fa)||D.set(fa,xi()),D.get(fa)}),T&&(G=Object.assign(G,T)),G},Ve={mouse:8,pen:16,touch:28},Al={e:!0,s:!0,n:!0,
w:!0},Ql={e:!0,s:!0,n:!0,w:!0},Yh={e:!0,s:!0,n:!0,w:!0,nw:!0,se:!0},zj={e:!0,s:!0,n:!0,w:!0,ne:!0,sw:!0},hh=function(l,D,G,T,fa,na,Aa){l=Hf(l+G/2,D+T/2,fa,na,Aa);return[l[0]-G/2,l[1]-T/2,G,T]},Fk=function(l,D,G,T,fa){var na=l[0],Aa=l[1],za=l[2];l=l[3];void 0===fa&&(fa={});var Ga=Ve[T];T=Ga/G.value;var Ua=Ga/G.value,Pa=Ga/G.value,mb=Ga/G.value,sb=za-na,vb=l-Aa,ec=(na+za)/2,Zb=(Aa+l)/2,Ac=4/G.value;Ga=(Ga-8)/(2*G.value);var gd={nw:fa.nw?void 0:hh(na-Ac-Pa+Ga,Aa-Ac-mb+Ga,T,Ua,ec,Zb,D),ne:fa.ne?void 0:
hh(za+Ac-Ga,Aa-Ac-mb+Ga,T,Ua,ec,Zb,D),sw:fa.sw?void 0:hh(na-Ac-Pa+Ga,l+Ac-Ga,T,Ua,ec,Zb,D),se:fa.se?void 0:hh(za+Ac-Ga,l+Ac-Ga,T,Ua,ec,Zb,D),rotation:fa.rotation?void 0:hh(na+sb/2-T/2,Aa-Ac-mb+Ga-16/G.value,T,Ua,ec,Zb,D)};G=5*Ve.mouse/G.value;return Math.abs(sb)>G&&(fa.n||(gd.n=hh(na+sb/2-T/2,Aa-Ac-mb+Ga,T,Ua,ec,Zb,D)),fa.s||(gd.s=hh(na+sb/2-T/2,l+Ac-Ga,T,Ua,ec,Zb,D))),Math.abs(vb)>G&&(fa.w||(gd.w=hh(na-Ac-Pa+Ga,Aa+vb/2-Ua/2,T,Ua,ec,Zb,D)),fa.e||(gd.e=hh(za+Ac-Ga,Aa+vb/2-Ua/2,T,Ua,ec,Zb,D))),gd},
wj=function(l,D,G){void 0===G&&(G="mouse");var T={};if("arrow"===l.type||"line"===l.type||"draw"===l.type){if(2===l.points.length){var fa=l.points[1];0===fa[0]||0===fa[1]?T=zj:0<fa[0]&&0>fa[1]?T=Yh:0<fa[0]&&0<fa[1]?T=zj:0>fa[0]&&0<fa[1]?T=Yh:0>fa[0]&&0>fa[1]&&(T=zj)}}else"text"===l.type&&(T=Ql);return Fk(jg(l),l.angle,D,G,T)},zi=function(l,D){return[0,0,0,0,D,l,1,0]},bh=function(l,D){void 0===l&&(l=0);void 0===D&&(D=0);var G=[0,0,0,0,0,0,0,0];if(0>D||7<D)throw Error("Expected `index` betwen 0 and 7, got `".concat(D,
"`"));return 0!==l&&(G[D]=l),G},Kh=function(l){return[l[0],l[1],l[2],l[3],-l[4],-l[5],-l[6],-l[7]]},yl=function(l,D){return"number"==typeof D?[l[0]-D,l[1],l[2],l[3],l[4],l[5],l[6],l[7]]:[l[0]-D[0],l[1]-D[1],l[2]-D[2],l[3]-D[3],l[4]-D[4],l[5]-D[5],l[6]-D[6],l[7]-D[7]]},Jk=function(l,D){return"number"==typeof D?[l[0]*D,l[1]*D,l[2]*D,l[3]*D,l[4]*D,l[5]*D,l[6]*D,l[7]*D]:[D[0]*l[0]+D[2]*l[2]+D[3]*l[3]-D[6]*l[6],D[1]*l[0]+D[0]*l[1]-D[4]*l[2]+D[5]*l[3]+D[2]*l[4]-D[3]*l[5]-D[7]*l[6]-D[6]*l[7],D[2]*l[0]+D[0]*
l[2]-D[6]*l[3]+D[3]*l[6],D[3]*l[0]+D[6]*l[2]+D[0]*l[3]-D[2]*l[6],D[4]*l[0]+D[2]*l[1]-D[1]*l[2]+D[7]*l[3]+D[0]*l[4]+D[6]*l[5]-D[5]*l[6]+D[3]*l[7],D[5]*l[0]-D[3]*l[1]+D[7]*l[2]+D[1]*l[3]-D[6]*l[4]+D[0]*l[5]+D[4]*l[6]+D[2]*l[7],D[6]*l[0]+D[3]*l[2]-D[2]*l[3]+D[0]*l[6],D[7]*l[0]+D[6]*l[1]+D[5]*l[2]+D[4]*l[3]+D[3]*l[4]+D[2]*l[5]+D[1]*l[6]+D[0]*l[7]]},gk=function(l,D){return[Mj(l,D),l[1]*D[7]+l[4]*D[5]-l[5]*D[4]+l[7]*D[1],l[2]*D[7]-l[4]*D[6]+l[6]*D[4]+l[7]*D[2],l[3]*D[7]+l[5]*D[6]-l[6]*D[5]+l[7]*D[3],l[4]*
D[7]+l[7]*D[4],l[5]*D[7]+l[7]*D[5],l[6]*D[7]+l[7]*D[6],l[7]*D[7]]},Mj=function(l,D){return l[0]*D[7]+l[1]*D[6]+l[2]*D[5]+l[3]*D[4]+l[4]*D[3]+l[5]*D[2]+l[6]*D[1]+l[7]*D[0]},Sm=function(l){return Math.sqrt(Math.abs(l[0]*l[0]-l[2]*l[2]-l[3]*l[3]+l[6]*l[6]))},lj=function(l){var D=Sm(l);return 0===D||1===D?l:Jk(l,(0>l[6]?-1:1)/D)},Nl=(bh(1,1),bh(1,2),bh(1,3),bh(1,4),bh(1,5),bh(1,6),bh(1,7),function(l,D,G){return lj([0,G,l,D,0,0,0,0])}),dk=function(l,D){return G=l,[(T=D)[0]*G[0]+T[2]*G[2]+T[3]*G[3]-T[6]*
G[6],T[1]*G[0]+T[0]*G[1]-T[4]*G[2]+T[5]*G[3]+T[2]*G[4]-T[3]*G[5]-T[7]*G[6]-T[6]*G[7],T[2]*G[0]+T[0]*G[2]-T[6]*G[3]+T[3]*G[6],T[3]*G[0]+T[6]*G[2]+T[0]*G[3]-T[2]*G[6],T[4]*G[0]+T[7]*G[3]+T[0]*G[4]+T[3]*G[7],T[5]*G[0]+T[7]*G[2]+T[0]*G[5]+T[2]*G[7],T[6]*G[0]+T[0]*G[6],T[7]*G[0]+T[0]*G[7]];var G,T},ek=function(l){return[0,0,0,0,l[1],l[0],1,0]},hi=function(l){return[l[5],l[4]]},oj=function(l,D){return G=Jk(l,Math.sin(D/2)),T=Math.cos(D/2),"number"==typeof T?[G[0]+T,G[1],G[2],G[3],G[4],G[5],G[6],G[7]]:[G[0]+
T[0],G[1]+T[1],G[2]+T[2],G[3]+T[3],G[4]+T[4],G[5]+T[5],G[6]+T[6],G[7]+T[7]];var G,T},Ni=function(l,D){return lj(Jk(Jk(l,D),Kh(l)))},Lk=function(l,D,G,T){var fa=10/D.zoom.value;return!fk(l,D,[G,T])&&Rl(l,[G,T],fa)},fk=function(l,D,G){D=10/D.zoom.value;if("text"===l.type)var T=dm;else"arrow"===l.type?T=!1:(T="transparent"!==l.backgroundColor,T="line"===l.type||"draw"===l.type?T&&ei(l.points):T),T=T?ik:Ik;return nj({element:l,point:G,threshold:D,check:T})},Rl=function(l,D,G){var T=D[0],fa=D[1],na=jg(l);
D=na[0];var Aa=na[1],za=na[2];na=na[3];T=Hf(T,fa,(D+za)/2,(Aa+na)/2,-l.angle);l=T[0];T=T[1];return l>D-G&&l<za+G&&T>Aa-G&&T<na+G},Mk=function(l,D){var G=D.x;D=D.y;var T=Zi(l,l.width,l.height);return nj({element:l,point:[G,D],threshold:T,check:Gn})},Zi=function(l,D,G){return Math.max(16,Math.min(.25*("diamond"===l.type?1/Math.sqrt(2):1)*Math.min(D,G),32))},nj=function(l){switch(l.element.type){case "rectangle":case "text":case "diamond":case "ellipse":var D=cm(l.element,l.point);return l.check(D,l.threshold);
case "arrow":case "line":case "draw":return eo(l);case "selection":return console.warn("This should not happen, we need to investigate why it does."),!1}},cm=function(l,D){switch(l.type){case "rectangle":case "text":var G=Ui(l,D),T=G[1],fa=G[2];l=Math;D=l.max;G=Nl(0,1,-G[3]);G=Mj(T,G);fa=Nl(1,0,-fa);T=Mj(T,fa);return D.call(l,G,T);case "diamond":return T=Ui(l,D),l=T[1],D=T[2],T=T[3],D=Nl(T,D,-T*D),Mj(l,D);case "ellipse":return l=qn(l,D),D=l[1],-Math.sign(D[1])*Mj(l[0],D)}},dm=function(l,D){return 0>
l},ik=function(l,D){return l<D},Ik=function(l,D){return Math.abs(l)<D},Gn=function(l,D){return 0<=l&&l<D},qn=function(l,D){D=Ui(l,D);l=D[1];var G=D[2],T=D[3];D=hi(l);var fa=D[0],na=D[1],Aa=.707,za=.707;[0,1,2,3].forEach(function(Ga){Ga=(G*G-T*T)*Math.pow(Aa,3)/G;var Ua=(T*T-G*G)*Math.pow(za,3)/T,Pa=fa-Ga,mb=na-Ua,sb=Math.hypot(T*za-Ua,G*Aa-Ga),vb=Math.hypot(mb,Pa);Aa=Math.min(1,Math.max(0,(Pa*sb/vb+Ga)/G));za=Math.min(1,Math.max(0,(mb*sb/vb+Ua)/T));Ga=Math.hypot(za,Aa);Aa/=Ga;za/=Ga});D=zi(G*Aa,T*
za);return[l,dk(lj(gk(D,l)),D)]},eo=function(l){var D=l.element,G=l.threshold;if(!wi.get(D))return!1;var T=Ui(l.element,l.point),fa=T[0],na=T[1],Aa=T[2];T=Nl(0,1,-T[3]);Aa=Nl(1,0,-Aa);if(!ik(Mj(na,T),G)||!ik(Mj(na,Aa),G))return!1;fa=hi(fa);var za=fa[0],Ga=fa[1];fa=wi.get(D);return l.check===ik&&fa.some(function(Ua){var Pa=D.strokeSharpness;var mb=[],sb=!1,vb=0;for(Ua=Hi(Ua);vb<Ua.length;vb++){var ec=Ua[vb];"move"===ec.op?(sb=!sb)&&mb.push([ec.data[0],ec.data[1]]):"bcurveTo"===ec.op&&sb&&(mb.push([ec.data[0],
ec.data[1]]),mb.push([ec.data[2],ec.data[3]]),mb.push([ec.data[4],ec.data[5]]))}4<=mb.length?"sharp"===Pa?Pa=Ei(mb,za,Ga):(Pa=B(mb,10,5),Pa=Ei(Pa,za,Ga)):Pa=!1;return Pa})?!0:fa.some(function(Ua){return Xk(Ua,za,Ga,G)})},Ui=function(l,D){var G,T=ek(D);D=jg(l);var fa=Sl(D),na=oj(fa,l.angle);T=Ni(na,T);fa=yl(T,[0,0,0,0,fa[4],fa[5],0,0]);fa=[0,0,0,0,Math.abs(fa[4]),Math.abs(fa[5]),1,0];l=(G=l.x,[0,0,0,0,l.y,G,0,0]);return[yl(T,l),fa,(D[2]-D[0])/2,(D[3]-D[1])/2]},Ll=function(l){var D=jg(l);D=Sl(D);l=
oj(D,l.angle);D=[0,0,0,0,D[4],D[5],0,0];D=Kh([1,0,0,0,-.5*D[5],.5*D[4],0,0]);return Jk(D,l)},Sl=function(l){return zi((l[0]+l[2])/2,(l[1]+l[3])/2)},Ak=function(l,D,G,T){switch(void 0===T&&(T=0),l.type){case "rectangle":case "text":case "diamond":var fa=Cg(l);var na=fa.flatMap(function(Aa,za){za=[Aa,fa[(za+1)%4]];var Ga=T;Aa=za[0];za=za[1];var Ua=[0,0,0,0,za[4]-Aa[4],za[5]-Aa[5],0,0];var Pa=Math.sqrt(Math.abs(Ua[7]*Ua[7]-Ua[5]*Ua[5]-Ua[4]*Ua[4]+Ua[1]*Ua[1]));Ua=0===Pa||1===Pa?Ua:Jk(Ua,1/Pa);Ga*=.5;
Ga=[1,0,0,0,Ga*Ua[4],Ga*Ua[5],0,0];za=[Ni(Ga,Aa),Ni(Ga,za)];Aa=za[0];za=za[1];if(0<=Mj(Aa,D)*Mj(za,D))var mb=[];else{a:{Aa=lj(gk(za,Aa));Aa=lj((mb=D,[(sb=Aa)[0]*mb[0],sb[1]*mb[0]+sb[0]*mb[1],sb[2]*mb[0]+sb[0]*mb[2],sb[3]*mb[0]+sb[0]*mb[3],sb[4]*mb[0]+sb[2]*mb[1]-sb[1]*mb[2]+sb[0]*mb[4],sb[5]*mb[0]-sb[3]*mb[1]+sb[1]*mb[3]+sb[0]*mb[5],sb[6]*mb[0]+sb[3]*mb[2]-sb[2]*mb[3]+sb[0]*mb[6],sb[7]*mb[0]+sb[6]*mb[1]+sb[5]*mb[2]+sb[4]*mb[3]+sb[3]*mb[4]+sb[2]*mb[5]+sb[1]*mb[6]]));break a;var sb}mb=[Aa]}return mb}).concat(fa.flatMap(function(Aa){var za=
T;if(0===za)var Ga=0===Mj(D,Aa)?[Aa]:[];else{Ga=D[2];var Ua=D[3],Pa=D[1],mb=hi(Aa);Aa=mb[0];var sb=mb[1];mb=Ga*Ga+Ua*Ua;za=za*za*mb-Math.pow(Ga*Aa+Ua*sb+Pa,2);if(0===mb||0>=za)Ga=[];else{za=Math.sqrt(za);var vb=Aa*Ua*Ua-sb*Ga*Ua-Ga*Pa;Pa=sb*Ga*Ga-Aa*Ga*Ua-Ua*Pa;Ga=[zi((vb+Ua*za)/mb,(Pa-Ga*za)/mb),zi((vb-Ua*za)/mb,(Pa+Ga*za)/mb)]}}return Ga}));break;case "ellipse":na=Fi(l,T,D)}if(2>na.length)return[];l=na.sort(function(Aa,za){return Sm(gk(Aa,G))-Sm(gk(za,G))});return[l[0],l[l.length-1]]},Cg=function(l,
D){void 0===D&&(D=1);var G=D*l.width/2;D=D*l.height/2;switch(l.type){case "rectangle":case "text":return[zi(G,D),zi(G,-D),zi(-G,-D),zi(-G,D)];case "diamond":return[zi(0,D),zi(G,0),zi(0,-D),zi(-G,0)]}},Fi=function(l,D,G){var T=l.width/2+D;l=l.height/2+D;D=G[2];var fa=G[3],na=G[1];G=T*T*D*D+l*l*fa*fa;var Aa=G-na*na;if(0===G||0>=Aa)return[];Aa=Math.sqrt(Aa);var za=-T*T*D*na;na*=-l*l*fa;return[zi((za+T*l*fa*Aa)/G,(na-T*l*D*Aa)/G),zi((za-T*l*fa*Aa)/G,(na+T*l*D*Aa)/G)]},qh=function(l,D,G){var T=Math.sign(D),
fa=0,na=null;return Cg(l,Math.abs(D)).forEach(function(Aa){var za=T*lj(gk(Aa,G))[1];za>fa&&(fa=za,na=Aa)}),na},Xk=function(l,D,G,T){var fa=[0,0];return Hi(l).some(function(na,Aa){Aa=na.op;var za=na.data;if("move"===Aa)fa=za;else if("bcurveTo"===Aa){na=[za[0],za[1]];Aa=[za[2],za[3]];za=[za[4],za[5]];var Ga=fa;return fa=za,function(Ua,Pa,mb,sb,vb,ec){var Zb=vb[0];vb=vb[1];for(var Ac=function(ne,me){return Math.pow(1-ne,3)*sb[me]+3*ne*Math.pow(1-ne,2)*mb[me]+3*Math.pow(ne,2)*(1-ne)*Pa[me]+Ua[me]*Math.pow(ne,
3)},gd=0;1>=gd;){var kd=Ac(gd,0),xd=Ac(gd,1);if(Math.sqrt(Math.pow(kd-Zb,2)+Math.pow(xd-vb,2))<ec)return!0;gd+=.01}return!1}(Ga,na,Aa,za,[D,G],T)}return!1})},gh=function(l,D,G){return D>=l[0]&&D<=l[0]+l[2]&&G>=l[1]&&G<=l[1]+l[3]},Oi=function(l,D,G,T,fa,na){return l.reduce(function(Aa,za){return Aa?Aa:(Aa=function(Ga,Ua,Pa,mb,sb,vb){if(!Ua.selectedElementIds[Ga.id])return!1;Ga=wj(Ga,sb,vb);Ua=Ga.rotation;var ec=Vh()(Ga,["rotation"]);if(Ua&&gh(Ua,Pa,mb))return"rotation";Ga=Object.keys(ec).filter(function(Zb){Zb=
ec[Zb];return!!Zb&&gh(Zb,Pa,mb)});return 0<Ga.length&&Ga[0]}(za,D,G,T,fa,na))?{element:za,transformHandleType:Aa}:null},null)},rf=function(l,D,G,T,fa){var na=Fk([l[0],l[1],l[2],l[3]],0,T,fa,Al);return Object.keys(na).find(function(Aa){return(Aa=na[Aa])&&gh(Aa,D,G)})||!1},Ch=["ns","nesw","ew","nwse"],Le=function(l){var D=l.element,G=D&&-1==Math.sign(D.height)*Math.sign(D.width),T=null;switch(l.transformHandleType){case "n":case "s":T="ns";break;case "w":case "e":T="ew";break;case "nw":case "se":T=
G?"nesw":"nwse";break;case "ne":case "sw":T=G?"nwse":"nesw";break;case "rotation":return"grab"}T&&D&&(l=T,D=D.angle,G=Ch.indexOf(l),0<=G&&(l=Ch[(G+Math.round(D/(Math.PI/4)))%Ch.length]),T=l);return T?"".concat(T,"-resize"):""},dl=function(l,D){for(var G=0,T=D.length,fa=l.length;G<T;G++,fa++)l[fa]=D[G];return l},dg=function(){function l(D,G){this.elementId=D.id;Ah.mapElementToScene(this.elementId,G);l.normalizePoints(D);this.lastUncommittedPoint=this.activePointIndex=null;this.isDragging=!1;this.pointerOffset=
{x:0,y:0};this.endBindingElement=this.startBindingElement="keep"}return l.getElement=function(D){var G;return(null===(G=Ah.getScene(D))||void 0===G?void 0:G.getNonDeletedElement(D))||null},l.handlePointDragging=function(D,G,T,fa,na){if(!D.editingLinearElement)return!1;var Aa=D.editingLinearElement,za=Aa.activePointIndex,Ga=Aa.isDragging,Ua=l.getElement(Aa.elementId);return Ua?null!=za&&-1<za?(!1===Ga&&G({editingLinearElement:ib(ib({},Aa),{},{isDragging:!0})}),D=l.createPointAt(Ua,T-Aa.pointerOffset.x,
fa-Aa.pointerOffset.y,D.gridSize),l.movePoint(Ua,za,D),pg(Ua)&&na(Ua,0===za?"start":"end"),!0):!1:!1},l.handlePointerUp=function(D,G,T){D=G.activePointIndex;var fa=G.isDragging,na=l.getElement(G.elementId);if(!na)return G;var Aa={};!fa||0!==D&&D!==na.points.length-1||(ei(na.points,T.zoom.value)&&l.movePoint(na,D,0===D?na.points[na.points.length-1]:na.points[0]),fa=T.isBindingEnabled?bi(Fg(l.getPointAtIndexGlobalCoordinates(na,D)),Ah.getScene(na)):null,(T={})[0===D?"startBindingElement":"endBindingElement"]=
fa,Aa=T);return ib(ib(ib({},G),Aa),{},{isDragging:!1,pointerOffset:{x:0,y:0}})},l.handlePointerDown=function(D,G,T,fa,na){var Aa={didAddPoint:!1,hitElement:null};if(!G.editingLinearElement)return Aa;var za=l.getElement(G.editingLinearElement.elementId);if(!za)return Aa;if(D.altKey)return null==G.editingLinearElement.lastUncommittedPoint&&nf(za,{points:dl(dl([],za.points),[l.createPointAt(za,na.x,na.y,G.gridSize)])}),fa.resumeRecording(),T({editingLinearElement:ib(ib({},G.editingLinearElement),{},
{activePointIndex:za.points.length-1,lastUncommittedPoint:null,endBindingElement:bi(na,Ah.getScene(za))})}),Aa.didAddPoint=!0,Aa;D=l.getPointIndexUnderCursor(za,G.zoom,na.x,na.y);if(-1<D)Aa.hitElement=za;else{var Ga=G.editingLinearElement;fa=Ga.startBindingElement;Ga=Ga.endBindingElement;G.isBindingEnabled&&pg(za)&&Qf(za,fa,Ga)}Ga=jg(za);fa=(Ga[0]+Ga[2])/2;Ga=(Ga[1]+Ga[3])/2;za=-1<D&&Hf(za.x+za.points[D][0],za.y+za.points[D][1],fa,Ga,za.angle);return T({editingLinearElement:ib(ib({},G.editingLinearElement),
{},{activePointIndex:-1<D?D:null,pointerOffset:za?{x:na.x-za[0],y:na.y-za[1]}:{x:0,y:0}})}),Aa},l.handlePointerMove=function(D,G,T,fa,na){var Aa=fa.lastUncommittedPoint,za=l.getElement(fa.elementId);if(!za)return fa;var Ga=za.points,Ua=Ga[Ga.length-1];if(!D.altKey)return Ua===Aa&&l.movePoint(za,Ga.length-1,"delete"),ib(ib({},fa),{},{lastUncommittedPoint:null});D=l.createPointAt(za,G-fa.pointerOffset.x,T-fa.pointerOffset.y,na);return Ua===Aa?l.movePoint(za,za.points.length-1,D):l.movePoint(za,"new",
D),ib(ib({},fa),{},{lastUncommittedPoint:za.points[za.points.length-1]})},l.getPointsGlobalCoordinates=function(D){var G=jg(D),T=(G[0]+G[2])/2,fa=(G[1]+G[3])/2;return D.points.map(function(na){var Aa;return[(Aa=Hf(D.x+na[0],D.y+na[1],T,fa,D.angle))[0],Aa[1]]})},l.getPointAtIndexGlobalCoordinates=function(D,G){var T=0>G?D.points.length+G:G;G=jg(D);T=D.points[T];return Hf(D.x+T[0],D.y+T[1],(G[0]+G[2])/2,(G[1]+G[3])/2,D.angle)},l.pointFromAbsoluteCoords=function(D,G){var T=jg(D);G=Hf(G[0],G[1],(T[0]+
T[2])/2,(T[1]+T[3])/2,-D.angle);return[G[0]-D.x,G[1]-D.y]},l.getPointIndexUnderCursor=function(D,G,T,fa){D=this.getPointsGlobalCoordinates(D);for(var na=D.length;-1<--na;){var Aa=D[na];if(Math.hypot(Aa[0]-T,Aa[1]-fa)*G.value<this.POINT_HANDLE_SIZE/2+1)return na}return-1},l.createPointAt=function(D,G,T,fa){G=ri(G,T,fa);T=jg(D);G=Hf(G[0],G[1],(T[0]+T[2])/2,(T[1]+T[3])/2,-D.angle);return[G[0]-D.x,G[1]-D.y]},l.normalizePoints=function(D){var G=D.points,T=G[0][0],fa=G[0][1];nf(D,{points:G.map(function(na,
Aa){return[na[0]-T,na[1]-fa]}),x:D.x+T,y:D.y+fa})},l.movePointByOffset=function(D,G,T){var fa=D.points[G];l.movePoint(D,G,[fa[0]+T.x,fa[1]+T.y])},l.movePoint=function(D,G,T,fa){var na=D.points,Aa=0,za=0;if("delete"===T){if("new"===G)throw Error("invalid args in movePoint");(T=na.slice()).splice(G,1);0===G&&(Aa=T[0][0],za=T[0][1],T=T.map(function(mb,sb){return 0===sb?[0,0]:[mb[0]-Aa,mb[1]-za]}))}else if("new"===G)T=dl(dl([],na),[T]);else{var Ga=T[0]-na[G][0],Ua=T[1]-na[G][1];T=na.map(function(mb,sb){return sb===
G?0===sb?(Aa=Ga,za=Ua,mb):(Aa=0,za=0,[mb[0]+Ga,mb[1]+Ua]):Aa||za?[mb[0]-Aa,mb[1]-za]:mb})}var Pa=Fe(D,T,D.strokeSharpness||"round");na=Fe(D,na,D.strokeSharpness||"round");na=Hf(Aa,za,(na[0]+na[2])/2-(Pa[0]+Pa[2])/2,(na[1]+na[3])/2-(Pa[1]+Pa[3])/2,D.angle);nf(D,ib(ib({},fa),{},{points:T,x:D.x+na[0],y:D.y+na[1]}))},l}();dg.POINT_HANDLE_SIZE=20;var Um=function(l,D){for(var G=0,T=D.length,fa=l.length;G<T;G++,fa++)l[fa]=D[G];return l},Qf=function(l,D,G){var T=new Set,fa=new Set;Ig(l,D,G,"start",T,fa);
Ig(l,G,D,"end",T,fa);D=Array.from(fa).filter(function(na){return!T.has(na)});Ah.getScene(l).getNonDeletedElements(D).forEach(function(na){var Aa;nf(na,{boundElementIds:null===(Aa=na.boundElementIds)||void 0===Aa?void 0:Aa.filter(function(za){return za!==l.id})})})},Ig=function(l,D,G,T,fa,na){if("keep"!==D)if(null!=D)null!=G&&("keep"===G?Ff(l,D,T):"start"!==T&&G.id===D.id)||(Dj(l,D,T),fa.add(D.id));else{var Aa;D="start"===T?"startBinding":"endBinding";G=l[D];l=null==G?null:(nf(l,((Aa={})[D]=null,Aa)),
G.elementId);null!=l&&na.add(l)}},wg=function(l){l.forEach(function(D){pg(D)?Qf(D,Og(D,"start"),Og(D,"end")):yk(D)&&em(D)})},em=function(l){vh(l).forEach(function(D){var G=D[1];return Qf(D[0],"end"===G?"keep":l,"start"===G?"keep":l)})},jk=function(l,D,G,T){null!=D.startBoundElement&&Dj(l,D.startBoundElement,"start");D=bi(T,G);null==D||Ff(l,D,"end")||Dj(l,D,"end")},Dj=function(l,D,G){var T,fa;nf(l,((T={})["start"===G?"startBinding":"endBinding"]=function(na){for(var Aa=1;Aa<arguments.length;Aa++){var za=
null!=arguments[Aa]?arguments[Aa]:{};Aa%2?Wb(Object(za),!0).forEach(function(Ga){Qc()(na,Ga,za[Ga])}):Object.getOwnPropertyDescriptors?Object.defineProperties(na,Object.getOwnPropertyDescriptors(za)):Wb(Object(za)).forEach(function(Ga){Object.defineProperty(na,Ga,Object.getOwnPropertyDescriptor(za,Ga))})}return na}({elementId:D.id},bf(l,D,G)),T));nf(D,{boundElementIds:Array.from(new Set(Um(Um([],null!==(fa=D.boundElementIds)&&void 0!==fa?fa:[]),[l.id])))})},Ff=function(l,D,G){G=l["start"===G?"endBinding":
"startBinding"];return(null==G?void 0:G.elementId)===D.id&&3>l.points.length},lh=function(l){l.forEach(function(D){pg(D)&&Qf(D,null,null)})},bi=function(l,D){return ni(D.getElements(),function(G){return yk(G)&&Mk(G,l)})},bf=function(l,D,G){var T="start"===G?-1:1;G=-1===T?0:l.points.length-1;T=G-T;G=dg.getPointAtIndexGlobalCoordinates(l,G);T=dg.getPointAtIndexGlobalCoordinates(l,T);a:{l=Ll(D);T=Ni(l,ek(T));l=Ni(l,ek(G));var fa=lj(gk(l,T));l=D.height/D.width;T=D.width/2;var na=D.height/2,Aa=fa[2],za=
fa[3];fa=fa[1];var Ga=Math.abs(za),Ua=Math.abs(Aa);switch(D.type){case "rectangle":case "text":l=fa/(T*(Ua+l*Ga));break a;case "diamond":l=Ga<Ua?fa/(Ua*T):fa/(Ga*na);break a;case "ellipse":l=fa/(T*Math.sqrt(Math.pow(Aa,2)+Math.pow(l,2)*Math.pow(za,2)));break a}l=void 0}return{focus:l,gap:Math.max(1,cm(D,G))}},Ai=function(l,D){var G,T=null!==(G=l.boundElementIds)&&void 0!==G?G:[];if(0!==T.length){D=null!=D?D:{};var fa=D.newSize,na=sj(D.simultaneouslyUpdated);Ah.getScene(l).getNonDeletedElements(T).forEach(function(Aa){var za,
Ga;if((null===(za=Aa.startBinding)||void 0===za?void 0:za.elementId)===l.id||(null===(Ga=Aa.endBinding)||void 0===Ga?void 0:Ga.elementId)===l.id)za=zf(l,Aa.startBinding,fa),Ga=zf(l,Aa.endBinding,fa),na.has(Aa.id)?nf(Aa,{startBinding:za,endBinding:Ga}):(jn(Aa,"start",za,l),jn(Aa,"end",Ga,l))})}},sj=function(l){return new Set((l||[]).map(function(D){return D.id}))},jn=function(l,D,G,T){var fa;if(!(null==G||G.elementId!==T.id&&2<l.points.length)){var na=Ah.getScene(l).getElement(G.elementId);if(null!=
na){var Aa="start"===D?-1:1;T=-1===Aa?0:l.points.length-1;var za=dg.getPointAtIndexGlobalCoordinates(l,T-Aa);Aa=function(Ga,Ua,Pa){if(0===Ua){var mb=jg(Ga);mb=Sl(mb);return hi(mb)}mb=Ll(Ga);Pa=Ni(mb,ek(Pa));mb=Kh(mb);switch(Ga.type){case "rectangle":case "text":case "diamond":var sb=qh(Ga,Ua,Pa);break;case "ellipse":var vb=Math.abs(Ua);sb=Ga.width*vb/2;Ga=Ga.height*vb/2;Ua=Math.sign(Ua);vb=hi(Pa);Pa=vb[0];vb=vb[1];vb=0===vb?1E-4:vb;var ec=Math.pow(Pa,2)*Math.pow(Ga,2)+Math.pow(vb,2)*Math.pow(sb,2);
Ua=(-Pa*Math.pow(Ga,2)+Ua*vb*Math.sqrt(Math.max(0,ec-Math.pow(sb,2)*Math.pow(Ga,2))))/ec;Pa=(-Ua*Pa-1)/vb;sb=-Math.pow(sb,2)*Ua/(Math.pow(Pa,2)*Math.pow(Ga,2)+Math.pow(Ua,2)*Math.pow(sb,2));sb=zi(sb,(-Ua*sb-1)/Pa)}return hi(Ni(mb,sb))}(na,G.focus,za);0===G.gap?na=Aa:(na=function(Ga,Ua,Pa,mb){void 0===mb&&(mb=0);var sb=Ll(Ga);Ua=Ni(sb,ek(Ua));Pa=Ni(sb,ek(Pa));Pa=lj(gk(Pa,Ua));var vb=Kh(sb);return Ak(Ga,Pa,Ua,mb).map(function(ec){return hi(Ni(vb,ec))})}(na,za,Aa,G.gap),na=0===na.length?Aa:na[0]);dg.movePoint(l,
T,dg.pointFromAbsoluteCoords(l,na),((fa={})["start"===D?"startBinding":"endBinding"]=G,fa))}}},zf=function(l,D,G){if(null==D||null==G)return D;var T=D.gap,fa=D.focus,na=G.width;G=G.height;var Aa=l.width,za=l.height;return{elementId:D.elementId,gap:Math.max(1,Math.min(Zi(l,na,G),T*(na<G?na/Aa:G/za))),focus:fa}},Il=function(l){return[Og(l,"start"),Og(l,"end")].filter(function(D){return null!=D})},Og=function(l,D){return bi(Fg(dg.getPointAtIndexGlobalCoordinates(l,"start"===D?0:-1)),Ah.getScene(l))},
vh=function(l){return Ah.getScene(l).getElements().map(function(D){if(!pg(D))return null;var G=Xf(D,"start",l),T=Xf(D,"end",l);return G||T?[D,G&&T?"both":G?"start":"end",l]:null}).filter(function(D){return null!=D})},Xf=function(l,D,G){return null==l["start"===D?"startBinding":"endBinding"]&&!Ff(l,G,D)&&Mk(G,Fg(dg.getPointAtIndexGlobalCoordinates(l,"start"===D?0:-1)))},Uj=function(l,D,G,T){var fa=new Set,na=new Set,Aa="duplicatesServeAsOld"===T;D.forEach(function(za){var Ga=za.boundElementIds;if(null!=
Ga&&0<Ga.length&&(Ga.forEach(function(Ua){Aa&&!G.has(Ua)&&fa.add(Ua)}),na.add(G.get(za.id))),pg(za))null!=za.startBinding&&(Ga=za.startBinding.elementId,Aa&&!G.has(Ga)&&na.add(Ga)),null!=za.endBinding&&(Ga=za.endBinding.elementId,Aa&&!G.has(Ga)&&na.add(Ga)),null==za.startBinding&&null==za.endBinding||fa.add(G.get(za.id))});l.filter(function(za){return fa.has(za.id)}).forEach(function(za){var Ga=za.endBinding;nf(za,{startBinding:Hh(za.startBinding,G),endBinding:Hh(Ga,G)})});l.filter(function(za){return na.has(za.id)}).forEach(function(za){var Ga=
za.boundElementIds;null!=Ga&&0<Ga.length&&nf(za,{boundElementIds:Ga.map(function(Ua){var Pa;return null!==(Pa=G.get(Ua))&&void 0!==Pa?Pa:Ua})})})},Hh=function(l,D){var G;if(null==l)return null;var T=l.elementId;return{focus:l.focus,gap:l.gap,elementId:null!==(G=D.get(T))&&void 0!==G?G:T}},tj=function(l,D){var G=new Set(D.map(function(fa){return fa.id})),T=new Set;D.forEach(function(fa){var na;yk(fa)&&(null===(na=fa.boundElementIds)||void 0===na||na.forEach(function(Aa){G.has(Aa)||T.add(Aa)}))});l.filter(function(fa){return T.has(fa.id)}).forEach(function(fa){var na=
fa.endBinding;nf(fa,{startBinding:nm(fa.startBinding,G),endBinding:nm(na,G)})})},nm=function(l,D){return null==l||D.has(l.elementId)?null:l},ej=function(l,D){for(var G=0,T=D.length,fa=l.length;G<T;G++,fa++)l[fa]=D[G];return l},Rf=function(l){return l>=2*Math.PI?l-2*Math.PI:l},of=function(l,D,G){return Hg(l)?{points:Gi(0,D,Gi(1,G,l.points))}:{}},Pg=function(l,D,G){D=D/l.width*l.fontSize;if(1>D)return null;l=Wi(l.text,Vi({fontSize:D,fontFamily:l.fontFamily}));return{size:D,baseline:l.baseline+(G-l.height)}},
Jl=function(l,D,G,T){var fa=Dg(l),na=fa[0],Aa=fa[1],za=fa[2],Ga=fa[3];switch(D){case "se":var Ua=Math.max((G-na)/(za-na),(T-Aa)/(Ga-Aa));var Pa=function(sb,vb,ec){var Zb=vb[0];vb=vb[1];return{x:sb.x+(Zb-na)*(Ua-1)+Zb-ec[0],y:sb.y+(vb-Aa)*(Ua-1)+vb-ec[1]}};break;case "nw":Ua=Math.max((za-G)/(za-na),(Ga-T)/(Ga-Aa));Pa=function(sb,vb,ec){var Zb=vb[2];vb=vb[3];return{x:sb.x-(za-Zb)*(Ua-1)+Zb-ec[2],y:sb.y-(Ga-vb)*(Ua-1)+vb-ec[3]}};break;case "ne":Ua=Math.max((G-na)/(za-na),(Ga-T)/(Ga-Aa));Pa=function(sb,
vb,ec){var Zb=vb[0];vb=vb[3];return{x:sb.x+(Zb-na)*(Ua-1)+Zb-ec[0],y:sb.y-(Ga-vb)*(Ua-1)+vb-ec[3]}};break;case "sw":Ua=Math.max((za-G)/(za-na),(T-Aa)/(Ga-Aa)),Pa=function(sb,vb,ec){var Zb=vb[1];vb=vb[2];return{x:sb.x-(za-vb)*(Ua-1)+vb-ec[2],y:sb.y+(Zb-Aa)*(Ua-1)+Zb-ec[1]}}}if(0<Ua){var mb=l.reduce(function(sb,vb){if(!sb)return sb;var ec=vb.width*Ua,Zb=vb.height*Ua,Ac={};if("text"===vb.type){Ac=Pg(vb,ec,Zb);if(null===Ac)return null;Ac={fontSize:Ac.size,baseline:Ac.baseline}}var gd=jg(vb),kd=of(vb,
ec,Zb);Ai(vb,{newSize:{width:ec,height:Zb},simultaneouslyUpdated:l});var xd=Tg(Gc(Gc({},vb),kd),ec,Zb);gd=Pa(vb,gd,xd);vb=gd.x;gd=gd.y;return ej(ej([],sb),[Gc(Gc({width:ec,height:Zb,x:vb,y:gd},kd),Ac)])},[]);mb&&l.forEach(function(sb,vb){nf(sb,mb[vb])})}},rl=function(l,D,G,T,fa,na,Aa){var za=5*Math.PI/2+Math.atan2(T-Aa,G-na);fa&&(za+=hc.ay/2,za-=za%hc.ay);D.forEach(function(Ga,Ua){var Pa,mb,sb=jg(Ga);Ua=(sb[0]+sb[2])/2;sb=(sb[1]+sb[3])/2;var vb=null!==(Pa=null===(mb=l.originalElements.get(Ga.id))||
void 0===mb?void 0:mb.angle)&&void 0!==Pa?Pa:Ga.angle;Pa=Hf(Ua,sb,na,Aa,za+vb-Ga.angle);nf(Ga,{x:Ga.x+(Pa[0]-Ua),y:Ga.y+(Pa[1]-sb),angle:Rf(za+vb)})})},li=function(l,D,G,T,fa,na,Aa,za,Ga,Ua){var Pa;Ga&&(Aa=(Pa=Ye(D,Aa,na<T?-za:za)).width,0>(za=Pa.height)&&(za=-za));D=fa<G?G-Aa:G;na=na<T?T-za:T;Ua&&(D=G-(Aa+=Aa)/2,na=T-(za+=za)/2);0!==Aa&&0!==za&&nf(l,{x:D,y:na,width:Aa,height:za})},sl=function(l){return l.replace(/\t/g,"        ").replace(/\r?\n|\r/g,"\n")},qk=function(l){var D=Wi(l.text,Vi(l));nf(l,
{width:D.width,height:D.height,baseline:D.baseline})},th=function(l,D){return!(l.viewModeEnabled||!l.editingElement&&!wf(D,l).length&&"selection"===l.elementType)},Nk=function(l){return l.filter(function(D){return D.isDeleted||!Rh(D)})},$i=function(l){return l.reduce(function(D,G){return D[G.id]=G,D},{})},cl=function(l){return l.reduce(function(D,G){return D+G.version},0)},je=function(l){return l.filter(function(D){return!D.isDeleted})},Ef=function(l){return je(l).map(function(D){return hj(D.type)?
Dc(Dc({},D),{},{lastCommittedPoint:null}):D})},ki=function(l,D,G){var T=[l.horizontal,l.vertical].map(function(fa){return null!=fa&&fa.x<=D&&D<=fa.x+fa.width&&fa.y<=G&&G<=fa.y+fa.height});l=T[0];T=T[1];return{isOverEither:l||T,isOverHorizontal:l,isOverVertical:T}},lg=function(l,D){return l.some(function(G){return D.selectedElementIds[G.id]})},wf=function(l,D){return l.filter(function(G){return D.selectedElementIds[G.id]})},kk=function(l,D){return D.editingElement?[D.editingElement]:wf(l,D)},Xi=function(l){var D=
l.scenePoint,G=l.viewportDimensions;l=l.zoom;return{scrollX:G.width/2*(1/l.value)-D.x-1/l.value*l.translation.x,scrollY:G.height/2*(1/l.value)-D.y-1/l.value*l.translation.y}},mi=function(l,D,G){var T;if(!l.length)return{scrollX:0,scrollY:0};var fa=Dg(l);G=fa[0];var na=fa[1],Aa=fa[2];fa=fa[3];return function(za,Ga,Ua){Ga=Ua[2];var Pa=Ua[3],mb=oh({sceneX:Ua[0],sceneY:Ua[1]},za);Ua=mb.x;mb=mb.y;Ga=oh({sceneX:Ga,sceneY:Pa},za);Pa=Ga.y;return Ga.x-Ua>za.width||Pa-mb>za.height}(D,0,[G,na,Aa,fa])&&(G=(T=
function(za,Ga){if(!za.length)return[0,0,0,0];var Ua=1/0,Pa=za[0];return za.forEach(function(mb){var sb=si(mb);sb=Math.hypot(Ga.x-(sb[0]+sb[2])/2,Ga.y-(sb[1]+sb[3])/2);sb<Ua&&(Ua=sb,Pa=mb)}),si(Pa)}(l,vg({clientX:D.scrollX,clientY:D.scrollY},D)))[0],na=T[1],Aa=T[2],fa=T[3]),Xi({scenePoint:{x:(G+Aa)/2,y:(na+fa)/2},viewportDimensions:{width:D.width,height:D.height},zoom:D.zoom})},Oj=function(l){return"rectangle"===l||"ellipse"===l||"diamond"===l||"draw"===l||"line"===l},Wf=function(l){return"rectangle"===
l||"ellipse"===l||"diamond"===l||"arrow"===l||"draw"===l||"line"===l},rk=function(l){return"rectangle"===l||"arrow"===l||"draw"===l||"line"===l},ni=function(l,D){for(var G=null,T=l.length-1;0<=T;--T){var fa=l[T];if(!fa.isDeleted&&D(fa)){G=fa;break}}return G},ci=function(l,D,G,T){return void 0===T&&(T={x:0,y:0}),{value:l,translation:{x:T.x-G.left-l/D.value*(T.x-G.left-D.translation.x),y:T.y-G.top-l/D.value*(T.y-G.top-D.translation.y)}}},Sj=function(l){l=parseFloat(l.toFixed(2));return Math.max(.1,
Math.min(l,10))},lf=(g(9478),Ha().forwardRef(function(l,D){var G=Ha().useRef(null);Ha().useImperativeHandle(D,function(){return G.current});D="ToolIcon_size_".concat(l.size||"m");return"button"===l.type?Ha().createElement("button",{className:oc("ToolIcon_type_button",D,l.className,l.visible&&!l.hidden?"ToolIcon_type_button--show":"ToolIcon_type_button--hide",{ToolIcon:!l.hidden,"ToolIcon--selected":l.selected}),hidden:l.hidden,title:l.title,"aria-label":l["aria-label"],type:"button",onClick:l.onClick,
ref:G},Ha().createElement("div",{className:"ToolIcon__icon","aria-hidden":"true"},l.icon||l.label,l.keyBindingLabel&&Ha().createElement("span",{className:"ToolIcon__keybinding"},l.keyBindingLabel)),l.showAriaLabel&&Ha().createElement("div",{className:"ToolIcon__label"},l["aria-label"]),l.children):Ha().createElement("label",{className:oc("ToolIcon",l.className),title:l.title},Ha().createElement("input",{className:"ToolIcon_type_radio ".concat(D),type:"radio",name:l.name,"aria-label":l["aria-label"],
"aria-keyshortcuts":l["aria-keyshortcuts"],"data-testid":l["data-testid"],id:l.id,onChange:l.onChange,checked:l.checked,ref:G}),Ha().createElement("div",{className:"ToolIcon__icon"},l.icon,l.keyBindingLabel&&Ha().createElement("span",{className:"ToolIcon__keybinding"},l.keyBindingLabel)))}));lf.defaultProps={visible:!0,className:""};var Ag=function(l){return"light"===l?Je.$y[4]:Je.$y[9]},Ae=function(l){return"light"===l?Je.Sn:Je.MA[4]},Jg=function(l){return"light"===l?Je.ix:"#1e1e1e"},ye=function(l,
D){void 0===D&&(D=512);D="number"==typeof D?{width:D}:D;var G=D.width;G=void 0===G?512:G;var T=D.height;T=void 0===T?G:T;var fa=D.mirror;D=D.style;return Ha().createElement("svg",{"aria-hidden":"true",focusable:"false",role:"img",viewBox:"0 0 ".concat(G," ").concat(T),className:oc({"rtl-mirror":fa}),style:D},"string"==typeof l?Ha().createElement("path",{fill:"currentColor",d:l}):l)},tl=ye("M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z",
{mirror:!0}),He=ye("M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z",{width:448,height:512}),Fm=ye("M252 54L203 8a28 27 0 00-20-8H28C12 0 0 12 0 27v195c0 15 12 26 28 26h204c15 0 28-11 28-26V73a28 27 0 00-8-19zM130 213c-21 0-37-16-37-36 0-19 16-35 37-35 20 0 37 16 37 35 0 20-17 36-37 36zm56-169v56c0 4-4 6-7 6H44c-4 0-7-2-7-6V42c0-4 3-7 7-7h133l4 2 3 2a7 7 0 012 5z M296 201l87 95-188 205-78 9c-10 1-19-8-18-20l9-84zm141-14l-41-44a31 31 0 00-46 0l-38 41 87 95 38-42c13-14 13-36 0-50z",
{width:448,height:512}),om=ye("M572.694 292.093L500.27 416.248A63.997 63.997 0 0 1 444.989 448H45.025c-18.523 0-30.064-20.093-20.731-36.093l72.424-124.155A64 64 0 0 1 152 256h399.964c18.523 0 30.064 20.093 20.73 36.093zM152 224h328v-48c0-26.51-21.49-48-48-48H272l-64-64H48C21.49 64 0 85.49 0 112v278.046l69.077-118.418C86.214 242.25 117.989 224 152 224z",{width:576,height:512,mirror:!0}),tk=ye("M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z",
{width:384,height:512}),Ri=ye("M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z",{width:448,height:512}),Oh=ye("M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"),
wh=ye("M384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128zM571 308l-95.7-96.4c-10.1-10.1-27.4-3-27.4 11.3V288h-64v64h64v65.2c0 14.3 17.3 21.4 27.4 11.3L571 332c6.6-6.6 6.6-17.4 0-24zm-379 28v-32c0-8.8 7.2-16 16-16h176V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V352H208c-8.8 0-16-7.2-16-16z",{width:576,height:512,mirror:!0}),oi=ye("M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",
{width:448,height:512}),Ej=ye("M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),sk=ye("M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"),Sk=ye("M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"),
nh=ye("M255.545 8c-66.269.119-126.438 26.233-170.86 68.685L48.971 40.971C33.851 25.851 8 36.559 8 57.941V192c0 13.255 10.745 24 24 24h134.059c21.382 0 32.09-25.851 16.971-40.971l-41.75-41.75c30.864-28.899 70.801-44.907 113.23-45.273 92.398-.798 170.283 73.977 169.484 169.442C423.236 348.009 349.816 424 256 424c-41.127 0-79.997-14.678-110.63-41.556-4.743-4.161-11.906-3.908-16.368.553L89.34 422.659c-4.872 4.872-4.631 12.815.482 17.433C133.798 479.813 192.074 504 256 504c136.966 0 247.999-111.033 248-247.998C504.001 119.193 392.354 7.755 255.545 8z",
{mirror:!0}),Fj=ye("M256.455 8c66.269.119 126.437 26.233 170.859 68.685l35.715-35.715C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.75c-30.864-28.899-70.801-44.907-113.23-45.273-92.398-.798-170.283 73.977-169.484 169.442C88.764 348.009 162.184 424 256 424c41.127 0 79.997-14.678 110.629-41.556 4.743-4.161 11.906-3.908 16.368.553l39.662 39.662c4.872 4.872 4.631 12.815-.482 17.433C378.202 479.813 319.926 504 256 504 119.034 504 8.001 392.967 8 256.002 7.999 119.193 119.646 7.755 256.455 8z",
{mirror:!0}),hd=ye("M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z",
{mirror:!0}),ee=(ye("M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z",{width:24,height:24}),ye("M16 5l-1.42 1.42-1.59-1.59V16h-1.98V4.83L9.42 6.42 8 5l4-4 4 4zm4 5v11c0 1.1-.9 2-2 2H6c-1.11 0-2-.9-2-2V10c0-1.11.89-2 2-2h3v2H6v11h12V10h-3V8h3c1.1 0 2 .89 2 2z",
{width:24,height:24}),ye(Ha().createElement("path",{stroke:"currentColor",strokeWidth:"40",fill:"currentColor",d:"M148 560a318 318 0 0 0 522 110 316 316 0 0 0 0-450 316 316 0 0 0-450 0c-11 11-21 22-30 34v4h47c25 0 46 21 46 46s-21 45-46 45H90c-13 0-25-6-33-14-9-9-14-20-14-33V156c0-25 20-45 45-45s45 20 45 45v32l1 1a401 401 0 0 1 623 509l212 212a42 42 0 0 1-59 59L698 757A401 401 0 0 1 65 570a42 42 0 0 1 83-10z"}),{width:1024})),vd=Ha().memo(function(l){l=l.appearance;return ye(Ha().createElement(Ha().Fragment,
null,Ha().createElement("path",{d:"M22 9.556C22 8.696 21.303 8 20.444 8H16v8H8v4.444C8 21.304 8.697 22 9.556 22h10.888c.86 0 1.556-.697 1.556-1.556V9.556z",fill:Ae(l),stroke:Ae(l),strokeWidth:"2"}),Ha().createElement("path",{d:"M16 3.556C16 2.696 15.303 2 14.444 2H3.556C2.696 2 2 2.697 2 3.556v10.888C2 15.304 2.697 16 3.556 16h10.888c.86 0 1.556-.697 1.556-1.556V3.556z",fill:Ag(l),stroke:Ag(l),strokeWidth:"2"})),{width:24,mirror:!0})}),Nd=Ha().memo(function(l){l=l.appearance;return ye(Ha().createElement(Ha().Fragment,
null,Ha().createElement("path",{d:"M16 3.556C16 2.696 15.303 2 14.444 2H3.556C2.696 2 2 2.697 2 3.556v10.888C2 15.304 2.697 16 3.556 16h10.888c.86 0 1.556-.697 1.556-1.556V3.556z",fill:Ag(l),stroke:Ag(l),strokeWidth:"2"}),Ha().createElement("path",{d:"M22 9.556C22 8.696 21.303 8 20.444 8H9.556C8.696 8 8 8.697 8 9.556v10.888C8 21.304 8.697 22 9.556 22h10.888c.86 0 1.556-.697 1.556-1.556V9.556z",fill:Ae(l),stroke:Ae(l),strokeWidth:"2"})),{width:24,mirror:!0})}),pi=Ha().memo(function(l){l=l.appearance;
return ye(Ha().createElement(Ha().Fragment,null,Ha().createElement("path",{d:"M13 21a1 1 0 001 1h7a1 1 0 001-1v-7a1 1 0 00-1-1h-3v5h-5v3zM11 3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h3V6h5V3z",fill:Ae(l),stroke:Ae(l),strokeWidth:"2"}),Ha().createElement("path",{d:"M18 7.333C18 6.597 17.403 6 16.667 6H7.333C6.597 6 6 6.597 6 7.333v9.334C6 17.403 6.597 18 7.333 18h9.334c.736 0 1.333-.597 1.333-1.333V7.333z",fill:Ag(l),stroke:Ag(l),strokeWidth:"2"})),{width:24,mirror:!0})}),Gf=Ha().memo(function(l){l=
l.appearance;return ye(Ha().createElement(Ha().Fragment,null,Ha().createElement("path",{d:"M18 7.333C18 6.597 17.403 6 16.667 6H7.333C6.597 6 6 6.597 6 7.333v9.334C6 17.403 6.597 18 7.333 18h9.334c.736 0 1.333-.597 1.333-1.333V7.333z",fill:Ag(l),stroke:Ag(l),strokeLinejoin:"round",strokeWidth:"2"}),Ha().createElement("path",{d:"M11 3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h8V3zM22 14a1 1 0 00-1-1h-7a1 1 0 00-1 1v7a1 1 0 001 1h8v-8z",fill:Ae(l),stroke:Ae(l),strokeLinejoin:"round",strokeWidth:"2"})),
{width:24,mirror:!0})}),Ih=Ha().memo(function(l){l=l.appearance;return ye(Ha().createElement(Ha().Fragment,null,Ha().createElement("path",{d:"M 2,5 H 22",fill:Ae(l),stroke:Ae(l),strokeWidth:"2",strokeLinecap:"round"}),Ha().createElement("path",{d:"M 6,7 C 5.446,7 5,7.446 5,8 v 9.999992 c 0,0.554 0.446,1 1,1 h 3.0000001 c 0.554,0 0.9999999,-0.446 0.9999999,-1 V 8 C 10,7.446 9.5540001,7 9.0000001,7 Z m 9,0 c -0.554,0 -1,0.446 -1,1 v 5.999992 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 V 8 C 19,7.446 18.554,7 18,7 Z",
fill:Ag(l),stroke:Ag(l),strokeWidth:"2"})),{width:24,mirror:!0})}),sg=Ha().memo(function(l){l=l.appearance;return ye(Ha().createElement(Ha().Fragment,null,Ha().createElement("path",{d:"M 2,19 H 22",fill:Ae(l),stroke:Ae(l),strokeWidth:"2",strokeLinecap:"round"}),Ha().createElement("path",{d:"m 6,16.999992 c -0.554,0 -1,-0.446 -1,-1 V 6 C 5,5.446 5.446,5 6,5 H 9.0000001 C 9.5540001,5 10,5.446 10,6 v 9.999992 c 0,0.554 -0.4459999,1 -0.9999999,1 z m 9,0 c -0.554,0 -1,-0.446 -1,-1 V 10 c 0,-0.554 0.446,-1 1,-1 h 3 c 0.554,0 1,0.446 1,1 v 5.999992 c 0,0.554 -0.446,1 -1,1 z",
fill:Ag(l),stroke:Ag(l),strokeWidth:"2"})),{width:24,mirror:!0})}),Aj=Ha().memo(function(l){l=l.appearance;return ye(Ha().createElement(Ha().Fragment,null,Ha().createElement("path",{d:"M 5,2 V 22",fill:Ae(l),stroke:Ae(l),strokeWidth:"2",strokeLinecap:"round"}),Ha().createElement("path",{d:"m 7.000004,5.999996 c 0,-0.554 0.446,-1 1,-1 h 9.999992 c 0.554,0 1,0.446 1,1 v 3.0000001 c 0,0.554 -0.446,0.9999999 -1,0.9999999 H 8.000004 c -0.554,0 -1,-0.4459999 -1,-0.9999999 z m 0,9 c 0,-0.554 0.446,-1 1,-1 h 5.999992 c 0.554,0 1,0.446 1,1 v 3 c 0,0.554 -0.446,1 -1,1 H 8.000004 c -0.554,0 -1,-0.446 -1,-1 z",
fill:Ag(l),stroke:Ag(l),strokeWidth:"2"})),{width:24})}),jd=Ha().memo(function(l){l=l.appearance;return ye(Ha().createElement(Ha().Fragment,null,Ha().createElement("path",{d:"M 19,2 V 22",fill:Ae(l),stroke:Ae(l),strokeWidth:"2",strokeLinecap:"round"}),Ha().createElement("path",{d:"m 16.999996,5.999996 c 0,-0.554 -0.446,-1 -1,-1 H 6.000004 c -0.554,0 -1,0.446 -1,1 v 3.0000001 c 0,0.554 0.446,0.9999999 1,0.9999999 h 9.999992 c 0.554,0 1,-0.4459999 1,-0.9999999 z m 0,9 c 0,-0.554 -0.446,-1 -1,-1 h -5.999992 c -0.554,0 -1,0.446 -1,1 v 3 c 0,0.554 0.446,1 1,1 h 5.999992 c 0.554,0 1,-0.446 1,-1 z",
fill:Ag(l),stroke:Ag(l),strokeWidth:"2"})),{width:24})}),qd=Ha().memo(function(l){l=l.appearance;return ye(Ha().createElement(Ha().Fragment,null,Ha().createElement("path",{d:"M5 5V19Z",fill:"black"}),Ha().createElement("path",{d:"M19 5V19M5 5V19",stroke:Ae(l),strokeWidth:"2",strokeLinecap:"round"}),Ha().createElement("path",{d:"M15 9C15.554 9 16 9.446 16 10V14C16 14.554 15.554 15 15 15H9C8.446 15 8 14.554 8 14V10C8 9.446 8.446 9 9 9H15Z",fill:Ag(l),stroke:Ag(l),strokeWidth:"2"})),{width:24})}),Qg=
Ha().memo(function(l){l=l.appearance;return ye(Ha().createElement(Ha().Fragment,null,Ha().createElement("path",{d:"M5 5L19 5M5 19H19",fill:Ae(l),stroke:Ae(l),strokeWidth:"2",strokeLinecap:"round"}),Ha().createElement("path",{d:"M15 9C15.554 9 16 9.446 16 10V14C16 14.554 15.554 15 15 15H9C8.446 15 8 14.554 8 14V10C8 9.446 8.446 9 9 9H15Z",fill:Ag(l),stroke:Ag(l),strokeWidth:"2"})),{width:24})}),dd=Ha().memo(function(l){l=l.appearance;return ye(Ha().createElement(Ha().Fragment,null,Ha().createElement("path",
{d:"m 5.000004,16.999996 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 v -10 c 0,-0.554 -0.446,-1 -1,-1 h -3 c -0.554,0 -1,0.446 -1,1 z m 9,-2 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 v -6 c 0,-0.554 -0.446,-1 -1,-1 h -3 c -0.554,0 -1,0.446 -1,1 z",fill:Ag(l),stroke:Ag(l),strokeWidth:"2"}),Ha().createElement("path",{d:"M 2,12 H 22",fill:Ae(l),stroke:Ae(l),strokeWidth:"2",strokeDasharray:"1, 2.8",strokeLinecap:"round"})),{width:24,mirror:!0})}),Tk=Ha().memo(function(l){l=l.appearance;
return ye(Ha().createElement(Ha().Fragment,null,Ha().createElement("path",{d:"M 7 5 C 6.446 5 6 5.446 6 6 L 6 9 C 6 9.554 6.446 10 7 10 L 17 10 C 17.554 10 18 9.554 18 9 L 18 6 C 18 5.446 17.554 5 17 5 L 7 5 z M 9 14 C 8.446 14 8 14.446 8 15 L 8 18 C 8 18.554 8.446 19 9 19 L 15 19 C 15.554 19 16 18.554 16 18 L 16 15 C 16 14.446 15.554 14 15 14 L 9 14 z ",fill:Ag(l),stroke:Ag(l),strokeWidth:"2"}),Ha().createElement("path",{d:"M 12,2 V 22",fill:Ae(l),stroke:Ae(l),strokeWidth:"2",strokeDasharray:"1, 2.8",
strokeLinecap:"round"})),{width:24})}),Kl=ye("M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z",
{width:640,height:512,mirror:!0}),uj=(ye("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z"),ye("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm96 328c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h160c8.8 0 16 7.2 16 16v160z"),ye("M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z",
{width:352,height:512})),mh=ye("M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z",{width:320,height:512,style:{marginLeft:"-0.2rem"},mirror:!0}),ug=ye("M464 0c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48H176c-26.51 0-48-21.49-48-48V48c0-26.51 21.49-48 48-48h288M176 416c-44.112 0-80-35.888-80-80V128H48c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48v-48H176z",
{mirror:!0}),Zd=ye("M11.553 22.894a.998.998 0 00.894 0s3.037-1.516 5.465-4.097C19.616 16.987 21 14.663 21 12V5a1 1 0 00-.649-.936l-8-3a.998.998 0 00-.702 0l-8 3A1 1 0 003 5v7c0 2.663 1.384 4.987 3.088 6.797 2.428 2.581 5.465 4.097 5.465 4.097zm-1.303-8.481l6.644-6.644a.856.856 0 111.212 1.212l-7.25 7.25a.856.856 0 01-1.212 0l-3.75-3.75a.856.856 0 111.212-1.212l3.144 3.144z",{width:24}),uf=Ha().memo(function(l){l=l.appearance;return ye(Ha().createElement(Ha().Fragment,null,Ha().createElement("path",
{d:"M25 26H111V111H25",fill:Ae(l)}),Ha().createElement("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:Ae(l),strokeWidth:"2"}),Ha().createElement("path",{d:"M100 100H160V160H100",fill:Ae(l)}),Ha().createElement("path",
{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:Ae(l),strokeWidth:"2"}),Ha().createElement("rect",{x:"2.5",y:"2.5",width:"30",height:"30",fill:Jg(l),stroke:Ae(l),strokeWidth:"6"}),Ha().createElement("rect",
{x:"2.5",y:"149.5",width:"30",height:"30",fill:Jg(l),stroke:Ae(l),strokeWidth:"6"}),Ha().createElement("rect",{x:"147.5",y:"149.5",width:"30",height:"30",fill:Jg(l),stroke:Ae(l),strokeWidth:"6"}),Ha().createElement("rect",{x:"147.5",y:"2.5",width:"30",height:"30",fill:Jg(l),stroke:Ae(l),strokeWidth:"6"})),{width:182,height:182,mirror:!0})}),Ok=Ha().memo(function(l){l=l.appearance;return ye(Ha().createElement(Ha().Fragment,null,Ha().createElement("path",{d:"M25 26H111V111H25",fill:Ae(l)}),Ha().createElement("path",
{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:Ae(l),strokeWidth:"2"}),Ha().createElement("path",{d:"M100 100H160V160H100",fill:Ae(l)}),Ha().createElement("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",
stroke:Ae(l),strokeWidth:"2"}),Ha().createElement("rect",{x:"2.5",y:"2.5",width:"30",height:"30",fill:Jg(l),stroke:Ae(l),strokeWidth:"6"}),Ha().createElement("rect",{x:"78.5",y:"149.5",width:"30",height:"30",fill:Jg(l),stroke:Ae(l),strokeWidth:"6"}),Ha().createElement("rect",{x:"147.5",y:"149.5",width:"30",height:"30",fill:Jg(l),stroke:Ae(l),strokeWidth:"6"}),Ha().createElement("rect",{x:"147.5",y:"78.5",width:"30",height:"30",fill:Jg(l),stroke:Ae(l),strokeWidth:"6"}),Ha().createElement("rect",{x:"105.5",
y:"2.5",width:"30",height:"30",fill:Jg(l),stroke:Ae(l),strokeWidth:"6"}),Ha().createElement("rect",{x:"2.5",y:"102.5",width:"30",height:"30",fill:Jg(l),stroke:Ae(l),strokeWidth:"6"})),{width:182,height:182,mirror:!0})}),Uk=Ha().memo(function(l){l=l.appearance;return ye(Ha().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.101 16H28.0934L36 8.95989V4H33.5779L20.101 16ZM30.5704 4L17.0935 16H9.10101L22.5779 4H30.5704ZM19.5704 4L6.09349 16H4V10.7475L11.5779 4H19.5704ZM8.57036 4H4V8.06952L8.57036 4ZM36 11.6378L31.101 16H36V11.6378ZM2 2V18H38V2H2Z",
fill:Ae(l)}),{width:40,height:20})}),ge=Ha().memo(function(l){l=l.appearance;return ye(Ha().createElement("g",{fill:Ae(l),fillRule:"evenodd",clipRule:"evenodd"},Ha().createElement("path",{d:"M20.101 16H28.0934L36 8.95989V4H33.5779L20.101 16ZM30.5704 4L17.0935 16H9.10101L22.5779 4H30.5704ZM19.5704 4L6.09349 16H4V10.7475L11.5779 4H19.5704ZM8.57036 4H4V8.06952L8.57036 4ZM36 11.6378L31.101 16H36V11.6378ZM2 2V18H38V2H2Z"}),Ha().createElement("path",{d:"M14.0001 18L3.00006 4.00002L4.5727 2.76438L15.5727 16.7644L14.0001 18ZM25.0001 18L14.0001 4.00002L15.5727 2.76438L26.5727 16.7644L25.0001 18ZM36.0001 18L25.0001 4.00002L26.5727 2.76438L37.5727 16.7644L36.0001 18Z"})),
{width:40,height:20})}),pm=Ha().memo(function(l){l=l.appearance;return ye(Ha().createElement("path",{d:"M2 2H38V18H2V2Z",fill:Ae(l)}),{width:40,height:20})}),aj=Ha().memo(function(l){var D=l.appearance;l=l.strokeWidth;return ye(Ha().createElement("path",{d:"M6 10H34",stroke:Ae(D),strokeWidth:l,fill:"none"}),{width:40,height:20})}),be=Ha().memo(function(l){l=l.appearance;return ye(Ha().createElement("path",{d:"M6 10H34",stroke:Ae(l),strokeWidth:2,fill:"none"}),{width:40,height:20})}),el=Ha().memo(function(l){l=
l.appearance;return ye(Ha().createElement("path",{d:"M6 10H34",stroke:Ae(l),strokeWidth:2.5,strokeDasharray:"10, 8",fill:"none"}),{width:40,height:20})}),eg=Ha().memo(function(l){l=l.appearance;return ye(Ha().createElement("path",{d:"M6 10H34",stroke:Ae(l),strokeWidth:2.5,strokeDasharray:"4, 4",fill:"none"}),{width:40,height:20})}),Si=Ha().memo(function(l){l=l.appearance;return ye(Ha().createElement("path",{d:"M3.00098 16.1691C6.28774 13.9744 19.6399 2.8905 22.7215 3.00082C25.8041 3.11113 19.1158 15.5488 21.4962 16.8309C23.8757 18.1131 34.4155 11.7148 37.0001 10.6919",
stroke:Ae(l),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),zm=Ha().memo(function(l){l=l.appearance;return ye(Ha().createElement("path",{d:"M3 17C6.68158 14.8752 16.1296 9.09849 22.0648 6.54922C28 3.99995 22.2896 13.3209 25 14C27.7104 14.6791 36.3757 9.6471 36.3757 9.6471M6.40706 15C13 11.1918 20.0468 1.51045 23.0234 3.0052C26 4.49995 20.457 12.8659 22.7285 16.4329C25 20 36.3757 13 36.3757 13",stroke:Ae(l),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),uk=Ha().memo(function(l){l=
l.appearance;return ye(Ha().createElement("path",{d:"M3 15.6468C6.93692 13.5378 22.5544 2.81528 26.6206 3.00242C30.6877 3.18956 25.6708 15.3346 27.4009 16.7705C29.1309 18.2055 35.4001 12.4762 37 11.6177M3.97143 10.4917C6.61158 9.24563 16.3706 2.61886 19.8104 3.01724C23.2522 3.41472 22.0773 12.2013 24.6181 12.8783C27.1598 13.5536 33.3179 8.04068 35.0571 7.07244",stroke:Ae(l),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),fl=Ha().memo(function(l){l=l.appearance;return ye(Ha().createElement("path",
{d:"M10 17L10 5L35 5",stroke:Ae(l),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),Vk=Ha().memo(function(l){l=l.appearance;return ye(Ha().createElement("path",{d:"M10 17V15C10 8 13 5 21 5L33.5 5",stroke:Ae(l),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),Pk=Ha().memo(function(l){l=l.appearance;return ye(Ha().createElement("path",{d:"M6 10H34",stroke:Ae(l),strokeWidth:2,fill:"none"}),{width:40,height:20})}),Jh=Ha().memo(function(l){var D=l.appearance;l=l.flip;l=void 0!==
l&&l;return ye(Ha().createElement("g",{transform:l?"translate(40, 0) scale(-1, 1)":"",stroke:Ae(D),strokeWidth:2,fill:"none"},Ha().createElement("path",{d:"M34 10H6M34 10L27 5M34 10L27 15"}),Ha().createElement("path",{d:"M27.5 5L34.5 10L27.5 15"})),{width:40,height:20})}),Vm=Ha().memo(function(l){var D=l.appearance;l=l.flip;l=void 0!==l&&l;return ye(Ha().createElement("g",{stroke:Ae(D),fill:Ae(D),transform:l?"translate(40, 0) scale(-1, 1)":""},Ha().createElement("path",{d:"M32 10L6 10",strokeWidth:2}),
Ha().createElement("circle",{r:"4",transform:"matrix(-1 0 0 1 30 10)"})),{width:40,height:20})}),Hj=Ha().memo(function(l){var D=l.appearance;l=l.flip;l=void 0!==l&&l;return ye(Ha().createElement("g",{transform:l?"translate(40, 0) scale(-1, 1)":""},Ha().createElement("path",{d:"M34 10H5.99996M34 10L34 5M34 10L34 15",stroke:Ae(D),strokeWidth:2,fill:"none"})),{width:40,height:20})}),kg=[],re=function(l){return kg=kg.concat(l),l},sh=function(l,D){var G;return l.editingGroupId&&(D=ck(je(D),l.editingGroupId),
D.length)?Zc(Zc({},l),{},{selectedElementIds:(G={},G[D[0].id]=!0,G)}):l},Vg=re({name:"deleteSelectedElements",perform:function(l,D){if(D.editingLinearElement){var G=D.editingLinearElement,T=G.activePointIndex,fa=G.startBindingElement,na=G.endBindingElement,Aa=dg.getElement(G.elementId);if(!Aa)return!1;if(null==T||-1===T||2>Aa.points.length)return l=l.filter(function(za){return za.id!==Aa.id}),{elements:l,appState:Zc(Zc({},sh(D,l)),{},{editingLinearElement:null}),commitToHistory:!1};G={startBindingElement:0===
T?null:fa,endBindingElement:T===Aa.points.length-1?null:na};return dg.movePoint(Aa,T,"delete"),{elements:l,appState:Zc(Zc({},D),{},{editingLinearElement:Zc(Zc(Zc({},D.editingLinearElement),G),{},{activePointIndex:0<T?T-1:0})}),commitToHistory:!0}}G=function(za,Ga){return{elements:za.map(function(Ua){return Ga.selectedElementIds[Ua.id]?zg(Ua,{isDeleted:!0}):Ua}),appState:Zc(Zc({},Ga),{},{selectedElementIds:{}})}}(l,D);T=G.elements;G=G.appState;return tj(T,l.filter(function(za){return D.selectedElementIds[za.id]})),
{elements:T,appState:Zc(Zc({},G=sh(G,T)),{},{elementType:"selection",multiElement:null}),commitToHistory:lg(je(l),D)}},contextItemLabel:"labels.delete",keyTest:function(l){return"Backspace"===l.key||"Delete"===l.key},PanelComponent:function(l){var D=l.elements,G=l.appState,T=l.updateData;return Ha().createElement(lf,{type:"button",icon:Ri,title:La("labels.delete"),"aria-label":La("labels.delete"),onClick:function(){return T(null)},visible:lg(je(D),G)})}}),di=function(l,D){for(var G=0,T=D.length,fa=
l.length;G<T;G++,fa++)l[fa]=D[G];return l},Tl=function(l,D){for(var G=[],T=[],fa=null,na=-1;++na<l.length;)D.selectedElementIds[l[na].id]?(T.length&&(G=G.concat(T),T=[]),G.push(na),fa=na+1):l[na].isDeleted&&fa===na?(fa=na+1,T.push(na)):T=[];return G},Ph=function(l,D,G,T){var fa=D[G],na=function(Aa){return!Aa.isDeleted&&(!l.editingGroupId||Aa.groupIds.includes(l.editingGroupId))};G="left"===T?function(Aa,za,Ga){void 0===Ga&&(Ga=Aa.length-1);0>Ga&&(Ga=Aa.length+Ga);for(Ga=Math.min(Aa.length-1,Math.max(Ga,
0))+1;-1<--Ga;)if(za(Aa[Ga],Ga,Aa))return Ga;return-1}(D,na,Math.max(0,G-1)):function(Aa,za,Ga){void 0===Ga&&(Ga=0);0>Ga&&(Ga=Aa.length+Ga);for(Ga=Math.min(Aa.length,Math.max(Ga,0))-1;++Ga<Aa.length;)if(za(Aa[Ga],Ga,Aa))return Ga;return-1}(D,na,G+1);na=D[G];if(!na)return-1;if(l.editingGroupId){if((null==fa?void 0:fa.groupIds.join(""))===(null==na?void 0:na.groupIds.join("")))return G;if(null==na||!na.groupIds.includes(l.editingGroupId))return-1}if(!na.groupIds.length)return G;fa=l.editingGroupId?
na.groupIds[na.groupIds.indexOf(l.editingGroupId)-1]:na.groupIds[na.groupIds.length-1];fa=ck(D,fa);return fa.length?"left"===T?D.indexOf(fa[0]):D.indexOf(fa[fa.length-1]):G},te=function(l,D,G){var T,fa=Tl(D,l),na=(T=0,fa.reduce(function(Aa,za,Ga){return 0<Ga&&fa[Ga-1]!==za-1&&(T=++T),(Aa[T]||(Aa[T]=[])).push(za),Aa},[]));return"right"===G&&(na=na.reverse()),na.forEach(function(Aa,za){za=Aa[0];Aa=Aa[Aa.length-1];var Ga="left"===G?za:Aa,Ua=Ph(l,D,Ga,G);if(-1!==Ua&&Ga!==Ua){Ga="left"===G?D.slice(0,Ua):
D.slice(0,za);var Pa=D.slice(za,Aa+1);za="left"===G?D.slice(Ua,za):D.slice(Aa+1,Ua+1);Aa="left"===G?D.slice(Aa+1):D.slice(Ua+1);D=di("left"===G?di(di(di([],Ga),Pa),za):di(di(di([],Ga),za),Pa),Aa)}}),D},$g=function(l,D,G){var T=Tl(l,D),fa=[],na=[];if("left"===G){if(D.editingGroupId){if(!(D=ck(l,D.editingGroupId)).length)return l;var Aa=l.indexOf(D[0])}else Aa=0;D=T[T.length-1]}else{if(D.editingGroupId){if(!(D=ck(l,D.editingGroupId)).length)return l;D=l.indexOf(D[D.length-1])}else D=l.length-1;Aa=T[0]}for(var za=
Aa;za<D+1;za++)T.includes(za)?fa.push(l[za]):na.push(l[za]);T=l.slice(0,Aa);l=l.slice(D+1);return di("left"===G?di(di(di([],T),fa),na):di(di(di([],T),na),fa),l)},Am=re({name:"sendBackward",perform:function(l,D){return{elements:te(D,l.slice(),"left"),appState:D,commitToHistory:!0}},contextItemLabel:"labels.sendBackward",keyPriority:40,keyTest:function(l){return l[ef]&&!l.shiftKey&&"BracketLeft"===l.code},PanelComponent:function(l){var D=l.updateData;l=l.appState;return Ha().createElement("button",
{type:"button",className:"zIndexButton",onClick:function(){return D(null)},title:"".concat(La("labels.sendBackward")," — ").concat($d("CtrlOrCmd+["))},Ha().createElement(Nd,{appearance:l.appearance}))}}),ul=re({name:"bringForward",perform:function(l,D){return{elements:te(D,l.slice(),"right"),appState:D,commitToHistory:!0}},contextItemLabel:"labels.bringForward",keyPriority:40,keyTest:function(l){return l[ef]&&!l.shiftKey&&"BracketRight"===l.code},PanelComponent:function(l){var D=l.updateData;l=l.appState;
return Ha().createElement("button",{type:"button",className:"zIndexButton",onClick:function(){return D(null)},title:"".concat(La("labels.bringForward")," — ").concat($d("CtrlOrCmd+]"))},Ha().createElement(vd,{appearance:l.appearance}))}}),A=re({name:"sendToBack",perform:function(l,D){return{elements:$g(l,D,"left"),appState:D,commitToHistory:!0}},contextItemLabel:"labels.sendToBack",keyTest:function(l){return Mg?l[ef]&&l.altKey&&"BracketLeft"===l.code:l[ef]&&l.shiftKey&&"BracketLeft"===l.code},PanelComponent:function(l){var D=
l.updateData;l=l.appState;return Ha().createElement("button",{type:"button",className:"zIndexButton",onClick:function(){return D(null)},title:"".concat(La("labels.sendToBack")," — ").concat($d(Mg?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+["))},Ha().createElement(Gf,{appearance:l.appearance}))}}),Q=re({name:"bringToFront",perform:function(l,D){return{elements:$g(l,D,"right"),appState:D,commitToHistory:!0}},contextItemLabel:"labels.bringToFront",keyTest:function(l){return Mg?l[ef]&&l.altKey&&"BracketRight"===
l.code:l[ef]&&l.shiftKey&&"BracketRight"===l.code},PanelComponent:function(l){var D=l.updateData;l=l.appState;return Ha().createElement("button",{type:"button",className:"zIndexButton",onClick:function(G){return D(null)},title:"".concat(La("labels.bringToFront")," — ").concat($d(Mg?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]"))},Ha().createElement(pi,{appearance:l.appearance}))}}),la=re({name:"selectAll",perform:function(l,D){return!D.editingLinearElement&&{appState:Wh(ld(ld({},D),{},{editingGroupId:null,
selectedElementIds:l.reduce(function(G,T){return T.isDeleted||(G[T.id]=!0),G},{})}),je(l)),commitToHistory:!0}},contextItemLabel:"labels.selectAll",keyTest:function(l){return l[ef]&&"a"===l.key}}),ja=function(l,D){for(var G=0,T=D.length,fa=l.length;G<T;G++,fa++)l[fa]=D[G];return l},ta=re({name:"duplicateSelection",perform:function(l,D){if(D.editingLinearElement){var G=D.editingLinearElement,T=G.activePointIndex;G=dg.getElement(G.elementId);if(!G||null===T)return!1;var fa=G.points,na=fa[T],Aa=fa[T+
1];return nf(G,{points:ja(ja(ja([],fa.slice(0,T+1)),[Aa?[(na[0]+Aa[0])/2,(na[1]+Aa[1])/2]:[na[0]+30,na[1]+30]]),fa.slice(T+1))}),{appState:qe(qe({},D),{},{editingLinearElement:qe(qe({},D.editingLinearElement),{},{activePointIndex:T+1})}),elements:l,commitToHistory:!0}}return qe(qe({},Ia(l,D)),{},{commitToHistory:!0})},contextItemLabel:"labels.duplicateSelection",keyTest:function(l){return l[ef]&&"d"===l.key},PanelComponent:function(l){var D=l.elements,G=l.appState,T=l.updateData;return Ha().createElement(lf,
{type:"button",icon:ug,title:"".concat(La("labels.duplicateSelection")," — ").concat($d("CtrlOrCmd+D")),"aria-label":La("labels.duplicateSelection"),onClick:function(){return T(null)},visible:lg(je(D),G)})}}),Ia=function(l,D){for(var G=new Map,T=[],fa=[],na=new Map,Aa=function(mb){var sb=Yi(D.editingGroupId,G,mb,{x:mb.x+hc.k/2,y:mb.y+hc.k/2});return na.set(mb.id,sb.id),fa.push(mb),T.push(sb),sb},za=[],Ga=0;Ga<l.length;){var Ua=l[Ga];if(D.selectedElementIds[Ua.id]){if(Ua.groupIds.length){var Pa=Bh(D,
Ua);if(Pa){Ua=ck(l,Pa);za.push.apply(za,ja(ja([],Ua),Ua.map(function(mb){return Aa(mb)})));Ga+=Ua.length;continue}}za.push(Ua,Aa(Ua))}else za.push(Ua);Ga++}return Uj(za,fa,na),{elements:za,appState:Wh(qe(qe({},D),{},{selectedGroupIds:{},selectedElementIds:T.reduce(function(mb,sb){return mb[sb.id]=!0,mb},{})}),je(za))}},Sa=function(l){var D=l.options,G=l.value,T=l.onChange,fa=l.group;return Ha().createElement("div",{className:"buttonList buttonListIcon"},D.map(function(na){return Ha().createElement("label",
{key:na.text,className:oc({active:G===na.value}),title:na.text},Ha().createElement("input",{type:"radio",name:fa,onChange:function(){return T(na.value)},checked:G===na.value}),na.icon)}))},Wa=function(l){var D=l.options,G=l.value,T=l.onChange,fa=l.group;return Ha().createElement("div",{className:"buttonList"},D.map(function(na){return Ha().createElement("label",{key:na.text,className:oc({active:G===na.value})},Ha().createElement("input",{type:"radio",name:fa,onChange:function(){return T(na.value)},
checked:G===na.value}),na.text)}))},kb=(g(2816),function(l){var D=l.children,G=l.left,T=l.top,fa=l.onCloseRequest;l=l.fitInViewport;var na=void 0!==l&&l,Aa=(0,kc.useRef)(null);return(0,kc.useLayoutEffect)(function(){if(na&&Aa.current){var za=Aa.current,Ga=za.getBoundingClientRect(),Ua=Ga.y,Pa=Ga.width,mb=Ga.height,sb=window.innerWidth;Ga.x+Pa>sb&&(za.style.left="".concat(sb-Pa,"px"));Ga=window.innerHeight;Ua+mb>Ga&&(za.style.top="".concat(Ga-mb,"px"))}},[na]),(0,kc.useEffect)(function(){if(fa){var za=
function(Ga){var Ua;null!==(Ua=Aa.current)&&void 0!==Ua&&Ua.contains(Ga.target)||(0,$f.unstable_batchedUpdates)(function(){return fa(Ga)})};return document.addEventListener("pointerdown",za,!1),function(){return document.removeEventListener("pointerdown",za,!1)}}},[fa]),Ha().createElement("div",{className:"popover",style:{top:T,left:G},ref:Aa},D)}),Ib=(g(5574),function(l){var D=(new Option).style;return D.color=l,!!D.color}),Jb=[["1","2","3","4","5"],["q","w","e","r","t"],["a","s","d","f","g"]].flat(),
xc=function(l){var D=l.colors,G=l.color,T=l.onChange,fa=l.onClose,na=l.label,Aa=l.showInput,za=void 0===Aa||Aa;l=l.type;var Ga=Ha().useRef(),Ua=Ha().useRef(),Pa=Ha().useRef(),mb=Ha().useRef();Ha().useEffect(function(){Ua.current?Ua.current.focus():mb.current?mb.current.focus():Pa.current&&Pa.current.focus()},[]);return Ha().createElement("div",{className:"color-picker color-picker-type-".concat(l),role:"dialog","aria-modal":"true","aria-label":La("labels.colorPicker"),onKeyDown:function(sb){if("Tab"===
sb.key){var vb,ec=document.activeElement;if(sb.shiftKey)ec===Ga.current&&(null===(vb=mb.current)||void 0===vb||vb.focus(),sb.preventDefault());else if(ec===mb.current){var Zb;null===(Zb=Ga.current)||void 0===Zb||Zb.focus();sb.preventDefault()}}else yg(sb.key)?(ec=document.activeElement,vb=O.rtl,-1!==(Zb=Array.prototype.indexOf.call(Pa.current.children,ec))&&(ec=Pa.current.children.length-(za?1:0),Pa.current.children[sb.key===(vb?"ArrowLeft":"ArrowRight")?(Zb+1)%ec:sb.key===(vb?"ArrowRight":"ArrowLeft")?
(ec+Zb-1)%ec:"ArrowDown"===sb.key?(Zb+5)%ec:"ArrowUp"===sb.key?(ec+Zb-5)%ec:Zb].focus()),sb.preventDefault()):Jb.includes(sb.key.toLowerCase())&&!Eg(sb.target)?(Zb=Jb.indexOf(sb.key.toLowerCase()),Pa.current.children[Zb].focus(),sb.preventDefault()):"Escape"!==sb.key&&"Enter"!==sb.key||(sb.preventDefault(),fa());sb.nativeEvent.stopImmediatePropagation()}},Ha().createElement("div",{className:"color-picker-triangle color-picker-triangle-shadow"}),Ha().createElement("div",{className:"color-picker-triangle"}),
Ha().createElement("div",{className:"color-picker-content",ref:function(sb){sb&&(Pa.current=sb)},tabIndex:0},D.map(function(sb,vb){return Ha().createElement("button",{className:"color-picker-swatch",onClick:function(ec){ec.currentTarget.focus();T(sb)},title:"".concat(sb," — ").concat(Jb[vb].toUpperCase()),"aria-label":sb,"aria-keyshortcuts":Jb[vb],style:{color:sb},key:sb,ref:function(ec){ec&&0===vb&&(Ga.current=ec);ec&&sb===G&&(Ua.current=ec)},onFocus:function(){T(sb)}},"transparent"===sb?Ha().createElement("div",
{className:"color-picker-transparent"}):void 0,Ha().createElement("span",{className:"color-picker-keybinding"},Jb[vb]))}),za&&Ha().createElement(zc,{color:G,label:na,onChange:function(sb){T(sb)},ref:mb})))},zc=Ha().forwardRef(function(l,D){var G=l.color,T=l.onChange;l=l.label;var fa=Ha().useState(G),na=fa[0],Aa=fa[1],za=Ha().useRef(null);Ha().useEffect(function(){Aa(G)},[G]);Ha().useImperativeHandle(D,function(){return za.current});var Ga=Ha().useCallback(function(Ua){Ua=Ua.toLowerCase();var Pa;(Pa=
"transparent"===Ua||Ib(Ua)?Ua:Ib("#".concat(Ua))?"#".concat(Ua):null)&&T(Pa);Aa(Ua)},[T]);return Ha().createElement("label",{className:"color-input-container"},Ha().createElement("div",{className:"color-picker-hash"},"#"),Ha().createElement("input",{spellCheck:!1,className:"color-picker-input","aria-label":l,onChange:function(Ua){return Ga(Ua.target.value)},value:(na||"").replace(/^#/,""),onBlur:function(){return Aa(G)},ref:za}))}),mc=function(l){var D=l.type,G=l.color,T=l.onChange;l=l.label;var fa=
Ha().useState(!1),na=fa[0],Aa=fa[1],za=Ha().useRef(null);return Ha().createElement("div",null,Ha().createElement("div",{className:"color-picker-control-container"},Ha().createElement("button",{className:"color-picker-label-swatch","aria-label":l,style:G?{"--swatch-color":G}:void 0,onClick:function(){return Aa(!na)},ref:za}),Ha().createElement(zc,{color:G,label:l,onChange:function(Ga){T(Ga)}})),Ha().createElement(Ha().Suspense,{fallback:""},na?Ha().createElement(kb,{onCloseRequest:function(Ga){return Ga.target!==
za.current&&Aa(!1)}},Ha().createElement(xc,{colors:Ek[D],color:G||null,onChange:function(Ga){T(Ga)},onClose:function(){var Ga;Aa(!1);null===(Ga=za.current)||void 0===Ga||Ga.focus()},label:l,showInput:!1,type:D})):null))},ed=g(6950),Ud=g.n(ed);g(7143);var Be=function(l,D,G){return l.map(function(T){var fa;return D.selectedElementIds[T.id]||T.id===(null===(fa=D.editingElement)||void 0===fa?void 0:fa.id)?G(T):T})},rg=function(l,D,G,T){var fa,na,Aa=D.editingElement;l=je(l);return null!==(fa=null!==(na=
Aa&&G(Aa))&&void 0!==na?na:lg(l,D)?function(za,Ga,Ua){za=Array.from(new Set(wf(za,Ga).map(function(Pa){return Ua(Pa)})));return 1===za.length?za[0]:null}(l,D,G):T)&&void 0!==fa?fa:null},Ge=(re({name:"changeStrokeColor",perform:function(l,D,G){return{elements:Be(l,D,function(T){return zg(T,{strokeColor:G})}),appState:Ie(Ie({},D),{},{currentItemStrokeColor:G}),commitToHistory:!0}},PanelComponent:function(l){var D=l.elements,G=l.appState;l=l.updateData;return Ha().createElement(Ha().Fragment,null,Ha().createElement("h3",
{"aria-hidden":"true"},La("labels.stroke")),Ha().createElement(mc,{type:"elementStroke",label:La("labels.stroke"),color:rg(D,G,function(T){return T.strokeColor},G.currentItemStrokeColor),onChange:l}))}}),re({name:"changeBackgroundColor",perform:function(l,D,G){return{elements:Be(l,D,function(T){return zg(T,{backgroundColor:G})}),appState:Ie(Ie({},D),{},{currentItemBackgroundColor:G}),commitToHistory:!0}},PanelComponent:function(l){var D=l.elements,G=l.appState;l=l.updateData;return Ha().createElement(Ha().Fragment,
null,Ha().createElement("h3",{"aria-hidden":"true"},La("labels.background")),Ha().createElement(mc,{type:"elementBackground",label:La("labels.background"),color:rg(D,G,function(T){return T.backgroundColor},G.currentItemBackgroundColor),onChange:l}))}}),re({name:"changeFillStyle",perform:function(l,D,G){return{elements:Be(l,D,function(T){return zg(T,{fillStyle:G})}),appState:Ie(Ie({},D),{},{currentItemFillStyle:G}),commitToHistory:!0}},PanelComponent:function(l){var D=l.elements,G=l.appState,T=l.updateData;
return Ha().createElement("fieldset",null,Ha().createElement("legend",null,La("labels.fill")),Ha().createElement(Sa,{options:[{value:"hachure",text:La("labels.hachure"),icon:Ha().createElement(Uk,{appearance:G.appearance})},{value:"cross-hatch",text:La("labels.crossHatch"),icon:Ha().createElement(ge,{appearance:G.appearance})},{value:"solid",text:La("labels.solid"),icon:Ha().createElement(pm,{appearance:G.appearance})}],group:"fill",value:rg(D,G,function(fa){return fa.fillStyle},G.currentItemFillStyle),
onChange:function(fa){T(fa)}}))}}),re({name:"changeStrokeWidth",perform:function(l,D,G){return{elements:Be(l,D,function(T){return zg(T,{strokeWidth:G})}),appState:Ie(Ie({},D),{},{currentItemStrokeWidth:G}),commitToHistory:!0}},PanelComponent:function(l){var D=l.elements,G=l.appState,T=l.updateData;return Ha().createElement("fieldset",null,Ha().createElement("legend",null,La("labels.strokeWidth")),Ha().createElement(Sa,{group:"stroke-width",options:[{value:1,text:La("labels.thin"),icon:Ha().createElement(aj,
{appearance:G.appearance,strokeWidth:2})},{value:2,text:La("labels.bold"),icon:Ha().createElement(aj,{appearance:G.appearance,strokeWidth:6})},{value:4,text:La("labels.extraBold"),icon:Ha().createElement(aj,{appearance:G.appearance,strokeWidth:10})}],value:rg(D,G,function(fa){return fa.strokeWidth},G.currentItemStrokeWidth),onChange:function(fa){return T(fa)}}))}}),re({name:"changeSloppiness",perform:function(l,D,G){return{elements:Be(l,D,function(T){return zg(T,{seed:Zj(),roughness:G})}),appState:Ie(Ie({},
D),{},{currentItemRoughness:G}),commitToHistory:!0}},PanelComponent:function(l){var D=l.elements,G=l.appState,T=l.updateData;return Ha().createElement("fieldset",null,Ha().createElement("legend",null,La("labels.sloppiness")),Ha().createElement(Sa,{group:"sloppiness",options:[{value:0,text:La("labels.architect"),icon:Ha().createElement(Si,{appearance:G.appearance})},{value:1,text:La("labels.artist"),icon:Ha().createElement(zm,{appearance:G.appearance})},{value:2,text:La("labels.cartoonist"),icon:Ha().createElement(uk,
{appearance:G.appearance})}],value:rg(D,G,function(fa){return fa.roughness},G.currentItemRoughness),onChange:function(fa){return T(fa)}}))}}),re({name:"changeStrokeStyle",perform:function(l,D,G){return{elements:Be(l,D,function(T){return zg(T,{strokeStyle:G})}),appState:Ie(Ie({},D),{},{currentItemStrokeStyle:G}),commitToHistory:!0}},PanelComponent:function(l){var D=l.elements,G=l.appState,T=l.updateData;return Ha().createElement("fieldset",null,Ha().createElement("legend",null,La("labels.strokeStyle")),
Ha().createElement(Sa,{group:"strokeStyle",options:[{value:"solid",text:La("labels.strokeStyle_solid"),icon:Ha().createElement(be,{appearance:G.appearance})},{value:"dashed",text:La("labels.strokeStyle_dashed"),icon:Ha().createElement(el,{appearance:G.appearance})},{value:"dotted",text:La("labels.strokeStyle_dotted"),icon:Ha().createElement(eg,{appearance:G.appearance})}],value:rg(D,G,function(fa){return fa.strokeStyle},G.currentItemStrokeStyle),onChange:function(fa){return T(fa)}}))}}),re({name:"changeOpacity",
perform:function(l,D,G){return{elements:Be(l,D,function(T){return zg(T,{opacity:G})}),appState:Ie(Ie({},D),{},{currentItemOpacity:G}),commitToHistory:!0}},PanelComponent:function(l){var D,G=l.elements,T=l.appState,fa=l.updateData;return Ha().createElement("label",{className:"control-label"},La("labels.opacity"),Ha().createElement("input",{type:"range",min:"0",max:"100",step:"10",onChange:function(na){return fa(+na.target.value)},onWheel:function(na){na.stopPropagation();var Aa=+na.target.value;0>
na.deltaY&&100>Aa?fa(Aa+10):0<na.deltaY&&0<Aa&&fa(Aa-10)},value:null!==(D=rg(G,T,function(na){return na.opacity},T.currentItemOpacity))&&void 0!==D?D:void 0}))}}),re({name:"changeFontSize",perform:function(l,D,G){return{elements:Be(l,D,function(T){return fe(T)?(T=zg(T,{fontSize:G}),qk(T),T):T}),appState:Ie(Ie({},D),{},{currentItemFontSize:G}),commitToHistory:!0}},PanelComponent:function(l){var D=l.elements,G=l.appState,T=l.updateData;return Ha().createElement("fieldset",null,Ha().createElement("legend",
null,La("labels.fontSize")),Ha().createElement(Wa,{group:"font-size",options:[{value:16,text:La("labels.small")},{value:20,text:La("labels.medium")},{value:28,text:La("labels.large")},{value:36,text:La("labels.veryLarge")}],value:rg(D,G,function(fa){return fe(fa)&&fa.fontSize},G.currentItemFontSize||hc.n5),onChange:function(fa){return T(fa)}}))}}),re({name:"changeFontFamily",perform:function(l,D,G){return{elements:Be(l,D,function(T){return fe(T)?(T=zg(T,{fontFamily:G}),qk(T),T):T}),appState:Ie(Ie({},
D),{},{currentItemFontFamily:G}),commitToHistory:!0}},PanelComponent:function(l){var D=l.elements,G=l.appState,T=l.updateData;l=[{value:1,text:La("labels.handDrawn")},{value:2,text:La("labels.normal")},{value:3,text:La("labels.code")}];return Ha().createElement("fieldset",null,Ha().createElement("legend",null,La("labels.fontFamily")),Ha().createElement(Wa,{group:"font-family",options:l,value:rg(D,G,function(fa){return fe(fa)&&fa.fontFamily},G.currentItemFontFamily||hc.rk),onChange:function(fa){return T(fa)}}))}}),
re({name:"changeTextAlign",perform:function(l,D,G){return{elements:Be(l,D,function(T){return fe(T)?(T=zg(T,{textAlign:G}),qk(T),T):T}),appState:Ie(Ie({},D),{},{currentItemTextAlign:G}),commitToHistory:!0}},PanelComponent:function(l){var D=l.elements,G=l.appState,T=l.updateData;return Ha().createElement("fieldset",null,Ha().createElement("legend",null,La("labels.textAlign")),Ha().createElement(Wa,{group:"text-align",options:[{value:"left",text:La("labels.left")},{value:"center",text:La("labels.center")},
{value:"right",text:La("labels.right")}],value:rg(D,G,function(fa){return fe(fa)&&fa.textAlign},G.currentItemTextAlign),onChange:function(fa){return T(fa)}}))}}),re({name:"changeSharpness",perform:function(l,D,G){var T=kk(je(l),D),fa=T.length?T.every(function(na){return!Hg(na)}):!hj(D.elementType);T=T.length?T.every(Hg):hj(D.elementType);return{elements:Be(l,D,function(na){return zg(na,{strokeSharpness:G})}),appState:Ie(Ie({},D),{},{currentItemStrokeSharpness:fa?G:D.currentItemStrokeSharpness,currentItemLinearStrokeSharpness:T?
G:D.currentItemLinearStrokeSharpness}),commitToHistory:!0}},PanelComponent:function(l){var D=l.elements,G=l.appState,T=l.updateData;return Ha().createElement("fieldset",null,Ha().createElement("legend",null,La("labels.edges")),Ha().createElement(Sa,{group:"edges",options:[{value:"sharp",text:La("labels.sharp"),icon:Ha().createElement(fl,{appearance:G.appearance})},{value:"round",text:La("labels.round"),icon:Ha().createElement(Vk,{appearance:G.appearance})}],value:rg(D,G,function(fa){return fa.strokeSharpness},
rk(G.elementType)&&(hj(G.elementType)?G.currentItemLinearStrokeSharpness:G.currentItemStrokeSharpness)||null),onChange:function(fa){return T(fa)}}))}}),re({name:"changeArrowhead",perform:function(l,D,G){var T;return{elements:Be(l,D,function(fa){if(Hg(fa)){var na=G.position,Aa=G.type;if("start"===na)return zg(fa,{startArrowhead:Aa});if("end"===na)return zg(fa,{endArrowhead:Aa})}return fa}),appState:Ie(Ie({},D),{},(T={},T["start"===G.position?"currentItemStartArrowhead":"currentItemEndArrowhead"]=G.type,
T)),commitToHistory:!0}},PanelComponent:function(l){var D=l.elements,G=l.appState,T=l.updateData;l=O.rtl;return Ha().createElement("fieldset",null,Ha().createElement("legend",null,La("labels.arrowheads")),Ha().createElement("div",{className:"iconSelectList"},Ha().createElement(ud,{label:"arrowhead_start",options:[{value:null,text:La("labels.arrowhead_none"),icon:Ha().createElement(Pk,{appearance:G.appearance}),keyBinding:"q"},{value:"arrow",text:La("labels.arrowhead_arrow"),icon:Ha().createElement(Jh,
{appearance:G.appearance,flip:!l}),keyBinding:"w"},{value:"bar",text:La("labels.arrowhead_bar"),icon:Ha().createElement(Hj,{appearance:G.appearance,flip:!l}),keyBinding:"e"},{value:"dot",text:La("labels.arrowhead_dot"),icon:Ha().createElement(Vm,{appearance:G.appearance,flip:!l}),keyBinding:"r"}],value:rg(D,G,function(fa){return Hg(fa)&&"arrow"===fa.type?fa.startArrowhead:G.currentItemStartArrowhead},G.currentItemStartArrowhead),onChange:function(fa){return T({position:"start",type:fa})}}),Ha().createElement(ud,
{label:"arrowhead_end",group:"arrowheads",options:[{value:null,text:La("labels.arrowhead_none"),keyBinding:"q",icon:Ha().createElement(Pk,{appearance:G.appearance})},{value:"arrow",text:La("labels.arrowhead_arrow"),keyBinding:"w",icon:Ha().createElement(Jh,{appearance:G.appearance,flip:l})},{value:"bar",text:La("labels.arrowhead_bar"),keyBinding:"e",icon:Ha().createElement(Hj,{appearance:G.appearance,flip:l})},{value:"dot",text:La("labels.arrowhead_dot"),keyBinding:"r",icon:Ha().createElement(Vm,
{appearance:G.appearance,flip:l})}],value:rg(D,G,function(fa){return Hg(fa)&&"arrow"===fa.type?fa.endArrowhead:G.currentItemEndArrowhead},G.currentItemEndArrowhead),onChange:function(fa){return T({position:"end",type:fa})}})))}}),g(2189)),Af=g.n(Ge),mg=Ha().createContext(!1),xg=function(){return window.matchMedia?window.matchMedia(Af().isMobileQuery):{matches:!1,addListener:function(){},removeListener:function(){}}},ng=function(l){l=l.children;var D=(0,kc.useRef)();D.current||(D.current=xg());var G=
(0,kc.useState)(D.current.matches),T=G[0],fa=G[1];return(0,kc.useEffect)(function(){var na=function(){return fa(D.current.matches)};return D.current.addListener(na),function(){return D.current.removeListener(na)}},[]),Ha().createElement(mg.Provider,{value:T},l)};re({name:"changeViewBackgroundColor",perform:function(l,D,G){return{appState:De(De({},D),{},{viewBackgroundColor:G}),commitToHistory:!0}},PanelComponent:function(l){var D=l.appState,G=l.updateData;return Ha().createElement("div",{style:{position:"relative"}},
Ha().createElement(mc,{label:La("labels.canvasBackground"),type:"canvasBackground",color:D.viewBackgroundColor,onChange:function(T){return G(T)}}))}});re({name:"clearCanvas",perform:function(l,D){return{elements:l.map(function(G){return zg(G,{isDeleted:!0})}),appState:De(De({},Fh()),{},{appearance:D.appearance,elementLocked:D.elementLocked,exportBackground:D.exportBackground,exportEmbedScene:D.exportEmbedScene,gridSize:D.gridSize,shouldAddWatermark:D.shouldAddWatermark,showStats:D.showStats,pasteDialog:D.pasteDialog}),
commitToHistory:!0}},PanelComponent:function(l){var D=l.updateData;return Ha().createElement(lf,{type:"button",icon:Ri,title:La("buttons.clearReset"),"aria-label":La("buttons.clearReset"),showAriaLabel:Qe(),onClick:function(){window.confirm(La("alerts.clearReset"))&&D(null)}})}});re({name:"zoomIn",perform:function(l,D){l=ci(Sj(D.zoom.value+hc.V4),D.zoom,{left:D.offsetLeft,top:D.offsetTop},{x:D.width/2,y:D.height/2});return{appState:De(De({},D),{},{zoom:l}),commitToHistory:!1}},PanelComponent:function(l){var D=
l.updateData;return Ha().createElement(lf,{type:"button",icon:oi,title:"".concat(La("buttons.zoomIn")," — ").concat($d("CtrlOrCmd++")),"aria-label":La("buttons.zoomIn"),onClick:function(){D(null)}})},keyTest:function(l){return("Equal"===l.code||"NumpadAdd"===l.code)&&(l[ef]||l.shiftKey)}});re({name:"zoomOut",perform:function(l,D){l=ci(Sj(D.zoom.value-hc.V4),D.zoom,{left:D.offsetLeft,top:D.offsetTop},{x:D.width/2,y:D.height/2});return{appState:De(De({},D),{},{zoom:l}),commitToHistory:!1}},PanelComponent:function(l){var D=
l.updateData;return Ha().createElement(lf,{type:"button",icon:Ej,title:"".concat(La("buttons.zoomOut")," — ").concat($d("CtrlOrCmd+-")),"aria-label":La("buttons.zoomOut"),onClick:function(){D(null)}})},keyTest:function(l){return("Minus"===l.code||"NumpadSubtract"===l.code)&&(l[ef]||l.shiftKey)}});re({name:"resetZoom",perform:function(l,D){return{appState:De(De({},D),{},{zoom:ci(1,D.zoom,{left:D.offsetLeft,top:D.offsetTop},{x:D.width/2,y:D.height/2})}),commitToHistory:!1}},PanelComponent:function(l){var D=
l.updateData;return Ha().createElement(lf,{type:"button",icon:ee,title:La("buttons.resetZoom"),"aria-label":La("buttons.resetZoom"),onClick:function(){D(null)}})},keyTest:function(l){return("Digit0"===l.code||"Numpad0"===l.code)&&(l[ef]||l.shiftKey)}});var Ee=function(l,D,G){l=je(l);var T=wf(l,D);T=G&&0<T.length?Dg(T):Dg(l);G=ci(Math.min(Math.max(Math.floor(Math.min(D.width/(T[2]-T[0]),D.height/(T[3]-T[1]))/hc.V4)*hc.V4,hc.V4),1),D.zoom,{left:D.offsetLeft,top:D.offsetTop});l=(T[0]+T[2])/2;T=(T[1]+
T[3])/2;return{appState:De(De(De({},D),Xi({scenePoint:{x:l,y:T},viewportDimensions:{width:D.width,height:D.height},zoom:G})),{},{zoom:G}),commitToHistory:!1}};re({name:"zoomToSelection",perform:function(l,D){return Ee(l,D,!0)},keyTest:function(l){return"Digit2"===l.code&&l.shiftKey&&!l.altKey&&!l[ef]}});re({name:"zoomToFit",perform:function(l,D){return Ee(l,D,!1)},keyTest:function(l){return"Digit1"===l.code&&l.shiftKey&&!l.altKey&&!l[ef]}});var Sf,If,Mf=re({name:"finalize",perform:function(l,D,G,
T){var fa,na;G=T.canvas;if(D.editingLinearElement){T=D.editingLinearElement;var Aa=T.startBindingElement,za=T.endBindingElement,Ga=dg.getElement(T.elementId);if(Ga)return pg(Ga)&&Qf(Ga,Aa,za),{elements:2>Ga.points.length||Rh(Ga)?l.filter(function(mb){return mb.id!==Ga.id}):void 0,appState:tg(tg({},D),{},{editingLinearElement:null}),commitToHistory:!0}}window.document.activeElement instanceof HTMLElement&&window.document.activeElement.blur();if(T=D.multiElement?D.multiElement:"draw"===(null===(na=
D.editingElement)||void 0===na?void 0:na.type)?D.editingElement:null){"draw"!==T.type&&"touch"!==D.lastPointerDownWith&&(na=T.points,(Aa=T.lastCommittedPoint)&&na[na.length-1]===Aa||nf(T,{points:T.points.slice(0,-1)}));Rh(T)&&(l=l.slice(0,-1));na=ei(T.points,D.zoom.value);if(("line"===T.type||"draw"===T.type)&&na){var Ua=T.points,Pa=Ua[0];nf(T,{points:Ua.map(function(mb,sb){return sb===Ua.length-1?[Pa[0],Pa[1]]:mb})})}pg(T)&&!na&&1<T.points.length&&(Aa=dg.getPointAtIndexGlobalCoordinates(T,-1),na=
Aa[0],Aa=Aa[1],jk(T,D,Ah.getScene(T),{x:na,y:Aa}));D.elementLocked||"draw"===D.elementType||(D.selectedElementIds[T.id]=!0)}return(D.elementLocked||"draw"===D.elementType)&&T||Ii(G),{elements:l,appState:tg(tg({},D),{},{elementType:(D.elementLocked||"draw"===D.elementType)&&T?D.elementType:"selection",draggingElement:null,multiElement:null,editingElement:null,startBoundElement:null,suggestedBindings:[],selectedElementIds:T&&!D.elementLocked&&"draw"!==D.elementType?tg(tg({},D.selectedElementIds),{},
(fa={},fa[T.id]=!0,fa)):D.selectedElementIds}),commitToHistory:"draw"===D.elementType}},keyTest:function(l,D){return"Escape"===l.key&&(null!==D.editingLinearElement||!D.draggingElement&&null===D.multiElement)||("Escape"===l.key||"Enter"===l.key)&&null!==D.multiElement},PanelComponent:function(l){var D=l.appState;l=l.updateData;return Ha().createElement(lf,{type:"button",icon:sk,title:La("buttons.done"),"aria-label":La("buttons.done"),onClick:l,visible:null!=D.multiElement})}}),Wg="undefined"!=typeof f&&
null!==(Sf=f.env)&&void 0!==Sf&&Sf.REACT_APP_GOOGLE_ANALYTICS_ID&&"undefined"!=typeof window&&window.gtag?function(l,D,G,T){window.gtag("event",D,{event_category:l,event_label:G,value:T})}:("undefined"!=typeof f&&null!==(If=f.env)&&void 0!==If&&If.JEST_WORKER_ID,function(l,D,G,T){}),Ug=(g(8518),function(){var l=function(D,G){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,fa){T.__proto__=fa}||function(T,fa){for(var na in fa)Object.prototype.hasOwnProperty.call(fa,na)&&(T[na]=
fa[na])})(D,G)};return function(D,G){function T(){this.constructor=D}if("function"!=typeof G&&null!==G)throw new TypeError("Class extends value "+String(G)+" is not a constructor or null");l(D,G);D.prototype=null===G?Object.create(G):(T.prototype=G.prototype,new T)}}()),Di=function(l){function D(){for(var G=[],T=0;T<arguments.length;T++)G[T]=arguments[T];var fa,na;T=this;return T=l.apply(this,G)||this,fa=na=T,T.handleFocus=function(Aa){Aa=Aa.currentTarget;var za=window.getSelection();if(za){var Ga=
document.createRange();Ga.selectNodeContents(Aa);za.removeAllRanges();za.addRange(Ga)}},T.handleBlur=function(Aa){Aa=Aa.currentTarget.innerText.trim();Aa!==na.props.value&&na.props.onChange(Aa);(Aa=window.getSelection())&&Aa.removeAllRanges()},T.handleKeyDown=function(Aa){"Enter"!==Aa.key||(Aa.preventDefault(),Aa.nativeEvent.isComposing||229===Aa.keyCode)||Aa.currentTarget.blur()},T.makeEditable=function(Aa){if(Aa)try{Aa.contentEditable="plaintext-only"}catch(za){Aa.contentEditable="true"}},fa}return Ug(D,
l),D.prototype.render=function(){return Ha().createElement("span",{suppressContentEditableWarning:!0,ref:this.makeEditable,"data-type":"wysiwyg",className:"TextInput",role:"textbox","aria-label":this.props.label,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,onFocus:this.handleFocus},this.props.value)},D}(kc.Component),Gj=(g(2680),function(l){var D=l.children,G=l.label,T=l.position;T=void 0===T?"below":T;l=l.long;l=void 0!==l&&l;return Ha().createElement("div",{className:"Tooltip"},Ha().createElement("span",
{className:"above"===T?"Tooltip__label Tooltip__label--above":"Tooltip__label Tooltip__label--below",style:{width:l?"50ch":"10ch"}},G),D)}),hk=function(l){var D=l.title?l.title:"dark"===l.value?La("buttons.lightMode"):La("buttons.darkMode");return Ha().createElement("label",{className:"ToolIcon ToolIcon_type_floating ToolIcon_size_M",title:D},Ha().createElement("input",{className:"ToolIcon_type_checkbox ToolIcon_toggle_opaque",type:"checkbox",onChange:function(G){return l.onChange(G.target.checked?
"dark":"light")},checked:"dark"===l.value,"aria-label":D}),Ha().createElement("div",{className:"ToolIcon__icon"},"light"===l.value?$k.MOON:$k.SUN))},$k={SUN:Ha().createElement("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512"},Ha().createElement("path",{fill:"currentColor",d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"})),
MOON:Ha().createElement("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512"},Ha().createElement("path",{fill:"currentColor",d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"}))};const xm="chooseFileSystemEntries"in self?
"chooseFileSystemEntries":"showOpenFilePicker"in self&&"showOpenFilePicker",ym=xm?"chooseFileSystemEntries"===xm?g.e(736).then(g.bind(g,9012)):g.e(736).then(g.bind(g,499)):g.e(736).then(g.bind(g,5034));xm?"chooseFileSystemEntries"===xm?g.e(736).then(g.bind(g,6980)):g.e(736).then(g.bind(g,868)):g.e(736).then(g.bind(g,3110));const tf=xm?"chooseFileSystemEntries"===xm?g.e(736).then(g.bind(g,1170)):g.e(736).then(g.bind(g,7814)):g.e(736).then(g.bind(g,4001));var gl,Ti=function(l,D){if(null!=D&&D.collaborators&&
(D=D.collaborators.get(l),null!=D&&D.color))return D.color;l=l.split("").reduce(function(T,fa){return T+fa.charCodeAt(0)},0);D=Ek.elementBackground.slice(1);var G=Ek.elementStroke.slice(1);return{background:D[l%D.length],stroke:G[l%G.length]}};!function(l){l.ACTIVE="active";l.AWAY="away";l.IDLE="idle"}(gl||(gl={}));var Gm=function(){var l=document.createElement("canvas").getContext("2d");return l?(l.fillStyle="#f00",l.textBaseline="top",l.font="32px Arial",l.fillText("\ud83d\ude00",0,0),0!==l.getImageData(12,
12,1,1).data[0]):!1}(),vl=function(l,D,G,T,fa,na,Aa,za,Ga){void 0===Ga&&(Ga=!1);l.translate(na,Aa);l.rotate(za);Ga&&l.fillRect(D-na,G-Aa,T,fa);l.strokeRect(D-na,G-Aa,T,fa);l.rotate(-za);l.translate(-na,-Aa)},Hm=function(l,D,G,T){l.beginPath();l.arc(D,G,T,0,2*Math.PI);l.fill();l.stroke()},kn=function(l,D,G,T,fa,na,Aa,za){var Ga=void 0===za?{}:za;za=Ga.renderScrollbars;za=void 0===za||za;var Ua=Ga.renderSelection,Pa=void 0===Ua||Ua;Ua=Ga.renderOptimizations;var mb=void 0!==Ua&&Ua;Ga=Ga.renderGrid;var sb=
void 0===Ga||Ga;if(!na)return{atLeastOneVisibleElement:!1};var vb=na.getContext("2d");vb.scale(T,T);var ec=na.width/T,Zb=na.height/T;(Aa.exportWithDarkMode&&(vb.filter=hc.Gi),"string"==typeof Aa.viewBackgroundColor)?(("transparent"===Aa.viewBackgroundColor||5===Aa.viewBackgroundColor.length||9===Aa.viewBackgroundColor.length||/(hsla|rgba)\(/.test(Aa.viewBackgroundColor))&&vb.clearRect(0,0,ec,Zb),Ga=vb.fillStyle,vb.fillStyle=Aa.viewBackgroundColor,vb.fillRect(0,0,ec,Zb),vb.fillStyle=Ga):vb.clearRect(0,
0,ec,Zb);Ga=Aa.zoom.translation.x;Ua=Aa.zoom.translation.y;vb.translate(Ga,Ua);vb.scale(Aa.zoom.value,Aa.zoom.value);sb&&D.gridSize&&function(Dd,ce,le,$e,Gh,$h){var Bj=Dd.strokeStyle;Dd.strokeStyle="rgba(0,0,0,0.1)";Dd.beginPath();for(var cj=le;cj<le+Gh+2*ce;cj+=ce)Dd.moveTo(cj,$e-ce),Dd.lineTo(cj,$e+$h+2*ce);for(cj=$e;cj<$e+$h+2*ce;cj+=ce)Dd.moveTo(le-ce,cj),Dd.lineTo(le+Gh+2*ce,cj);Dd.stroke();Dd.strokeStyle=Bj}(vb,D.gridSize,-Math.ceil(Ga/Aa.zoom.value/D.gridSize)*D.gridSize+Aa.scrollX%D.gridSize,
-Math.ceil(Ua/Aa.zoom.value/D.gridSize)*D.gridSize+Aa.scrollY%D.gridSize,ec/Aa.zoom.value,Zb/Aa.zoom.value);na=l.filter(function(Dd){var ce={zoom:Aa.zoom,offsetLeft:D.offsetLeft,offsetTop:D.offsetTop,scrollX:Aa.scrollX,scrollY:Aa.scrollY},le=si(Dd);Dd=le[0];var $e=le[1],Gh=le[2];le=le[3];var $h=vg({clientX:ce.offsetLeft,clientY:ce.offsetTop},ce);ce=vg({clientX:ce.offsetLeft+ec,clientY:ce.offsetTop+Zb},ce);return $h.x<=Gh&&$h.y<=le&&ce.x>=Dd&&ce.y>=$e});(na.forEach(function(Dd){on(Dd,fa,vb,mb,Aa)}),
D.editingLinearElement)&&(sb=dg.getElement(D.editingLinearElement.elementId))&&function(Dd,ce,le,$e){Dd.translate(le.scrollX,le.scrollY);var Gh=Dd.strokeStyle,$h=Dd.lineWidth;Dd.lineWidth=1/le.zoom.value;dg.getPointsGlobalCoordinates($e).forEach(function(Bj,cj){var Vl;Dd.strokeStyle="red";Dd.setLineDash([]);Dd.fillStyle=(null===(Vl=ce.editingLinearElement)||void 0===Vl?void 0:Vl.activePointIndex)===cj?"rgba(255, 127, 127, 0.9)":"rgba(255, 255, 255, 0.9)";Hm(Dd,Bj[0],Bj[1],dg.POINT_HANDLE_SIZE/2/le.zoom.value)});
Dd.setLineDash([]);Dd.lineWidth=$h;Dd.translate(-le.scrollX,-le.scrollY);Dd.strokeStyle=Gh}(vb,D,Aa,sb);if(G&&on(G,fa,vb,mb,Aa),D.isBindingEnabled&&D.suggestedBindings.filter(function(Dd){return null!=Dd}).forEach(function(Dd){var ce=vb.strokeStyle,le=vb.lineWidth,$e=Array.isArray(Dd)?fj:am;vb.translate(Aa.scrollX,Aa.scrollY);$e(vb,Dd);vb.strokeStyle=ce;vb.lineWidth=le;vb.translate(-Aa.scrollX,-Aa.scrollY)}),Pa&&!D.multiElement&&!D.editingLinearElement){var Ac=l.reduce(function(Dd,ce){var le=[];if(D.selectedElementIds[ce.id]&&
null==Bh(D,ce)&&le.push(Je.Sn),Aa.remoteSelectedElementIds[ce.id]&&le.push.apply(le,Aa.remoteSelectedElementIds[ce.id].map(function(Gh){return Ti(Gh,D).background})),le.length){var $e=jg(ce);Dd.push({angle:ce.angle,elementX1:$e[0],elementY1:$e[1],elementX2:$e[2],elementY2:$e[3],selectionColors:le})}return Dd},[]);G=function(Dd){Dd=ck(l,Dd);Dd=Dg(Dd);Ac.push({angle:0,elementX1:Dd[0],elementX2:Dd[2],elementY1:Dd[1],elementY2:Dd[3],selectionColors:[Je.Sn]})};Pa=0;for(sb=Li(D);Pa<sb.length;Pa++)G(sb[Pa]);
D.editingGroupId&&G(D.editingGroupId);Ac.forEach(function(Dd){var ce=Dd.angle,le=Dd.elementX1,$e=Dd.elementY1,Gh=Dd.selectionColors,$h=Dd.elementX2-le;Dd=Dd.elementY2-$e;var Bj=vb.getLineDash(),cj=vb.lineWidth,Vl=vb.lineDashOffset,un=vb.strokeStyle,fm=4/Aa.zoom.value,vn=8/Aa.zoom.value,Wm=4/Aa.zoom.value;vb.lineWidth=1/Aa.zoom.value;vb.translate(Aa.scrollX,Aa.scrollY);for(var fo=Gh.length,Xm=0;Xm<fo;++Xm)vb.strokeStyle=Gh[Xm],vb.setLineDash([vn,Wm+(vn+Wm)*(fo-1)]),vb.lineDashOffset=(vn+Wm)*Xm,vl(vb,
le-fm,$e-fm,$h+2*fm,Dd+2*fm,le+$h/2,$e+Dd/2,ce);vb.lineDashOffset=Vl;vb.strokeStyle=un;vb.lineWidth=cj;vb.setLineDash(Bj);vb.translate(-Aa.scrollX,-Aa.scrollY)});Pa=wf(l,D);if(vb.translate(Aa.scrollX,Aa.scrollY),1===Pa.length)vb.fillStyle=Je.ix,G=wj(Pa[0],Aa.zoom,"mouse"),D.viewModeEnabled||vk(vb,Aa,G,Pa[0].angle);else if(1<Pa.length&&!D.isRotating){G=4/Aa.zoom.value;vb.fillStyle=Je.ix;var gd=Dg(Pa);Pa=gd[0];sb=gd[1];var kd=gd[2];gd=gd[3];var xd=vb.getLineDash();vb.setLineDash([2/Aa.zoom.value]);
var ne=vb.lineWidth;vb.lineWidth=1/Aa.zoom.value;vl(vb,Pa-G,sb-G,kd-Pa+2*G,gd-sb+2*G,(Pa+kd)/2,(sb+gd)/2,0);vb.lineWidth=ne;vb.setLineDash(xd);G=Fk([Pa,sb,kd,gd],0,Aa.zoom,"mouse",Al);vk(vb,Aa,G,0)}vb.translate(-Aa.scrollX,-Aa.scrollY)}for(var me in vb.scale(1/Aa.zoom.value,1/Aa.zoom.value),vb.translate(-Ga,-Ua),Aa.remotePointerViewportCoords){Ga=Aa.remotePointerViewportCoords[me];kd=Ga.x;gd=Ga.y;kd-=D.offsetLeft;gd-=D.offsetTop;xd=0>kd||kd>ec-9||0>gd||gd>Zb-14;kd=Math.max(kd,0);kd=Math.min(kd,ec-
9);gd=Math.max(gd,0);gd=Math.min(gd,Zb-14);Ga=Ti(me,D);Ua=Ga.background;G=Ga.stroke;Pa=vb.strokeStyle;sb=(Ga=vb.fillStyle,vb.globalAlpha);vb.strokeStyle=G;vb.fillStyle=Ua;ne=Aa.remotePointerUserStates[me];(xd||ne===gl.AWAY)&&(vb.globalAlpha=.48);Aa.remotePointerButton&&"down"===Aa.remotePointerButton[me]&&(vb.beginPath(),vb.arc(kd,gd,15,0,2*Math.PI,!1),vb.lineWidth=3,vb.strokeStyle="#ffffff88",vb.stroke(),vb.closePath(),vb.beginPath(),vb.arc(kd,gd,15,0,2*Math.PI,!1),vb.lineWidth=1,vb.strokeStyle=
G,vb.stroke(),vb.closePath());vb.beginPath();vb.moveTo(kd,gd);vb.lineTo(kd+1,gd+14);vb.lineTo(kd+4,gd+9);vb.lineTo(kd+9,gd+10);vb.lineTo(kd,gd);vb.fill();vb.stroke();var Re=Aa.remotePointerUsernames[me],Ne="";ne===gl.AWAY?Ne=Gm?"⚫️":" (".concat(gl.AWAY,")"):ne===gl.IDLE?Ne=Gm?"\ud83d\udca4":" (".concat(gl.IDLE,")"):ne===gl.ACTIVE&&(Ne=Gm?"\ud83d\udfe2":"");ne="".concat(Re?"".concat(Re," "):"").concat(Ne);!xd&&ne&&(kd+=9,gd+=14,xd=vb.measureText(ne),Re=xd.actualBoundingBoxDescent+xd.actualBoundingBoxAscent,
vb.fillStyle=G,vb.fillRect(kd-1,gd-1,xd.width+8+2,Re+8+2),vb.fillStyle=Ua,vb.fillRect(kd,gd,xd.width+8,Re+8),vb.fillStyle=Je.ix,vb.fillText(ne,kd+4,gd+4+xd.actualBoundingBoxAscent));vb.strokeStyle=Pa;vb.fillStyle=Ga;vb.globalAlpha=sb;vb.closePath()}if(za){var gf=function(Dd,ce,le,$e){var Gh=$e.scrollX,$h=$e.scrollY,Bj=$e.zoom;if(0===Dd.length)return{horizontal:null,vertical:null};$e=Dg(Dd);var cj=$e[0],Vl=$e[1];Dd=$e[2];$e=$e[3];var un=ce/Bj.value,fm=le/Bj.value,vn=ce-un,Wm=le-fm;Bj=parseInt(ag("sat"));
var fo=parseInt(ag("sab")),Xm=parseInt(ag("sal")),Vr=parseInt(ag("sar")),Ut=O.rtl;Gh=vn/2-Gh+Xm;$h=Wm/2-$h+Bj;un=Gh+un-Vr;fm=$h+fm-fo;cj=Math.min(cj,Gh);Vl=Math.min(Vl,$h);Dd=Math.max(Dd,un);$e=Math.max($e,fm);return{horizontal:Gh===cj&&un===Dd?null:{x:Math.max(Xm,4)+(Gh-cj)/(Dd-cj)*ce,y:le-6-Math.max(4,fo),width:(un-Gh)/(Dd-cj)*ce-Math.max(8,Xm+Vr),height:6},vertical:$h===Vl&&fm===$e?null:{x:Ut?Math.max(Xm,4):ce-6-Math.max(Vr,4),y:($h-Vl)/($e-Vl)*le+Math.max(Bj,4),width:6,height:(fm-$h)/($e-Vl)*
le-Math.max(8,Bj+fo)}}}(l,ec,Zb,Aa);Ga=vb.fillStyle;Pa=vb.strokeStyle;vb.fillStyle="rgba(0,0,0,0.3)";vb.strokeStyle="rgba(255,255,255,0.8)";[gf.horizontal,gf.vertical].forEach(function(Dd){if(Dd){var ce=Dd.x,le=Dd.y,$e=Dd.width;Dd=Dd.height;vb.beginPath();vb.moveTo(ce+3,le);vb.lineTo(ce+$e-3,le);vb.quadraticCurveTo(ce+$e,le,ce+$e,le+3);vb.lineTo(ce+$e,le+Dd-3);vb.quadraticCurveTo(ce+$e,le+Dd,ce+$e-3,le+Dd);vb.lineTo(ce+3,le+Dd);vb.quadraticCurveTo(ce,le+Dd,ce,le+Dd-3);vb.lineTo(ce,le+3);vb.quadraticCurveTo(ce,
le,ce+3,le);vb.closePath();vb.fill();vb.stroke()}});vb.fillStyle=Ga;vb.strokeStyle=Pa}return vb.scale(1/T,1/T),{atLeastOneVisibleElement:0<na.length,scrollBars:gf}},vk=function(l,D,G,T){Object.keys(G).forEach(function(fa){var na=G[fa];if(void 0!==na){var Aa=l.lineWidth;l.lineWidth=1/D.zoom.value;"rotation"===fa?Hm(l,na[0]+na[2]/2,na[1]+na[3]/2,na[2]/2):vl(l,na[0],na[1],na[2],na[3],na[0]+na[2]/2,na[1]+na[3]/2,T,!0);l.lineWidth=Aa}})},am=function(l,D){var G=jg(D),T=G[0],fa=G[1],na=G[2]-T;G=G[3]-fa;
var Aa=Zi(D,na,G);l.strokeStyle="rgba(0,0,0,.05)";l.lineWidth=Aa-4;Aa=2+Aa/2;switch(D.type){case "rectangle":case "text":vl(l,T-Aa,fa-Aa,na+2*Aa,G+2*Aa,T+na/2,fa+G/2,D.angle);break;case "diamond":var za=Math.hypot(na,G);!function(Ga,Ua,Pa,mb,sb,vb){Ga.translate(mb,sb);Ga.rotate(vb);Ga.beginPath();Ga.moveTo(0,Pa/2);Ga.lineTo(Ua/2,0);Ga.lineTo(0,-Pa/2);Ga.lineTo(-Ua/2,0);Ga.closePath();Ga.stroke();Ga.rotate(-vb);Ga.translate(-mb,-sb)}(l,na+Aa*za/G*2,G+Aa*za/na*2,T+na/2,fa+G/2,D.angle);break;case "ellipse":!function(Ga,
Ua,Pa,mb,sb,vb){Ga.beginPath();Ga.ellipse(mb,sb,Ua/2,Pa/2,vb,0,2*Math.PI);Ga.stroke()}(l,na+2*Aa,G+2*Aa,T+na/2,fa+G/2,D.angle)}},fj=function(l,D){var G=D[0],T=D[1];D=D[2];var fa=Zi(D,D.width,D.height);l.strokeStyle="rgba(0,0,0,0)";l.fillStyle="rgba(0,0,0,.05)";("both"===T?[0,-1]:"start"===T?[0]:[-1]).forEach(function(na){na=dg.getPointAtIndexGlobalCoordinates(G,na);Hm(l,na[0],na[1],fa)})},Ij=function(l,D,G,T){T=void 0===T?{}:T;var fa=T.offsetX,na=void 0===fa?0:fa;T=T.offsetY;var Aa=void 0===T?0:T;
G&&l.forEach(function(za){za.isDeleted||function(Ga,Ua,Pa,mb,sb){var vb=jg(Ga),ec=vb[0],Zb=vb[1],Ac=(vb[2]-ec)/2-(Ga.x-ec),gd=(vb[3]-Zb)/2-(Ga.y-Zb),kd=180*Ga.angle/Math.PI;vb=Ua.generator;switch(Ga.type){case "selection":throw Error("Selection rendering is not supported for SVG");case "rectangle":case "diamond":case "ellipse":Yj(Ga,vb);vb=Ua.draw(wi.get(Ga));1!=(me=Ga.opacity/100)&&(vb.setAttribute("stroke-opacity","".concat(me)),vb.setAttribute("fill-opacity","".concat(me)));vb.setAttribute("transform",
"translate(".concat(mb||0," ").concat(sb||0,") rotate(").concat(kd," ").concat(Ac," ").concat(gd,")"));Pa.appendChild(vb);break;case "line":case "draw":case "arrow":Yj(Ga,vb);var xd=Pa.ownerDocument.createElementNS("http://www.w3.org/2000/svg","g"),ne=Ga.opacity/100;wi.get(Ga).forEach(function(le){le=Ua.draw(le);1!==ne&&(le.setAttribute("stroke-opacity","".concat(ne)),le.setAttribute("fill-opacity","".concat(ne)));le.setAttribute("transform","translate(".concat(mb||0," ").concat(sb||0,") rotate(").concat(kd,
" ").concat(Ac," ").concat(gd,")"));"line"!==Ga.type&&"draw"!==Ga.type||!ei(Ga.points)||"transparent"===Ga.backgroundColor||le.setAttribute("fill-rule","evenodd");xd.appendChild(le)});Pa.appendChild(xd);break;default:if(!fe(Ga))throw Error("Unimplemented type ".concat(Ga.type));var me=Ga.opacity/100;vb=Pa.ownerDocument.createElementNS("http://www.w3.org/2000/svg","g");1!==me&&(vb.setAttribute("stroke-opacity","".concat(me)),vb.setAttribute("fill-opacity","".concat(me)));vb.setAttribute("transform",
"translate(".concat(mb||0," ").concat(sb||0,") rotate(").concat(kd," ").concat(Ac," ").concat(gd,")"));me=Ga.text.replace(/\r\n?/g,"\n").split("\n");ec=Ga.height/me.length;Zb=Ga.height-Ga.baseline;for(var Re="center"===Ga.textAlign?Ga.width/2:"right"===Ga.textAlign?Ga.width:0,Ne=zh.test(Ga.text)?"rtl":"ltr",gf="center"===Ga.textAlign?"middle":"right"===Ga.textAlign||"rtl"===Ne?"end":"start",Dd=0;Dd<me.length;Dd++){var ce=Pa.ownerDocument.createElementNS("http://www.w3.org/2000/svg","text");ce.textContent=
me[Dd];ce.setAttribute("x","".concat(Re));ce.setAttribute("y","".concat((Dd+1)*ec-Zb));ce.setAttribute("font-family","".concat(hc.ut[Ga.fontFamily],", ").concat(hc._D));ce.setAttribute("font-size","".concat(Ga.fontSize,"px"));ce.setAttribute("fill",Ga.strokeColor);ce.setAttribute("text-anchor",gf);ce.setAttribute("style","white-space: pre;");ce.setAttribute("direction",Ne);vb.appendChild(ce)}Pa.appendChild(vb)}}(za,D,G,za.x+na,za.y+Aa)})},wl=function(l,D){for(var G=0,T=D.length,fa=l.length;G<T;G++,
fa++)l[fa]=D[G];return l},vm=function(l,D,G,T){var fa=G.exportBackground,na=G.exportPadding;na=void 0===na?10:na;var Aa=G.viewBackgroundColor,za=G.scale,Ga=void 0===za?1:za;G=G.shouldAddWatermark;void 0===T&&(T=function(Pa,mb){var sb=document.createElement("canvas");return sb.width=Pa*Ga,sb.height=mb*Ga,{canvas:sb,scale:Ga}});l=Yn(l,G);var Ua=Jm(l,na,G);G=Ua[0];za=Ua[1];Ua=T(Ua[2],Ua[3]);T=Ua.canvas;Ua=Ua.scale;return kn(l,D,null,void 0===Ua?Ga:Ua,Qh.canvas(T),T,{viewBackgroundColor:fa?Aa:null,exportWithDarkMode:D.exportWithDarkMode,
scrollX:-G+na,scrollY:-za+na,zoom:Fh().zoom,remotePointerViewportCoords:{},remoteSelectedElementIds:{},shouldCacheIgnoreZoom:!1,remotePointerUsernames:{},remotePointerUserStates:{}},{renderScrollbars:!1,renderSelection:!1,renderOptimizations:!1,renderGrid:!1}),T},Pl=function(l,D){var G=D.exportBackground,T=D.exportPadding;T=void 0===T?10:T;var fa=D.viewBackgroundColor,na=D.exportWithDarkMode,Aa=D.scale;Aa=void 0===Aa?1:Aa;var za=D.shouldAddWatermark;D=D.metadata;D=void 0===D?"":D;l=Yn(l,za);var Ga=
Jm(l,T,za);za=Ga[0];var Ua=Ga[1],Pa=Ga[2],mb=Ga[3];Ga=document.createElementNS("http://www.w3.org/2000/svg","svg");if(Ga.setAttribute("version","1.1"),Ga.setAttribute("xmlns","http://www.w3.org/2000/svg"),Ga.setAttribute("viewBox","0 0 ".concat(Pa," ").concat(mb)),Ga.setAttribute("width","".concat(Pa*Aa)),Ga.setAttribute("height","".concat(mb*Aa)),na&&Ga.setAttribute("filter",hc.Gi),Ga.innerHTML="\n  ".concat("\x3c!-- svg-source:excalidraw --\x3e","\n  ").concat(D,'\n  \x3cdefs\x3e\n    \x3cstyle\x3e\n      @font-face {\n        font-family: "Virgil";\n        src: url("https://excalidraw.com/Virgil.woff2");\n      }\n      @font-face {\n        font-family: "Cascadia";\n        src: url("https://excalidraw.com/Cascadia.woff2");\n      }\n    \x3c/style\x3e\n  \x3c/defs\x3e\n  '),
G&&fa)G=Ga.ownerDocument.createElementNS("http://www.w3.org/2000/svg","rect"),G.setAttribute("x","0"),G.setAttribute("y","0"),G.setAttribute("width","".concat(Pa)),G.setAttribute("height","".concat(mb)),G.setAttribute("fill",fa),Ga.appendChild(G);G=Qh.svg(Ga);return Ij(l,G,Ga,{offsetX:-za+T,offsetY:-Ua+T}),Ga},Yn=function(l,D){var G=wl([],l);D&&(D=Dg(l),l=D[2],D=D[3],G=wl([],G),l=Kj({text:La("labels.madeWithExcalidraw"),fontSize:16,fontFamily:hc.rk,textAlign:"right",verticalAlign:hc.hs,x:l,y:D+16,
strokeColor:Je.MA[5],backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:1,strokeStyle:"solid",roughness:1,opacity:100,strokeSharpness:"sharp"}),G=wl(G,[l]));return G},Jm=function(l,D,G){l=Dg(l);var T=l[0],fa=l[1];return[T,fa,Math.abs(T-l[2])+2*D,Math.abs(fa-l[3])+D+(G?0:D)]},Tj=function(l,D){for(var G=0,T=D.length,fa=l.length;G<T;G++,fa++)l[fa]=D[G];return l},Mi=function(l){return(l=/^[$€£¥₩]?([0-9,]+(\.[0-9]+)?)$/.exec(l))?parseFloat(l[1].replace(/,/g,"")):null},Hn=function(l,D){return l.slice(1).every(function(G){return null!==
Mi(G[D])})},In=function(l){var D=l[0].length;if(2<D)return{type:"NOT_SPREADSHEET",reason:"More than 2 columns"};if(1===D){if(!Hn(l,0))return{type:"NOT_SPREADSHEET",reason:"Value is not numeric"};D=null===Mi(l[0][0]);var G=(D?l.slice(1):l).map(function(na){return Mi(na[0])});return 2>G.length?{type:"NOT_SPREADSHEET",reason:"Less than two rows"}:{type:"VALID_SPREADSHEET",spreadsheet:{title:D?l[0][0]:null,labels:null,values:G}}}var T=Hn(l,0)?0:1;if(!Hn(l,T))return{type:"NOT_SPREADSHEET",reason:"Value is not numeric"};
var fa=(T+1)%2;G=(D=null===Mi(l[0][T]))?l.slice(1):l;return 2>G.length?{type:"NOT_SPREADSHEET",reason:"Less than 2 rows"}:{type:"VALID_SPREADSHEET",spreadsheet:{title:D?l[0][T]:null,labels:G.map(function(na){return na[fa]}),values:G.map(function(na){return Mi(na[T])})}}},Wk=Ek.elementBackground.slice(2,Ek.elementBackground.length),gj={fillStyle:"hachure",fontFamily:hc.rk,fontSize:hc.n5,opacity:100,roughness:1,strokeColor:Ek.elementStroke[0],strokeSharpness:"sharp",strokeStyle:"solid",strokeWidth:1,
verticalAlign:"middle"},Im=function(l){return{chartWidth:44*l.values.length+12,chartHeight:280}},Vn=function(l,D,G,T,fa,na){var Aa=Im(l),za=Aa.chartWidth,Ga=Aa.chartHeight;Aa=l.title?Kj(Te(Te({backgroundColor:fa,groupIds:[T]},gj),{},{text:l.title,x:D+za/2,y:G-256-24-hc.n5,strokeSharpness:"sharp",strokeStyle:"solid",textAlign:"center"})):null;na=na?Ol(Te(Te({backgroundColor:fa,groupIds:[T]},gj),{},{type:"rectangle",x:D,y:G-Ga,width:za,height:Ga,strokeColor:Ek.elementStroke[0],fillStyle:"solid",opacity:6})):
null;return Tj(Tj(Tj(Tj(Tj([],na?[na]:[]),Aa?[Aa]:[]),function(Ua,Pa,mb,sb,vb){var ec;return(null===(ec=Ua.labels)||void 0===ec?void 0:ec.map(function(Zb,Ac){return Kj(Te(Te({groupIds:[sb],backgroundColor:vb},gj),{},{text:8<Zb.length?"".concat(Zb.slice(0,5),"..."):Zb,x:Pa+44*Ac+24,y:mb+6,width:32,angle:5.87,fontSize:16,textAlign:"center",verticalAlign:"top"}))}))||[]}(l,D,G,T,fa)),function(Ua,Pa,mb,sb,vb){var ec=Kj(Te(Te({groupIds:[sb],backgroundColor:vb},gj),{},{x:Pa-12,y:mb-12,text:"0",textAlign:"right"}));
return[ec,Kj(Te(Te({groupIds:[sb],backgroundColor:vb},gj),{},{x:Pa-12,y:mb-256-ec.height/2,text:Math.max.apply(Math,Ua.values).toLocaleString(),textAlign:"right"}))]}(l,D,G,T,fa)),function(Ua,Pa,mb,sb,vb){var ec=Im(Ua);Ua=ec.chartWidth;ec=ec.chartHeight;return[We(Te(Te({backgroundColor:vb,groupIds:[sb]},gj),{},{type:"line",x:Pa,y:mb,startArrowhead:null,endArrowhead:null,width:Ua,points:[[0,0],[Ua,0]]})),We(Te(Te({backgroundColor:vb,groupIds:[sb]},gj),{},{type:"line",x:Pa,y:mb,startArrowhead:null,
endArrowhead:null,height:ec,points:[[0,0],[0,-ec]]})),We(Te(Te({backgroundColor:vb,groupIds:[sb]},gj),{},{type:"line",x:Pa,y:mb-256-12,startArrowhead:null,endArrowhead:null,strokeStyle:"dotted",width:Ua,opacity:50,points:[[0,0],[Ua,0]]}))]}(l,D,G,T,fa))},Wn=function(l,D,G,T){return"line"===l?function(fa,na,Aa){for(var za=Math.max.apply(Math,fa.values),Ga=xi(),Ua=Wk[Math.floor(Math.random()*Wk.length)],Pa=0,mb=[],sb=0,vb=fa.values;sb<vb.length;sb++)mb.push([44*Pa,-vb[sb]/za*256]),Pa++;Pa=Math.max.apply(Math,
mb.map(function(Zb){return Zb[0]}));sb=Math.max.apply(Math,mb.map(function(Zb){return Zb[1]}));vb=Math.min.apply(Math,mb.map(function(Zb){return Zb[0]}));var ec=Math.min.apply(Math,mb.map(function(Zb){return Zb[1]}));mb=We(Te(Te({backgroundColor:Ua,groupIds:[Ga]},gj),{},{type:"line",x:na+12+16,y:Aa-12,startArrowhead:null,endArrowhead:null,height:sb-ec,width:Pa-vb,strokeWidth:2,points:mb}));Pa=fa.values.map(function(Zb,Ac){Ac=44*Ac+6;Zb=-Zb/za*256+6;return Ol(Te(Te({backgroundColor:Ua,groupIds:[Ga]},
gj),{},{fillStyle:"solid",strokeWidth:2,type:"ellipse",x:na+Ac+16,y:Aa+Zb-24,width:12,height:12}))});sb=fa.values.map(function(Zb,Ac){Ac=44*Ac+6;Zb=Zb/za*256+18;return We(Te(Te({backgroundColor:Ua,groupIds:[Ga]},gj),{},{type:"line",x:na+Ac+16+6,y:Aa-Zb,startArrowhead:null,endArrowhead:null,height:Zb,strokeStyle:"dotted",opacity:50,points:[[0,0],[0,Zb]]}))});return Tj(Tj(Tj(Tj([],Vn(fa,na,Aa,Ga,Ua,"production"===hc.Vi.DEVELOPMENT)),[mb]),sb),Pa)}(D,G,T):function(fa,na,Aa){var za=Math.max.apply(Math,
fa.values),Ga=xi(),Ua=Wk[Math.floor(Math.random()*Wk.length)],Pa=fa.values.map(function(mb,sb){mb=mb/za*256;return Ol(Te(Te({backgroundColor:Ua,groupIds:[Ga]},gj),{},{type:"rectangle",x:na+44*sb+12,y:Aa-mb-12,width:32,height:mb}))});return Tj(Tj([],Pa),Vn(fa,na,Aa,Ga,Ua,"production"===hc.Vi.DEVELOPMENT))}(D,G,T)},Xn=function(){var l=function(D,G){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,fa){T.__proto__=fa}||function(T,fa){for(var na in fa)Object.prototype.hasOwnProperty.call(fa,
na)&&(T[na]=fa[na])})(D,G)};return function(D,G){function T(){this.constructor=D}if("function"!=typeof G&&null!==G)throw new TypeError("Class extends value "+String(G)+" is not a constructor or null");l(D,G);D.prototype=null===G?Object.create(G):(T.prototype=G.prototype,new T)}}(),rn=function(l){function D(G,T){void 0===G&&(G="Couldn't export canvas.");void 0===T&&(T="CANVAS_ERROR");var fa=l.call(this)||this;return fa.name=T,fa.message=G,fa}return Xn(D,l),D}(Error),Nj=function(l,D){var G,T,fa,na,
Aa,za,Ga,Ua;l={type:l.type,version:l.version||1,versionNonce:null!==(G=l.versionNonce)&&void 0!==G?G:0,isDeleted:null!==(T=l.isDeleted)&&void 0!==T&&T,id:l.id||xi(),fillStyle:l.fillStyle||"hachure",strokeWidth:l.strokeWidth||1,strokeStyle:null!==(fa=l.strokeStyle)&&void 0!==fa?fa:"solid",roughness:null!==(na=l.roughness)&&void 0!==na?na:1,opacity:null==l.opacity?100:l.opacity,angle:l.angle||0,x:l.x||0,y:l.y||0,strokeColor:l.strokeColor,backgroundColor:l.backgroundColor,width:l.width||0,height:l.height||
0,seed:null!==(Aa=l.seed)&&void 0!==Aa?Aa:1,groupIds:null!==(za=l.groupIds)&&void 0!==za?za:[],strokeSharpness:null!==(Ga=l.strokeSharpness)&&void 0!==Ga?Ga:hj(l.type)?"round":"sharp",boundElementIds:null!==(Ua=l.boundElementIds)&&void 0!==Ua?Ua:[]};return ze(ze(ze({},l),Ml(l)),D)},wk=function(l){return(l||[]).reduce(function(D,G){if("selection"!==G.type&&!Rh(G)){a:{var T;switch(G.type){case "text":var fa=G.fontSize,na=G.fontFamily;if("font"in G){fa=G.font.split(" ");na=fa[1];fa=parseInt(fa[0],10);
b:{for(var Aa=0,za=Object.entries(hc.ut);Aa<za.length;Aa++){var Ga=za[Aa],Ua=Ga[0];if(Ga[1].includes(na)){na=parseInt(Ua);break b}}na=hc.rk}}G=Nj(G,{fontSize:fa,fontFamily:na,text:null!==(T=G.text)&&void 0!==T?T:"",baseline:G.baseline,textAlign:G.textAlign||hc.Hg,verticalAlign:G.verticalAlign||hc.hs});break a;case "draw":case "line":case "arrow":T=G.startArrowhead;T=void 0===T?null:T;fa=G.endArrowhead;fa=void 0===fa?"arrow"===G.type?"arrow":null:fa;G=Nj(G,{startBinding:G.startBinding,endBinding:G.endBinding,
points:!Array.isArray(G.points)||2>G.points.length?[[0,0],[G.width,G.height]]:G.points,lastCommittedPoint:null,startArrowhead:T,endArrowhead:fa});break a;case "ellipse":case "rectangle":case "diamond":G=Nj(G,{});break a}G=void 0}G&&D.push(G)}return D},[])},ln=function(l,D){l=l||{};for(var G=Fh(),T={},fa=0,na=Object.entries(G);fa<na.length;fa++){var Aa=na[fa],za=Aa[0];Aa=Aa[1];var Ga=l[za],Ua=D?D[za]:void 0;T[za]=void 0!==Ga?Ga:void 0!==Ua?Ua:Aa}return ze(ze({},T),{},{offsetLeft:l.offsetLeft||0,offsetTop:l.offsetTop||
0,zoom:"number"==typeof l.zoom?{value:l.zoom,translation:G.zoom.translation}:l.zoom||G.zoom})},mn=function(l,D){return{elements:wk(null==l?void 0:l.elements),appState:ln(null==l?void 0:l.appState,D||null)}},tn=function(l,D){function G(Ga){return function(Ua){return function(Pa){if(T)throw new TypeError("Generator is already executing.");for(;za;)try{if(T=1,fa&&(na=2&Pa[0]?fa.return:Pa[0]?fa.throw||((na=fa.return)&&na.call(fa),0):fa.next)&&!(na=na.call(fa,Pa[1])).done)return na;switch(fa=0,na&&(Pa=
[2&Pa[0],na.value]),Pa[0]){case 0:case 1:na=Pa;break;case 4:return za.label++,{value:Pa[1],done:!1};case 5:za.label++;fa=Pa[1];Pa=[0];continue;case 7:Pa=za.ops.pop();za.trys.pop();continue;default:if(!(na=za.trys,(na=0<na.length&&na[na.length-1])||6!==Pa[0]&&2!==Pa[0])){za=0;continue}if(3===Pa[0]&&(!na||Pa[1]>na[0]&&Pa[1]<na[3]))za.label=Pa[1];else if(6===Pa[0]&&za.label<na[1])za.label=na[1],na=Pa;else if(na&&za.label<na[2])za.label=na[2],za.ops.push(Pa);else{na[2]&&za.ops.pop();za.trys.pop();continue}}Pa=
D.call(l,za)}catch(mb){Pa=[6,mb],fa=0}finally{T=na=0}if(5&Pa[0])throw Pa[1];return{value:Pa[0]?Pa[1]:void 0,done:!0}}([Ga,Ua])}}var T,fa,na,Aa,za={label:0,sent:function(){if(1&na[0])throw na[1];return na[1]},trys:[],ops:[]};return Aa={next:G(0),throw:G(1),return:G(2)},"function"==typeof Symbol&&(Aa[Symbol.iterator]=function(){return this}),Aa},mj=function(l,D){for(var G=0,T=D.length,fa=l.length;G<T;G++,fa++)l[fa]=D[G];return l},rh=function(){function l(){}return l.importLibrary=function(D){return Rc()(function(){var G,
T,fa,na;return tn(this,function(Aa){switch(Aa.label){case 0:return[4,qp(D)];case 1:return(G=Aa.sent())&&G.library?(T=function(za,Ga){return!za.find(function(Ua){return Ua.length===Ga.length&&Ua.every(function(Pa,mb){return Pa.id===Ga[mb].id&&Pa.versionNonce===Ga[mb].versionNonce})})},[4,l.loadLibrary()]):[2];case 2:return fa=Aa.sent(),na=G.library.reduce(function(za,Ga){Ga=je(wk(Ga));return T(fa,Ga)&&za.push(Ga),za},[]),l.saveLibrary(mj(mj([],fa),na)),[2]}})})()},l}();rh.libraryCache=null;rh.resetLibrary=
function(){rh.libraryCache=null;localStorage.removeItem(hc.I.LOCAL_STORAGE_LIBRARY)};rh.loadLibrary=function(){return new Promise(function(){var l=Rc()(function(D){var G,T;return tn(this,function(fa){if(rh.libraryCache)return[2,D(JSON.parse(JSON.stringify(rh.libraryCache)))];try{if(!(G=localStorage.getItem(hc.I.LOCAL_STORAGE_LIBRARY)))return[2,D([])];T=JSON.parse(G).map(function(na){return wk(na)});rh.libraryCache=JSON.parse(JSON.stringify(T));D(T)}catch(na){console.error(na),D([])}return[2]})});
return function(D){return l.apply(this,arguments)}}())};rh.saveLibrary=function(l){var D=rh.libraryCache;try{var G=JSON.stringify(l);rh.libraryCache=JSON.parse(G);localStorage.setItem(hc.I.LOCAL_STORAGE_LIBRARY,G)}catch(T){rh.libraryCache=D,console.error(T)}};var qm=function(l,D){function G(Ga){return function(Ua){return function(Pa){if(T)throw new TypeError("Generator is already executing.");for(;za;)try{if(T=1,fa&&(na=2&Pa[0]?fa.return:Pa[0]?fa.throw||((na=fa.return)&&na.call(fa),0):fa.next)&&!(na=
na.call(fa,Pa[1])).done)return na;switch(fa=0,na&&(Pa=[2&Pa[0],na.value]),Pa[0]){case 0:case 1:na=Pa;break;case 4:return za.label++,{value:Pa[1],done:!1};case 5:za.label++;fa=Pa[1];Pa=[0];continue;case 7:Pa=za.ops.pop();za.trys.pop();continue;default:if(!(na=za.trys,(na=0<na.length&&na[na.length-1])||6!==Pa[0]&&2!==Pa[0])){za=0;continue}if(3===Pa[0]&&(!na||Pa[1]>na[0]&&Pa[1]<na[3]))za.label=Pa[1];else if(6===Pa[0]&&za.label<na[1])za.label=na[1],na=Pa;else if(na&&za.label<na[2])za.label=na[2],za.ops.push(Pa);
else{na[2]&&za.ops.pop();za.trys.pop();continue}}Pa=D.call(l,za)}catch(mb){Pa=[6,mb],fa=0}finally{T=na=0}if(5&Pa[0])throw Pa[1];return{value:Pa[0]?Pa[1]:void 0,done:!0}}([Ga,Ua])}}var T,fa,na,Aa,za={label:0,sent:function(){if(1&na[0])throw na[1];return na[1]},trys:[],ops:[]};return Aa={next:G(0),throw:G(1),return:G(2)},"function"==typeof Symbol&&(Aa[Symbol.iterator]=function(){return this}),Aa},rm=function(l,D){return JSON.stringify({type:"excalidraw",version:2,source:window.location.origin,elements:Ef(l),
appState:vi(D,"export")},null,2)},bm=function(){var l=Rc()(function(D,G){var T;return qm(this,function(fa){switch(fa.label){case 0:return T=rm(D,G),[4,Sg(new Blob([T],{type:"application/json"}),{fileName:G.name,description:"Excalidraw file",extensions:[".excalidraw"]},G.fileHandle)];case 1:return[2,{fileHandle:fa.sent()}]}})});return function(D,G){return l.apply(this,arguments)}}(),nn=function(){var l=Rc()(function(D){var G;return qm(this,function(T){switch(T.label){case 0:return[4,Rg({description:"Excalidraw files",
extensions:[".json",".excalidraw",".png",".svg"],mimeTypes:["application/json","image/png","image/svg+xml"]})];case 1:return G=T.sent(),[2,Om(G,D)]}})});return function(D){return l.apply(this,arguments)}}(),sm=function(){var l=Rc()(function(){var D,G;return qm(this,function(T){switch(T.label){case 0:return[4,rh.loadLibrary()];case 1:return D=T.sent(),G=JSON.stringify({type:"excalidrawlib",version:1,library:D},null,2),"library.excalidrawlib",[4,Sg(new Blob([G],{type:hc.LO.excalidrawlib}),{fileName:"library.excalidrawlib",
description:"Excalidraw library file",extensions:[".excalidrawlib"]})];case 2:return T.sent(),[2]}})});return function(){return l.apply(this,arguments)}}(),pp=function(){var l=Rc()(function(){var D;return qm(this,function(G){switch(G.label){case 0:return[4,Rg({description:"Excalidraw library files",extensions:[".json",".excalidrawlib"],mimeTypes:["application/json"]})];case 1:return D=G.sent(),rh.importLibrary(D),[2]}})});return function(){return l.apply(this,arguments)}}(),Km=function(l,D){function G(Ga){return function(Ua){return function(Pa){if(T)throw new TypeError("Generator is already executing.");
for(;za;)try{if(T=1,fa&&(na=2&Pa[0]?fa.return:Pa[0]?fa.throw||((na=fa.return)&&na.call(fa),0):fa.next)&&!(na=na.call(fa,Pa[1])).done)return na;switch(fa=0,na&&(Pa=[2&Pa[0],na.value]),Pa[0]){case 0:case 1:na=Pa;break;case 4:return za.label++,{value:Pa[1],done:!1};case 5:za.label++;fa=Pa[1];Pa=[0];continue;case 7:Pa=za.ops.pop();za.trys.pop();continue;default:if(!(na=za.trys,(na=0<na.length&&na[na.length-1])||6!==Pa[0]&&2!==Pa[0])){za=0;continue}if(3===Pa[0]&&(!na||Pa[1]>na[0]&&Pa[1]<na[3]))za.label=
Pa[1];else if(6===Pa[0]&&za.label<na[1])za.label=na[1],na=Pa;else if(na&&za.label<na[2])za.label=na[2],za.ops.push(Pa);else{na[2]&&za.ops.pop();za.trys.pop();continue}}Pa=D.call(l,za)}catch(mb){Pa=[6,mb],fa=0}finally{T=na=0}if(5&Pa[0])throw Pa[1];return{value:Pa[0]?Pa[1]:void 0,done:!0}}([Ga,Ua])}}var T,fa,na,Aa,za={label:0,sent:function(){if(1&na[0])throw na[1];return na[1]},trys:[],ops:[]};return Aa={next:G(0),throw:G(1),return:G(2)},"function"==typeof Symbol&&(Aa[Symbol.iterator]=function(){return this}),
Aa},Cn=function(){var l=Rc()(function(D){var G;return Km(this,function(T){switch(T.label){case 0:if("image/png"!==D.type)return[3,6];T.label=1;case 1:return T.trys.push([1,4,,5]),[4,Promise.all([g.e(736),g.e(9)]).then(g.bind(g,8527))];case 2:return[4,T.sent().decodePngMetadata(D)];case 3:return[2,T.sent()];case 4:throw"INVALID"===T.sent().message?Error(La("alerts.imageDoesNotContainScene")):Error(La("alerts.cannotRestoreFromImage"));case 5:return[3,15];case 6:return"text"in Blob?[4,D.text()]:[3,8];
case 7:return G=T.sent(),[3,10];case 8:return[4,new Promise(function(fa){var na=new FileReader;na.readAsText(D,"utf8");na.onloadend=function(){na.readyState===FileReader.DONE&&fa(na.result)}})];case 9:G=T.sent(),T.label=10;case 10:if("image/svg+xml"!==D.type)return[3,15];T.label=11;case 11:return T.trys.push([11,14,,15]),[4,Promise.all([g.e(736),g.e(9)]).then(g.bind(g,8527))];case 12:return[4,T.sent().decodeSvgMetadata({svg:G})];case 13:return[2,T.sent()];case 14:throw"INVALID"===T.sent().message?
Error(La("alerts.imageDoesNotContainScene")):Error(La("alerts.cannotRestoreFromImage"));case 15:return[2,G]}})});return function(D){return l.apply(this,arguments)}}(),Om=function(){var l=Rc()(function(D,G){var T,fa;return Km(this,function(na){switch(na.label){case 0:return[4,Cn(D)];case 1:T=na.sent();try{var Aa=fa=JSON.parse(T);if("excalidraw"!==(null==Aa?void 0:Aa.type)||Aa.elements&&(!Array.isArray(Aa.elements)||Aa.appState&&"object"!=typeof Aa.appState))throw Error(La("alerts.couldNotLoadInvalidFile"));
var za=Ef(fa.elements||[]),Ga=null==G?void 0:G.appearance,Ua;if(Ua=D.handle){var Pa=["application/json",hc.LO.excalidraw],mb=Pa.includes;a:{if("string"==typeof D)var sb=D;else{if(D.type){var vb=D.type;break a}sb=D.name||""}vb=/\.(excalidraw|json)$/.test(sb)?"application/json":/\.png$/.test(sb)?"image/png":/\.jpe?g$/.test(sb)?"image/jpeg":/\.svg$/.test(sb)?"image/svg+xml":""}Ua=mb.call(Pa,vb)}return[2,mn({elements:za,appState:Eb(Eb({appearance:Ga,fileHandle:Ua?D.handle:null},vi(fa.appState||{},"export")),
G?mi(fa.elements||[],G):{})},G)]}catch(ec){throw console.error(ec.message),Error(La("alerts.couldNotLoadInvalidFile"));}}})});return function(D,G){return l.apply(this,arguments)}}(),qp=function(){var l=Rc()(function(D){var G,T;return Km(this,function(fa){switch(fa.label){case 0:return[4,Cn(D)];case 1:if(G=fa.sent(),"excalidrawlib"!==(T=JSON.parse(G)).type)throw Error(La("alerts.couldNotLoadInvalidFile"));return[2,T]}})});return function(D){return l.apply(this,arguments)}}(),Lm=function(){var l=Rc()(function(D){return Km(this,
function(G){return[2,new Promise(function(T,fa){try{D.toBlob(function(na){if(!na)return fa(new rn(La("canvasError.canvasTooBig"),"CANVAS_POSSIBLY_TOO_BIG"));T(na)})}catch(na){fa(na)}})]})});return function(D){return l.apply(this,arguments)}}(),Vj=function(l,D){function G(Ga){return function(Ua){return function(Pa){if(T)throw new TypeError("Generator is already executing.");for(;za;)try{if(T=1,fa&&(na=2&Pa[0]?fa.return:Pa[0]?fa.throw||((na=fa.return)&&na.call(fa),0):fa.next)&&!(na=na.call(fa,Pa[1])).done)return na;
switch(fa=0,na&&(Pa=[2&Pa[0],na.value]),Pa[0]){case 0:case 1:na=Pa;break;case 4:return za.label++,{value:Pa[1],done:!1};case 5:za.label++;fa=Pa[1];Pa=[0];continue;case 7:Pa=za.ops.pop();za.trys.pop();continue;default:if(!(na=za.trys,(na=0<na.length&&na[na.length-1])||6!==Pa[0]&&2!==Pa[0])){za=0;continue}if(3===Pa[0]&&(!na||Pa[1]>na[0]&&Pa[1]<na[3]))za.label=Pa[1];else if(6===Pa[0]&&za.label<na[1])za.label=na[1],na=Pa;else if(na&&za.label<na[2])za.label=na[2],za.ops.push(Pa);else{na[2]&&za.ops.pop();
za.trys.pop();continue}}Pa=D.call(l,za)}catch(mb){Pa=[6,mb],fa=0}finally{T=na=0}if(5&Pa[0])throw Pa[1];return{value:Pa[0]?Pa[1]:void 0,done:!0}}([Ga,Ua])}}var T,fa,na,Aa,za={label:0,sent:function(){if(1&na[0])throw na[1];return na[1]},trys:[],ops:[]};return Aa={next:G(0),throw:G(1),return:G(2)},"function"==typeof Symbol&&(Aa[Symbol.iterator]=function(){return this}),Aa},Nm="",Mm=!1,Uh="clipboard"in navigator&&"readText"in navigator.clipboard,Wj="clipboard"in navigator&&"writeText"in navigator.clipboard,
Dk="clipboard"in navigator&&"write"in navigator.clipboard&&"ClipboardItem"in window&&"toBlob"in HTMLCanvasElement.prototype,Ck=function(){var l=Rc()(function(D,G){var T,fa,na;return Vj(this,function(Aa){switch(Aa.label){case 0:T={type:"excalidraw/elements",created:Date.now(),elements:wf(D,G)},Nm=fa=JSON.stringify(T),Aa.label=1;case 1:return Aa.trys.push([1,3,,4]),Mm=!1,[4,Nb(fa)];case 2:return Aa.sent(),[3,4];case 3:return na=Aa.sent(),Mm=!0,console.error(na),[3,4];case 4:return[2]}})});return function(D,
G){return l.apply(this,arguments)}}(),X=function(){if(!Nm)return{};try{return JSON.parse(Nm)}catch(l){return console.error(l),{}}},oa=function(l){l=function(D){var G=D.trim().split("\n").map(function(fa){return fa.trim().split("\t")});if(G.length&&2!==G[0].length&&(G=D.trim().split("\n").map(function(fa){return fa.trim().split(",")})),0===G.length)return{type:"NOT_SPREADSHEET",reason:"No values"};var T=G[0].length;if(!G.every(function(fa){return fa.length===T}))return{type:"NOT_SPREADSHEET",reason:"All rows don't have same number of columns"};
D=In(G);return"VALID_SPREADSHEET"!==D.type&&(G=In(function(fa){for(var na=[],Aa=0;Aa<fa[0].length;Aa++){for(var za=[],Ga=0;Ga<fa.length;Ga++)za.push(fa[Ga][Aa]);na.push(za)}return na}(G)),"VALID_SPREADSHEET"===G.type)?G:D}(l);return"VALID_SPREADSHEET"===l.type?{spreadsheet:l.spreadsheet}:null},Fa=function(){var l=Rc()(function(D){var G,T,fa;return Vj(this,function(na){switch(na.label){case 0:return na.trys.push([0,5,,6]),D?(T=null===(G=D.clipboardData)||void 0===G?void 0:G.getData("text/plain").trim(),
[3,4]):[3,1];case 1:return(fa=Uh)?[4,navigator.clipboard.readText()]:[3,3];case 2:fa=na.sent(),na.label=3;case 3:T=fa,na.label=4;case 4:return[2,T||""];case 5:return na.sent(),[2,""];case 6:return[2]}})});return function(D){return l.apply(this,arguments)}}(),gb=function(){var l=Rc()(function(D){var G,T,fa,na;return Vj(this,function(Aa){switch(Aa.label){case 0:return[4,Fa(D)];case 1:if(!(G=Aa.sent())||G.includes("\x3c!-- svg-source:excalidraw --\x3e"))return[2,X()];if(T=oa(G))return[2,T];fa=X();try{return na=
JSON.parse(G),"excalidraw/elements"===(null==(za=na)?void 0:za.type)&&(null==fa||!fa.created||fa.created<na.created)?[2,{elements:na.elements}]:[2,fa]}catch(Ga){return[2,Mm&&fa.elements?fa:{text:G}]}}var za})});return function(D){return l.apply(this,arguments)}}(),Bb=function(){var l=Rc()(function(D){var G;return Vj(this,function(T){switch(T.label){case 0:return[4,Lm(D)];case 1:return G=T.sent(),[4,navigator.clipboard.write([new window.ClipboardItem({"image/png":G})])];case 2:return T.sent(),[2]}})});
return function(D){return l.apply(this,arguments)}}(),Nb=function(){var l=Rc()(function(D){var G,T;return Vj(this,function(fa){switch(fa.label){case 0:if(G=!1,!Wj)return[3,4];fa.label=1;case 1:return fa.trys.push([1,3,,4]),[4,navigator.clipboard.writeText(D||"")];case 2:return fa.sent(),G=!0,[3,4];case 3:return T=fa.sent(),console.error(T),[3,4];case 4:if(fa=!G){var na=D||" ",Aa="rtl"===document.documentElement.getAttribute("dir");fa=document.createElement("textarea");fa.style.border="0";fa.style.padding=
"0";fa.style.margin="0";fa.style.position="absolute";fa.style[Aa?"right":"left"]="-9999px";fa.style.top="".concat(window.pageYOffset||document.documentElement.scrollTop,"px");fa.style.fontSize="12pt";fa.setAttribute("readonly","");fa.value=na;document.body.appendChild(fa);na=!1;try{fa.select(),fa.setSelectionRange(0,fa.value.length),na=document.execCommand("copy")}catch(za){console.error(za)}fa=!(fa.remove(),na)}if(fa)throw Error("couldn't copy");return[2]}})});return function(D){return l.apply(this,
arguments)}}(),qc=function(l,D){function G(Ga){return function(Ua){return function(Pa){if(T)throw new TypeError("Generator is already executing.");for(;za;)try{if(T=1,fa&&(na=2&Pa[0]?fa.return:Pa[0]?fa.throw||((na=fa.return)&&na.call(fa),0):fa.next)&&!(na=na.call(fa,Pa[1])).done)return na;switch(fa=0,na&&(Pa=[2&Pa[0],na.value]),Pa[0]){case 0:case 1:na=Pa;break;case 4:return za.label++,{value:Pa[1],done:!1};case 5:za.label++;fa=Pa[1];Pa=[0];continue;case 7:Pa=za.ops.pop();za.trys.pop();continue;default:if(!(na=
za.trys,(na=0<na.length&&na[na.length-1])||6!==Pa[0]&&2!==Pa[0])){za=0;continue}if(3===Pa[0]&&(!na||Pa[1]>na[0]&&Pa[1]<na[3]))za.label=Pa[1];else if(6===Pa[0]&&za.label<na[1])za.label=na[1],na=Pa;else if(na&&za.label<na[2])za.label=na[2],za.ops.push(Pa);else{na[2]&&za.ops.pop();za.trys.pop();continue}}Pa=D.call(l,za)}catch(mb){Pa=[6,mb],fa=0}finally{T=na=0}if(5&Pa[0])throw Pa[1];return{value:Pa[0]?Pa[1]:void 0,done:!0}}([Ga,Ua])}}var T,fa,na,Aa,za={label:0,sent:function(){if(1&na[0])throw na[1];return na[1]},
trys:[],ops:[]};return Aa={next:G(0),throw:G(1),return:G(2)},"function"==typeof Symbol&&(Aa[Symbol.iterator]=function(){return this}),Aa},Bc=function(){var l=Rc()(function(D,G,T,fa,na){var Aa,za,Ga,Ua,Pa,mb,sb,vb,ec,Zb=na.exportBackground,Ac=na.exportPadding,gd=void 0===Ac?10:Ac,kd=na.viewBackgroundColor,xd=na.name;Ac=na.scale;var ne=void 0===Ac?1:Ac,me=na.shouldAddWatermark;return qc(this,function(Re){switch(Re.label){case 0:if(0===G.length)throw Error(La("alerts.cannotExportEmptyCanvas"));return"svg"!==
D&&"clipboard-svg"!==D?[3,7]:(za=Pl,Ga=[G],Ua={exportBackground:Zb,exportWithDarkMode:T.exportWithDarkMode,viewBackgroundColor:kd,exportPadding:gd,scale:ne,shouldAddWatermark:me},T.exportEmbedScene&&"svg"===D?[4,Promise.all([g.e(736),g.e(9)]).then(g.bind(g,8527))]:[3,3]);case 1:return[4,Re.sent().encodeSvgMetadata({text:rm(G,T)})];case 2:return Pa=Re.sent(),[3,4];case 3:Pa=void 0,Re.label=4;case 4:return Aa=za.apply(void 0,Ga.concat([(Ua.metadata=Pa,Ua)])),"svg"!==D?[3,6]:[4,Sg(new Blob([Aa.outerHTML],
{type:"image/svg+xml"}),{fileName:"".concat(xd,".svg"),extensions:[".svg"]})];case 5:return Re.sent(),[2];case 6:if("clipboard-svg"===D)return Nb(Aa.outerHTML),[2];Re.label=7;case 7:return(mb=vm(G,T,{exportBackground:Zb,viewBackgroundColor:kd,exportPadding:gd,scale:ne,shouldAddWatermark:me})).style.display="none",document.body.appendChild(mb),"png"!==D?[3,13]:(sb="".concat(xd,".png"),[4,Lm(mb)]);case 8:return vb=Re.sent(),T.exportEmbedScene?[4,Promise.all([g.e(736),g.e(9)]).then(g.bind(g,8527))]:
[3,11];case 9:return[4,Re.sent().encodePngMetadata({blob:vb,metadata:rm(G,T)})];case 10:vb=Re.sent(),Re.label=11;case 11:return[4,Sg(vb,{fileName:sb,extensions:[".png"]})];case 12:return Re.sent(),[3,17];case 13:if("clipboard"!==D)return[3,17];Re.label=14;case 14:return Re.trys.push([14,16,,17]),[4,Bb(mb)];case 15:return Re.sent(),[3,17];case 16:if("CANVAS_POSSIBLY_TOO_BIG"===(ec=Re.sent()).name)throw ec;throw Error(La("alerts.couldNotCopyToClipboard"));case 17:return mb!==fa&&mb.remove(),[2]}})});
return function(D,G,T,fa,na){return l.apply(this,arguments)}}(),Oc=function(l,D){function G(Ga){return function(Ua){return function(Pa){if(T)throw new TypeError("Generator is already executing.");for(;za;)try{if(T=1,fa&&(na=2&Pa[0]?fa.return:Pa[0]?fa.throw||((na=fa.return)&&na.call(fa),0):fa.next)&&!(na=na.call(fa,Pa[1])).done)return na;switch(fa=0,na&&(Pa=[2&Pa[0],na.value]),Pa[0]){case 0:case 1:na=Pa;break;case 4:return za.label++,{value:Pa[1],done:!1};case 5:za.label++;fa=Pa[1];Pa=[0];continue;
case 7:Pa=za.ops.pop();za.trys.pop();continue;default:if(!(na=za.trys,(na=0<na.length&&na[na.length-1])||6!==Pa[0]&&2!==Pa[0])){za=0;continue}if(3===Pa[0]&&(!na||Pa[1]>na[0]&&Pa[1]<na[3]))za.label=Pa[1];else if(6===Pa[0]&&za.label<na[1])za.label=na[1],na=Pa;else if(na&&za.label<na[2])za.label=na[2],za.ops.push(Pa);else{na[2]&&za.ops.pop();za.trys.pop();continue}}Pa=D.call(l,za)}catch(mb){Pa=[6,mb],fa=0}finally{T=na=0}if(5&Pa[0])throw Pa[1];return{value:Pa[0]?Pa[1]:void 0,done:!0}}([Ga,Ua])}}var T,
fa,na,Aa,za={label:0,sent:function(){if(1&na[0])throw na[1];return na[1]},trys:[],ops:[]};return Aa={next:G(0),throw:G(1),return:G(2)},"function"==typeof Symbol&&(Aa[Symbol.iterator]=function(){return this}),Aa},bd,pd,Wd;re({name:"changeProjectName",perform:function(l,D,G){return Wg("change","title"),{appState:ab(ab({},D),{},{name:G}),commitToHistory:!1}},PanelComponent:function(l){var D=l.appState,G=l.updateData;return Ha().createElement(Di,{label:La("labels.fileTitle"),value:D.name||"Unnamed",onChange:function(T){return G(T)}})}});
re({name:"changeExportBackground",perform:function(l,D,G){return{appState:ab(ab({},D),{},{exportBackground:G}),commitToHistory:!1}},PanelComponent:function(l){var D=l.appState,G=l.updateData;return Ha().createElement("label",null,Ha().createElement("input",{type:"checkbox",checked:D.exportBackground,onChange:function(T){return G(T.target.checked)}})," ",La("labels.withBackground"))}});re({name:"changeExportEmbedScene",perform:function(l,D,G){return{appState:ab(ab({},D),{},{exportEmbedScene:G}),commitToHistory:!1}},
PanelComponent:function(l){var D=l.appState,G=l.updateData;return Ha().createElement("label",{style:{display:"flex"}},Ha().createElement("input",{type:"checkbox",checked:D.exportEmbedScene,onChange:function(T){return G(T.target.checked)}})," ",La("labels.exportEmbedScene"),Ha().createElement(Gj,{label:La("labels.exportEmbedScene_details"),position:"above",long:!0},Ha().createElement("div",{className:"TooltipIcon"},hd)))}});re({name:"changeShouldAddWatermark",perform:function(l,D,G){return{appState:ab(ab({},
D),{},{shouldAddWatermark:G}),commitToHistory:!1}},PanelComponent:function(l){var D=l.appState,G=l.updateData;return Ha().createElement("label",null,Ha().createElement("input",{type:"checkbox",checked:D.shouldAddWatermark,onChange:function(T){return G(T.target.checked)}})," ",La("labels.addWatermark"))}});re({name:"saveScene",perform:(bd=Rc()(function(l,D,G){var T,fa,na;return Oc(this,function(Aa){switch(Aa.label){case 0:T=!!D.fileHandle,Aa.label=1;case 1:return Aa.trys.push([1,3,,4]),[4,bm(l,D)];
case 2:return fa=Aa.sent().fileHandle,[2,{commitToHistory:!1,appState:ab(ab({},D),{},{fileHandle:fa,toastMessage:T?fa.name?La("toast.fileSavedToFilename").replace("{filename}",'"'.concat(fa.name,'"')):La("toast.fileSaved"):null})}];case 3:return"AbortError"!==(null==(na=Aa.sent())?void 0:na.name)&&console.error(na),[2,{commitToHistory:!1}];case 4:return[2]}})}),function(l,D,G){return bd.apply(this,arguments)}),keyTest:function(l){return"s"===l.key&&l[ef]&&!l.shiftKey},PanelComponent:function(l){var D=
l.updateData;return Ha().createElement(lf,{type:"button",icon:He,title:La("buttons.save"),"aria-label":La("buttons.save"),showAriaLabel:Qe(),onClick:function(){return D(null)}})}});re({name:"saveAsScene",perform:(pd=Rc()(function(l,D,G){var T,fa;return Oc(this,function(na){switch(na.label){case 0:return na.trys.push([0,2,,3]),[4,bm(l,ab(ab({},D),{},{fileHandle:null}))];case 1:return T=na.sent().fileHandle,[2,{commitToHistory:!1,appState:ab(ab({},D),{},{fileHandle:T})}];case 2:return"AbortError"!==
(null==(fa=na.sent())?void 0:fa.name)&&console.error(fa),[2,{commitToHistory:!1}];case 3:return[2]}})}),function(l,D,G){return pd.apply(this,arguments)}),keyTest:function(l){return"s"===l.key&&l.shiftKey&&l[ef]},PanelComponent:function(l){var D=l.updateData;return Ha().createElement(lf,{type:"button",icon:Fm,title:La("buttons.saveAs"),"aria-label":La("buttons.saveAs"),showAriaLabel:Qe(),hidden:!("chooseFileSystemEntries"in window||"showOpenFilePicker"in window),onClick:function(){return D(null)}})}});
re({name:"loadScene",perform:(Wd=Rc()(function(l,D){var G,T,fa,na;return Oc(this,function(Aa){switch(Aa.label){case 0:return Aa.trys.push([0,2,,3]),[4,nn(D)];case 1:return G=Aa.sent(),T=G.elements,fa=G.appState,[2,{elements:T,appState:fa,commitToHistory:!0}];case 2:return"AbortError"===(null==(na=Aa.sent())?void 0:na.name)?[2,!1]:[2,{elements:l,appState:ab(ab({},D),{},{errorMessage:na.message}),commitToHistory:!1}];case 3:return[2]}})}),function(l,D){return Wd.apply(this,arguments)}),keyTest:function(l){return l[ef]&&
"o"===l.key},PanelComponent:function(l){var D=l.updateData;l.appState;return Ha().createElement(lf,{type:"button",icon:om,title:La("buttons.load"),"aria-label":La("buttons.load"),showAriaLabel:Qe(),onClick:D})}});re({name:"exportWithDarkMode",perform:function(l,D,G){return{appState:ab(ab({},D),{},{exportWithDarkMode:G}),commitToHistory:!1}},PanelComponent:function(l){var D=l.appState,G=l.updateData;return Ha().createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"-45px",
marginBottom:"10px"}},Ha().createElement(hk,{value:D.exportWithDarkMode?"dark":"light",onChange:function(T){G("dark"===T)},title:La("labels.toggleExportColorScheme")}))}});var ie="{}",sf=re({name:"copyStyles",perform:function(l,D){l=l.find(function(G){return D.selectedElementIds[G.id]});return l&&(ie=JSON.stringify(l)),{appState:xb(xb({},D),{},{toastMessage:La("toast.copyStyles")}),commitToHistory:!1}},contextItemLabel:"labels.copyStyles",keyTest:function(l){return l[ef]&&l.altKey&&"KeyC"===l.code}}),
mf=re({name:"pasteStyles",perform:function(l,D){var G=JSON.parse(ie);return"text"!==(null==G?void 0:G.type)&&"diamond"!==(null==G?void 0:G.type)&&"rectangle"!==(null==G?void 0:G.type)&&"ellipse"!==(null==G?void 0:G.type)&&"arrow"!==(null==G?void 0:G.type)&&"draw"!==(null==G?void 0:G.type)&&"line"!==(null==G?void 0:G.type)?{elements:l,commitToHistory:!1}:{elements:l.map(function(T){return D.selectedElementIds[T.id]?(T=zg(T,{backgroundColor:null==G?void 0:G.backgroundColor,strokeWidth:null==G?void 0:
G.strokeWidth,strokeColor:null==G?void 0:G.strokeColor,strokeStyle:null==G?void 0:G.strokeStyle,fillStyle:null==G?void 0:G.fillStyle,opacity:null==G?void 0:G.opacity,roughness:null==G?void 0:G.roughness}),fe(T)&&(nf(T,{fontSize:(null==G?void 0:G.fontSize)||hc.n5,fontFamily:(null==G?void 0:G.fontFamily)||hc.rk,textAlign:(null==G?void 0:G.textAlign)||hc.Hg}),qk(T)),T):T}),commitToHistory:!0}},contextItemLabel:"labels.pasteStyles",keyTest:function(l){return l[ef]&&l.altKey&&"KeyV"===l.code}}),gi=function(l){return Ha().createElement("label",
{title:"".concat(l.title," — ?"),className:"help-icon"},Ha().createElement("div",{onClick:l.onClick},hd))};re({name:"toggleCanvasMenu",perform:function(l,D){return{appState:sc(sc({},D),{},{openMenu:"canvas"===D.openMenu?null:"canvas"}),commitToHistory:!1}},PanelComponent:function(l){var D=l.appState;l=l.updateData;return Ha().createElement(lf,{type:"button",icon:Sk,"aria-label":La("buttons.menu"),onClick:l,selected:"canvas"===D.openMenu})}});re({name:"toggleEditMenu",perform:function(l,D){return{appState:sc(sc({},
D),{},{openMenu:"shape"===D.openMenu?null:"shape"}),commitToHistory:!1}},PanelComponent:function(l){var D=l.elements,G=l.appState;l=l.updateData;return Ha().createElement(lf,{visible:th(G,je(D)),type:"button",icon:Oh,"aria-label":La("buttons.edit"),onClick:l,selected:"shape"===G.openMenu})}});re({name:"toggleFullScreen",perform:function(){return yh()||document.documentElement.requestFullscreen(),yh()&&document.exitFullscreen(),{commitToHistory:!1}},keyTest:function(l){return"KeyF"===l.code&&!l[ef]}});
re({name:"toggleShortcuts",perform:function(l,D){return{appState:sc(sc({},D),{},{showHelpDialog:!D.showHelpDialog}),commitToHistory:!1}},PanelComponent:function(l){l=l.updateData;return Ha().createElement(gi,{title:La("helpDialog.title"),onClick:l})},keyTest:function(l){return"?"===l.key}});var Zk=function(l,D){for(var G=0,T=D.length,fa=l.length;G<T;G++,fa++)l[fa]=D[G];return l},ak=function(l,D){l=wf(je(l),D);return 2<=l.length&&!function(G){if(2<=G.length)for(var T=function(za){if(G.reduce(function(Ga,
Ua){return Ga&&Ua.groupIds.includes(za)},!0))return{value:!0}},fa=0,na=G[0].groupIds;fa<na.length;fa++){var Aa=T(na[fa]);if("object"==typeof Aa)return Aa.value}return!1}(l)},cg=re({name:"group",perform:function(l,D){var G=wf(je(l),D);if(2>G.length)return{appState:D,elements:l,commitToHistory:!1};var T=Li(D);if(1===T.length&&(T=new Set(ck(l,T[0]).map(function(Aa){return Aa.id})),G=new Set(G.map(function(Aa){return Aa.id})),(new Set(Zk(Zk([],Array.from(T)),Array.from(G)))).size===T.size))return{appState:D,
elements:l,commitToHistory:!1};var fa=xi();T=l.map(function(Aa){if(D.selectedElementIds[Aa.id]){var za=D.editingGroupId;var Ga=zl([],Aa.groupIds);za=za?Ga.indexOf(za):-1;Ga=(Ga.splice(-1<za?za:Ga.length,0,fa),Ga);Aa=zg(Aa,{groupIds:Ga})}return Aa});l=ck(T,fa);var na=T.lastIndexOf(l[l.length-1]);G=T.slice(na+1);T=T.slice(0,na).filter(function(Aa){return!Aa.groupIds.includes(fa)});l=Zk(Zk(Zk([],T),l),G);return{appState:bk(fa,Nc(Nc({},D),{},{selectedGroupIds:{}}),je(l)),elements:l,commitToHistory:!0}},
contextItemLabel:"labels.group",contextItemPredicate:function(l,D){return ak(l,D)},keyTest:function(l){return!l.shiftKey&&l[ef]&&"KeyG"===l.code},PanelComponent:function(l){var D=l.elements,G=l.appState,T=l.updateData;return Ha().createElement(lf,{hidden:!ak(D,G),type:"button",icon:Ha().createElement(uf,{appearance:G.appearance}),onClick:function(){return T(null)},title:"".concat(La("labels.group")," — ").concat($d("CtrlOrCmd+G")),"aria-label":La("labels.group"),visible:lg(je(D),G)})}}),yi=re({name:"ungroup",
perform:function(l,D){if(0===Li(D).length)return{appState:D,elements:l,commitToHistory:!1};l=l.map(function(G){var T=function(fa,na){return fa.filter(function(Aa){return!na[Aa]})}(G.groupIds,D.selectedGroupIds);return T.length===G.groupIds.length?G:zg(G,{groupIds:T})});return{appState:Wh(Nc(Nc({},D),{},{selectedGroupIds:{}}),je(l)),elements:l,commitToHistory:!0}},keyTest:function(l){return l.shiftKey&&l[ef]&&"KeyG"===l.code},contextItemLabel:"labels.ungroup",contextItemPredicate:function(l,D){return 0<
Li(D).length},PanelComponent:function(l){var D=l.elements,G=l.appState,T=l.updateData;return Ha().createElement(lf,{type:"button",hidden:0===Li(G).length,icon:Ha().createElement(Ok,{appearance:G.appearance}),onClick:function(){return T(null)},title:"".concat(La("labels.ungroup")," — ").concat($d("CtrlOrCmd+Shift+G")),"aria-label":La("labels.ungroup"),visible:lg(je(D),G)})}}),Kk=(g(1395),function(l){var D=l.children,G=l.color,T=l.border;l=l.onClick;return Ha().createElement("div",{className:"Avatar",
style:{background:G,border:"1px solid ".concat(T)},onClick:l},D)});re({name:"goToCollaborator",perform:function(l,D,G){return G?{appState:$c($c($c({},D),Xi({scenePoint:G,viewportDimensions:{width:D.width,height:D.height},zoom:D.zoom})),{},{openMenu:"canvas"===D.openMenu?null:D.openMenu}),commitToHistory:!1}:{appState:D,commitToHistory:!1}},PanelComponent:function(l){var D=l.appState,G=l.updateData;l=l.id;if(!l)return null;var T=D.collaborators.get(l);if(!T)return null;l=Ti(l,D);D=l.background;l=l.stroke;
var fa=function(na){if(!na)return"?";na=na.trim().split(" ");return 2>na.length?na[0].substring(0,2).toUpperCase():(na[0][0]+na[na.length-1][0]).toUpperCase()}(T.username);return Ha().createElement(Kk,{color:D,border:l,onClick:function(){return G(T.pointer)}},fa)}});var Qm=function(l,D){for(var G=0,T=D.length,fa=l.length;G<T;G++,fa++)l[fa]=D[G];return l},Oo=re({name:"addToLibrary",perform:function(l,D){var G=wf(je(l),D);return rh.loadLibrary().then(function(T){rh.saveLibrary(Qm(Qm([],T),[G.map(Lj)]))}),
!1},contextItemLabel:"labels.addToLibrary"}),Fn=function(l,D){for(var G=0,T=D.length,fa=l.length;G<T;G++,fa++)l[fa]=D[G];return l},ao=function(l){var D=new Map;return l.forEach(function(G){var T=0===G.groupIds.length?G.id:G.groupIds[G.groupIds.length-1],fa=D.get(T)||[];D.set(T,Fn(Fn([],fa),[G]))}),Array.from(D.values())},Df=function(l,D,G){var T,fa,na,Aa=G.axis;G=G.position;l=Xj(l);var za="x"===Aa?["minX","maxX"]:["minY","maxY"],Ga=za[0];za=za[1];return uc(uc({},{x:0,y:0}),{},"start"===G?((T={})[Aa]=
D[Ga]-l[Ga],T):"end"===G?((fa={})[Aa]=D[za]-l[za],fa):((na={})[Aa]=(D[Ga]+D[za])/2-(l[Ga]+l[za])/2,na))},Xj=function(l){l=Dg(l);return{minX:l[0],minY:l[1],maxX:l[2],maxY:l[3]}},Zh=function(l,D){return 1<wf(je(l),D).length},Ki=function(l,D,G){D=function(fa,na){var Aa=ao(fa),za=Xj(fa);return Aa.flatMap(function(Ga){var Ua=Df(Ga,za,na);return Ga.map(function(Pa){return zg(Pa,{x:Pa.x+Ua.x,y:Pa.y+Ua.y})})})}(wf(je(l),D),G);var T=$i(D);return l.map(function(fa){return T[fa.id]||fa})},sn=(re({name:"alignTop",
perform:function(l,D){return{appState:D,elements:Ki(l,D,{position:"start",axis:"y"}),commitToHistory:!0}},keyTest:function(l){return l[ef]&&l.shiftKey&&"ArrowUp"===l.key},PanelComponent:function(l){var D=l.elements,G=l.appState,T=l.updateData;return Ha().createElement(lf,{hidden:!Zh(D,G),type:"button",icon:Ha().createElement(Ih,{appearance:G.appearance}),onClick:function(){return T(null)},title:"".concat(La("labels.alignTop")," — ").concat($d("CtrlOrCmd+Shift+Up")),"aria-label":La("labels.alignTop"),
visible:lg(je(D),G)})}}),re({name:"alignBottom",perform:function(l,D){return{appState:D,elements:Ki(l,D,{position:"end",axis:"y"}),commitToHistory:!0}},keyTest:function(l){return l[ef]&&l.shiftKey&&"ArrowDown"===l.key},PanelComponent:function(l){var D=l.elements,G=l.appState,T=l.updateData;return Ha().createElement(lf,{hidden:!Zh(D,G),type:"button",icon:Ha().createElement(sg,{appearance:G.appearance}),onClick:function(){return T(null)},title:"".concat(La("labels.alignBottom")," — ").concat($d("CtrlOrCmd+Shift+Down")),
"aria-label":La("labels.alignBottom"),visible:lg(je(D),G)})}}),re({name:"alignLeft",perform:function(l,D){return{appState:D,elements:Ki(l,D,{position:"start",axis:"x"}),commitToHistory:!0}},keyTest:function(l){return l[ef]&&l.shiftKey&&"ArrowLeft"===l.key},PanelComponent:function(l){var D=l.elements,G=l.appState,T=l.updateData;return Ha().createElement(lf,{hidden:!Zh(D,G),type:"button",icon:Ha().createElement(Aj,{appearance:G.appearance}),onClick:function(){return T(null)},title:"".concat(La("labels.alignLeft"),
" — ").concat($d("CtrlOrCmd+Shift+Left")),"aria-label":La("labels.alignLeft"),visible:lg(je(D),G)})}}),re({name:"alignRight",perform:function(l,D){return{appState:D,elements:Ki(l,D,{position:"end",axis:"x"}),commitToHistory:!0}},keyTest:function(l){return l[ef]&&l.shiftKey&&"ArrowRight"===l.key},PanelComponent:function(l){var D=l.elements,G=l.appState,T=l.updateData;return Ha().createElement(lf,{hidden:!Zh(D,G),type:"button",icon:Ha().createElement(jd,{appearance:G.appearance}),onClick:function(){return T(null)},
title:"".concat(La("labels.alignRight")," — ").concat($d("CtrlOrCmd+Shift+Right")),"aria-label":La("labels.alignRight"),visible:lg(je(D),G)})}}),re({name:"alignVerticallyCentered",perform:function(l,D){return{appState:D,elements:Ki(l,D,{position:"center",axis:"y"}),commitToHistory:!0}},PanelComponent:function(l){var D=l.elements,G=l.appState,T=l.updateData;return Ha().createElement(lf,{hidden:!Zh(D,G),type:"button",icon:Ha().createElement(dd,{appearance:G.appearance}),onClick:function(){return T(null)},
title:La("labels.centerVertically"),"aria-label":La("labels.centerVertically"),visible:lg(je(D),G)})}}),re({name:"alignHorizontallyCentered",perform:function(l,D){return{appState:D,elements:Ki(l,D,{position:"center",axis:"x"}),commitToHistory:!0}},PanelComponent:function(l){var D=l.elements,G=l.appState,T=l.updateData;return Ha().createElement(lf,{hidden:!Zh(D,G),type:"button",icon:Ha().createElement(Tk,{appearance:G.appearance}),onClick:function(){return T(null)},title:La("labels.centerHorizontally"),
"aria-label":La("labels.centerHorizontally"),visible:lg(je(D),G)})}}),function(l,D){for(var G=0,T=D.length,fa=l.length;G<T;G++,fa++)l[fa]=D[G];return l}),jq=function(l){var D=new Map;return l.forEach(function(G){var T=0===G.groupIds.length?G.id:G.groupIds[G.groupIds.length-1],fa=D.get(T)||[];D.set(T,sn(sn([],fa),[G]))}),Array.from(D.values())},xj=function(l){var D=Dg(l);l=D[0];var G=D[1],T=D[2];D=D[3];return{minX:l,minY:G,maxX:T,maxY:D,width:T-l,height:D-G,midX:(l+T)/2,midY:(G+D)/2}},No=function(l,
D){return 1<wf(je(l),D).length},Dn=function(l,D,G){D=function(fa,na){var Aa="x"===na.axis?["minX","midX","maxX","width"]:["minY","midY","maxY","height"],za=Aa[0],Ga=Aa[1],Ua=Aa[2],Pa=Aa[3],mb=xj(fa);fa=jq(fa).map(function(xd){return[xd,xj(xd)]}).sort(function(xd,ne){return xd[1][Ga]-ne[1][Ga]});for(var sb=Aa=0;sb<fa.length;sb++)Aa+=fa[sb][1][Pa];var vb=(mb[Pa]-Aa)/(fa.length-1);if(0>vb){var ec=fa.findIndex(function(xd){return xd[1][za]===mb[za]}),Zb=fa.findIndex(function(xd){return xd[1][Ua]===mb[Ua]}),
Ac=(fa[Zb][1][Ga]-fa[ec][1][Ga])/(fa.length-1),gd=fa[ec][1][Ga];return fa.flatMap(function(xd,ne){var me=xd[0];xd=xd[1];var Re={x:0,y:0};return ne!==ec&&ne!==Zb&&(gd+=Ac,Re[na.axis]=gd-xd[Ga]),me.map(function(Ne){return zg(Ne,{x:Ne.x+Re.x,y:Ne.y+Re.y})})})}var kd=mb[za];return fa.flatMap(function(xd){var ne=xd[0];xd=xd[1];var me={x:0,y:0};return me[na.axis]=kd-xd[za],kd+=vb,kd+=xd[Pa],ne.map(function(Re){return zg(Re,{x:Re.x+me.x,y:Re.y+me.y})})})}(wf(je(l),D),G);var T=$i(D);return l.map(function(fa){return T[fa.id]||
fa})},Zn=(re({name:"distributeHorizontally",perform:function(l,D){return{appState:D,elements:Dn(l,D,{space:"between",axis:"x"}),commitToHistory:!0}},keyTest:function(l){return l.altKey&&"KeyH"===l.code},PanelComponent:function(l){var D=l.elements,G=l.appState,T=l.updateData;return Ha().createElement(lf,{hidden:!No(D,G),type:"button",icon:Ha().createElement(qd,{appearance:G.appearance}),onClick:function(){return T(null)},title:"".concat(La("labels.distributeHorizontally")," — ").concat($d("Alt+H")),
"aria-label":La("labels.distributeHorizontally"),visible:lg(je(D),G)})}}),re({name:"distributeVertically",perform:function(l,D){return{appState:D,elements:Dn(l,D,{space:"between",axis:"y"}),commitToHistory:!0}},keyTest:function(l){return l.altKey&&"KeyV"===l.code},PanelComponent:function(l){var D=l.elements,G=l.appState,T=l.updateData;return Ha().createElement(lf,{hidden:!No(D,G),type:"button",icon:Ha().createElement(Qg,{appearance:G.appearance}),onClick:function(){return T(null)},title:"".concat(La("labels.distributeVertically"),
" — ").concat($d("Alt+V")),"aria-label":La("labels.distributeVertically"),visible:lg(je(D),G)})}}),function(l,D){function G(Ga){return function(Ua){return function(Pa){if(T)throw new TypeError("Generator is already executing.");for(;za;)try{if(T=1,fa&&(na=2&Pa[0]?fa.return:Pa[0]?fa.throw||((na=fa.return)&&na.call(fa),0):fa.next)&&!(na=na.call(fa,Pa[1])).done)return na;switch(fa=0,na&&(Pa=[2&Pa[0],na.value]),Pa[0]){case 0:case 1:na=Pa;break;case 4:return za.label++,{value:Pa[1],done:!1};case 5:za.label++;
fa=Pa[1];Pa=[0];continue;case 7:Pa=za.ops.pop();za.trys.pop();continue;default:if(!(na=za.trys,(na=0<na.length&&na[na.length-1])||6!==Pa[0]&&2!==Pa[0])){za=0;continue}if(3===Pa[0]&&(!na||Pa[1]>na[0]&&Pa[1]<na[3]))za.label=Pa[1];else if(6===Pa[0]&&za.label<na[1])za.label=na[1],na=Pa;else if(na&&za.label<na[2])za.label=na[2],za.ops.push(Pa);else{na[2]&&za.ops.pop();za.trys.pop();continue}}Pa=D.call(l,za)}catch(mb){Pa=[6,mb],fa=0}finally{T=na=0}if(5&Pa[0])throw Pa[1];return{value:Pa[0]?Pa[1]:void 0,
done:!0}}([Ga,Ua])}}var T,fa,na,Aa,za={label:0,sent:function(){if(1&na[0])throw na[1];return na[1]},trys:[],ops:[]};return Aa={next:G(0),throw:G(1),return:G(2)},"function"==typeof Symbol&&(Aa[Symbol.iterator]=function(){return this}),Aa}),pn=re({name:"copy",perform:function(l,D){return Ck(je(l),D),{commitToHistory:!1}},contextItemLabel:"labels.copy"}),iq=re({name:"cut",perform:function(l,D,G,T){return pn.perform(l,D,G,T),Vg.perform(l,D,G,T)},contextItemLabel:"labels.cut",keyTest:function(l){return l[ef]&&
"KeyX"===l.code}}),up=re({name:"copyAsSvg",perform:function(){var l=Rc()(function(D,G,T,fa){var na,Aa;return Zn(this,function(za){switch(za.label){case 0:if(!fa.canvas)return[2,{commitToHistory:!1}];na=wf(je(D),G);za.label=1;case 1:return za.trys.push([1,3,,4]),[4,Bc("clipboard-svg",na.length?na:je(D),G,fa.canvas,G)];case 2:return za.sent(),[2,{commitToHistory:!1}];case 3:return Aa=za.sent(),console.error(Aa),[2,{appState:ae(ae({},G),{},{errorMessage:Aa.message}),commitToHistory:!1}];case 4:return[2]}})});
return function(D,G,T,fa){return l.apply(this,arguments)}}(),contextItemLabel:"labels.copyAsSvg"}),tp=re({name:"copyAsPng",perform:function(){var l=Rc()(function(D,G,T,fa){var na,Aa;return Zn(this,function(za){switch(za.label){case 0:if(!fa.canvas)return[2,{commitToHistory:!1}];na=wf(je(D),G);za.label=1;case 1:return za.trys.push([1,3,,4]),[4,Bc("clipboard",na.length?na:je(D),G,fa.canvas,G)];case 2:return za.sent(),[2,{appState:ae(ae({},G),{},{toastMessage:La("toast.copyToClipboardAsPng",{exportSelection:na.length?
La("toast.selection"):La("toast.canvas"),exportColorScheme:G.exportWithDarkMode?La("buttons.darkMode"):La("buttons.lightMode")})}),commitToHistory:!1}];case 3:return Aa=za.sent(),console.error(Aa),[2,{appState:ae(ae({},G),{},{errorMessage:Aa.message}),commitToHistory:!1}];case 4:return[2]}})});return function(D,G,T,fa){return l.apply(this,arguments)}}(),contextItemLabel:"labels.copyAsPng",keyTest:function(l){return"KeyC"===l.code&&l.altKey&&l.shiftKey}}),rp=re({name:"gridMode",perform:function(l,
D){return Wg("view","mode","grid"),{appState:we(we({},D),{},{gridSize:this.checked(D)?null:hc.k}),commitToHistory:!1}},checked:function(l){return null!==l.gridSize},contextItemLabel:"labels.showGrid",keyTest:function(l){return l[ef]&&"Quote"===l.code}}),se=re({name:"zenMode",perform:function(l,D){return Wg("view","mode","zen"),{appState:jc(jc({},D),{},{zenModeEnabled:!this.checked(D)}),commitToHistory:!1}},checked:function(l){return l.zenModeEnabled},contextItemLabel:"buttons.zenMode",keyTest:function(l){return!l[ef]&&
l.altKey&&"KeyZ"===l.code}}),$n=re({name:"stats",perform:function(l,D){return{appState:lc(lc({},D),{},{showStats:!this.checked(D)}),commitToHistory:!1}},checked:function(l){return l.showStats},contextItemLabel:"stats.title"}),sp=function(l,D,G){if(!(D.multiElement||D.resizingElement||D.editingElement||D.draggingElement)){G=G();if(null===G)return{commitToHistory:!1};var T=$i(l),fa=G.elements,na=$i(fa);l=l.filter(function(Aa){return!na.hasOwnProperty(Aa.id)});fa=fa.map(function(Aa){return zg(T[Aa.id]||
Aa,Aa)}).concat(l.map(function(Aa){return zg(Aa,{isDeleted:!0})}));return tj(fa,l),{elements:fa,appState:Bd(Bd({},D),G.appState),commitToHistory:!1,syncHistory:!0}}return{commitToHistory:!1}},um=function(){function l(D,G,T,fa){var na=this;this.actions={};this.renderAction=function(Aa,za){if(na.actions[Aa]&&"PanelComponent"in na.actions[Aa]){var Ga=na.actions[Aa];Aa=Ga.PanelComponent;return Ha().createElement(Aa,{elements:na.getElementsIncludingDeleted(),appState:na.getAppState(),updateData:function(Ua){na.updater(Ga.perform(na.getElementsIncludingDeleted(),
na.getAppState(),Ua,na.app))},id:za})}return null};this.updater=function(Aa){if(!(Aa&&"then"in Aa))return D(Aa);Aa.then(function(za){return D(za)})};this.getAppState=G;this.getElementsIncludingDeleted=T;this.app=fa}return l.prototype.registerAction=function(D){this.actions[D.name]=D},l.prototype.registerAll=function(D){var G=this;D.forEach(function(T){return G.registerAction(T)})},l.prototype.handleKeyDown=function(D){var G=this,T=Object.values(this.actions).sort(function(fa,na){return(na.keyPriority||
0)-(fa.keyPriority||0)}).filter(function(fa){return fa.keyTest&&fa.keyTest(D,G.getAppState(),G.getElementsIncludingDeleted())});return 0!==T.length&&!(this.getAppState().viewModeEnabled&&!Object.values(hc.EH).includes(T[0].name))&&(D.preventDefault(),this.updater(T[0].perform(this.getElementsIncludingDeleted(),this.getAppState(),null,this.app)),!0)},l.prototype.executeAction=function(D){this.updater(D.perform(this.getElementsIncludingDeleted(),this.getAppState(),null,this.app))},l}(),Tm=function(l){l=
Array.from(l.values());return{x:co(l,function(D){return D.x})/l.length,y:co(l,function(D){return D.y})/l.length}},bo=function(l){var D=l[0];l=l[1];return Math.hypot(D.x-l.x,D.y-l.y)},co=function(l,D){return l.reduce(function(G,T){return G+D(T)},0)},Po,kq=function(){function l(){var D=this;this.elementCache=new Map;this.recording=!0;this.stateHistory=[];this.redoStack=[];this.lastEntry=null;this.generateEntry=function(G,T){return D.dehydrateHistoryEntry({appState:{selectedElementIds:G.selectedElementIds,
viewBackgroundColor:G.viewBackgroundColor,editingLinearElement:G.editingLinearElement,editingGroupId:G.editingGroupId,name:G.name},elements:T.reduce(function(fa,na){if(Hg(na)&&G.multiElement&&G.multiElement.id===na.id){if(G.multiElement&&G.multiElement.id===na.id&&2>na.points.length)return fa;fa.push(Oe(Oe({},na),{},{points:na.lastCommittedPoint!==na.points[na.points.length-1]?na.points.slice(0,-1):na.points}))}else fa.push(na);return fa},[])})}}return l.prototype.hydrateHistoryEntry=function(D){var G=
D.elements,T=this;return{appState:JSON.parse(D.appState),elements:G.map(function(fa){var na,Aa=null===(na=T.elementCache.get(fa.id))||void 0===na?void 0:na.get(fa.versionNonce);if(!Aa)throw Error("Element not found: ".concat(fa.id,":").concat(fa.versionNonce));return Aa})}},l.prototype.dehydrateHistoryEntry=function(D){var G=D.elements,T=this;return{appState:JSON.stringify(D.appState),elements:G.map(function(fa){T.elementCache.has(fa.id)||T.elementCache.set(fa.id,new Map);var na=T.elementCache.get(fa.id);
return na.has(fa.versionNonce)||na.set(fa.versionNonce,Lj(fa)),{id:fa.id,versionNonce:fa.versionNonce}})}},l.prototype.getSnapshotForTest=function(){var D=this;return{recording:this.recording,stateHistory:this.stateHistory.map(function(G){return D.hydrateHistoryEntry(G)}),redoStack:this.redoStack.map(function(G){return D.hydrateHistoryEntry(G)})}},l.prototype.clear=function(){this.stateHistory.length=0;this.redoStack.length=0;this.lastEntry=null;this.elementCache.clear()},l.prototype.shouldCreateEntry=
function(D){var G,T=this.lastEntry;if(!T||D.elements.length!==T.elements.length)return!0;for(var fa=D.elements.length-1;-1<fa;fa--){var na=D.elements[fa],Aa=T.elements[fa];if(!na||!Aa||na.id!==Aa.id||na.versionNonce!==Aa.versionNonce)return!0}for(G in D.appState){var za,Ga;if(("editingLinearElement"!==G||(null===(za=D.appState[G])||void 0===za?void 0:za.elementId)!==(null===(Ga=T.appState[G])||void 0===Ga?void 0:Ga.elementId))&&"selectedElementIds"!==G&&D.appState[G]!==T.appState[G])return!0}return!1},
l.prototype.pushEntry=function(D,G){D=this.generateEntry(D,G);(G=this.hydrateHistoryEntry(D))&&this.shouldCreateEntry(G)&&(this.stateHistory.push(D),this.lastEntry=G,this.clearRedoStack())},l.prototype.clearRedoStack=function(){this.redoStack.splice(0,this.redoStack.length)},l.prototype.redoOnce=function(){if(0===this.redoStack.length)return null;var D=this.redoStack.pop();return void 0!==D?(this.stateHistory.push(D),this.hydrateHistoryEntry(D)):null},l.prototype.undoOnce=function(){if(1===this.stateHistory.length)return null;
var D=this.stateHistory.pop(),G=this.stateHistory[this.stateHistory.length-1];return void 0!==D?(this.redoStack.push(D),this.hydrateHistoryEntry(G)):null},l.prototype.setCurrentState=function(D,G){this.lastEntry=this.hydrateHistoryEntry(this.generateEntry(D,G))},l.prototype.resumeRecording=function(){this.recording=!0},l.prototype.record=function(D,G){this.recording&&(this.pushEntry(D,G),this.recording=!1)},l}(),wm=[{icon:Ha().createElement("svg",{viewBox:"0 0 320 512",className:""},Ha().createElement("path",
{d:"M302.189 329.126H196.105l55.831 135.993c3.889 9.428-.555 19.999-9.444 23.999l-49.165 21.427c-9.165 4-19.443-.571-23.332-9.714l-53.053-129.136-86.664 89.138C18.729 472.71 0 463.554 0 447.977V18.299C0 1.899 19.921-6.096 30.277 5.443l284.412 292.542c11.472 11.179 3.007 31.141-12.5 31.141z"})),value:"selection",key:["v","s"]},{icon:Ha().createElement("svg",{viewBox:"0 0 448 512"},Ha().createElement("path",{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"})),
value:"rectangle",key:"r"},{icon:Ha().createElement("svg",{viewBox:"0 0 223.646 223.646"},Ha().createElement("path",{d:"M111.823 0L16.622 111.823 111.823 223.646 207.025 111.823z"})),value:"diamond",key:"d"},{icon:Ha().createElement("svg",{viewBox:"0 0 512 512"},Ha().createElement("path",{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"})),value:"ellipse",key:"e"},{icon:Ha().createElement("svg",{viewBox:"0 0 448 512",className:"rtl-mirror"},Ha().createElement("path",{d:"M313.941 216H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12h301.941v46.059c0 21.382 25.851 32.09 40.971 16.971l86.059-86.059c9.373-9.373 9.373-24.569 0-33.941l-86.059-86.059c-15.119-15.119-40.971-4.411-40.971 16.971V216z"})),
value:"arrow",key:"a"},{icon:Ha().createElement("svg",{viewBox:"0 0 6 6"},Ha().createElement("line",{x1:"0",y1:"3",x2:"6",y2:"3",stroke:"currentColor",strokeLinecap:"round"})),value:"line",key:["p","l"]},{icon:Ha().createElement("svg",{viewBox:"0 0 512 512"},Ha().createElement("path",{fill:"currentColor",d:"M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"})),
value:"draw",key:"x"},{icon:Ha().createElement("svg",{viewBox:"0 0 448 512"},Ha().createElement("path",{d:"M432 416h-23.41L277.88 53.69A32 32 0 0 0 247.58 32h-47.16a32 32 0 0 0-30.3 21.69L39.41 416H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-19.58l23.3-64h152.56l23.3 64H304a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM176.85 272L224 142.51 271.15 272z"})),value:"text",key:"t"}],Mo=(g(4518),{cut:[$d("CtrlOrCmd+X")],copy:[$d("CtrlOrCmd+C")],
paste:[$d("CtrlOrCmd+V")],copyStyles:[$d("CtrlOrCmd+Alt+C")],pasteStyles:[$d("CtrlOrCmd+Alt+V")],selectAll:[$d("CtrlOrCmd+A")],deleteSelectedElements:[$d("Del")],duplicateSelection:[$d("CtrlOrCmd+D"),$d("Alt+".concat(La("helpDialog.drag")))],sendBackward:[$d("CtrlOrCmd+[")],bringForward:[$d("CtrlOrCmd+]")],sendToBack:[$d(Mg?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+[")],bringToFront:[$d(Mg?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]")],copyAsPng:[$d("Shift+Alt+C")],copyAsSvg:[],group:[$d("CtrlOrCmd+G")],ungroup:[$d("CtrlOrCmd+Shift+G")],
gridMode:[$d("CtrlOrCmd+'")],zenMode:[$d("Alt+Z")],stats:[],addToLibrary:[],viewMode:[$d("Alt+R")]}),hq=function(l){var D,G=l.options,T=l.onCloseRequest,fa=l.top,na=l.left,Aa=l.actionManager,za=l.appState;l=!(null===(D=document.querySelector(".excalidraw"))||void 0===D||!D.classList.contains("Appearance_dark"));return Ha().createElement("div",{className:oc("excalidraw",{"Appearance_dark Appearance_dark-background-none":l})},Ha().createElement(kb,{onCloseRequest:T,top:fa,left:na,fitInViewport:!0},
Ha().createElement("ul",{className:"context-menu",onContextMenu:function(Ga){return Ga.preventDefault()}},G.map(function(Ga,Ua){var Pa;if("separator"===Ga)return Ha().createElement("hr",{key:Ua,className:"context-menu-option-separator"});var mb,sb=Ga.name,vb=Ga.contextItemLabel?La(Ga.contextItemLabel):"";return Ha().createElement("li",{key:Ua,"data-testid":sb,onClick:T},Ha().createElement("button",{className:oc("context-menu-option",{dangerous:"deleteSelectedElements"===sb,checkmark:null===(Pa=Ga.checked)||
void 0===Pa?void 0:Pa.call(Ga,za)}),onClick:function(){return Aa.executeAction(Ga)}},Ha().createElement("div",{className:"context-menu-option__label"},vb),Ha().createElement("kbd",{className:"context-menu-option__shortcut"},sb?(mb=Mo[sb])&&0<mb.length?mb[0]:"":"")))}))))},Lo=function(){if(Po)return Po;var l=document.createElement("div");return document.body.appendChild(l),Po=l},Rm=function(){(0,$f.unmountComponentAtNode)(Lo())};const En=function(l){var D=[];l.options.forEach(function(G){G&&D.push(G)});
D.length&&(0,$f.render)(Ha().createElement(hq,{top:l.top,left:l.left,options:D,onCloseRequest:Rm,actionManager:l.actionManager,appState:l.appState}),Lo())};g(1575);const al=function(l){var D=l.children,G=l.gap,T=l.align,fa=l.justifyContent,na=l.className;l=l.style;return Ha().createElement("div",{className:oc("Stack Stack_horizontal",na),style:Wc({"--gap":G,alignItems:T,justifyContent:fa},l)},D)},bl=function(l){var D=l.children,G=l.gap,T=l.align,fa=l.justifyContent;l=l.className;return Ha().createElement("div",
{className:oc("Stack Stack_vertical",l),style:{"--gap":G,justifyItems:T,justifyContent:fa}},D)};var Yq=function(l){var D=l.appState,G=l.renderAction,T=l.elementType;l=kk(je(l.elements),D);D=!!D.editingElement;var fa=Qe(),na="rtl"===document.documentElement.getAttribute("dir"),Aa=Oj(T)||l.some(function(Ga){return Oj(Ga.type)&&(Ua=Ga.backgroundColor,Pa=5===Ua.length&&"0"===Ua.substr(4,1),mb=9===Ua.length&&"00"===Ua.substr(7,2),!(Pa||mb||Ua===Ek.elementBackground[0]));var Ua,Pa,mb}),za=Oj(T)||l.some(function(Ga){return Oj(Ga.type)});
return Ha().createElement("div",{className:"panelColumn"},G("changeStrokeColor"),za&&G("changeBackgroundColor"),Aa&&G("changeFillStyle"),(Wf(T)||l.some(function(Ga){return Wf(Ga.type)}))&&Ha().createElement(Ha().Fragment,null,G("changeStrokeWidth"),G("changeStrokeStyle"),G("changeSloppiness")),(rk(T)||l.some(function(Ga){return rk(Ga.type)}))&&Ha().createElement(Ha().Fragment,null,G("changeSharpness")),("text"===T||l.some(function(Ga){return"text"===Ga.type}))&&Ha().createElement(Ha().Fragment,null,
G("changeFontSize"),G("changeFontFamily"),G("changeTextAlign")),("arrow"===T||l.some(function(Ga){return"arrow"===Ga.type}))&&Ha().createElement(Ha().Fragment,null,G("changeArrowhead")),G("changeOpacity"),Ha().createElement("fieldset",null,Ha().createElement("legend",null,La("labels.layers")),Ha().createElement("div",{className:"buttonList"},G("sendToBack"),G("sendBackward"),G("bringToFront"),G("bringForward"))),1<l.length&&Ha().createElement("fieldset",null,Ha().createElement("legend",null,La("labels.align")),
Ha().createElement("div",{className:"buttonList"},na?Ha().createElement(Ha().Fragment,null,G("alignRight"),G("alignHorizontallyCentered"),G("alignLeft")):Ha().createElement(Ha().Fragment,null,G("alignLeft"),G("alignHorizontallyCentered"),G("alignRight")),2<l.length&&G("distributeHorizontally"),Ha().createElement("div",{className:"iconRow"},G("alignTop"),G("alignVerticallyCentered"),G("alignBottom"),2<l.length&&G("distributeVertically")))),!fa&&!D&&0<l.length&&Ha().createElement("fieldset",null,Ha().createElement("legend",
null,La("labels.actions")),Ha().createElement("div",{className:"buttonList"},G("duplicateSelection"),G("deleteSelectedElements"),G("group"),G("ungroup"))))},Tr=Ha().createElement("svg",{viewBox:"0 0 512 512"},Ha().createElement("path",{d:"M296 32h192c13.255 0 24 10.745 24 24v160c0 13.255-10.745 24-24 24H296c-13.255 0-24-10.745-24-24V56c0-13.255 10.745-24 24-24zm-80 0H24C10.745 32 0 42.745 0 56v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24zM0 296v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zm296 184h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H296c-13.255 0-24 10.745-24 24v160c0 13.255 10.745 24 24 24z"})),
gq=function(l){var D=l.canvas,G=l.elementType,T=l.setAppState,fa=l.isLibraryOpen;return Ha().createElement(Ha().Fragment,null,wm.map(function(na,Aa){var za=na.value,Ga=na.icon,Ua=na.key;na=La("toolBar.".concat(za));Ua="".concat(kj("string"==typeof Ua?Ua:Ua[0])," ").concat(La("helpDialog.or")," ").concat(Aa+1);return Ha().createElement(lf,{className:"Shape",key:za,type:"radio",icon:Ga,checked:G===za,name:"editor-current-shape",title:"".concat(kj(na)," — ").concat(Ua),keyBindingLabel:"".concat(Aa+1),
"aria-label":kj(na),"aria-keyshortcuts":Ua,"data-testid":za,onChange:function(){T({elementType:za,multiElement:null,selectedElementIds:{}});ui(D,za);T({})}})}),Ha().createElement(lf,{className:"Shape ToolIcon_type_button__library",type:"button",icon:Tr,name:"editor-library",keyBindingLabel:"9","aria-keyshortcuts":"9",title:"".concat(kj(La("toolBar.library"))," — 9"),"aria-label":kj(La("toolBar.library")),onClick:function(){T({isLibraryOpen:!fa})}}))},Sr=function(l){var D=l.renderAction;l=l.zoom;return Ha().createElement(bl,
{gap:1},Ha().createElement(al,{gap:1,align:"center"},D("zoomIn"),D("zoomOut"),D("resetZoom"),Ha().createElement("div",{style:{marginInlineStart:4}},(100*l.value).toFixed(0),"%")))},Xq=function(l){var D=l.appState,G=l.setAppState;l=l.actionManager;return Ha().createElement("div",{style:{display:"flex"}},l.renderAction("changeViewBackgroundColor"),Ha().createElement("div",{style:{marginInlineStart:"0.25rem"}},Ha().createElement(hk,{value:D.appearance,onChange:function(T){G({appearance:T})}})))};g(3211);
const Zq=function(l){var D=l.isCollaborating,G=l.collaboratorCount;l=l.onClick;return Ha().createElement(Ha().Fragment,null,Ha().createElement(lf,{className:oc("CollabButton",{"is-collaborating":D}),onClick:l,icon:Kl,type:"button",title:La("labels.liveCollaboration"),"aria-label":La("labels.liveCollaboration"),showAriaLabel:Qe()},0<G&&Ha().createElement("div",{className:"CollabButton-collaborators"},G)))};g(3040);g(7428);var hl=Ha().forwardRef(function(l,D){var G=l.children,T=l.padding,fa=l.className;
l=l.style;return Ha().createElement("div",{className:oc("Island",fa),style:zb({"--padding":T},l),ref:D},G)}),Ur=(g(205),function(l){var D=vp();return D?(0,$f.createPortal)(Ha().createElement("div",{className:oc("Modal",l.className),role:"dialog","aria-modal":"true",onKeyDown:function(G){"Escape"===G.key&&(G.nativeEvent.stopImmediatePropagation(),l.onCloseRequest())},"aria-labelledby":l.labelledBy},Ha().createElement("div",{className:"Modal__background",onClick:l.onCloseRequest}),Ha().createElement("div",
{className:"Modal__content",style:{"--max-width":"".concat(l.maxWidth,"px")}},l.children)),D):null}),vp=function(){var l=(0,kc.useState)(null),D=l[0],G=l[1];return(0,kc.useLayoutEffect)(function(){var T,fa=!(null===(T=document.querySelector(".excalidraw"))||void 0===T||!T.classList.contains("Appearance_dark")),na=document.createElement("div");return na.classList.add("excalidraw","excalidraw-modal-container"),fa&&(na.classList.add("Appearance_dark"),na.classList.add("Appearance_dark-background-none")),
document.body.appendChild(na),G(na),function(){document.body.removeChild(na)}},[]),D},P=function(l){var D=function(){var fa=(0,kc.useState)(null),na=fa[1];return[fa[0],(0,kc.useCallback)(function(Aa){return na(Aa)},[])]}(),G=D[0];D=D[1];(0,kc.useEffect)(function(){if(G){var fa=T(G);0<fa.length&&!1!==l.autofocus&&(fa[1]||fa[0]).focus();var na=function(Aa){if("Tab"===Aa.key){var za=T(G),Ga=document.activeElement,Ua=za.findIndex(function(Pa){return Pa===Ga});0===Ua&&Aa.shiftKey?(za[za.length-1].focus(),
Aa.preventDefault()):Ua!==za.length-1||Aa.shiftKey||(za[0].focus(),Aa.preventDefault())}};return G.addEventListener("keydown",na),function(){return G.removeEventListener("keydown",na)}}},[G,l.autofocus]);var T=function(fa){return(fa=fa.querySelectorAll("button, a, input, select, textarea, div[tabindex]"))?Array.from(fa):[]};return Ha().createElement(Ur,{className:oc("Dialog",l.className),labelledBy:"dialog-title",maxWidth:l.small?550:800,onCloseRequest:l.onCloseRequest},Ha().createElement(hl,{ref:D},
Ha().createElement("h2",{id:"dialog-title",className:"Dialog__title"},Ha().createElement("span",{className:"Dialog__titleContent"},l.title),Ha().createElement("button",{className:"Modal__close",onClick:l.onCloseRequest,"aria-label":La("buttons.close")},Qe()?mh:uj)),Ha().createElement("div",{className:"Dialog__content"},l.children)))},aa=function(l){var D=l.message,G=l.onClose,T=(0,kc.useState)(!!D);l=T[0];var fa=T[1];T=Ha().useCallback(function(){fa(!1);G&&G()},[G]);return Ha().createElement(Ha().Fragment,
null,l&&Ha().createElement(P,{small:!0,onCloseRequest:T,title:La("errorDialog.title")},Ha().createElement("div",null,D.split("\n").map(function(na){return Ha().createElement(Ha().Fragment,null,na,Ha().createElement("br",null))}))))},ra=(g(8623),[1,2,3]),Na=ra.includes(devicePixelRatio)?devicePixelRatio:1,db="filter"in document.createElement("canvas").getContext("2d"),wb=function(){return Ha().createElement("div",null,Ha().createElement("h3",null,La("canvasError.cannotShowPreview")),Ha().createElement("p",
null,Ha().createElement("span",null,La("canvasError.canvasTooBig"))),Ha().createElement("em",null,"(",La("canvasError.canvasTooBigTip"),")"))},Mb=function(l,D){(0,$f.unmountComponentAtNode)(D);D.innerHTML="";l instanceof HTMLCanvasElement?D.appendChild(l):(0,$f.render)(Ha().createElement(wb,null),D)},dc=function(l){var D=l.elements,G=l.appState,T=l.exportPadding,fa=void 0===T?10:T;T=l.actionManager;var na=l.onExportToPng,Aa=l.onExportToSvg,za=l.onExportToClipboard,Ga=l.onExportToBackend,Ua=lg(D,G);
l=(0,kc.useState)(Na);var Pa=l[0],mb=l[1];l=(0,kc.useState)(Ua);var sb=l[0],vb=l[1],ec=(0,kc.useRef)(null),Zb=G.exportBackground,Ac=G.viewBackgroundColor,gd=G.shouldAddWatermark,kd=sb?wf(D,G):D;return(0,kc.useEffect)(function(){vb(Ua)},[Ua]),(0,kc.useEffect)(function(){var xd=ec.current;if(xd)try{var ne=vm(kd,G,{exportBackground:Zb,viewBackgroundColor:Ac,exportPadding:fa,scale:Pa,shouldAddWatermark:gd});Lm(ne).then(function(){Mb(ne,xd)}).catch(function(me){console.error(me);Mb(new rn,xd)})}catch(me){console.error(me),
Mb(new rn,xd)}},[G,kd,Zb,fa,Ac,Pa,gd]),Ha().createElement("div",{className:"ExportDialog"},Ha().createElement("div",{className:"ExportDialog__preview",ref:ec}),db&&T.renderAction("exportWithDarkMode"),Ha().createElement(bl,{gap:2,align:"center"},Ha().createElement("div",{className:"ExportDialog__actions"},Ha().createElement(al,{gap:2},Ha().createElement(lf,{type:"button",label:"PNG",title:La("buttons.exportToPng"),"aria-label":La("buttons.exportToPng"),onClick:function(){return na(kd,Pa)}}),Ha().createElement(lf,
{type:"button",label:"SVG",title:La("buttons.exportToSvg"),"aria-label":La("buttons.exportToSvg"),onClick:function(){return Aa(kd,Pa)}}),Dk&&Ha().createElement(lf,{type:"button",icon:tk,title:La("buttons.copyPngToClipboard"),"aria-label":La("buttons.copyPngToClipboard"),onClick:function(){return za(kd,Pa)}}),Ga&&Ha().createElement(lf,{type:"button",icon:tl,title:La("buttons.getShareableLink"),"aria-label":La("buttons.getShareableLink"),onClick:function(){return Ga(kd)}})),Ha().createElement("div",
{className:"ExportDialog__name"},T.renderAction("changeProjectName")),Ha().createElement(al,{gap:2},ra.map(function(xd){var ne=function(Re,Ne,gf,Dd){Re=Yn(Re,gf);Ne=Jm(Re,Ne,gf).map(function(ce){return Math.trunc(ce*Dd)});return[Ne[2],Ne[3]]}(kd,fa,gd,xd),me=ne[0];ne=ne[1];me="".concat(La("buttons.scale")," ").concat(xd,"x (").concat(me,"x").concat(ne,")");return Ha().createElement(lf,{key:xd,size:"s",type:"radio",icon:"".concat(xd,"x"),name:"export-canvas-scale",title:me,"aria-label":me,id:"export-canvas-scale",
checked:xd===Pa,onChange:function(){return mb(xd)}})}))),T.renderAction("changeExportBackground"),Ua&&Ha().createElement("div",null,Ha().createElement("label",null,Ha().createElement("input",{type:"checkbox",checked:sb,onChange:function(xd){return vb(xd.currentTarget.checked)}})," ",La("labels.onlySelected"))),T.renderAction("changeExportEmbedScene"),T.renderAction("changeShouldAddWatermark")))},Cc=function(l){var D=l.elements,G=l.appState,T=l.exportPadding;T=void 0===T?10:T;var fa=l.actionManager,
na=l.onExportToPng,Aa=l.onExportToSvg,za=l.onExportToClipboard;l=l.onExportToBackend;var Ga=(0,kc.useState)(!1),Ua=Ga[0],Pa=Ga[1],mb=(0,kc.useRef)(null);Ga=Ha().useCallback(function(){var sb;Pa(!1);null===(sb=mb.current)||void 0===sb||sb.focus()},[]);return Ha().createElement(Ha().Fragment,null,Ha().createElement(lf,{onClick:function(){Pa(!0)},icon:wh,type:"button","aria-label":La("buttons.export"),showAriaLabel:Qe(),title:La("buttons.export"),ref:mb}),Ua&&Ha().createElement(P,{onCloseRequest:Ga,
title:La("buttons.export")},Ha().createElement(dc,{elements:D,appState:G,exportPadding:T,actionManager:fa,onExportToPng:na,onExportToSvg:Aa,onExportToClipboard:za,onExportToBackend:l,onCloseRequest:Ga})))},fd=(g(4193),function(l){var D=l.children,G=l.side;l=l.className;return Ha().createElement("div",{className:oc("FixedSideContainer","FixedSideContainer_side_".concat(G),l)},D)}),ve=Ha().memo(function(l){l=l.appearance;return Ha().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",
height:"40",viewBox:"0 0 250 250",className:"github-corner rtl-mirror"},Ha().createElement("a",{href:"https://github.com/excalidraw/excalidraw",target:"_blank",rel:"noopener noreferrer","aria-label":"GitHub repository"},Ha().createElement("path",{d:"M0 0l115 115h15l12 27 108 108V0z",fill:"light"===l?Je.MA[6]:Je.MA[8]}),Ha().createElement("path",{className:"octo-arm",d:"M128 109c-15-9-9-19-9-19 3-7 2-11 2-11-1-7 3-2 3-2 4 5 2 11 2 11-3 10 5 15 9 16",style:{transformOrigin:"130px 106px"},fill:"light"===
l?Je.ix:Je.Sn}),Ha().createElement("path",{className:"octo-body",d:"M115 115s4 2 5 0l14-14c3-2 6-3 8-3-8-11-15-24 2-41 5-5 10-7 16-7 1-2 3-7 12-11 0 0 5 3 7 16 4 2 8 5 12 9s7 8 9 12c14 3 17 7 17 7-4 8-9 11-11 11 0 6-2 11-7 16-16 16-30 10-41 2 0 3-1 7-5 11l-12 11c-1 1 1 5 1 5z",fill:"light"===l?Je.ix:Je.Sn})))}),Bf=(g(9705),function(l){return(l=function(D){var G=D.appState,T=D.elements,fa=G.elementType;D=G.isResizing;var na=G.isRotating,Aa=G.lastPointerDownWith,za=null!==G.multiElement;if("arrow"===
fa||"line"===fa)return La(za?"hints.linearElementMulti":"hints.linearElement");if("draw"===fa)return La("hints.freeDraw");if("text"===fa)return La("hints.text");T=wf(T,G);return D&&"mouse"===Aa&&1===T.length?(G=T[0],Hg(G)&&2===G.points.length?La("hints.lockAngle"):La("hints.resize")):na&&"mouse"===Aa?La("hints.rotate"):1===T.length&&Hg(T[0])?G.editingLinearElement?G.editingLinearElement.activePointIndex?La("hints.lineEditor_pointSelected"):La("hints.lineEditor_nothingSelected"):La("hints.lineEditor_info"):
null}({appState:l.appState,elements:l.elements}))?(l=$d(l),Ha().createElement("div",{className:"HintViewer"},Ha().createElement("span",null,l))):null}),Kd=(g(8465),g(8680),Ha().createElement("svg",{viewBox:"0 0 1792 1792"},Ha().createElement("path",{fill:"currentColor",d:"M1600 736v192q0 40-28 68t-68 28h-416v416q0 40-28 68t-68 28h-192q-40 0-68-28t-28-68v-416h-416q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h416v-416q0-40 28-68t68-28h192q40 0 68 28t28 68v416h416q40 0 68 28t28 68z"}))),Ue=function(l){var D=
l.elements,G=l.pendingElements,T=l.onRemoveFromLibrary;l=l.onClick;var fa=(0,kc.useRef)(null);(0,kc.useEffect)(function(){var Ua=D||G;if(Ua){var Pa=Pl(Ua,{exportBackground:!1,viewBackgroundColor:Je.ix,shouldAddWatermark:!1});Ua=0;for(var mb=fa.current.children;Ua<mb.length;Ua++){var sb=mb[Ua];"svg"===sb.tagName&&fa.current.removeChild(sb)}fa.current.appendChild(Pa);var vb=fa.current;return function(){vb.removeChild(Pa)}}},[D,G]);var na=(0,kc.useState)(!1),Aa=na[0],za=na[1];na=Qe();var Ga=(Aa||na)&&
G&&Ha().createElement("div",{className:"library-unit__adder"},Kd);return Ha().createElement("div",{className:oc("library-unit",{"library-unit__active":D||G}),onMouseEnter:function(){return za(!0)},onMouseLeave:function(){return za(!1)}},Ha().createElement("div",{className:oc("library-unit__dragger",{"library-unit__pulse":!!G}),ref:fa,draggable:!!D,onClick:D||G?l:void 0,onDragStart:function(Ua){za(!1);Ua.dataTransfer.setData(hc.LO.excalidrawlib,JSON.stringify(D))}}),Ga,D&&(Aa||na)&&Ha().createElement("button",
{className:"library-unit__removeFromLibrary","aria-label":La("labels.removeFromLibrary"),onClick:T},uj))},Cf=Ha().createElement("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},Ha().createElement("path",{d:"M640 768h512v-192q0-106-75-181t-181-75-181 75-75 181v192zm832 96v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h32v-192q0-184 132-316t316-132 316 132 132 316v192h32q40 0 68 28t28 68z"})),qf=Ha().createElement("svg",{width:"1792",
height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg",className:"unlocked-icon rtl-mirror"},Ha().createElement("path",{d:"M1728 576v256q0 26-19 45t-45 19h-64q-26 0-45-19t-19-45v-256q0-106-75-181t-181-75-181 75-75 181v192h96q40 0 68 28t28 68v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h672v-192q0-185 131.5-316.5t316.5-131.5 316.5 131.5 131.5 316.5z"})),Tc=function(l){return Ha().createElement("label",{className:oc("ToolIcon ToolIcon__lock ToolIcon_type_floating zen-mode-visibility",
"ToolIcon_size_".concat(l.size||"m"),{"zen-mode-visibility--hidden":l.zenModeEnabled}),title:"".concat(l.title," — Q")},Ha().createElement("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:l.name,id:l.id,onChange:l.onChange,checked:l.checked,"aria-label":l.title}),Ha().createElement("div",{className:"ToolIcon__icon"},l.checked?Cf:qf))},Hc=function(l){var D=l.heading,G=l.children;l=Vh()(l,["heading","children"]);var T=Ha().createElement("h2",{className:"visually-hidden",id:"".concat(D,
"-title")},La("headings.".concat(D)));return Ha().createElement("section",Ud()({},l,{"aria-labelledby":"".concat(D,"-title")}),"function"==typeof G?G(T):Ha().createElement(Ha().Fragment,null,T,G))},Sc=(g(3142),function(l){var D=l.children,G=l.className;l=l.mobile;return Ha().createElement("div",{className:oc("UserList",G,{UserList_mobile:l})},D)}),zd=function(l){var D=l.appState,G=l.elements,T=l.libraryMenu,fa=l.actionManager,na=l.exportButton,Aa=l.setAppState,za=l.onCollabButtonClick,Ga=l.onLockToggle,
Ua=l.canvas,Pa=l.isCollaborating,mb=l.renderCustomFooter;l=l.viewModeEnabled;return Ha().createElement(Ha().Fragment,null,!l&&Ha().createElement(fd,{side:"top",className:"App-top-bar"},Ha().createElement(Hc,{heading:"shapes"},function(sb){return Ha().createElement(bl,{gap:4,align:"center"},Ha().createElement(al,{gap:1},Ha().createElement(hl,{padding:1},sb,Ha().createElement(al,{gap:1},Ha().createElement(gq,{canvas:Ua,elementType:D.elementType,setAppState:Aa,isLibraryOpen:D.isLibraryOpen}))),Ha().createElement(Tc,
{checked:D.elementLocked,onChange:Ga,title:La("toolBar.lock")})),T)}),Ha().createElement(Bf,{appState:D,elements:G})),Ha().createElement("div",{className:"App-bottom-bar",style:{marginBottom:14,marginLeft:14,marginRight:14}},Ha().createElement(hl,{padding:0},"canvas"===D.openMenu?Ha().createElement(Hc,{className:"App-mobile-menu",heading:"canvasActions"},Ha().createElement("div",{className:"panelColumn"},Ha().createElement(bl,{gap:4},l?Ha().createElement(Ha().Fragment,null,fa.renderAction("saveScene"),
fa.renderAction("saveAsScene"),na):Ha().createElement(Ha().Fragment,null,fa.renderAction("loadScene"),fa.renderAction("saveScene"),fa.renderAction("saveAsScene"),na,fa.renderAction("clearCanvas"),za&&Ha().createElement(Zq,{isCollaborating:Pa,collaboratorCount:D.collaborators.size,onClick:za}),Ha().createElement(Xq,{actionManager:fa,appState:D,setAppState:Aa})),null==mb?void 0:mb(!0),0<D.collaborators.size&&Ha().createElement("fieldset",null,Ha().createElement("legend",null,La("labels.collaborators")),
Ha().createElement(Sc,{mobile:!0},Array.from(D.collaborators).filter(function(sb){sb[0];return 0!==Object.keys(sb[1]).length}).map(function(sb){var vb=sb[0];sb[1];return Ha().createElement(Ha().Fragment,{key:vb},fa.renderAction("goToCollaborator",vb))})))))):"shape"===D.openMenu&&!l&&th(D,G)?Ha().createElement(Hc,{className:"App-mobile-menu",heading:"selectedShapeActions"},Ha().createElement(Yq,{appState:D,elements:G,renderAction:fa.renderAction,elementType:D.elementType})):null,Ha().createElement("footer",
{className:"App-toolbar"},l?Ha().createElement("div",{className:"App-toolbar-content"},fa.renderAction("toggleCanvasMenu")):Ha().createElement("div",{className:"App-toolbar-content"},fa.renderAction("toggleCanvasMenu"),fa.renderAction("toggleEditMenu"),fa.renderAction("undo"),fa.renderAction("redo"),fa.renderAction(D.multiElement?"finalize":"duplicateSelection"),fa.renderAction("deleteSelectedElements")),D.scrolledOutside&&!D.openMenu&&Ha().createElement("button",{className:"scroll-back-to-content",
onClick:function(){Aa(function(sb){for(var vb=1;vb<arguments.length;vb++){var ec=null!=arguments[vb]?arguments[vb]:{};vb%2?yd(Object(ec),!0).forEach(function(Zb){Qc()(sb,Zb,ec[Zb])}):Object.getOwnPropertyDescriptors?Object.defineProperties(sb,Object.getOwnPropertyDescriptors(ec)):yd(Object(ec)).forEach(function(Zb){Object.defineProperty(sb,Zb,Object.getOwnPropertyDescriptor(ec,Zb))})}return sb}({},mi(G,D)))}},La("buttons.scrollBackToContent"))))))},Gd=(g(8416),function(l){var D=(0,kc.useRef)(null),
G=(0,kc.useState)(null),T=G[0],fa=G[1];return(0,kc.useLayoutEffect)(function(){if(l.spreadsheet){var na=Wn(l.chartType,l.spreadsheet,0,0);fa(na);var Aa=Pl(na,{exportBackground:!1,viewBackgroundColor:Je.ix,shouldAddWatermark:!1}),za=D.current;return za.appendChild(Aa),l.selected&&za.parentNode.focus(),function(){za.removeChild(Aa)}}},[l.spreadsheet,l.chartType,l.selected]),Ha().createElement("button",{className:"ChartPreview",onClick:function(){T&&l.onClick(l.chartType,T)}},Ha().createElement("div",
{ref:D}))}),Jf=function(l){var D=l.setAppState,G=l.appState,T=l.onClose,fa=l.onInsertChart;l=Ha().useCallback(function(){T&&T()},[T]);var na=function(Aa,za){fa(za);Wg("magic","chart",Aa);D({currentChartType:Aa,pasteDialog:{shown:!1,data:null}})};return Ha().createElement(P,{small:!0,onCloseRequest:l,title:La("labels.pasteCharts"),className:"PasteChartDialog",autofocus:!1},Ha().createElement("div",{className:"container"},Ha().createElement(Gd,{chartType:"bar",spreadsheet:G.pasteDialog.data,selected:"bar"===
G.currentChartType,onClick:na}),Ha().createElement(Gd,{chartType:"line",spreadsheet:G.pasteDialog.data,selected:"line"===G.currentChartType,onClick:na})))},Ke=(g(341),function(){return Ha().createElement("div",{className:"HelpDialog--header"},Ha().createElement("a",{className:"HelpDialog--btn",href:"https://github.com/excalidraw/excalidraw#documentation",target:"_blank",rel:"noopener noreferrer"},La("helpDialog.documentation")),Ha().createElement("a",{className:"HelpDialog--btn",href:"https://blog.excalidraw.com",
target:"_blank",rel:"noopener noreferrer"},La("helpDialog.blog")),Ha().createElement("a",{className:"HelpDialog--btn",href:"https://github.com/excalidraw/excalidraw/issues",target:"_blank",rel:"noopener noreferrer"},La("helpDialog.github")))}),Kf=function(l){return Ha().createElement(Ha().Fragment,null,Ha().createElement("h3",null,l.title),l.children)},og=function(l){return Ha().createElement("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between"}},l.children)},
Of=function(l){return Ha().createElement("div",{style:{width:"49%"}},l.children)},tm=function(l){return Ha().createElement("div",{className:"HelpDialog--island"},Ha().createElement("h3",{className:"HelpDialog--island-title"},l.caption),l.children)},vf=function(l){return Ha().createElement("div",{className:"HelpDialog--shortcut"},Ha().createElement("div",{style:{display:"flex",margin:"0",padding:"4px 8px",alignItems:"center"}},Ha().createElement("div",{style:{lineHeight:1.4}},l.label),Ha().createElement("div",
{style:{display:"flex",flex:"0 0 auto",justifyContent:"flex-end",marginInlineStart:"auto",minWidth:"30%"}},l.shortcuts.map(function(D,G){return Ha().createElement(Ha().Fragment,{key:G},Ha().createElement(au,null,D),l.isOr&&G!==l.shortcuts.length-1&&La("helpDialog.or"))}))))};vf.defaultProps={isOr:!0};var au=function(l){return Ha().createElement("kbd",Ud()({className:"HelpDialog--key"},l))},bu=function(l){var D=l.onClose;l=Ha().useCallback(function(){D&&D()},[D]);return Ha().createElement(Ha().Fragment,
null,Ha().createElement(P,{onCloseRequest:l,title:La("helpDialog.title"),className:"HelpDialog"},Ha().createElement(Ke,null),Ha().createElement(Kf,{title:La("helpDialog.shortcuts")},Ha().createElement(og,null,Ha().createElement(Of,null,Ha().createElement(tm,{caption:La("helpDialog.shapes")},Ha().createElement(vf,{label:La("toolBar.selection"),shortcuts:["V","1"]}),Ha().createElement(vf,{label:La("toolBar.rectangle"),shortcuts:["R","2"]}),Ha().createElement(vf,{label:La("toolBar.diamond"),shortcuts:["D",
"3"]}),Ha().createElement(vf,{label:La("toolBar.ellipse"),shortcuts:["E","4"]}),Ha().createElement(vf,{label:La("toolBar.arrow"),shortcuts:["A","5"]}),Ha().createElement(vf,{label:La("toolBar.line"),shortcuts:["P","6"]}),Ha().createElement(vf,{label:La("toolBar.draw"),shortcuts:["Shift+P","7"]}),Ha().createElement(vf,{label:La("toolBar.text"),shortcuts:["T","8"]}),Ha().createElement(vf,{label:La("helpDialog.textNewLine"),shortcuts:[$d("Enter"),$d("Shift+Enter")]}),Ha().createElement(vf,{label:La("helpDialog.textFinish"),
shortcuts:[$d("Esc"),$d("CtrlOrCmd+Enter")]}),Ha().createElement(vf,{label:La("helpDialog.curvedArrow"),shortcuts:["A",La("helpDialog.click"),La("helpDialog.click"),La("helpDialog.click")],isOr:!1}),Ha().createElement(vf,{label:La("helpDialog.curvedLine"),shortcuts:["L",La("helpDialog.click"),La("helpDialog.click"),La("helpDialog.click")],isOr:!1}),Ha().createElement(vf,{label:La("toolBar.lock"),shortcuts:["Q"]}),Ha().createElement(vf,{label:La("helpDialog.preventBinding"),shortcuts:[$d("CtrlOrCmd")]})),
Ha().createElement(tm,{caption:La("helpDialog.view")},Ha().createElement(vf,{label:La("buttons.zoomIn"),shortcuts:[$d("CtrlOrCmd++")]}),Ha().createElement(vf,{label:La("buttons.zoomOut"),shortcuts:[$d("CtrlOrCmd+-")]}),Ha().createElement(vf,{label:La("buttons.resetZoom"),shortcuts:[$d("CtrlOrCmd+0")]}),Ha().createElement(vf,{label:La("helpDialog.zoomToFit"),shortcuts:["Shift+1"]}),Ha().createElement(vf,{label:La("helpDialog.zoomToSelection"),shortcuts:["Shift+2"]}),Ha().createElement(vf,{label:La("buttons.fullScreen"),
shortcuts:["F"]}),Ha().createElement(vf,{label:La("buttons.zenMode"),shortcuts:[$d("Alt+Z")]}),Ha().createElement(vf,{label:La("labels.showGrid"),shortcuts:[$d("CtrlOrCmd+'")]}),Ha().createElement(vf,{label:La("labels.viewMode"),shortcuts:[$d("Alt+R")]}))),Ha().createElement(Of,null,Ha().createElement(tm,{caption:La("helpDialog.editor")},Ha().createElement(vf,{label:La("labels.selectAll"),shortcuts:[$d("CtrlOrCmd+A")]}),Ha().createElement(vf,{label:La("labels.multiSelect"),shortcuts:[$d("Shift+".concat(La("helpDialog.click")))]}),
Ha().createElement(vf,{label:La("labels.moveCanvas"),shortcuts:[$d("Space+".concat(La("helpDialog.drag"))),$d("Wheel+".concat(La("helpDialog.drag")))],isOr:!0}),Ha().createElement(vf,{label:La("labels.cut"),shortcuts:[$d("CtrlOrCmd+X")]}),Ha().createElement(vf,{label:La("labels.copy"),shortcuts:[$d("CtrlOrCmd+C")]}),Ha().createElement(vf,{label:La("labels.paste"),shortcuts:[$d("CtrlOrCmd+V")]}),Ha().createElement(vf,{label:La("labels.copyAsPng"),shortcuts:[$d("Shift+Alt+C")]}),Ha().createElement(vf,
{label:La("labels.copyStyles"),shortcuts:[$d("CtrlOrCmd+Alt+C")]}),Ha().createElement(vf,{label:La("labels.pasteStyles"),shortcuts:[$d("CtrlOrCmd+Alt+V")]}),Ha().createElement(vf,{label:La("labels.delete"),shortcuts:[$d("Del")]}),Ha().createElement(vf,{label:La("labels.sendToBack"),shortcuts:[$d(Mg?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+[")]}),Ha().createElement(vf,{label:La("labels.bringToFront"),shortcuts:[$d(Mg?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]")]}),Ha().createElement(vf,{label:La("labels.sendBackward"),
shortcuts:[$d("CtrlOrCmd+[")]}),Ha().createElement(vf,{label:La("labels.bringForward"),shortcuts:[$d("CtrlOrCmd+]")]}),Ha().createElement(vf,{label:La("labels.alignTop"),shortcuts:[$d("CtrlOrCmd+Shift+Up")]}),Ha().createElement(vf,{label:La("labels.alignBottom"),shortcuts:[$d("CtrlOrCmd+Shift+Down")]}),Ha().createElement(vf,{label:La("labels.alignLeft"),shortcuts:[$d("CtrlOrCmd+Shift+Left")]}),Ha().createElement(vf,{label:La("labels.alignRight"),shortcuts:[$d("CtrlOrCmd+Shift+Right")]}),Ha().createElement(vf,
{label:La("labels.duplicateSelection"),shortcuts:[$d("CtrlOrCmd+D"),$d("Alt+".concat(La("helpDialog.drag")))]}),Ha().createElement(vf,{label:La("buttons.undo"),shortcuts:[$d("CtrlOrCmd+Z")]}),Ha().createElement(vf,{label:La("buttons.redo"),shortcuts:Jj?[$d("CtrlOrCmd+Y"),$d("CtrlOrCmd+Shift+Z")]:[$d("CtrlOrCmd+Shift+Z")]}),Ha().createElement(vf,{label:La("labels.group"),shortcuts:[$d("CtrlOrCmd+G")]}),Ha().createElement(vf,{label:La("labels.ungroup"),shortcuts:[$d("CtrlOrCmd+Shift+G")]})))))))},Xr=
function(l,D){function G(Ga){return function(Ua){return function(Pa){if(T)throw new TypeError("Generator is already executing.");for(;za;)try{if(T=1,fa&&(na=2&Pa[0]?fa.return:Pa[0]?fa.throw||((na=fa.return)&&na.call(fa),0):fa.next)&&!(na=na.call(fa,Pa[1])).done)return na;switch(fa=0,na&&(Pa=[2&Pa[0],na.value]),Pa[0]){case 0:case 1:na=Pa;break;case 4:return za.label++,{value:Pa[1],done:!1};case 5:za.label++;fa=Pa[1];Pa=[0];continue;case 7:Pa=za.ops.pop();za.trys.pop();continue;default:if(!(na=za.trys,
(na=0<na.length&&na[na.length-1])||6!==Pa[0]&&2!==Pa[0])){za=0;continue}if(3===Pa[0]&&(!na||Pa[1]>na[0]&&Pa[1]<na[3]))za.label=Pa[1];else if(6===Pa[0]&&za.label<na[1])za.label=na[1],na=Pa;else if(na&&za.label<na[2])za.label=na[2],za.ops.push(Pa);else{na[2]&&za.ops.pop();za.trys.pop();continue}}Pa=D.call(l,za)}catch(mb){Pa=[6,mb],fa=0}finally{T=na=0}if(5&Pa[0])throw Pa[1];return{value:Pa[0]?Pa[1]:void 0,done:!0}}([Ga,Ua])}}var T,fa,na,Aa,za={label:0,sent:function(){if(1&na[0])throw na[1];return na[1]},
trys:[],ops:[]};return Aa={next:G(0),throw:G(1),return:G(2)},"function"==typeof Symbol&&(Aa[Symbol.iterator]=function(){return this}),Aa},Ss=function(l,D){for(var G=0,T=D.length,fa=l.length;G<T;G++,fa++)l[fa]=D[G];return l},$t=function(l){var D=l.library,G=l.onRemoveFromLibrary,T=l.onAddToLibrary,fa=l.onInsertShape,na=l.pendingElements,Aa=l.setAppState,za=l.setLibraryItems;l=Qe()?4:6;var Ga=Math.max(1,Math.ceil((D.length+(0<na.length?1:0))/l)),Ua=[],Pa=!1;Ua.push(Ha().createElement("div",{className:"layer-ui__library-header"},
Ha().createElement(lf,{key:"import",type:"button",title:La("buttons.load"),"aria-label":La("buttons.load"),icon:om,onClick:function(){pp().then(function(){Aa({isLibraryOpen:!1})}).catch(Gk).catch(function(Ac){Aa({errorMessage:Ac.message})})}}),Ha().createElement(lf,{key:"export",type:"button",title:La("buttons.export"),"aria-label":La("buttons.export"),icon:wh,onClick:function(){sm().catch(Gk).catch(function(Ac){Aa({errorMessage:Ac.message})})}}),Ha().createElement(lf,{key:"reset",type:"button",title:La("buttons.resetLibrary"),
"aria-label":La("buttons.resetLibrary"),icon:Ri,onClick:function(){window.confirm(La("alerts.resetLibrary"))&&(rh.resetLibrary(),za([]))}}),Ha().createElement("a",{href:"https://libraries.excalidraw.com",target:"_excalidraw_libraries"},La("labels.libraries"))));for(var mb=0;mb<Ga;mb++){for(var sb=l*mb,vb=[],ec=0;ec<l;ec++){var Zb=0<na.length&&!Pa&&sb+ec>=D.length;Pa=Pa||Zb;vb.push(Ha().createElement(bl,{key:ec},Ha().createElement(Ue,{elements:D[sb+ec],pendingElements:Zb?na:void 0,onRemoveFromLibrary:G.bind(null,
sb+ec),onClick:Zb?T.bind(null,na):fa.bind(null,D[sb+ec])})))}Ua.push(Ha().createElement(al,{align:"center",gap:1,key:mb},vb))}return Ha().createElement(bl,{align:"start",gap:1,className:"layer-ui__library-items"},Ua)},Yt=function(l){var D=l.onClickOutside,G=l.onInsertShape,T=l.pendingElements,fa=l.onAddToLibrary;l=l.setAppState;var na=(0,kc.useRef)(null);!function(vb,ec){(0,kc.useEffect)(function(){var Zb=function(Ac){vb.current&&(Ac.target instanceof Element&&(vb.current.contains(Ac.target)||!document.body.contains(Ac.target))||
ec(Ac))};return document.addEventListener("pointerdown",Zb,!1),function(){document.removeEventListener("pointerdown",Zb)}},[vb,ec])}(na,function(vb){vb.target.closest(".ToolIcon_type_button__library")||D(vb)});var Aa=(0,kc.useState)([]),za=Aa[0],Ga=Aa[1],Ua=(0,kc.useState)("preloading");Aa=Ua[0];var Pa=Ua[1],mb=(0,kc.useRef)(null);(0,kc.useEffect)(function(){return Promise.race([new Promise(function(vb){mb.current=setTimeout(function(){vb("loading")},100)}),rh.loadLibrary().then(function(vb){Ga(vb);
Pa("ready")})]).then(function(vb){"loading"===vb&&Pa("loading")}),function(){clearTimeout(mb.current)}},[]);Ua=(0,kc.useCallback)(function(){var vb=Rc()(function(ec){var Zb,Ac;return Xr(this,function(gd){switch(gd.label){case 0:return[4,rh.loadLibrary()];case 1:return Zb=gd.sent(),Ac=Zb.filter(function(kd,xd){return xd!==ec}),rh.saveLibrary(Ac),Ga(Ac),[2]}})});return function(ec){return vb.apply(this,arguments)}}(),[]);var sb=(0,kc.useCallback)(function(){var vb=Rc()(function(ec){var Zb,Ac;return Xr(this,
function(gd){switch(gd.label){case 0:return[4,rh.loadLibrary()];case 1:return Zb=gd.sent(),Ac=Ss(Ss([],Zb),[ec]),fa(),rh.saveLibrary(Ac),Ga(Ac),[2]}})});return function(ec){return vb.apply(this,arguments)}}(),[fa]);return"preloading"===Aa?null:Ha().createElement(hl,{padding:1,ref:na,className:"layer-ui__library"},"loading"===Aa?Ha().createElement("div",{className:"layer-ui__library-message"},La("labels.libraryLoadingMessage")):Ha().createElement($t,{library:za,onRemoveFromLibrary:Ua,onAddToLibrary:sb,
onInsertShape:G,pendingElements:T,setAppState:l,setLibraryItems:Ga}))};const Zt=Ha().memo(function(l){var D,G=l.actionManager,T=l.appState,fa=l.setAppState,na=l.canvas,Aa=l.elements,za=l.onCollabButtonClick,Ga=l.onLockToggle,Ua=l.onInsertElements,Pa=l.zenModeEnabled,mb=l.showExitZenModeBtn,sb=l.toggleZenMode,vb=l.isCollaborating,ec=l.onExportToBackend,Zb=l.renderCustomFooter;l=l.viewModeEnabled;var Ac=Qe(),gd=function(){var me=function(Re){return function(){var Ne=Rc()(function(gf,Dd){return Xr(this,
function(ce){switch(ce.label){case 0:return na?[4,Bc(Re,gf,T,na,{exportBackground:T.exportBackground,name:T.name,viewBackgroundColor:T.viewBackgroundColor,scale:Dd,shouldAddWatermark:T.shouldAddWatermark}).catch(Gk).catch(function(le){console.error(le);fa({errorMessage:le.message})})]:[3,2];case 1:ce.sent(),ce.label=2;case 2:return[2]}})});return function(gf,Dd){return Ne.apply(this,arguments)}}()};return Ha().createElement(Cc,{elements:Aa,appState:T,actionManager:G,onExportToPng:me("png"),onExportToSvg:me("svg"),
onExportToClipboard:me("clipboard"),onExportToBackend:ec?function(Re){ec&&ec(Re,T,na)}:void 0})},kd=(0,kc.useCallback)(function(me){fa({isLibraryOpen:!1})},[fa]),xd=(0,kc.useCallback)(function(){fa({selectedElementIds:{},selectedGroupIds:{}})},[fa]),ne=T.isLibraryOpen?Ha().createElement(Yt,{pendingElements:wf(Aa,T),onClickOutside:kd,onInsertShape:Ua,onAddToLibrary:xd,setAppState:fa}):null;Ua=Ha().createElement(Ha().Fragment,null,T.isLoading&&Ha().createElement(ub,null),T.errorMessage&&Ha().createElement(aa,
{message:T.errorMessage,onClose:function(){return fa({errorMessage:null})}}),T.showHelpDialog&&Ha().createElement(bu,{onClose:function(){return fa({showHelpDialog:!1})}}),T.pasteDialog.shown&&Ha().createElement(Jf,{setAppState:fa,appState:T,onInsertChart:Ua,onClose:function(){return fa({pasteDialog:{shown:!1,data:null}})}}));return Ac?Ha().createElement(Ha().Fragment,null,Ua,Ha().createElement(zd,{appState:T,elements:Aa,actionManager:G,libraryMenu:ne,exportButton:gd(),setAppState:fa,onCollabButtonClick:za,
onLockToggle:Ga,canvas:na,isCollaborating:vb,renderCustomFooter:Zb,viewModeEnabled:l})):Ha().createElement("div",{className:oc("layer-ui__wrapper",{"disable-pointerEvents":T.draggingElement||T.resizingElement||T.editingElement&&!fe(T.editingElement)})},Ua,(D=th(T,Aa),Ha().createElement(fd,{side:"top"},Ha().createElement("div",{className:"App-menu App-menu_top"},Ha().createElement(bl,{gap:4,className:oc({"disable-pointerEvents":Pa})},l?Ha().createElement(Hc,{heading:"canvasActions",className:oc("zen-mode-transition",
{"transition-left":Pa})},Ha().createElement(hl,{padding:2,style:{zIndex:1}},Ha().createElement(bl,{gap:4},Ha().createElement(al,{gap:1,justifyContent:"space-between"},G.renderAction("saveScene"),G.renderAction("saveAsScene"),gd())))):Ha().createElement(Hc,{heading:"canvasActions",className:oc("zen-mode-transition",{"transition-left":Pa})},Ha().createElement(hl,{padding:2,style:{zIndex:1}},Ha().createElement(bl,{gap:4},Ha().createElement(al,{gap:1,justifyContent:"space-between"},G.renderAction("loadScene"),
G.renderAction("saveScene"),G.renderAction("saveAsScene"),gd(),G.renderAction("clearCanvas"),za&&Ha().createElement(Zq,{isCollaborating:vb,collaboratorCount:T.collaborators.size,onClick:za})),Ha().createElement(Xq,{actionManager:G,appState:T,setAppState:fa})))),D&&Ha().createElement(Hc,{heading:"selectedShapeActions",className:oc("zen-mode-transition",{"transition-left":Pa})},Ha().createElement(hl,{className:hc.$C.SHAPE_ACTIONS_MENU,padding:2,style:{maxHeight:"".concat(T.height-200,"px")}},Ha().createElement(Yq,
{appState:T,elements:Aa,renderAction:G.renderAction,elementType:T.elementType})))),!l&&Ha().createElement(Hc,{heading:"shapes"},function(me){return Ha().createElement(bl,{gap:4,align:"start"},Ha().createElement(al,{gap:1},Ha().createElement(hl,{padding:1,className:oc({"zen-mode":Pa})},Ha().createElement(Bf,{appState:T,elements:Aa}),me,Ha().createElement(al,{gap:1},Ha().createElement(gq,{canvas:na,elementType:T.elementType,setAppState:fa,isLibraryOpen:T.isLibraryOpen}))),Ha().createElement(Tc,{zenModeEnabled:Pa,
checked:T.elementLocked,onChange:Ga,title:La("toolBar.lock")})),ne)}),Ha().createElement(Sc,{className:oc("zen-mode-transition",{"transition-right":Pa})},0<T.collaborators.size&&Array.from(T.collaborators).filter(function(me){me[0];return 0!==Object.keys(me[1]).length}).map(function(me){var Re=me[0];me=me[1];return Ha().createElement(Gj,{label:me.username||"Unknown user",key:Re},G.renderAction("goToCollaborator",Re))}))))),Ha().createElement("div",{className:oc("App-menu App-menu_bottom zen-mode-transition",
{"App-menu_bottom--transition-left":Pa})},Ha().createElement(bl,{gap:2},Ha().createElement(Hc,{heading:"canvasActions"},Ha().createElement(hl,{padding:1},Ha().createElement(Sr,{renderAction:G.renderAction,zoom:T.zoom})),Ha().createElement("a",{className:oc("encrypted-icon tooltip zen-mode-visibility",{"zen-mode-visibility--hidden":Pa}),href:"https://blog.excalidraw.com/end-to-end-encryption/",target:"_blank",rel:"noopener noreferrer"},Ha().createElement(Gj,{label:La("encrypted.tooltip"),position:"above",
long:!0},Zd))))),Ha().createElement("aside",{className:oc("layer-ui__wrapper__github-corner zen-mode-transition",{"transition-right":Pa})},Ha().createElement(ve,{appearance:T.appearance})),Ha().createElement("footer",{role:"contentinfo",className:"layer-ui__wrapper__footer"},Ha().createElement("div",{className:oc("zen-mode-transition",{"transition-right disable-pointerEvents":Pa})},null==Zb?void 0:Zb(!1),G.renderAction("toggleShortcuts")),Ha().createElement("button",{className:oc("disable-zen-mode",
{"disable-zen-mode--visible":mb}),onClick:sb},La("buttons.exitZenMode"))),T.scrolledOutside&&Ha().createElement("button",{className:"scroll-back-to-content",onClick:function(){fa(function(me){for(var Re=1;Re<arguments.length;Re++){var Ne=null!=arguments[Re]?arguments[Re]:{};Re%2?ff(Object(Ne),!0).forEach(function(gf){Qc()(me,gf,Ne[gf])}):Object.getOwnPropertyDescriptors?Object.defineProperties(me,Object.getOwnPropertyDescriptors(Ne)):ff(Object(Ne)).forEach(function(gf){Object.defineProperty(me,gf,
Object.getOwnPropertyDescriptor(Ne,gf))})}return me}({},mi(Aa,T)))}},La("buttons.scrollBackToContent")))},function(l,D){var G=function(na){na.suggestedBindings;na.startBoundElement;return Vh()(na,["suggestedBindings","startBoundElement"])},T=G(l.appState),fa=G(D.appState);G=Object.keys(T);return l.renderCustomFooter===D.renderCustomFooter&&l.langCode===D.langCode&&l.elements===D.elements&&G.every(function(na){return T[na]===fa[na]})});var Rs=function(){try{var l=localStorage.getItem("excalidraw");
return l?JSON.stringify(l).length:0}catch(D){return console.error(D),0}},cu=(g(7287),function(l,D){function G(Ga){return function(Ua){return function(Pa){if(T)throw new TypeError("Generator is already executing.");for(;za;)try{if(T=1,fa&&(na=2&Pa[0]?fa.return:Pa[0]?fa.throw||((na=fa.return)&&na.call(fa),0):fa.next)&&!(na=na.call(fa,Pa[1])).done)return na;switch(fa=0,na&&(Pa=[2&Pa[0],na.value]),Pa[0]){case 0:case 1:na=Pa;break;case 4:return za.label++,{value:Pa[1],done:!1};case 5:za.label++;fa=Pa[1];
Pa=[0];continue;case 7:Pa=za.ops.pop();za.trys.pop();continue;default:if(!(na=za.trys,(na=0<na.length&&na[na.length-1])||6!==Pa[0]&&2!==Pa[0])){za=0;continue}if(3===Pa[0]&&(!na||Pa[1]>na[0]&&Pa[1]<na[3]))za.label=Pa[1];else if(6===Pa[0]&&za.label<na[1])za.label=na[1],na=Pa;else if(na&&za.label<na[2])za.label=na[2],za.ops.push(Pa);else{na[2]&&za.ops.pop();za.trys.pop();continue}}Pa=D.call(l,za)}catch(mb){Pa=[6,mb],fa=0}finally{T=na=0}if(5&Pa[0])throw Pa[1];return{value:Pa[0]?Pa[1]:void 0,done:!0}}([Ga,
Ua])}}var T,fa,na,Aa,za={label:0,sent:function(){if(1&na[0])throw na[1];return na[1]},trys:[],ops:[]};return Aa={next:G(0),throw:G(1),return:G(2)},"function"==typeof Symbol&&(Aa[Symbol.iterator]=function(){return this}),Aa}),Ts=ti(function(l){var D=Rs();try{var G=localStorage.getItem("excalidraw-state"),T=localStorage.getItem("excalidraw-collab"),fa=localStorage.getItem(hc.I.LOCAL_STORAGE_LIBRARY);var na=(G?JSON.stringify(G).length:0)+(T?JSON.stringify(T).length:0)+(fa?JSON.stringify(fa).length:0)+
Rs()}catch(Aa){na=(console.error(Aa),0)}l({scene:D,total:na})},500),eu=function(l){var D=Qe(),G=(0,kc.useState)({scene:0,total:0}),T=G[0],fa=G[1];(0,kc.useEffect)(function(){Ts(function(Ua){fa(Ua)})});(0,kc.useEffect)(function(){return function(){return Ts.cancel()}},[]);G=Dg(l.elements);var na=kk(l.elements,l.appState),Aa=Dg(na);if(D&&l.appState.openMenu)return null;var za,Ga;D=Lf();return D!==hc.eQ?(Ga=D.slice(0,16).replace("T"," "),za=D.slice(21)):Ga=La("stats.versionNotAvailable"),Ha().createElement("div",
{className:"Stats"},Ha().createElement(hl,{padding:2},Ha().createElement("div",{className:"close",onClick:l.onClose},uj),Ha().createElement("h3",null,La("stats.title")),Ha().createElement("table",null,Ha().createElement("tbody",null,Ha().createElement("tr",null,Ha().createElement("th",{colSpan:2},La("stats.scene"))),Ha().createElement("tr",null,Ha().createElement("td",null,La("stats.elements")),Ha().createElement("td",null,l.elements.length)),Ha().createElement("tr",null,Ha().createElement("td",null,
La("stats.width")),Ha().createElement("td",null,Math.round(G[2])-Math.round(G[0]))),Ha().createElement("tr",null,Ha().createElement("td",null,La("stats.height")),Ha().createElement("td",null,Math.round(G[3])-Math.round(G[1]))),Ha().createElement("tr",null,Ha().createElement("th",{colSpan:2},La("stats.storage"))),Ha().createElement("tr",null,Ha().createElement("td",null,La("stats.scene")),Ha().createElement("td",null,xl(T.scene,1))),Ha().createElement("tr",null,Ha().createElement("td",null,La("stats.total")),
Ha().createElement("td",null,xl(T.total,1))),1===na.length&&Ha().createElement("tr",null,Ha().createElement("th",{colSpan:2},La("stats.element"))),1<na.length&&Ha().createElement(Ha().Fragment,null,Ha().createElement("tr",null,Ha().createElement("th",{colSpan:2},La("stats.selected"))),Ha().createElement("tr",null,Ha().createElement("td",null,La("stats.elements")),Ha().createElement("td",null,na.length))),0<na.length&&Ha().createElement(Ha().Fragment,null,Ha().createElement("tr",null,Ha().createElement("td",
null,"x"),Ha().createElement("td",null,Math.round(1===na.length?na[0].x:Aa[0]))),Ha().createElement("tr",null,Ha().createElement("td",null,"y"),Ha().createElement("td",null,Math.round(1===na.length?na[0].y:Aa[1]))),Ha().createElement("tr",null,Ha().createElement("td",null,La("stats.width")),Ha().createElement("td",null,Math.round(1===na.length?na[0].width:Aa[2]-Aa[0]))),Ha().createElement("tr",null,Ha().createElement("td",null,La("stats.height")),Ha().createElement("td",null,Math.round(1===na.length?
na[0].height:Aa[3]-Aa[1])))),1===na.length&&Ha().createElement("tr",null,Ha().createElement("td",null,La("stats.angle")),Ha().createElement("td",null,"".concat(Math.round(180*na[0].angle/Math.PI),"°"))),Ha().createElement("tr",null,Ha().createElement("th",{colSpan:2},La("stats.version"))),Ha().createElement("tr",null,Ha().createElement("td",{colSpan:2,style:{textAlign:"center",cursor:"pointer"},onClick:Rc()(function(){return cu(this,function(Ua){switch(Ua.label){case 0:return Ua.trys.push([0,2,,3]),
[4,Nb(Lf())];case 1:return Ua.sent(),l.setAppState({toastMessage:La("toast.copyToClipboard")}),[3,3];case 2:return Ua.sent(),[3,3];case 3:return[2]}})}),title:La("stats.versionCopy")},Ga,Ha().createElement("br",null),za))))))},fu=(g(5849),function(l){var D=l.message,G=l.clearToast,T=(0,kc.useRef)(0),fa=(0,kc.useCallback)(function(){return T.current=window.setTimeout(function(){return G()},hc.Lg)},[G]);return(0,kc.useEffect)(function(){return fa(),function(){return clearTimeout(T.current)}},[fa,D]),
Ha().createElement("div",{className:"Toast",onMouseEnter:function(){return clearTimeout(null==T?void 0:T.current)},onMouseLeave:fa},Ha().createElement("p",{className:"Toast__message"},D))}),Us=re({name:"viewMode",perform:function(l,D){return Wg("view","mode","view"),{appState:Tf(Tf({},D),{},{viewModeEnabled:!this.checked(D),selectedElementIds:{}}),commitToHistory:!1}},checked:function(l){return l.viewModeEnabled},contextItemLabel:"labels.viewMode",keyTest:function(l){return!l[ef]&&l.altKey&&"KeyR"===
l.code}}),gu=function(){var l=function(D,G){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,fa){T.__proto__=fa}||function(T,fa){for(var na in fa)Object.prototype.hasOwnProperty.call(fa,na)&&(T[na]=fa[na])})(D,G)};return function(D,G){function T(){this.constructor=D}if("function"!=typeof G&&null!==G)throw new TypeError("Class extends value "+String(G)+" is not a constructor or null");l(D,G);D.prototype=null===G?Object.create(G):(T.prototype=G.prototype,new T)}}(),dp=function(l,
D){function G(Ga){return function(Ua){return function(Pa){if(T)throw new TypeError("Generator is already executing.");for(;za;)try{if(T=1,fa&&(na=2&Pa[0]?fa.return:Pa[0]?fa.throw||((na=fa.return)&&na.call(fa),0):fa.next)&&!(na=na.call(fa,Pa[1])).done)return na;switch(fa=0,na&&(Pa=[2&Pa[0],na.value]),Pa[0]){case 0:case 1:na=Pa;break;case 4:return za.label++,{value:Pa[1],done:!1};case 5:za.label++;fa=Pa[1];Pa=[0];continue;case 7:Pa=za.ops.pop();za.trys.pop();continue;default:if(!(na=za.trys,(na=0<na.length&&
na[na.length-1])||6!==Pa[0]&&2!==Pa[0])){za=0;continue}if(3===Pa[0]&&(!na||Pa[1]>na[0]&&Pa[1]<na[3]))za.label=Pa[1];else if(6===Pa[0]&&za.label<na[1])za.label=na[1],na=Pa;else if(na&&za.label<na[2])za.label=na[2],za.ops.push(Pa);else{na[2]&&za.ops.pop();za.trys.pop();continue}}Pa=D.call(l,za)}catch(mb){Pa=[6,mb],fa=0}finally{T=na=0}if(5&Pa[0])throw Pa[1];return{value:Pa[0]?Pa[1]:void 0,done:!0}}([Ga,Ua])}}var T,fa,na,Aa,za={label:0,sent:function(){if(1&na[0])throw na[1];return na[1]},trys:[],ops:[]};
return Aa={next:G(0),throw:G(1),return:G(2)},"function"==typeof Symbol&&(Aa[Symbol.iterator]=function(){return this}),Aa},jh=function(l,D){for(var G=0,T=D.length,fa=l.length;G<T;G++,fa++)l[fa]=D[G];return l},nk=new kq,wq=!1,Zr=0,Jp=0,Kp=0,ep=!1,xq=!1,$r=!1,Yr={horizontal:null,vertical:null},go=0,lq=!1,ho=null,Bl=new Map,wp=null,ar=null,zp=null,Wr=function(l){function D(G){var T=this;var fa=T=l.call(this,G)||this;Vt.call(T);var na,Aa,za,Ga=Fh(),Ua=G.width,Pa=void 0===Ua?window.innerWidth:Ua;Ua=G.height;
var mb=void 0===Ua?window.innerHeight:Ua,sb=G.offsetLeft,vb=G.offsetTop;Ua=G.excalidrawRef;var ec=G.viewModeEnabled;ec=void 0!==ec&&ec;var Zb=G.zenModeEnabled;Zb=void 0!==Zb&&Zb;G=G.gridModeEnabled;G=void 0!==G&&G;if(T.state=$a($a($a({},Ga),{},{isLoading:!0,width:Pa,height:mb},T.getCanvasOffsets({offsetLeft:sb,offsetTop:vb})),{},{viewModeEnabled:ec,zenModeEnabled:Zb,gridSize:G?hc.k:null}),Ua){var Ac;Ga="current"in Ua&&(null===(Ac=Ua.current)||void 0===Ac?void 0:Ac.readyPromise)||((za=new Promise(function(gd,
kd){na=gd;Aa=kd})).resolve=na,za.reject=Aa,za);za={ready:!0,readyPromise:Ga,updateScene:T.updateScene,resetScene:T.resetScene,getSceneElementsIncludingDeleted:T.getSceneElementsIncludingDeleted,history:{clear:T.resetHistory},setScrollToCenter:T.setScrollToCenter,getSceneElements:T.getSceneElements,getAppState:function(){return fa.state}};"function"==typeof Ua?Ua(za):Ua.current=za;Ga.resolve(za)}return T.scene=new Ah,T.actionManager=new um(T.syncActionResult,function(){return fa.state},function(){return fa.scene.getElementsIncludingDeleted()},
T),T.actionManager.registerAll(kg),T.actionManager.registerAction({name:"undo",perform:function(gd,kd){return sp(gd,kd,function(){return nk.undoOnce()})},keyTest:function(gd){return gd[ef]&&"z"===gd.key.toLowerCase()&&!gd.shiftKey},PanelComponent:function(gd){gd=gd.updateData;return Ha().createElement(lf,{type:"button",icon:nh,"aria-label":La("buttons.undo"),onClick:gd})},commitToHistory:function(){return!1}}),T.actionManager.registerAction(function(gd){return{name:"redo",perform:function(kd,xd){return sp(kd,
xd,function(){return gd.redoOnce()})},keyTest:function(kd){return kd[ef]&&kd.shiftKey&&"z"===kd.key.toLowerCase()||Jj&&kd.ctrlKey&&!kd.shiftKey&&"y"===kd.key},PanelComponent:function(kd){kd=kd.updateData;return Ha().createElement(lf,{type:"button",icon:Fj,"aria-label":La("buttons.redo"),onClick:kd})},commitToHistory:function(){return!1}}}(nk)),T}return gu(D,l),D.prototype.renderCanvas=function(){var G=window.devicePixelRatio,T=this.state,fa=T.width,na=T.height,Aa=fa*G;G*=na;return T.viewModeEnabled?
Ha().createElement("canvas",{id:"canvas",style:{width:fa,height:na,cursor:"grabbing"},width:Aa,height:G,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.removePointer,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,onPointerDown:this.handleCanvasPointerDown},La("labels.drawingCanvas")):Ha().createElement("canvas",{id:"canvas",style:{width:fa,height:na},width:Aa,height:G,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,
onPointerDown:this.handleCanvasPointerDown,onDoubleClick:this.handleCanvasDoubleClick,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.removePointer,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,onDrop:this.handleCanvasOnDrop},La("labels.drawingCanvas"))},D.prototype.render=function(){var G,T=this,fa=this.state,na=fa.zenModeEnabled,Aa=fa.width,za=fa.height;fa=fa.viewModeEnabled;var Ga=this.props,Ua=Ga.onCollabButtonClick,Pa=Ga.onExportToBackend;Ga=Ga.renderFooter;
var mb=Aa/2,sb=za/2;return Ha().createElement("div",{className:oc("excalidraw",{"excalidraw--view-mode":fa}),ref:this.excalidrawContainerRef,style:{width:Aa,height:za}},Ha().createElement(Zt,{canvas:this.canvas,appState:this.state,setAppState:this.setAppState,actionManager:this.actionManager,elements:this.scene.getElements(),onCollabButtonClick:Ua,onLockToggle:this.toggleLock,onInsertElements:function(vb){return T.addElementsFromPasteOrLibrary(vb,mb,sb)},zenModeEnabled:na,toggleZenMode:this.toggleZenMode,
langCode:O.code,isCollaborating:this.props.isCollaborating||!1,onExportToBackend:Pa,renderCustomFooter:Ga,viewModeEnabled:fa,showExitZenModeBtn:void 0===(null===(G=this.props)||void 0===G?void 0:G.zenModeEnabled)&&na}),Ha().createElement("div",{className:"excalidraw-textEditorContainer"}),this.state.showStats&&Ha().createElement(eu,{appState:this.state,setAppState:this.setAppState,elements:this.scene.getElements(),onClose:this.toggleStats}),null!==this.state.toastMessage&&Ha().createElement(fu,{message:this.state.toastMessage,
clearToast:this.clearToast}),Ha().createElement("main",null,this.renderCanvas()))},D.prototype.componentDidMount=function(){var G=this;return Rc()(function(){return dp(this,function(T){return"production"!==hc.Vi.TEST&&"production"!==hc.Vi.DEVELOPMENT||(G.setState.bind(G),Object.defineProperties(window.h,{state:{configurable:!0,get:function(){return G.state}},setState:{configurable:!0,value:function(){for(var fa=[],na=0;na<arguments.length;na++)fa[na]=arguments[na];return G.setState.apply(G,fa)}},
app:{configurable:!0,value:G}})),G.scene.addCallback(G.onSceneUpdated),G.addEventListeners(),"number"==typeof G.props.offsetLeft&&"number"==typeof G.props.offsetTop?G.initializeScene():G.setState(G.getCanvasOffsets(G.props),function(){G.initializeScene()}),[2]})})()},D.prototype.componentWillUnmount=function(){this.unmounted=!0;this.removeEventListeners();this.scene.destroy();clearTimeout(go);go=0},D.prototype.removeEventListeners=function(){document.removeEventListener(hc.Ks.COPY,this.onCopy);document.removeEventListener(hc.Ks.PASTE,
this.pasteFromClipboard);document.removeEventListener(hc.Ks.CUT,this.onCut);document.removeEventListener(hc.Ks.KEYDOWN,this.onKeyDown,!1);document.removeEventListener(hc.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition,!1);document.removeEventListener(hc.Ks.KEYUP,this.onKeyUp);window.removeEventListener(hc.Ks.RESIZE,this.onResize,!1);window.removeEventListener(hc.Ks.UNLOAD,this.onUnload,!1);window.removeEventListener(hc.Ks.BLUR,this.onBlur,!1);window.removeEventListener(hc.Ks.DRAG_OVER,this.disableEvent,
!1);window.removeEventListener(hc.Ks.DROP,this.disableEvent,!1);document.removeEventListener(hc.Ks.GESTURE_START,this.onGestureStart,!1);document.removeEventListener(hc.Ks.GESTURE_CHANGE,this.onGestureChange,!1);document.removeEventListener(hc.Ks.GESTURE_END,this.onGestureEnd,!1)},D.prototype.addEventListeners=function(){var G,T;this.removeEventListeners();document.addEventListener(hc.Ks.COPY,this.onCopy);document.addEventListener(hc.Ks.KEYDOWN,this.onKeyDown,!1);document.addEventListener(hc.Ks.KEYUP,
this.onKeyUp,{passive:!0});document.addEventListener(hc.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition);null===(G=document.fonts)||void 0===G||null===(T=G.addEventListener)||void 0===T||T.call(G,"loadingdone",this.onFontLoaded);document.addEventListener(hc.Ks.GESTURE_START,this.onGestureStart,!1);document.addEventListener(hc.Ks.GESTURE_CHANGE,this.onGestureChange,!1);document.addEventListener(hc.Ks.GESTURE_END,this.onGestureEnd,!1);this.state.viewModeEnabled||(document.addEventListener(hc.Ks.PASTE,
this.pasteFromClipboard),document.addEventListener(hc.Ks.CUT,this.onCut),document.addEventListener(hc.Ks.SCROLL,this.onScroll),window.addEventListener(hc.Ks.RESIZE,this.onResize,!1),window.addEventListener(hc.Ks.UNLOAD,this.onUnload,!1),window.addEventListener(hc.Ks.BLUR,this.onBlur,!1),window.addEventListener(hc.Ks.DRAG_OVER,this.disableEvent,!1),window.addEventListener(hc.Ks.DROP,this.disableEvent,!1))},D.prototype.componentDidUpdate=function(G,T){var fa,na,Aa,za,Ga=this;(G.langCode!==this.props.langCode&&
this.updateLanguage(),G.width!==this.props.width||G.height!==this.props.height||"number"==typeof this.props.offsetLeft&&G.offsetLeft!==this.props.offsetLeft||"number"==typeof this.props.offsetTop&&G.offsetTop!==this.props.offsetTop)&&this.setState($a({width:null!==(Aa=this.props.width)&&void 0!==Aa?Aa:window.innerWidth,height:null!==(za=this.props.height)&&void 0!==za?za:window.innerHeight},this.getCanvasOffsets(this.props)));G.viewModeEnabled!==this.props.viewModeEnabled&&this.setState({viewModeEnabled:!!this.props.viewModeEnabled},
this.addEventListeners);T.viewModeEnabled!==this.state.viewModeEnabled&&this.addEventListeners();G.zenModeEnabled!==this.props.zenModeEnabled&&this.setState({zenModeEnabled:!!this.props.zenModeEnabled});G.gridModeEnabled!==this.props.gridModeEnabled&&this.setState({gridSize:this.props.gridModeEnabled?hc.k:null});null===(fa=document.querySelector(".excalidraw"))||void 0===fa||fa.classList.toggle("Appearance_dark","dark"===this.state.appearance);this.state.editingLinearElement&&!this.state.selectedElementIds[this.state.editingLinearElement.elementId]&&
setTimeout(function(){Ga.actionManager.executeAction(Mf)});G=T.multiElement;T.elementType!==this.state.elementType&&null!=G&&this.state.isBindingEnabled&&pg(G)&&jk(G,this.state,this.scene,Fg(dg.getPointAtIndexGlobalCoordinates(G,-1)));var Ua={},Pa={},mb={},sb={},vb={};this.state.collaborators.forEach(function(Ac,gd){if(Ac.selectedElementIds)for(var kd=0,xd=Object.keys(Ac.selectedElementIds);kd<xd.length;kd++){var ne=xd[kd];ne in mb||(mb[ne]=[]);mb[ne].push(gd)}Ac.pointer&&(Ac.username&&(sb[gd]=Ac.username),
Ac.userState&&(vb[gd]=Ac.userState),Pa[gd]=oh({sceneX:Ac.pointer.x,sceneY:Ac.pointer.y},Ga.state),Ua[gd]=Ac.button)});T=this.scene.getElements();fa=kn(T.filter(function(Ac){return!Ga.state.editingElement||"text"!==Ga.state.editingElement.type||Ac.id!==Ga.state.editingElement.id}),this.state,this.state.selectionElement,window.devicePixelRatio,this.rc,this.canvas,{scrollX:this.state.scrollX,scrollY:this.state.scrollY,viewBackgroundColor:this.state.viewBackgroundColor,zoom:this.state.zoom,remotePointerViewportCoords:Pa,
remotePointerButton:Ua,remoteSelectedElementIds:mb,remotePointerUsernames:sb,remotePointerUserStates:vb,shouldCacheIgnoreZoom:this.state.shouldCacheIgnoreZoom},{renderOptimizations:!0,renderScrollbars:!xg().matches});G=fa.atLeastOneVisibleElement;(fa=fa.scrollBars)&&(Yr=fa);var ec,Zb;T="text"!==(null===(na=this.state.editingElement)||void 0===na?void 0:na.type)&&!G&&0<T.length;(this.state.scrolledOutside!==T&&this.setState({scrolledOutside:T}),nk.record(this.state,this.scene.getElementsIncludingDeleted()),
this.state.isLoading)||null===(ec=(Zb=this.props).onChange)||void 0===ec||ec.call(Zb,this.scene.getElementsIncludingDeleted(),this.state)},D.resetTapTwice=function(){wq=!1},D.prototype.addTextFromPaste=function(G){var T,fa=vg({clientX:Jp,clientY:Kp},this.state);G=Kj({x:fa.x,y:fa.y,strokeColor:this.state.currentItemStrokeColor,backgroundColor:this.state.currentItemBackgroundColor,fillStyle:this.state.currentItemFillStyle,strokeWidth:this.state.currentItemStrokeWidth,strokeStyle:this.state.currentItemStrokeStyle,
roughness:this.state.currentItemRoughness,opacity:this.state.currentItemOpacity,strokeSharpness:this.state.currentItemStrokeSharpness,text:G,fontSize:this.state.currentItemFontSize,fontFamily:this.state.currentItemFontFamily,textAlign:this.state.currentItemTextAlign,verticalAlign:hc.hs});this.scene.replaceAllElements(jh(jh([],this.scene.getElementsIncludingDeleted()),[G]));this.setState({selectedElementIds:(T={},T[G.id]=!0,T)});nk.resumeRecording()},D.prototype.selectShapeTool=function(G){var T;ep||
ui(this.canvas,G);(T=document.activeElement)instanceof HTMLElement&&T.className.includes("ToolIcon")&&document.activeElement.blur();hj(G)||this.setState({suggestedBindings:[]});"selection"!==G?this.setState({elementType:G,selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}):this.setState({elementType:G})},D.prototype.handleTextWysiwyg=function(G,T){T=T.isExistingElement;var fa=void 0!==T&&T,na=this,Aa=function(za,Ga){void 0===Ga&&(Ga=!1);na.scene.replaceAllElements(jh([],na.scene.getElementsIncludingDeleted().map(function(Ua){if(Ua.id===
G.id&&fe(Ua)){var Pa=Ga;Pa={text:za,isDeleted:null!=Pa?Pa:Ua.isDeleted};var mb=Wi(za,Vi(Ua));var sb=mb.width;var vb=mb.height;mb=mb.baseline;var ec=Ua.textAlign;var Zb=Ua.verticalAlign;if("center"===ec&&"middle"===Zb)ec=Wi(Ua.text,Vi(Ua)),Zb=Xh(Ua,{width:sb-ec.width,height:vb-ec.height}),ec=Ua.x-Zb.x,Zb=Ua.y-Zb.y;else{var Ac=jg(Ua);Zb=Ac[0];var gd=Ac[1],kd=Ac[2];Ac=Ac[3];var xd=Tg(Ua,sb,vb);ec=(Zb=Zf({s:!0,e:"center"===ec||"left"===ec,w:"center"===ec||"right"===ec},Ua.x,Ua.y,Ua.angle,(Zb-xd[0])/2,
(gd-xd[1])/2,(kd-xd[2])/2,(Ac-xd[3])/2))[0];Zb=Zb[1]}sb={width:sb,height:vb,x:Number.isFinite(ec)?ec:Ua.x,y:Number.isFinite(Zb)?Zb:Ua.y,baseline:mb};Ua=zg(Ua,Ka(Pa,sb))}return Ua})))};!function(za){var Ga=za.id,Ua=za.appState,Pa=za.onChange,mb=za.onSubmit,sb=za.getViewportCoords,vb=za.element;za=za.canvas;var ec=function(){var Ne,gf=null===(Ne=Ah.getScene(vb))||void 0===Ne?void 0:Ne.getElement(Ga);if(gf&&fe(gf)){Ne=sb(gf.x,gf.y);var Dd=Ne[0],ce=Ne[1];Ne=gf.textAlign;var le=gf.angle;Zb.value=gf.text;
var $e=gf.text.replace(/\r\n?/g,"\n").split("\n"),Gh=gf.height/$e.length;$e=(Ua.offsetLeft+Ua.width-Dd-8)/Ua.zoom.value-Number(getComputedStyle(document.querySelector(".excalidraw").parentNode).marginRight.slice(0,-2));var $h=Object,Bj=$h.assign,cj=Zb.style,Vl=Vi(gf);Gh="".concat(Gh,"px");var un="".concat(gf.width,"px"),fm="".concat(gf.height,"px");Dd="".concat(Dd,"px");ce="".concat(ce,"px");var vn=gf.width;var Wm=Ua.zoom,fo=180*le/Math.PI;le=(vn-2*Ua.offsetLeft)*(Wm.value-1)/2;var Xm=(gf.height-
2*Ua.offsetTop)*(Wm.value-1)/2;vn=(vn>$e&&1!==Wm.value&&(le=$e/2*(Wm.value-1)),"translate(".concat(le,"px, ").concat(Xm,"px) scale(").concat(Wm.value,") rotate(").concat(fo,"deg)"));Bj.call($h,cj,{font:Vl,lineHeight:Gh,width:un,height:fm,left:Dd,top:ce,transform:vn,textAlign:Ne,color:gf.strokeColor,opacity:gf.opacity/100,filter:"var(--appearance-filter)",maxWidth:"".concat($e,"px")})}},Zb=document.createElement("textarea");Zb.dir="auto";Zb.tabIndex=0;Zb.dataset.type="wysiwyg";Zb.wrap="off";Object.assign(Zb.style,
{position:"absolute",display:"inline-block",minHeight:"1em",backfaceVisibility:"hidden",margin:0,padding:0,border:0,outline:0,resize:"none",background:"transparent",overflow:"hidden",whiteSpace:"pre",zIndex:"var(--zIndex-wysiwyg)"});ec();Pa&&(Zb.oninput=function(){Pa(sl(Zb.value))});Zb.onkeydown=function(Ne){"Escape"===Ne.key?(Ne.preventDefault(),gd()):"Enter"===Ne.key&&Ne[ef]?(Ne.preventDefault(),Ne.isComposing||229===Ne.keyCode)||gd():"Enter"!==Ne.key||Ne.altKey||Ne.stopPropagation()};var Ac=function(Ne){Ne.preventDefault();
Ne.stopPropagation()},gd=function(){mb(sl(Zb.value));me||(me=!0,Zb.onblur=null,Zb.oninput=null,Zb.onkeydown=null,Re&&Re.disconnect(),window.removeEventListener("resize",ec),window.removeEventListener("wheel",Ac,!0),window.removeEventListener("pointerdown",xd),window.removeEventListener("pointerup",kd),window.removeEventListener("blur",gd),ne(),Zb.remove())},kd=function(){window.removeEventListener("pointerup",kd);setTimeout(function(){Zb.onblur=gd;Zb.focus()})},xd=function(Ne){Ne.target instanceof
HTMLElement&&Ne.target.closest(".".concat(hc.$C.SHAPE_ACTIONS_MENU))&&!Eg(Ne.target)&&(Zb.onblur=null,window.addEventListener("pointerup",kd),window.addEventListener("blur",gd))},ne=Ah.getScene(vb).addCallback(function(){ec();Zb.focus()}),me=!1;Zb.onblur=gd;var Re=null;za&&"ResizeObserver"in window?(Re=new window.ResizeObserver(function(){ec()})).observe(za):window.addEventListener("resize",ec);window.addEventListener("pointerdown",xd);window.addEventListener("wheel",Ac,{passive:!1,capture:!0});document.querySelector(".excalidraw-textEditorContainer").appendChild(Zb);
Zb.focus();Zb.select()}({id:G.id,appState:this.state,canvas:this.canvas,getViewportCoords:function(za,Ga){za=oh({sceneX:za,sceneY:Ga},na.state);return[za.x-na.state.offsetLeft,za.y-na.state.offsetTop]},onChange:bg(function(za){Aa(za);!G.isDeleted&&Ai(G)}),onSubmit:bg(function(za){var Ga=!za.trim();Aa(za,Ga);Ga?tj(na.scene.getElements(),[G]):na.setState(function(Ua){var Pa;return{selectedElementIds:$a($a({},Ua.selectedElementIds),{},(Pa={},Pa[G.id]=!0,Pa))}});Ga&&!fa||nk.resumeRecording();na.setState({draggingElement:null,
editingElement:null});na.state.elementLocked&&ui(na.canvas,na.state.elementType)}),element:G});this.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null});Aa(G.text)},D.prototype.getTextElementAtPosition=function(G,T){return(G=this.getElementAtPosition(G,T))&&fe(G)&&!G.isDeleted?G:null},D.prototype.getElementAtPosition=function(G,T){var fa=this.getElementsAtPosition(G,T);if(1<fa.length){var na=fa[fa.length-1];return Lk(na,this.state,G,T)?fa[fa.length-2]:na}return 1===fa.length?
fa[0]:null},D.prototype.getElementsAtPosition=function(G,T){var fa,na,Aa=this;return fa=this.scene.getElements(),na=function(za){var Ga=Aa.state,Ua=10/Ga.zoom.value,Pa=[G,T];return Ga.selectedElementIds[za.id]?Rl(za,Pa,Ua):fk(za,Ga,Pa)},fa.filter(function(za){return!za.isDeleted&&na(za)})},D.prototype.maybeCleanupAfterMissingPointerUp=function(G){null!==ho&&ho(G)},D.prototype.updateGestureOnPointerDown=function(G){Bl.set(G.pointerId,{x:G.clientX,y:G.clientY});2===Bl.size&&(wp=Tm(Bl),zp=this.state.zoom.value,
ar=bo(Array.from(Bl.values())))},D.prototype.initialPointerDownState=function(G){var T=vg(G,this.state),fa=wf(this.scene.getElements(),this.state),na=Dg(fa),Aa=na[0],za=na[1],Ga=na[2];na=na[3];return{origin:T,originInGrid:Fg(ri(T.x,T.y,this.state.gridSize)),scrollbars:ki(Yr,G.clientX-this.state.offsetLeft,G.clientY-this.state.offsetTop),lastCoords:$a({},T),originalElements:this.scene.getElements().reduce(function(Ua,Pa){return Ua.set(Pa.id,Lj(Pa)),Ua},new Map),resize:{handleType:!1,isResizing:!1,
offset:{x:0,y:0},arrowDirection:"origin",center:{x:(Ga+Aa)/2,y:(na+za)/2}},hit:{element:null,allHitElements:[],wasAddedToSelection:!1,hasBeenDuplicated:!1,hasHitCommonBoundingBoxOfSelectedElements:this.isHittingCommonBoundingBoxOfSelectedElements(T,fa)},drag:{hasOccurred:!1,offset:null},eventListeners:{onMove:null,onUp:null,onKeyUp:null,onKeyDown:null}}},D.prototype.handleDraggingScrollBar=function(G,T){var fa=this;if(!T.scrollbars.isOverEither||this.state.multiElement)return!1;$r=!0;T.lastCoords.x=
G.clientX;T.lastCoords.y=G.clientY;var na=bg(function(za){za.target instanceof HTMLElement&&fa.handlePointerMoveOverScrollbars(za,T)}),Aa=bg(function(){$r=!1;ui(fa.canvas,fa.state.elementType);ho=null;fa.setState({cursorButton:"up"});fa.savePointer(G.clientX,G.clientY,"up");window.removeEventListener(hc.Ks.POINTER_MOVE,na);window.removeEventListener(hc.Ks.POINTER_UP,Aa)});return ho=Aa,window.addEventListener(hc.Ks.POINTER_MOVE,na),window.addEventListener(hc.Ks.POINTER_UP,Aa),!0},D.prototype.isASelectedElement=
function(G){return null!=G&&this.state.selectedElementIds[G.id]},D.prototype.isHittingCommonBoundingBoxOfSelectedElements=function(G,T){if(2>T.length)return!1;var fa=10/this.state.zoom.value;T=Dg(T);var na=T[1],Aa=T[2],za=T[3];return G.x>T[0]-fa&&G.x<Aa+fa&&G.y>na-fa&&G.y<za+fa},D.prototype.onKeyDownFromPointerDownHandler=function(G){var T=this;return bg(function(fa){T.maybeHandleResize(G,fa)||T.maybeDragNewGenericElement(G,fa)})},D.prototype.onKeyUpFromPointerDownHandler=function(G){var T=this;return bg(function(fa){"Alt"===
fa.key&&fa.preventDefault();T.maybeHandleResize(G,fa)||T.maybeDragNewGenericElement(G,fa)})},D.prototype.onPointerMoveFromPointerDownHandler=function(G){var T=this;return bg(function(fa){if(null===G.drag.offset&&(G.drag.offset=Fg(function(kd,xd,ne){kd=Dg(kd);return[xd-kd[0],ne-kd[1]]}(wf(T.scene.getElements(),T.state),G.origin.x,G.origin.y))),fa.target instanceof HTMLElement&&!T.handlePointerMoveOverScrollbars(fa,G)){var na=vg(fa,T.state),Aa=ri(na.x,na.y,T.state.gridSize),za=Aa[0];Aa=Aa[1];if(G.drag.hasOccurred||
"arrow"!==T.state.elementType&&"line"!==T.state.elementType||!(Math.hypot(G.origin.x-na.x,G.origin.y-na.y)<hc.f)){if(G.resize.isResizing&&(G.lastCoords.x=na.x,G.lastCoords.y=na.y,T.maybeHandleResize(G,fa)))return!0;if(T.state.editingLinearElement&&dg.handlePointDragging(T.state,function(kd){return T.setState(kd)},na.x,na.y,function(kd,xd){T.maybeSuggestBindingForLinearElementAtCursor(kd,xd,na)}))return G.lastCoords.x=na.x,void(G.lastCoords.y=na.y);if(G.hit.allHitElements.some(function(kd){return T.isASelectedElement(kd)})||
G.hit.hasHitCommonBoundingBoxOfSelectedElements){G.drag.hasOccurred=!0;var Ga=wf(T.scene.getElements(),T.state);if(0<Ga.length){za=ri(na.x-G.drag.offset.x,na.y-G.drag.offset.y,T.state.gridSize);var Ua=za[0];za=za[1];Aa=[Math.abs(na.x-G.origin.x),Math.abs(na.y-G.origin.y)];if(function(kd,xd,ne,me,Re,Ne,gf,Dd){void 0===Ne&&(Ne=!1);void 0===gf&&(gf=0);void 0===Dd&&(Dd=0);Re=Dg(xd);var ce=ne-Re[0],le=me-Re[1];xd.forEach(function($e){if(Ne){var Gh=Ne&&gf<Dd;var $h=Ne&&gf>Dd;var Bj=kd.originalElements.get($e.id);
Gh=Gh&&Bj?Bj.x:$e.x+ce;$h=$h&&Bj?Bj.y:$e.y+le}else Gh=$e.x+ce,$h=$e.y+le;nf($e,{x:Gh,y:$h});Ai($e,{simultaneouslyUpdated:xd})})}(G,Ga,Ua,za,T.scene,fa.shiftKey,Aa[0],Aa[1]),T.maybeSuggestBindingForAll(Ga),fa.altKey&&!G.hit.hasBeenDuplicated){G.hit.hasBeenDuplicated=!0;Ga=[];fa=[];var Pa=new Map;Aa=new Map;for(var mb=G.hit.element,sb=0,vb=T.scene.getElementsIncludingDeleted();sb<vb.length;sb++){var ec=vb[sb];if(T.state.selectedElementIds[ec.id]||ec.id===(null==mb?void 0:mb.id)&&G.hit.wasAddedToSelection){var Zb=
Yi(T.state.editingGroupId,Pa,ec),Ac=ri(G.origin.x-G.drag.offset.x,G.origin.y-G.drag.offset.y,T.state.gridSize);nf(Zb,{x:Zb.x+(Ac[0]-Ua),y:Zb.y+(Ac[1]-za)});Ga.push(Zb);fa.push(ec);Aa.set(ec.id,Zb.id)}else Ga.push(ec)}Ua=jh(jh([],Ga),fa);Uj(Ua,fa,Aa,"duplicatesServeAsOld");T.scene.replaceAllElements(Ua)}return}}if(Ga=T.state.draggingElement)if(Hg(Ga)?(G.drag.hasOccurred=!0,Pa=Ga.points,sb=mb=void 0,"draw"===Ga.type?(mb=na.x-Ga.x,sb=na.y-Ga.y):(mb=za-Ga.x,sb=Aa-Ga.y),fa.shiftKey&&2===Pa.length&&(mb=
(Ua=Ye(T.state.elementType,mb,sb)).width,sb=Ua.height),1===Pa.length?nf(Ga,{points:jh(jh([],Pa),[[mb,sb]])}):1<Pa.length&&("draw"===Ga.type?nf(Ga,{points:I(jh(jh([],Pa),[[mb,sb]]),.7/T.state.zoom.value)}):nf(Ga,{points:jh(jh([],Pa.slice(0,-1)),[[mb,sb]])})),pg(Ga)&&T.maybeSuggestBindingForLinearElementAtCursor(Ga,"end",na,T.state.startBoundElement)):(G.lastCoords.x=na.x,G.lastCoords.y=na.y,T.maybeDragNewGenericElement(G,fa)),"selection"===T.state.elementType){Ua=T.scene.getElements();!fa.shiftKey&&
lg(Ua,T.state)&&T.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null});var gd=function(kd,xd){xd=jg(xd);var ne=xd[0],me=xd[1],Re=xd[2],Ne=xd[3];return kd.filter(function(gf){var Dd=si(gf),ce=Dd[0],le=Dd[1],$e=Dd[2];Dd=Dd[3];return"selection"!==gf.type&&ne<=ce&&me<=le&&Re>=$e&&Ne>=Dd})}(Ua,Ga);T.setState(function(kd){return Wh($a($a({},kd),{},{selectedElementIds:$a($a({},kd.selectedElementIds),gd.reduce(function(xd,ne){return xd[ne.id]=!0,xd},{}))}),T.scene.getElements())})}}}})},
D.prototype.handlePointerMoveOverScrollbars=function(G,T){return T.scrollbars.isOverHorizontal?(G=G.clientX,this.setState({scrollX:this.state.scrollX-(G-T.lastCoords.x)/this.state.zoom.value}),T.lastCoords.x=G,!0):T.scrollbars.isOverVertical?(G=G.clientY,this.setState({scrollY:this.state.scrollY-(G-T.lastCoords.y)/this.state.zoom.value}),T.lastCoords.y=G,!0):!1},D.prototype.onPointerUpFromPointerDownHandler=function(G){var T=this;return bg(function(fa){var na=T.state,Aa=na.draggingElement,za=na.resizingElement,
Ga=na.multiElement,Ua=na.elementType,Pa=na.elementLocked,mb=na.isResizing;na=na.isRotating;if(T.setState({isResizing:!1,isRotating:!1,resizingElement:null,selectionElement:null,cursorButton:"up",editingElement:Ga||fe(T.state.editingElement)?T.state.editingElement:null}),T.savePointer(fa.clientX,fa.clientY,"up"),T.state.editingLinearElement){var sb=dg.handlePointerUp(fa,T.state.editingLinearElement,T.state);sb!==T.state.editingLinearElement&&T.setState({editingLinearElement:sb,suggestedBindings:[]})}if(ho=
null,window.removeEventListener(hc.Ks.POINTER_MOVE,G.eventListeners.onMove),window.removeEventListener(hc.Ks.POINTER_UP,G.eventListeners.onUp),window.removeEventListener(hc.Ks.KEYDOWN,G.eventListeners.onKeyDown),window.removeEventListener(hc.Ks.KEYUP,G.eventListeners.onKeyUp),"draw"!==(null==Aa?void 0:Aa.type))if(Hg(Aa))1<Aa.points.length&&nk.resumeRecording(),fa=vg(fa,T.state),G.drag.hasOccurred||!Aa||Ga?G.drag.hasOccurred&&!Ga&&(T.state.isBindingEnabled&&pg(Aa)&&jk(Aa,T.state,T.scene,fa),T.setState({suggestedBindings:[],
startBoundElement:null}),Pa||"draw"===Ua?T.setState(function(Zb){var Ac;return{draggingElement:null,selectedElementIds:$a($a({},Zb.selectedElementIds),{},(Ac={},Ac[T.state.draggingElement.id]=!0,Ac))}}):(Ii(T.canvas),T.setState(function(Zb){var Ac;return{draggingElement:null,elementType:"selection",selectedElementIds:$a($a({},Zb.selectedElementIds),{},(Ac={},Ac[T.state.draggingElement.id]=!0,Ac))}}))):(nf(Aa,{points:jh(jh([],Aa.points),[[fa.x-Aa.x,fa.y-Aa.y]])}),T.setState({multiElement:Aa,editingElement:T.state.draggingElement}));
else{if("selection"!==Ua&&Aa&&Rh(Aa))return T.scene.replaceAllElements(T.scene.getElementsIncludingDeleted().slice(0,-1)),void T.setState({draggingElement:null});Aa&&nf(Aa,Ml(Aa));za&&nk.resumeRecording();za&&Rh(za)&&T.scene.replaceAllElements(T.scene.getElementsIncludingDeleted().filter(function(Zb){return Zb.id!==za.id}));var vb=G.hit.element;if(vb&&!G.drag.hasOccurred&&!G.hit.wasAddedToSelection)if(fa.shiftKey)if(T.state.selectedElementIds[vb.id])if(null!=Bh(T.state,vb)){var ec=vb.groupIds.flatMap(function(Zb){return ck(T.scene.getElements(),
Zb)}).map(function(Zb){var Ac;return(Ac={})[Zb.id]=!1,Ac}).reduce(function(Zb,Ac){return $a($a({},Zb),Ac)},{});T.setState(function(Zb){return{selectedGroupIds:$a($a({},Zb.selectedElementIds),vb.groupIds.map(function(Ac){var gd;return(gd={})[Ac]=!1,gd}).reduce(function(Ac,gd){return $a($a({},Ac),gd)},{})),selectedElementIds:$a($a({},Zb.selectedElementIds),ec)}})}else T.setState(function(Zb){var Ac;return{selectedElementIds:$a($a({},Zb.selectedElementIds),{},(Ac={},Ac[vb.id]=!1,Ac))}});else T.setState(function(Zb){var Ac;
return{selectedElementIds:$a($a({},Zb.selectedElementIds),{},(Ac={},Ac[vb.id]=!0,Ac))}});else T.setState(function(Zb){var Ac;return $a({},Wh($a($a({},Zb),{},{selectedElementIds:(Ac={},Ac[vb.id]=!0,Ac)}),T.scene.getElements()))});T.state.editingLinearElement||G.drag.hasOccurred||T.state.isResizing||!(vb&&Lk(vb,T.state,G.origin.x,G.origin.y)||!vb&&G.hit.hasHitCommonBoundingBoxOfSelectedElements)?(!Pa&&"draw"!==Ua&&Aa&&T.setState(function(Zb){var Ac;return{selectedElementIds:$a($a({},Zb.selectedElementIds),
{},(Ac={},Ac[Aa.id]=!0,Ac))}}),("selection"!==Ua||lg(T.scene.getElements(),T.state))&&nk.resumeRecording(),(G.drag.hasOccurred||mb||na)&&(T.state.isBindingEnabled?wg:lh)(wf(T.scene.getElements(),T.state)),Pa||"draw"===Ua?T.setState({draggingElement:null,suggestedBindings:[]}):(Ii(T.canvas),T.setState({draggingElement:null,suggestedBindings:[],elementType:"selection"}))):T.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})}else T.actionManager.executeAction(Mf)})},D.prototype.maybeSuggestBindingForAll=
function(G){var T;G=(T=new Set(G.map(function(fa){return fa.id})),G.flatMap(function(fa){return pg(fa)?Il(fa).filter(function(na){return!T.has(na.id)}):yk(fa)?vh(fa).filter(function(na){return!T.has(na[0].id)}):[]}));this.setState({suggestedBindings:G})},D.prototype.clearSelection=function(G){this.setState(function(T){return{selectedElementIds:{},selectedGroupIds:{},editingGroupId:T.editingGroupId&&null!=G&&G.groupIds.includes(T.editingGroupId)?T.editingGroupId:null}});this.setState({selectedElementIds:{},
previousSelectedElementIds:this.state.selectedElementIds})},D.prototype.getTextWysiwygSnappedToCenterPosition=function(G,T,fa,na,Aa){if(Aa=function(za,Ga,Ua){for(var Pa=null,mb=za.length-1;0<=mb;--mb)if(!za[mb].isDeleted){var sb=jg(za[mb]),vb=sb[1],ec=sb[2],Zb=sb[3];if(sb[0]<Ga&&Ga<ec&&vb<Ua&&Ua<Zb){Pa=za[mb];break}}return Pa}(this.scene.getElementsIncludingDeleted().filter(function(za){return!fe(za)}),G,T))if(na=Aa.x+Aa.width/2,Aa=Aa.y+Aa.height/2,Math.hypot(G-na,T-Aa)<hc.wZ)return G=oh({sceneX:na,
sceneY:Aa},fa),{viewportX:G.x,viewportY:G.y,elementCenterX:na,elementCenterY:Aa}},D.prototype.getCanvasOffsets=function(G){var T,fa;return"number"==typeof(null==G?void 0:G.offsetLeft)&&"number"==typeof(null==G?void 0:G.offsetTop)?{offsetLeft:G.offsetLeft,offsetTop:G.offsetTop}:null!==(T=this.excalidrawContainerRef)&&void 0!==T&&null!==(fa=T.current)&&void 0!==fa&&fa.parentElement?(fa=this.excalidrawContainerRef.current.parentElement.getBoundingClientRect(),T=fa.left,fa=fa.top,{offsetLeft:"number"==
typeof(null==G?void 0:G.offsetLeft)?G.offsetLeft:T,offsetTop:"number"==typeof(null==G?void 0:G.offsetTop)?G.offsetTop:fa}):{offsetLeft:"number"==typeof(null==G?void 0:G.offsetLeft)?G.offsetLeft:0,offsetTop:"number"==typeof(null==G?void 0:G.offsetTop)?G.offsetTop:0}},D.prototype.updateLanguage=function(){var G=this;return Rc()(function(){var T;return dp(this,function(fa){switch(fa.label){case 0:return T=z.find(function(na){return na.code===G.props.langCode})||va,[4,Da(T)];case 1:return fa.sent(),G.setAppState({}),
[2]}})})()},D}(Ha().Component);Wr.defaultProps={width:window.innerWidth,height:window.innerHeight};var Vt=function(){var l=this;this.rc=this.canvas=null;this.unmounted=!1;this.excalidrawContainerRef=Ha().createRef();this.getSceneElementsIncludingDeleted=function(){return l.scene.getElementsIncludingDeleted()};this.getSceneElements=function(){return l.scene.getElements()};this.syncActionResult=bg(function(D){if(!l.unmounted&&!1!==D){var G=null;if(D.elements&&(D.elements.forEach(function(Ua){var Pa;
(null===(Pa=l.state.editingElement)||void 0===Pa?void 0:Pa.id)===Ua.id&&l.state.editingElement!==Ua&&!Ua.isDeleted&&(G=Ua)}),l.scene.replaceAllElements(D.elements),D.commitToHistory&&nk.resumeRecording()),D.appState||G){var T,fa,na;D.commitToHistory&&nk.resumeRecording();var Aa=(null==D||null===(T=D.appState)||void 0===T?void 0:T.viewModeEnabled)||!1,za=(null==D||null===(fa=D.appState)||void 0===fa?void 0:fa.zenModeEnabled)||!1,Ga=(null==D||null===(na=D.appState)||void 0===na?void 0:na.gridSize)||
null;void 0!==l.props.viewModeEnabled&&(Aa=l.props.viewModeEnabled);void 0!==l.props.zenModeEnabled&&(za=l.props.zenModeEnabled);void 0!==l.props.gridModeEnabled&&(Ga=l.props.gridModeEnabled?hc.k:null);l.setState(function(Ua){var Pa;return Object.assign(D.appState||{},{editingElement:G||(null===(Pa=D.appState)||void 0===Pa?void 0:Pa.editingElement)||null,width:Ua.width,height:Ua.height,offsetTop:Ua.offsetTop,offsetLeft:Ua.offsetLeft,viewModeEnabled:Aa,zenModeEnabled:za,gridSize:Ga})},function(){D.syncHistory&&
nk.setCurrentState(l.state,l.scene.getElementsIncludingDeleted())})}}});this.onBlur=bg(function(){ep=!1;l.setState({isBindingEnabled:!0})});this.onUnload=function(){l.onBlur()};this.disableEvent=function(D){D.preventDefault()};this.onFontLoaded=function(){l.scene.getElementsIncludingDeleted().forEach(function(D){fe(D)&&wi.delete(D)});l.onSceneUpdated()};this.importLibraryFromUrl=function(){var D=Rc()(function(G){var T,fa,na,Aa,za;return dp(this,function(Ga){switch(Ga.label){case 0:window.history.replaceState({},
hc.iC,window.location.origin),Ga.label=1;case 1:return Ga.trys.push([1,7,,8]),[4,fetch(G)];case 2:return[4,Ga.sent().blob()];case 3:return T=Ga.sent(),Aa=(na=JSON).parse,[4,T.text()];case 4:Ga=fa=Aa.apply(na,[Ga.sent()]);if("object"!=typeof Ga||!Ga||"excalidrawlib"!==Ga.type||1!==Ga.version)throw Error();return window.confirm(La("alerts.confirmAddLibrary",{numShapes:fa.library.length}))?[4,rh.importLibrary(T)]:[3,6];case 5:Ga.sent(),l.setState({isLibraryOpen:!0}),Ga.label=6;case 6:return[3,8];case 7:return za=
Ga.sent(),window.alert(La("alerts.errorLoadingLibrary")),console.error(za),[3,8];case 8:return[2]}})});return function(G){return D.apply(this,arguments)}}();this.resetHistory=function(){nk.clear()};this.resetScene=bg(function(D){l.scene.replaceAllElements([]);l.setState(function(G){return $a($a({},Fh()),{},{isLoading:(null==D||!D.resetLoadingState)&&G.isLoading,appearance:l.state.appearance})});l.resetHistory()});this.initializeScene=Rc()(function(){var D,G,T,fa,na;return dp(this,function(Aa){switch(Aa.label){case 0:"launchQueue"in
window&&"LaunchParams"in window&&window.launchQueue.setConsumer(function(){var za=Rc()(function(Ga){var Ua,Pa;return dp(this,function(mb){switch(mb.label){case 0:return Ga.files.length?[4,(Ua=Ga.files[0]).getFile()]:[2];case 1:return(Pa=mb.sent()).handle=Ua,Om(Pa,l.state).then(function(sb){return l.syncActionResult({elements:sb.elements,appState:$a($a({},sb.appState||l.state),{},{isLoading:!1}),commitToHistory:!0})}).catch(function(sb){l.setState({isLoading:!1,errorMessage:sb.message})}),[2]}})});
return function(Ga){return za.apply(this,arguments)}}()),l.state.isLoading||l.setState({isLoading:!0}),G=null,Aa.label=1;case 1:return Aa.trys.push([1,3,,4]),[4,l.props.initialData];case 2:return G=Aa.sent()||null,[3,4];case 3:return T=Aa.sent(),console.error(T),[3,4];case 4:return(fa=mn(G,null)).appState=$a($a({},fa.appState),{},{isLoading:!1}),null!==(D=G)&&void 0!==D&&D.scrollToCenter&&(fa.appState=$a($a({},fa.appState),mi(fa.elements,$a($a({},fa.appState),{},{width:l.state.width,height:l.state.height,
offsetTop:l.state.offsetTop,offsetLeft:l.state.offsetLeft})))),l.resetHistory(),l.syncActionResult($a($a({},fa),{},{commitToHistory:!0})),(na=(new URLSearchParams(window.location.search)).get("addLibrary"))?[4,l.importLibraryFromUrl(na)]:[3,6];case 5:Aa.sent(),Aa.label=6;case 6:return[2]}})});this.onResize=bg(function(){l.scene.getElementsIncludingDeleted().forEach(function(D){return wi.delete(D)});l.setState({})});this.onScroll=ti(function(){var D=l.getCanvasOffsets(),G=D.offsetTop,T=D.offsetLeft;
l.setState(function(fa){return fa.offsetLeft===T&&fa.offsetTop===G?null:{offsetTop:G,offsetLeft:T}})},hc.HM);this.onCut=bg(function(D){Eg(D.target)||(l.cutAll(),D.preventDefault())});this.onCopy=bg(function(D){var G=document.getSelection();null!=G&&G.anchorNode&&!l.excalidrawContainerRef.current.contains(G.anchorNode)||Eg(D.target)||(l.copyAll(),D.preventDefault())});this.cutAll=function(){l.copyAll();l.actionManager.executeAction(Vg)};this.copyAll=function(){Ck(l.scene.getElements(),l.state)};this.onTapStart=
function(D){if(!wq)return wq=!0,clearTimeout(Zr),void(Zr=window.setTimeout(Wr.resetTapTwice,hc.Gj));if(wq&&1===D.touches.length){var G=D.touches[0];l.handleCanvasDoubleClick({clientX:G.clientX,clientY:G.clientY});wq=!1;clearTimeout(Zr)}D.preventDefault();2===D.touches.length&&l.setState({selectedElementIds:{}})};this.onTapEnd=function(D){D.preventDefault();0<D.touches.length&&l.setState({previousSelectedElementIds:{},selectedElementIds:l.state.previousSelectedElementIds})};this.pasteFromClipboard=
bg(function(){var D=Rc()(function(G){var T,fa,na;return dp(this,function(Aa){switch(Aa.label){case 0:return T=document.activeElement,fa=document.elementFromPoint(Jp,Kp),!G||fa instanceof HTMLCanvasElement&&!Eg(T)?[4,gb(G)]:[2];case 1:return(na=Aa.sent()).errorMessage?l.setState({errorMessage:na.errorMessage}):na.spreadsheet?l.setState({pasteDialog:{data:na.spreadsheet,shown:!0}}):na.elements?l.addElementsFromPasteOrLibrary(na.elements):na.text&&l.addTextFromPaste(na.text),l.selectShapeTool("selection"),
null==G||G.preventDefault(),[2]}})});return function(G){return D.apply(this,arguments)}}());this.addElementsFromPasteOrLibrary=function(D,G,T){void 0===G&&(G=Jp);void 0===T&&(T=Kp);var fa=Dg(D),na=fa[0],Aa=fa[1],za=Math.abs(na-fa[2])/2;fa=Math.abs(Aa-fa[3])/2;G=vg({clientX:G,clientY:T},l.state);za=G.x-za;fa=G.y-fa;var Ga=new Map;za=ri(za,fa,l.state.gridSize);var Ua=za[0],Pa=za[1],mb=new Map;za=D.map(function(sb){var vb=Yi(l.state.editingGroupId,Ga,sb,{x:sb.x+Ua-na,y:sb.y+Pa-Aa});return mb.set(sb.id,
vb.id),vb});fa=jh(jh([],l.scene.getElementsIncludingDeleted()),za);Uj(fa,D,mb);l.scene.replaceAllElements(fa);nk.resumeRecording();l.setState(Wh($a($a({},l.state),{},{isLibraryOpen:!1,selectedElementIds:za.reduce(function(sb,vb){return sb[vb.id]=!0,sb},{}),selectedGroupIds:{}}),l.scene.getElements()))};this.setAppState=function(D){l.setState(D)};this.removePointer=function(D){"touch"===D.pointerType&&go&&(clearTimeout(go),go=0,lq=!1);Bl.delete(D.pointerId)};this.toggleLock=function(){l.setState(function(D){return{elementLocked:!D.elementLocked,
elementType:D.elementLocked?"selection":D.elementType}})};this.toggleZenMode=function(){l.actionManager.executeAction(se)};this.toggleStats=function(){l.state.showStats||Wg("dialog","stats");l.actionManager.executeAction($n)};this.setScrollToCenter=function(D){l.setState($a({},mi(je(D),l.state,l.canvas)))};this.clearToast=function(){l.setState({toastMessage:null})};this.updateScene=bg(function(D){var G;D.commitToHistory&&nk.resumeRecording();null!==(G=D.appState)&&void 0!==G&&G.viewBackgroundColor&&
l.setState({viewBackgroundColor:D.appState.viewBackgroundColor});D.elements&&l.scene.replaceAllElements(D.elements);D.collaborators&&l.setState({collaborators:D.collaborators})});this.onSceneUpdated=function(){l.setState({})};this.updateCurrentCursorPosition=bg(function(D){Jp=D.x;Kp=D.y});this.onKeyDown=bg(function(D){var G;if(!(("Proxy"in window&&(!D.shiftKey&&/^[A-Z]$/.test(D.key)||D.shiftKey&&/^[a-z]$/.test(D.key))&&(D=new Proxy(D,{get:function(Aa,za){var Ga=Aa[za];return"function"==typeof Ga?
Ga.bind(Aa):"key"===za?D.shiftKey?Aa.key.toUpperCase():Aa.key.toLowerCase():Ga}})),Eg(D.target)&&"Escape"!==D.key||yg(D.key)&&(G=D.target,G instanceof HTMLElement&&"wysiwyg"===G.dataset.type||G instanceof HTMLBRElement||G instanceof HTMLInputElement||G instanceof HTMLTextAreaElement||G instanceof HTMLSelectElement))||("?"===D.key&&l.setState({showHelpDialog:!0}),l.actionManager.handleKeyDown(D)||l.state.viewModeEnabled))){if(D[ef]&&l.setState({isBindingEnabled:!1}),"Digit9"===D.code&&l.setState({isLibraryOpen:!l.state.isLibraryOpen}),
yg(D.key)){G=l.state.gridSize&&(D.shiftKey?hc.$e:l.state.gridSize)||(D.shiftKey?hc.Iw:hc.$e);var T=l.scene.getElements().filter(function(Aa){return l.state.selectedElementIds[Aa.id]}),fa=0,na=0;"ArrowLeft"===D.key?fa=-G:"ArrowRight"===D.key?fa=G:"ArrowUp"===D.key?na=-G:"ArrowDown"===D.key&&(na=G);T.forEach(function(Aa){nf(Aa,{x:Aa.x+fa,y:Aa.y+na});Ai(Aa,{simultaneouslyUpdated:T})});l.maybeSuggestBindingForAll(T);D.preventDefault()}else if("Enter"===D.key)if(G=wf(l.scene.getElements(),l.state),1===
G.length&&Hg(G[0]))l.state.editingLinearElement&&l.state.editingLinearElement.elementId===G[0].id||(nk.resumeRecording(),l.setState({editingLinearElement:new dg(G[0],l.scene)}));else{if(1===G.length&&!Hg(G[0]))return G=G[0],l.startTextEditing({sceneX:G.x+G.width/2,sceneY:G.y+G.height/2}),void D.preventDefault()}else D.ctrlKey||D.altKey||D.metaKey||null!==l.state.draggingElement||((G=function(Aa){var za=wm.find(function(Ga,Ua){return Aa===(Ua+1).toString()||("string"==typeof Ga.key?Ga.key===Aa:Ga.key.includes(Aa))});
return(null==za?void 0:za.value)||null}(D.key))?l.selectShapeTool(G):"q"===D.key&&l.toggleLock());" "===D.key&&0===Bl.size&&(ep=!0,Ji(l.canvas,hc.oc.GRABBING))}});this.onKeyUp=bg(function(D){if(" "===D.key&&("selection"===l.state.elementType?Ii(l.canvas):(ui(l.canvas,l.state.elementType),l.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})),ep=!1),D[ef]||l.state.isBindingEnabled||l.setState({isBindingEnabled:!0}),yg(D.key))D=wf(l.scene.getElements(),l.state),l.state.isBindingEnabled?
wg(D):lh(D),l.setState({suggestedBindings:[]})});this.onGestureStart=bg(function(D){D.preventDefault();l.setState({selectedElementIds:{}});zp=l.state.zoom.value});this.onGestureChange=bg(function(D){if(D.preventDefault(),2!==Bl.size){var G=zp;G&&l.setState(function(T){var fa=T.zoom,na=T.offsetLeft;T=T.offsetTop;return{zoom:ci(Sj(G*D.scale),fa,{left:na,top:T},{x:Jp,y:Kp})}})}});this.onGestureEnd=bg(function(D){D.preventDefault();l.setState({previousSelectedElementIds:{},selectedElementIds:l.state.previousSelectedElementIds});
zp=null});this.startTextEditing=function(D){var G=D.sceneX,T=D.sceneY;D=D.insertAtParentCenter;var fa=void 0===D||D;D=l.getTextElementAtPosition(G,T);fa=fa&&l.getTextWysiwygSnappedToCenterPosition(G,T,l.state,l.canvas,window.devicePixelRatio);G=D||Kj({x:fa?fa.elementCenterX:G,y:fa?fa.elementCenterY:T,strokeColor:l.state.currentItemStrokeColor,backgroundColor:l.state.currentItemBackgroundColor,fillStyle:l.state.currentItemFillStyle,strokeWidth:l.state.currentItemStrokeWidth,strokeStyle:l.state.currentItemStrokeStyle,
roughness:l.state.currentItemRoughness,opacity:l.state.currentItemOpacity,strokeSharpness:l.state.currentItemStrokeSharpness,text:"",fontSize:l.state.currentItemFontSize,fontFamily:l.state.currentItemFontFamily,textAlign:fa?"center":l.state.currentItemTextAlign,verticalAlign:fa?"middle":hc.hs});l.setState({editingElement:G});D?fa&&"center"===G.textAlign||nf(G,{verticalAlign:hc.hs}):(l.scene.replaceAllElements(jh(jh([],l.scene.getElementsIncludingDeleted()),[G])),fa||nf(G,{y:G.y-G.baseline/2}));l.setState({editingElement:G});
l.handleTextWysiwyg(G,{isExistingElement:!!D})};this.handleCanvasDoubleClick=function(D){if(!l.state.multiElement&&"selection"===l.state.elementType){var G=wf(l.scene.getElements(),l.state);if(1===G.length&&Hg(G[0]))l.state.editingLinearElement&&l.state.editingLinearElement.elementId===G[0].id||(nk.resumeRecording(),l.setState({editingLinearElement:new dg(G[0],l.scene)}));else{Ii(l.canvas);var T=vg(D,l.state);G=T.x;T=T.y;if(0<Li(l.state).length){var fa=l.getElementAtPosition(G,T),na=fa&&function(Aa,
za){return Aa.groupIds.find(function(Ga){return za[Ga]})}(fa,l.state.selectedGroupIds);if(na)return void l.setState(function(Aa){var za;return Wh($a($a({},Aa),{},{editingGroupId:na,selectedElementIds:(za={},za[fa.id]=!0,za),selectedGroupIds:{}}),l.scene.getElements())})}Ii(l.canvas);D[ef]||l.startTextEditing({sceneX:G,sceneY:T,insertAtParentCenter:!D.altKey})}}};this.handleCanvasPointerMove=function(D){l.savePointer(D.clientX,D.clientY,l.state.cursorButton);Bl.has(D.pointerId)&&Bl.set(D.pointerId,
{x:D.clientX,y:D.clientY});var G=zp;if(2===Bl.size&&wp&&G&&ar){var T=Tm(Bl),fa=T.x-wp.x,na=T.y-wp.y;wp=T;var Aa=bo(Array.from(Bl.values()))/ar;l.setState(function(ec){var Zb=ec.zoom,Ac=ec.offsetLeft,gd=ec.offsetTop;return{scrollX:ec.scrollX+fa/Zb.value,scrollY:ec.scrollY+na/Zb.value,zoom:ci(Sj(G*Aa),Zb,{left:Ac,top:gd},T),shouldCacheIgnoreZoom:!0}});l.resetShouldCacheIgnoreZoomDebounced()}else wp=ar=zp=null;if(!(ep||xq||$r)){var za=ki(Yr,D.clientX-l.state.offsetLeft,D.clientY-l.state.offsetTop).isOverEither;
l.state.draggingElement||l.state.multiElement||(za?Ii(l.canvas):ui(l.canvas,l.state.elementType));var Ga=vg(D,l.state),Ua=Ga.x,Pa=Ga.y;if(l.state.editingLinearElement&&!l.state.editingLinearElement.isDragging){var mb=dg.handlePointerMove(D,Ua,Pa,l.state.editingLinearElement,l.state.gridSize);mb!==l.state.editingLinearElement&&l.setState({editingLinearElement:mb});null!=mb.lastUncommittedPoint?l.maybeSuggestBindingAtCursor(Ga):l.setState({suggestedBindings:[]})}"arrow"===l.state.elementType&&(mb=l.state.draggingElement,
pg(mb)?l.maybeSuggestBindingForLinearElementAtCursor(mb,"end",Ga,l.state.startBoundElement):l.maybeSuggestBindingAtCursor(Ga));if(l.state.multiElement){za=l.state.multiElement;Ga=za.x;mb=za.y;D=za.points;var sb=za.lastCommittedPoint,vb=D[D.length-1];return ui(l.canvas,l.state.elementType),void(vb===sb?Math.hypot(vb[0]-(Ua-Ga),vb[1]-(Pa-mb))>=hc.qx?nf(za,{points:jh(jh([],D),[[Ua-Ga,Pa-mb]])}):Ji(l.canvas,hc.oc.POINTER):2<D.length&&sb&&Math.hypot(sb[0]-(Ua-Ga),sb[1]-(Pa-mb))<hc.qx?(Ji(l.canvas,hc.oc.POINTER),
nf(za,{points:D.slice(0,-1)})):(ei(D,l.state.zoom.value)&&Ji(l.canvas,hc.oc.POINTER),nf(za,{points:jh(jh([],D.slice(0,-1)),[[Ua-Ga,Pa-mb]])})))}if(!(D.buttons||"selection"!==l.state.elementType&&"text"!==l.state.elementType)){sb=l.scene.getElements();mb=wf(sb,l.state);if(1!==mb.length||za||l.state.editingLinearElement){if(1<mb.length&&!za&&(Ua=rf(Dg(mb),Ua,Pa,l.state.zoom,D.pointerType)))return void Ji(l.canvas,Le({transformHandleType:Ua}))}else if((Ua=Oi(sb,l.state,Ua,Pa,l.state.zoom,D.pointerType))&&
Ua.transformHandleType)return void Ji(l.canvas,Le(Ua));Ua=l.getElementAtPosition(Ga.x,Ga.y);"text"===l.state.elementType?Ji(l.canvas,fe(Ua)?hc.oc.TEXT:hc.oc.CROSSHAIR):za?Ji(l.canvas,hc.oc.AUTO):Ua||l.isHittingCommonBoundingBoxOfSelectedElements(Ga,mb)?Ji(l.canvas,hc.oc.MOVE):Ji(l.canvas,hc.oc.AUTO)}}};this.handleTouchMove=function(D){lq=!0};this.handleCanvasPointerDown=function(D){if(D.persist(),l.maybeOpenContextMenuAfterPointerDownOnTouchDevices(D),l.maybeCleanupAfterMissingPointerUp(D),!(xq||
(l.setState({lastPointerDownWith:D.pointerType,cursorButton:"down"}),l.savePointer(D.clientX,D.clientY,"down"),l.handleCanvasPanUsingWheelOrSpaceDrag(D)||D.button!==hc.Oh.MAIN&&D.button!==hc.Oh.TOUCH||(l.updateGestureOnPointerDown(D),D.preventDefault(),document.activeElement instanceof HTMLElement&&document.activeElement.blur(),1<Bl.size)))){var G=l.initialPointerDownState(D);if(!l.handleDraggingScrollBar(D,G)&&(l.clearSelectionIfNotUsingSelection(),l.updateBindingEnabledOnPointerMove(D),!l.handleSelectionOnPointerDown(D,
G)))if("text"!==l.state.elementType){"arrow"===l.state.elementType||"draw"===l.state.elementType||"line"===l.state.elementType?l.handleLinearElementOnPointerDown(D,l.state.elementType,G):l.createGenericElementOnPointerDown(l.state.elementType,G);D=l.onPointerMoveFromPointerDownHandler(G);var T=l.onPointerUpFromPointerDownHandler(G),fa=l.onKeyDownFromPointerDownHandler(G),na=l.onKeyUpFromPointerDownHandler(G);ho=T;l.state.viewModeEnabled||(window.addEventListener(hc.Ks.POINTER_MOVE,D),window.addEventListener(hc.Ks.POINTER_UP,
T),window.addEventListener(hc.Ks.KEYDOWN,fa),window.addEventListener(hc.Ks.KEYUP,na),G.eventListeners.onMove=D,G.eventListeners.onUp=T,G.eventListeners.onKeyUp=na,G.eventListeners.onKeyDown=fa)}else l.handleTextOnPointerDown(D,G)}};this.maybeOpenContextMenuAfterPointerDownOnTouchDevices=function(D){"touch"===D.pointerType&&(lq=!1,go?lq=!0:go=window.setTimeout(function(){go=0;lq||l.openContextMenu({clientX:D.clientX,clientY:D.clientY})},hc.nM))};this.handleCanvasPanUsingWheelOrSpaceDrag=function(D){if(0!==
Bl.size||!(D.button===hc.Oh.WHEEL||D.button===hc.Oh.MAIN&&ep||l.state.viewModeEnabled))return!1;xq=!0;var G=!1,T=/Linux/.test(window.navigator.platform);Ji(l.canvas,hc.oc.GRABBING);var fa=D.clientX,na=D.clientY,Aa=bg(function(Ga){var Ua=fa-Ga.clientX,Pa=na-Ga.clientY;if(fa=Ga.clientX,na=Ga.clientY,T&&!G&&(1<Math.abs(Ua)||1<Math.abs(Pa))){G=!0;var mb=function(vb){document.body.removeEventListener(hc.Ks.PASTE,mb);vb.stopPropagation()},sb=function(){setTimeout(function(){document.body.removeEventListener(hc.Ks.PASTE,
mb);window.removeEventListener(hc.Ks.POINTER_UP,sb)},100)};document.body.addEventListener(hc.Ks.PASTE,mb);window.addEventListener(hc.Ks.POINTER_UP,sb)}l.setState({scrollX:l.state.scrollX-Ua/l.state.zoom.value,scrollY:l.state.scrollY-Pa/l.state.zoom.value})}),za=bg(ho=function(){ho=null;xq=!1;ep||ui(l.canvas,l.state.elementType);l.setState({cursorButton:"up"});l.savePointer(D.clientX,D.clientY,"up");window.removeEventListener(hc.Ks.POINTER_MOVE,Aa);window.removeEventListener(hc.Ks.POINTER_UP,za);window.removeEventListener(hc.Ks.BLUR,
za)});return window.addEventListener(hc.Ks.BLUR,za),window.addEventListener(hc.Ks.POINTER_MOVE,Aa,{passive:!0}),window.addEventListener(hc.Ks.POINTER_UP,za),!0};this.clearSelectionIfNotUsingSelection=function(){"selection"!==l.state.elementType&&l.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})};this.handleSelectionOnPointerDown=function(D,G){if("selection"===l.state.elementType){var T=l.scene.getElements(),fa=wf(T,l.state);1!==fa.length||l.state.editingLinearElement?1<fa.length&&
(G.resize.handleType=rf(Dg(fa),G.origin.x,G.origin.y,l.state.zoom,D.pointerType)):(T=Oi(T,l.state,G.origin.x,G.origin.y,l.state.zoom,D.pointerType),null!=T&&(l.setState({resizingElement:T.element}),G.resize.handleType=T.transformHandleType));if(G.resize.handleType)Ji(l.canvas,Le({transformHandleType:G.resize.handleType})),G.resize.isResizing=!0,G.resize.offset=Fg(function(sb,vb,ec,Zb){var Ac,gd=1===vb.length?jg(vb[0]):Dg(vb),kd=gd[0],xd=gd[1],ne=gd[2];gd=gd[3];vb=1===vb.length?vb[0].angle:0;switch(ec=
(Ac=Hf(ec,Zb,(kd+ne)/2,(xd+gd)/2,-vb))[0],Zb=Ac[1],sb){case "n":return Hf(ec-(kd+ne)/2,Zb-xd,0,0,vb);case "s":return Hf(ec-(kd+ne)/2,Zb-gd,0,0,vb);case "w":return Hf(ec-kd,Zb-(xd+gd)/2,0,0,vb);case "e":return Hf(ec-ne,Zb-(xd+gd)/2,0,0,vb);case "nw":return Hf(ec-kd,Zb-xd,0,0,vb);case "ne":return Hf(ec-ne,Zb-xd,0,0,vb);case "sw":return Hf(ec-kd,Zb-gd,0,0,vb);case "se":return Hf(ec-ne,Zb-gd,0,0,vb);default:return[0,0]}}(G.resize.handleType,fa,G.origin.x,G.origin.y)),1===fa.length&&Hg(fa[0])&&2===fa[0].points.length&&
(G.resize.arrowDirection=(za=G.resize.handleType,Ga=fa[0],Ua=Ga.points[1],Pa=Ua[0],mb=Ua[1],"nw"===za&&(0>Pa||0>mb)||"ne"===za&&0<=Pa||"sw"===za&&0>=Pa||"se"===za&&(0<Pa||0<mb)?"end":"origin"));else{var na;if(l.state.editingLinearElement&&(fa=dg.handlePointerDown(D,l.state,function(sb){return l.setState(sb)},nk,G.origin),fa.hitElement&&(G.hit.element=fa.hitElement),fa.didAddPoint))return!0;G.hit.element=null!==(na=G.hit.element)&&void 0!==na?na:l.getElementAtPosition(G.origin.x,G.origin.y);G.hit.allHitElements=
l.getElementsAtPosition(G.origin.x,G.origin.y);var Aa=G.hit.element;na=G.hit.allHitElements.some(function(sb){return l.isASelectedElement(sb)});if(null!==Aa&&na||D.shiftKey||G.hit.hasHitCommonBoundingBoxOfSelectedElements||l.clearSelection(Aa),null!=Aa){if(D[ef])return l.setState(function(sb){var vb;sb=fb(fb({},sb),{},{editingGroupId:Aa.groupIds.length?Aa.groupIds[0]:null,selectedGroupIds:{},selectedElementIds:(vb={},vb[Aa.id]=!0,vb)});return $a($a({},sb),{},{previousSelectedElementIds:l.state.selectedElementIds})}),
!1;l.state.selectedElementIds[Aa.id]||(l.state.editingGroupId&&!Aa.groupIds.includes(l.state.editingGroupId)&&l.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}),na||G.hit.hasHitCommonBoundingBoxOfSelectedElements||(l.setState(function(sb){var vb;return Wh($a($a({},sb),{},{selectedElementIds:$a($a({},sb.selectedElementIds),{},(vb={},vb[Aa.id]=!0,vb))}),l.scene.getElements())}),G.hit.wasAddedToSelection=!0))}l.setState({previousSelectedElementIds:l.state.selectedElementIds})}}var za,
Ga,Ua,Pa,mb;return!1};this.handleTextOnPointerDown=function(D,G){var T;"text"!==(null===(T=l.state.editingElement)||void 0===T?void 0:T.type)&&(l.startTextEditing({sceneX:G.origin.x,sceneY:G.origin.y,insertAtParentCenter:!D.altKey}),Ii(l.canvas),l.state.elementLocked||l.setState({elementType:"selection"}))};this.handleLinearElementOnPointerDown=function(D,G,T){if(l.state.multiElement){var fa=l.state.multiElement;if("line"===fa.type&&ei(fa.points,l.state.zoom.value))return nf(fa,{lastCommittedPoint:fa.points[fa.points.length-
1]}),void l.actionManager.executeAction(Mf);G=fa.x;D=fa.y;var na=fa.lastCommittedPoint;if(1<fa.points.length&&na&&Math.hypot(na[0]-(T.origin.x-G),na[1]-(T.origin.y-D))<hc.qx)return void l.actionManager.executeAction(Mf);l.setState(function(Ga){var Ua;return{selectedElementIds:$a($a({},Ga.selectedElementIds),{},(Ua={},Ua[fa.id]=!0,Ua))}});nf(fa,{lastCommittedPoint:fa.points[fa.points.length-1]});Ji(l.canvas,hc.oc.POINTER)}else{D=ri(T.origin.x,T.origin.y,"draw"===G?null:l.state.gridSize);var Aa=l.state;
na=Aa.currentItemStartArrowhead;Aa=Aa.currentItemEndArrowhead;na="arrow"===G?[na,Aa]:[null,null];var za=We({type:G,x:D[0],y:D[1],strokeColor:l.state.currentItemStrokeColor,backgroundColor:l.state.currentItemBackgroundColor,fillStyle:l.state.currentItemFillStyle,strokeWidth:l.state.currentItemStrokeWidth,strokeStyle:l.state.currentItemStrokeStyle,roughness:l.state.currentItemRoughness,opacity:l.state.currentItemOpacity,strokeSharpness:l.state.currentItemLinearStrokeSharpness,startArrowhead:na[0],endArrowhead:na[1]});
l.setState(function(Ga){var Ua;return{selectedElementIds:$a($a({},Ga.selectedElementIds),{},(Ua={},Ua[za.id]=!1,Ua))}});nf(za,{points:jh(jh([],za.points),[[0,0]])});T=bi(T.origin,l.scene);l.scene.replaceAllElements(jh(jh([],l.scene.getElementsIncludingDeleted()),[za]));l.setState({draggingElement:za,editingElement:za,startBoundElement:T,suggestedBindings:[]})}};this.createGenericElementOnPointerDown=function(D,G){G=ri(G.origin.x,G.origin.y,l.state.gridSize);D=Ol({type:D,x:G[0],y:G[1],strokeColor:l.state.currentItemStrokeColor,
backgroundColor:l.state.currentItemBackgroundColor,fillStyle:l.state.currentItemFillStyle,strokeWidth:l.state.currentItemStrokeWidth,strokeStyle:l.state.currentItemStrokeStyle,roughness:l.state.currentItemRoughness,opacity:l.state.currentItemOpacity,strokeSharpness:l.state.currentItemStrokeSharpness});"selection"===D.type?l.setState({selectionElement:D,draggingElement:D}):(l.scene.replaceAllElements(jh(jh([],l.scene.getElementsIncludingDeleted()),[D])),l.setState({multiElement:null,draggingElement:D,
editingElement:D}))};this.updateBindingEnabledOnPointerMove=function(D){D=!D[ef];l.state.isBindingEnabled!==D&&l.setState({isBindingEnabled:D})};this.maybeSuggestBindingAtCursor=function(D){D=bi(D,l.scene);l.setState({suggestedBindings:null!=D?[D]:[]})};this.maybeSuggestBindingForLinearElementAtCursor=function(D,G,T,fa){G=bi(T,l.scene);l.setState({suggestedBindings:null==G||(null==fa?void 0:fa.id)===G.id&&3>D.points.length?[]:[G]})};this.handleCanvasRef=function(D){var G,T,fa;null!==D?(l.canvas=D,
l.rc=Qh.canvas(l.canvas),l.canvas.addEventListener(hc.Ks.WHEEL,l.handleWheel,{passive:!1}),l.canvas.addEventListener(hc.Ks.TOUCH_START,l.onTapStart),l.canvas.addEventListener(hc.Ks.TOUCH_END,l.onTapEnd)):(null===(G=l.canvas)||void 0===G||G.removeEventListener(hc.Ks.WHEEL,l.handleWheel),null===(T=l.canvas)||void 0===T||T.removeEventListener(hc.Ks.TOUCH_START,l.onTapStart),null===(fa=l.canvas)||void 0===fa||fa.removeEventListener(hc.Ks.TOUCH_END,l.onTapEnd))};this.handleCanvasOnDrop=function(){var D=
Rc()(function(G){var T,fa,na,Aa,za,Ga,Ua,Pa,mb,sb,vb;return dp(this,function(ec){switch(ec.label){case 0:return ec.trys.push([0,3,,4]),"image/png"!==(null==(fa=G.dataTransfer.files[0])?void 0:fa.type)&&"image/svg+xml"!==(null==fa?void 0:fa.type)?[3,2]:[4,Om(fa,l.state)];case 1:return na=ec.sent(),Aa=na.elements,za=na.appState,l.syncActionResult({elements:Aa,appState:$a($a({},za||l.state),{},{isLoading:!1}),commitToHistory:!0}),[2];case 2:return[3,4];case 3:return Ga=ec.sent(),[2,l.setState({isLoading:!1,
errorMessage:Ga.message})];case 4:if(""!==(Ua=G.dataTransfer.getData(hc.LO.excalidrawlib)))return l.addElementsFromPasteOrLibrary(JSON.parse(Ua),G.clientX,G.clientY),[2];if(!("application/json"===(null==(Pa=null===(T=G.dataTransfer)||void 0===T?void 0:T.files[0])?void 0:Pa.type)||null!=Pa&&Pa.name.endsWith(".excalidraw")))return[3,9];if(l.setState({isLoading:!0}),!("chooseFileSystemEntries"in window||"showOpenFilePicker"in window))return[3,8];ec.label=5;case 5:return ec.trys.push([5,7,,8]),mb=G.dataTransfer.items[0],
sb=Pa,[4,mb.getAsFileSystemHandle()];case 6:return sb.handle=ec.sent(),[3,8];case 7:return vb=ec.sent(),console.warn(vb.name,vb.message),[3,8];case 8:return Om(Pa,l.state).then(function(Zb){return l.syncActionResult({elements:Zb.elements,appState:$a($a({},Zb.appState||l.state),{},{isLoading:!1}),commitToHistory:!0})}).catch(function(Zb){l.setState({isLoading:!1,errorMessage:Zb.message})}),[3,10];case 9:(null==Pa?void 0:Pa.type)===hc.LO.excalidrawlib||null!=Pa&&Pa.name.endsWith(".excalidrawlib")?rh.importLibrary(Pa).then(function(){l.setState({isLibraryOpen:!1})}).catch(function(Zb){return l.setState({isLoading:!1,
errorMessage:Zb.message})}):l.setState({isLoading:!1,errorMessage:La("alerts.couldNotLoadInvalidFile")}),ec.label=10;case 10:return[2]}})});return function(G){return D.apply(this,arguments)}}();this.handleCanvasContextMenu=function(D){D.preventDefault();l.openContextMenu(D)};this.maybeDragNewGenericElement=function(D,G){var T=l.state.draggingElement,fa=D.lastCoords;if(T)if("selection"===T.type)li(T,l.state.elementType,D.origin.x,D.origin.y,fa.x,fa.y,Math.abs(D.origin.x-fa.x),Math.abs(D.origin.y-fa.y),
G.shiftKey,G.altKey);else{var na=ri(fa.x,fa.y,l.state.gridSize);fa=na[0];na=na[1];li(T,l.state.elementType,D.originInGrid.x,D.originInGrid.y,fa,na,Math.abs(D.originInGrid.x-fa),Math.abs(D.originInGrid.y-na),G.shiftKey,G.altKey);l.maybeSuggestBindingForAll([T])}};this.maybeHandleResize=function(D,G){var T=wf(l.scene.getElements(),l.state),fa=D.resize.handleType;l.setState({isResizing:fa&&"rotation"!==fa,isRotating:"rotation"===fa});var na=D.lastCoords;na=ri(na.x-D.resize.offset.x,na.y-D.resize.offset.y,
l.state.gridSize);a:{var Aa=D.resize.arrowDirection,za=G.shiftKey,Ga=G.altKey;G=G.shiftKey;var Ua=na[0],Pa=na[1];na=D.resize.center.x;var mb=D.resize.center.y;if(1===T.length){na=T[0];if("rotation"===fa)fa=jg(na),fa=5*Math.PI/2+Math.atan2(Pa-(fa[1]+fa[3])/2,Ua-(fa[0]+fa[2])/2),za&&(fa+=hc.ay/2,fa-=fa%hc.ay),fa=Rf(fa),nf(na,{angle:fa}),Ai(na);else if(!Hg(na)||2!==na.points.length||"nw"!==fa&&"ne"!==fa&&"sw"!==fa&&"se"!==fa)if(!fe(na)||"nw"!==fa&&"ne"!==fa&&"sw"!==fa&&"se"!==fa){if(fa){Aa=D.originalElements.get(na.id);
var sb=Tg(Aa,Aa.width,Aa.height);za=[sb[0],sb[1]];D=[sb[2],sb[3]];sb=[(za[0]+D[0])/2,(za[1]+D[1])/2];mb=ij([Ua,Pa],sb,-Aa.angle);Ua=Tg(na,na.width,na.height);var vb=Ua[2]-Ua[0],ec=Ua[3]-Ua[1];Ua=(D[0]-za[0])/vb;Pa=(D[1]-za[1])/ec;fa.includes("e")&&(Ua=(mb[0]-za[0])/vb);fa.includes("s")&&(Pa=(mb[1]-za[1])/ec);fa.includes("w")&&(Ua=(D[0]-mb[0])/vb);fa.includes("n")&&(Pa=(D[1]-mb[1])/ec);mb=Aa.width;vb=Aa.height;Ua*=na.width;Pa*=na.height;if(Ga&&(Ua=2*Ua-mb,Pa=2*Pa-vb),G){ec=Math.abs(Ua)/mb;var Zb=Math.abs(Pa)/
vb;if(1===fa.length&&(Pa*=ec,Ua*=Zb),2===fa.length)ec=Math.max(ec,Zb),Ua=mb*ec*Math.sign(Ua),Pa=vb*ec*Math.sign(Pa)}Zb=Tg(Aa,Ua,Pa);mb=Zb[0];vb=Zb[1];ec=Zb[2]-mb;Zb=Zb[3]-vb;var Ac=ej([],za);if(["n","w","nw"].includes(fa)&&(Ac=[D[0]-Math.abs(ec),D[1]-Math.abs(Zb)]),"ne"===fa)Ac=[za[0],D[1]],Ac=[Ac[0],Ac[1]-Math.abs(Zb)];"sw"===fa&&(za=[D[0],za[1]],Ac=[za[0]-Math.abs(ec),za[1]]);G&&(["s","n"].includes(fa)&&(Ac[0]=sb[0]-ec/2),["e","w"].includes(fa)&&(Ac[1]=sb[1]-Zb/2));0>Ua&&(fa.includes("e")&&(Ac[0]-=
Math.abs(ec)),fa.includes("w")&&(Ac[0]+=Math.abs(ec)));0>Pa&&(fa.includes("s")&&(Ac[1]-=Math.abs(Zb)),fa.includes("n")&&(Ac[1]+=Math.abs(Zb)));Ga&&(Ac[0]=sb[0]-Math.abs(ec)/2,Ac[1]=sb[1]-Math.abs(Zb)/2);fa=Aa.angle;Ga=ij(Ac,sb,fa);G=ij([Ac[0]+Math.abs(ec)/2,Ac[1]+Math.abs(Zb)/2],sb,fa);Ac=ij(Ga,G,-fa);fa=of(Aa,Ua,Pa);Ga=ej([],Ac);Ga[0]+=Aa.x-mb;Ga[1]+=Aa.y-vb;fa=Gc({width:Math.abs(Ua),height:Math.abs(Pa),x:Ga[0],y:Ga[1]},fa);0!==fa.width&&0!==fa.height&&Number.isFinite(fa.x)&&Number.isFinite(fa.y)&&
(Ai(na,{newSize:{width:fa.width,height:fa.height}}),nf(na,fa))}}else{Aa=jg(na);D=Aa[0];za=Aa[1];G=Aa[2];Aa=Aa[3];Pa=Hf(Ua,Pa,(D+G)/2,(za+Aa)/2,-na.angle);Ua=Pa[0];Pa=Pa[1];switch(fa){case "se":sb=Math.max((Ua-D)/(G-D),(Pa-za)/(Aa-za));break;case "nw":sb=Math.max((G-Ua)/(G-D),(Aa-Pa)/(Aa-za));break;case "ne":sb=Math.max((Ua-D)/(G-D),(Aa-Pa)/(Aa-za));break;case "sw":sb=Math.max((G-Ua)/(G-D),(Pa-za)/(Aa-za))}0<sb&&(Ua=na.width*sb,sb*=na.height,Pa=Pg(na,Ua,sb),null!==Pa&&(mb=Tg(na,Ua,sb),D=(D-mb[0])/
2,za=(za-mb[1])/2,G=(G-mb[2])/2,Aa=(Aa-mb[3])/2,fa={n:/^(n|ne|nw)$/.test(fa)||Ga&&/^(s|se|sw)$/.test(fa),s:/^(s|se|sw)$/.test(fa)||Ga&&/^(n|ne|nw)$/.test(fa),w:/^(w|nw|sw)$/.test(fa)||Ga&&/^(e|ne|se)$/.test(fa),e:/^(e|ne|se)$/.test(fa)||Ga&&/^(w|nw|sw)$/.test(fa)},fa=Zf(fa,na.x,na.y,na.angle,D,za,G,Aa),nf(na,{fontSize:Pa.size,width:Ua,height:sb,baseline:Pa.baseline,x:fa[0],y:fa[1]})));Ai(na)}else fa=jg(na),Ga=Hf(Ua,Pa,(fa[0]+fa[2])/2,(fa[1]+fa[3])/2,-na.angle),fa=Ga[0],Ga=Ga[1],Ga="end"===Aa?[fa-
na.x,Ga-na.y]:[na.x+na.points[1][0]-fa,na.y+na.points[1][1]-Ga],fa=Ga[0],Ga=Ga[1],za&&(G=na.angle,fa=Ye.apply(void 0,ej([na.type],Hf(fa,Ga,0,0,G))),Ga=Hf(fa.width,fa.height,0,0,-G),fa=Ga[0],Ga=Ga[1]),G=Zf("end"===Aa?{s:!0,e:!0}:{n:!0,w:!0},na.x,na.y,na.angle,0,0,(na.points[1][0]-fa)/2,(na.points[1][1]-Ga)/2),nf(na,{x:G[0],y:G[1],points:[[0,0],[fa,Ga]]});na=!0}else{if(1<T.length){if("rotation"===fa){na=(rl(D,T,Ua,Pa,za,na,mb),!0);break a}if("nw"===fa||"ne"===fa||"sw"===fa||"se"===fa){na=(Jl(T,fa,Ua,
Pa),!0);break a}}na=!1}}return!!na&&(l.maybeSuggestBindingForAll(T),!0)};this.openContextMenu=function(D){var G,T=D.clientX;D=D.clientY;var fa=vg({clientX:T,clientY:D},l.state),na=fa.x,Aa=fa.y,za=cg.contextItemPredicate(l.actionManager.getElementsIncludingDeleted(),l.actionManager.getAppState()),Ga=yi.contextItemPredicate(l.actionManager.getElementsIncludingDeleted(),l.actionManager.getAppState());fa=xg().matches;var Ua=l.scene.getElements();na=l.getElementAtPosition(na,Aa);Aa=[];(Dk&&0<Ua.length&&
Aa.push(tp),Wj&&0<Ua.length&&Aa.push(up),na)?(l.state.selectedElementIds[na.id]||l.setState({selectedElementIds:(G={},G[na.id]=!0,G)}),l.state.viewModeEnabled?En({options:jh([navigator.clipboard&&pn],Aa),top:D,left:T,actionManager:l.actionManager,appState:l.state}):En({options:jh(jh([fa&&iq,fa&&navigator.clipboard&&pn,fa&&navigator.clipboard&&{name:"paste",perform:function(Pa,mb){return l.pasteFromClipboard(null),{commitToHistory:!1}},contextItemLabel:"labels.paste"},fa&&"separator"],Aa),["separator",
sf,mf,"separator",za&&cg,Ga&&yi,(za||Ga)&&"separator",Oo,"separator",Am,ul,A,Q,"separator",ta,Vg]),top:D,left:T,actionManager:l.actionManager,appState:l.state})):(G=jh(jh([],Aa),[void 0===l.props.gridModeEnabled&&rp,void 0===l.props.zenModeEnabled&&se,void 0===l.props.viewModeEnabled&&Us,$n]),(En({options:G,top:D,left:T,actionManager:l.actionManager,appState:l.state}),l.state.viewModeEnabled)||En({options:[fa&&navigator.clipboard&&{name:"paste",perform:function(Pa,mb){return l.pasteFromClipboard(null),
{commitToHistory:!1}},contextItemLabel:"labels.paste"},fa&&navigator.clipboard&&"separator",Dk&&0<Ua.length&&tp,Wj&&0<Ua.length&&up,(Dk&&0<Ua.length||Wj&&0<Ua.length)&&"separator",la,"separator",void 0===l.props.gridModeEnabled&&rp,void 0===l.props.zenModeEnabled&&se,void 0===l.props.viewModeEnabled&&Us,$n],top:D,left:T,actionManager:l.actionManager,appState:l.state}))};this.handleWheel=bg(function(D){if(D.preventDefault(),!xq){var G=D.deltaX,T=D.deltaY,fa=l.state,na=fa.selectedElementIds,Aa=fa.previousSelectedElementIds;
if(D.metaKey||D.ctrlKey){D=Math.sign(T);fa=Math.abs(T);10<fa&&(fa=10);fa*=D;0!==Object.keys(Aa).length&&setTimeout(function(){l.setState({selectedElementIds:Aa,previousSelectedElementIds:{}})},1E3);var za=l.state.zoom.value-fa/100;return za+=Math.log10(Math.max(1,l.state.zoom.value))*-D,za=Math.round(za*hc.V4*100)/(100*hc.V4),l.setState(function(Ga){var Ua=Ga.zoom,Pa=Ga.offsetLeft;Ga=Ga.offsetTop;return{zoom:ci(Sj(za),Ua,{left:Pa,top:Ga},{x:Jp,y:Kp}),selectedElementIds:{},previousSelectedElementIds:0!==
Object.keys(na).length?na:Aa,shouldCacheIgnoreZoom:!0}}),void l.resetShouldCacheIgnoreZoomDebounced()}D.shiftKey?l.setState(function(Ga){return{scrollX:Ga.scrollX-(T||G)/Ga.zoom.value}}):l.setState(function(Ga){var Ua=Ga.zoom;return{scrollX:Ga.scrollX-G/Ua.value,scrollY:Ga.scrollY-T/Ua.value}})}});this.savePointer=function(D,G,T){var fa,na;D&&G&&(D=vg({clientX:D,clientY:G},l.state),isNaN(D.x)||isNaN(D.y),null===(fa=(na=l.props).onPointerUpdate)||void 0===fa||fa.call(na,{pointer:D,button:T,pointersMap:Bl}))};
this.resetShouldCacheIgnoreZoomDebounced=ti(function(){l.unmounted||l.setState({shouldCacheIgnoreZoom:!1})},300)};"production"!==hc.Vi.TEST&&"production"!==hc.Vi.DEVELOPMENT||(window.h=window.h||{},Object.defineProperties(window.h,{elements:{configurable:!0,get:function(){return this.app.scene.getElementsIncludingDeleted()},set:function(l){return this.app.scene.replaceAllElements(l)}},history:{configurable:!0,get:function(){return nk}},library:{configurable:!0,value:rh}}));g(8234);g(4651);var Qs=
function(l){var D=l.width,G=l.height,T=l.offsetLeft,fa=l.offsetTop,na=l.onChange,Aa=l.initialData,za=l.excalidrawRef,Ga=l.onCollabButtonClick,Ua=l.isCollaborating,Pa=l.onPointerUpdate,mb=l.onExportToBackend,sb=l.renderFooter,vb=l.langCode;vb=void 0===vb?va.code:vb;var ec=l.viewModeEnabled,Zb=l.zenModeEnabled;l=l.gridModeEnabled;return(0,kc.useEffect)(function(){var Ac=function(gd){"number"==typeof gd.scale&&1!==gd.scale&&gd.preventDefault()};return document.addEventListener("touchmove",Ac,{passive:!1}),
function(){document.removeEventListener("touchmove",Ac)}},[]),Ha().createElement(Ad,{langCode:vb},Ha().createElement(ng,null,Ha().createElement(Wr,{width:D,height:G,offsetLeft:T,offsetTop:fa,onChange:na,initialData:Aa,excalidrawRef:za,onCollabButtonClick:Ga,isCollaborating:Ua,onPointerUpdate:Pa,onExportToBackend:mb,renderFooter:sb,langCode:vb,viewModeEnabled:ec,zenModeEnabled:Zb,gridModeEnabled:l})))};Qs.defaultProps={lanCode:va.code};var Wt=(0,kc.forwardRef)(function(l,D){return Ha().createElement(Qs,
lb()({},l,{excalidrawRef:D}))});const Xt=Ha().memo(Wt,function(l,D){l.initialData;var G=tc()(l,["initialData"]),T=(D.initialData,tc()(D,["initialData"]));l=Object.keys(l);D=Object.keys(D);return l.length===D.length&&l.every(function(fa){return G[fa]===T[fa]})});g(6009);const du=Xt},4698:w=>{w.exports=x},6207:w=>{w.exports=m}},a={};return h.m=q,h.n=w=>{var n=w&&w.__esModule?()=>w.default:()=>w;return h.d(n,{a:n}),n},e=Object.getPrototypeOf?w=>Object.getPrototypeOf(w):w=>w.__proto__,h.t=function(w,
n){if((1&n&&(w=this(w)),8&n)||"object"==typeof w&&w&&(4&n&&w.__esModule||16&n&&"function"==typeof w.then))return w;var g=Object.create(null);h.r(g);var v={};d=d||[null,e({}),e([]),e(e)];for(n=2&n&&w;"object"==typeof n&&!~d.indexOf(n);n=e(n))Object.getOwnPropertyNames(n).forEach(C=>v[C]=()=>w[C]);return v.default=()=>w,h.d(g,v),g},h.d=(w,n)=>{for(var g in n)h.o(n,g)&&!h.o(w,g)&&Object.defineProperty(w,g,{enumerable:!0,get:n[g]})},h.f={},h.e=w=>Promise.all(Object.keys(h.f).reduce((n,g)=>(h.f[g](w,n),
n),[])),h.u=w=>"excalidraw-assets/"+{9:"image",43:"i18n-de-DE-json",60:"i18n-ko-KR-json",62:"i18n-zh-TW-json",137:"i18n-ja-JP-json",149:"i18n-pt-PT-json",164:"i18n-kab-KAB-json",196:"i18n-nl-NL-json",213:"i18n-tr-TR-json",242:"i18n-my-MM-json",246:"i18n-nb-NO-json",262:"i18n-he-IL-json",280:"i18n-pa-IN-json",304:"i18n-zh-CN-json",317:"i18n-es-ES-json",351:"i18n-ca-ES-json",364:"i18n-fr-FR-json",381:"i18n-pt-BR-json",384:"i18n-bg-BG-json",401:"i18n-sk-SK-json",465:"i18n-it-IT-json",472:"i18n-fi-FI-json",
491:"i18n-id-ID-json",526:"i18n-el-GR-json",558:"i18n-ar-SA-json",565:"i18n-oc-FR-json",583:"i18n-uk-UA-json",661:"i18n-hu-HU-json",698:"i18n-sv-SE-json",710:"i18n-fa-IR-json",736:"vendor",752:"i18n-ro-RO-json",852:"i18n-pl-PL-json",869:"i18n-ru-RU-json",920:"i18n-nn-NO-json",933:"i18n-hi-IN-json"}[w]+"-"+{9:"4c2d5c85067885b645af",43:"4823c48393124a3bc5fc",60:"75e2d73e015b1ef6a00d",62:"a0c2b649e55b974d40c5",137:"f474ca90ec8965ba76bc",149:"c9da04f1ebc22a355f86",164:"2fe8f05383d9a2909403",196:"2f881bef64ae25c364ac",
213:"c242fdecb3c6041308d2",242:"ce2b98acffdb55807b6f",246:"c2cc1faff5c7d28c9137",262:"31401716f9d4fa7a8bbe",280:"e7099ca1ca91c8c95b90",304:"79915d2ad7106b7382fd",317:"7cd687c81182a9b5ed38",351:"6ac46acbf7738365c825",364:"61ce1bd7bc0a3d36b14d",381:"364638bb52b1d6ba5d98",384:"a01c652fed411bb7e219",401:"0e83170f656b45bc1b89",465:"29c2adfbbe19b39bc050",472:"0890c5432a9aab3f4334",491:"43dd7122a92d9af1cc73",526:"71e0e6e546481de5271a",558:"3be99fb5f680b3d25ba6",565:"deee05849e45de2af8e7",583:"0605fca3af66a20c3875",
661:"b10cefa097a941371ce6",698:"2e1cd9ef4c7da46616c6",710:"cb2081671627c079b0fe",736:"3525c448906ddcdcb701",752:"22baa4391c498a5fffc5",852:"488381cf4df470095153",869:"f6493c191c20d85e2b08",920:"ee5d2b7fda6783d75f36",933:"f3ae9dac7b038b673e45"}[w]+".js",h.o=(w,n)=>Object.prototype.hasOwnProperty.call(w,n),k={},h.l=(w,n,g,v)=>{if(k[w])k[w].push(n);else{var C;if(void 0!==g){v=document.getElementsByTagName("script");for(var F=0;F<v.length;F++){var I=v[F];if(I.getAttribute("src")==w||I.getAttribute("data-webpack")==
"Excalidraw:"+g){var R=I;break}}}R||(C=!0,(R=document.createElement("script")).charset="utf-8",R.timeout=120,h.nc&&R.setAttribute("nonce",h.nc),R.setAttribute("data-webpack","Excalidraw:"+g),R.src=w);k[w]=[n];n=(u,y)=>{R.onerror=R.onload=null;clearTimeout(B);var r=k[w];if(delete k[w],R.parentNode&&R.parentNode.removeChild(R),r&&r.forEach(U=>U(y)),u)return u(y)};var B=setTimeout(n.bind(null,void 0,{type:"timeout",target:R}),12E4);R.onerror=n.bind(null,R.onerror);R.onload=n.bind(null,R.onload);C&&document.head.appendChild(R)}},
h.r=w=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(w,Symbol.toStringTag,{value:"Module"});Object.defineProperty(w,"__esModule",{value:!0})},h.p="",(()=>{var w={163:0};h.f.j=(v,C)=>{var F=h.o(w,v)?w[v]:void 0;if(0!==F)if(F)C.push(F[2]);else{var I=new Promise((B,u)=>{F=w[v]=[B,u]});C.push(F[2]=I);C=h.p+h.u(v);var R=Error();h.l(C,B=>{if(h.o(w,v)&&(0!==(F=w[v])&&(w[v]=void 0),F)){var u=B&&("load"===B.type?"missing":B.type);B=B&&B.target&&B.target.src;R.message="Loading chunk "+
v+" failed.\n("+u+": "+B+")";R.name="ChunkLoadError";R.type=u;R.request=B;F[1](R)}},"chunk-"+v,v)}};var n=(v,C)=>{for(var F,I,[R,B,u]=C,y=0,r=[];y<R.length;y++)I=R[y],h.o(w,I)&&w[I]&&r.push(w[I][0]),w[I]=0;for(F in B)h.o(B,F)&&(h.m[F]=B[F]);u&&u(h);for(v&&v(C);r.length;)r.shift()()},g=self.webpackChunkExcalidraw=self.webpackChunkExcalidraw||[];g.forEach(n.bind(null,0));g.push=n.bind(null,g.push.bind(g))})(),h(3956)})()})};
'use strict';
var $frontend$handler$draw$load_excalidraw_file$$ = function($file$jscomp$51$$, $ok_handler$jscomp$27$$) {
  var $temp__5720__auto__$jscomp$449$$ = $APP.$frontend$state$get_current_repo$$();
  $APP.$cljs$core$truth_$$($temp__5720__auto__$jscomp$449$$) && $APP.$frontend$util$p_handle$cljs$0core$0IFn$0_invoke$0arity$03$$($APP.$frontend$handler$file$load_file$$($temp__5720__auto__$jscomp$449$$, $file$jscomp$51$$), function($content$jscomp$140$$) {
    return $ok_handler$jscomp$27$$.$cljs$core$IFn$_invoke$arity$1$ ? $ok_handler$jscomp$27$$.$cljs$core$IFn$_invoke$arity$1$($content$jscomp$140$$) : $ok_handler$jscomp$27$$.call(null, $content$jscomp$140$$);
  }, function($error$jscomp$60$$) {
    return $APP.$cljs$core$println$$.$cljs$core$IFn$_invoke$arity$variadic$($APP.$cljs$core$prim_seq$cljs$0core$0IFn$0_invoke$0arity$02$$(["Error loading ", $file$jscomp$51$$, ": ", $error$jscomp$60$$]));
  });
}, $frontend$extensions$excalidraw$update_draw_content_width$$ = function($state$jscomp$276$$) {
  var $el$jscomp$61_el__$1$jscomp$1_width$jscomp$57$$ = $APP.$rum$core$dom_node$$($state$jscomp$276$$);
  $el$jscomp$61_el__$1$jscomp$1_width$jscomp$57$$ = $APP.$cljs$core$truth_$$($el$jscomp$61_el__$1$jscomp$1_width$jscomp$57$$) ? $el$jscomp$61_el__$1$jscomp$1_width$jscomp$57$$.querySelector(".draw-wrap") : $el$jscomp$61_el__$1$jscomp$1_width$jscomp$57$$;
  $el$jscomp$61_el__$1$jscomp$1_width$jscomp$57$$ = $APP.$cljs$core$truth_$$($el$jscomp$61_el__$1$jscomp$1_width$jscomp$57$$) ? $el$jscomp$61_el__$1$jscomp$1_width$jscomp$57$$.clientWidth : $el$jscomp$61_el__$1$jscomp$1_width$jscomp$57$$;
  $APP.$cljs$core$reset_BANG_$$($cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_draw_DASH_width$$.$cljs$core$IFn$_invoke$arity$1$($state$jscomp$276$$), $el$jscomp$61_el__$1$jscomp$1_width$jscomp$57$$);
  return $state$jscomp$276$$;
}, $cljs$cst$keyword$view_DASH_mode_DASH_enabled$$ = new $APP.$cljs$core$Keyword$$(null, "view-mode-enabled", "view-mode-enabled", -588220561), $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_view_DASH_mode_QMARK_$$ = new $APP.$cljs$core$Keyword$$("frontend.extensions.excalidraw", "view-mode?", "frontend.extensions.excalidraw/view-mode?", 525380621), $cljs$cst$keyword$viewBackgroundColor$$ = new $APP.$cljs$core$Keyword$$(null, "viewBackgroundColor", "viewBackgroundColor", 1889137994), 
$cljs$cst$keyword$grid_DASH_mode_DASH_enabled$$ = new $APP.$cljs$core$Keyword$$(null, "grid-mode-enabled", "grid-mode-enabled", 584978327), $cljs$cst$keyword$gridSize$$ = new $APP.$cljs$core$Keyword$$(null, "gridSize", "gridSize", 843108791), $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_elements$$ = new $APP.$cljs$core$Keyword$$("frontend.extensions.excalidraw", "elements", "frontend.extensions.excalidraw/elements", 1745667967), $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_loading_QMARK_$$ = 
new $APP.$cljs$core$Keyword$$("frontend.extensions.excalidraw", "loading?", "frontend.extensions.excalidraw/loading?", -1335058663), $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_data$$ = new $APP.$cljs$core$Keyword$$("frontend.extensions.excalidraw", "data", "frontend.extensions.excalidraw/data", -1371036113), $cljs$cst$keyword$zen_DASH_mode_DASH_enabled$$ = new $APP.$cljs$core$Keyword$$(null, "zen-mode-enabled", "zen-mode-enabled", -955634269), $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_zen_DASH_mode_QMARK_$$ = 
new $APP.$cljs$core$Keyword$$("frontend.extensions.excalidraw", "zen-mode?", "frontend.extensions.excalidraw/zen-mode?", 1559773511), $cljs$cst$keyword$appState$$ = new $APP.$cljs$core$Keyword$$(null, "appState", "appState", -1920687968), $cljs$cst$keyword$initial_DASH_data$$ = new $APP.$cljs$core$Keyword$$(null, "initial-data", "initial-data", -1315709804), $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_draw_DASH_width$$ = new $APP.$cljs$core$Keyword$$("frontend.extensions.excalidraw", 
"draw-width", "frontend.extensions.excalidraw/draw-width", -681100043);
$APP.$JSCompiler_StaticMethods_beforeLoadModuleCode$$("excalidraw");
var $module$node_modules$$excalidraw$excalidraw$dist$excalidraw_min$$ = $APP.$shadow$js$require$$(654);
var $frontend$extensions$excalidraw$excalidraw$$, $frontend$extensions$excalidraw$_STAR_bounding_width$$, $frontend$extensions$excalidraw$draw_inner$$, $frontend$extensions$excalidraw$draw_container$$;
$APP.$frontend$extensions$excalidraw$$ = {};
$frontend$extensions$excalidraw$excalidraw$$ = $APP.$frontend$rum$adapt_class$cljs$0core$0IFn$0_invoke$0arity$02$$($APP.$goog$object$get$$($module$node_modules$$excalidraw$excalidraw$dist$excalidraw_min$$, "default"));
$frontend$extensions$excalidraw$_STAR_bounding_width$$ = $APP.$cljs$core$atom$$.$cljs$core$IFn$_invoke$arity$1$(null);
$frontend$extensions$excalidraw$draw_inner$$ = $APP.$rum$core$lazy_build$$($APP.$rum$core$build_defcs$$, function($state$jscomp$277$$, $data$jscomp$204$$, $option$jscomp$25$$) {
  $APP.$frontend$state$sub$$($APP.$cljs$cst$keyword$git_SLASH_current_DASH_repo$$);
  $APP.$rum$core$react$$($frontend$extensions$excalidraw$_STAR_bounding_width$$);
  var $_STAR_draw_width$$ = $APP.$cljs$core$get$$.$cljs$core$IFn$_invoke$arity$2$($state$jscomp$277$$, $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_draw_DASH_width$$), $_STAR_zen_mode_QMARK_$$ = $APP.$cljs$core$get$$.$cljs$core$IFn$_invoke$arity$2$($state$jscomp$277$$, $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_zen_DASH_mode_QMARK_$$), $_STAR_view_mode_QMARK_$$ = $APP.$cljs$core$get$$.$cljs$core$IFn$_invoke$arity$2$($state$jscomp$277$$, $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_view_DASH_mode_QMARK_$$), 
  $wide_mode_QMARK_$$ = $APP.$frontend$state$sub$$($APP.$cljs$cst$keyword$ui_SLASH_wide_DASH_mode_QMARK_$$), $_STAR_elements$$ = $APP.$cljs$core$get$$.$cljs$core$IFn$_invoke$arity$2$($state$jscomp$277$$, $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_elements$$), $file$jscomp$98$$ = $APP.$cljs$cst$keyword$file$$.$cljs$core$IFn$_invoke$arity$1$($option$jscomp$25$$);
  return $APP.$cljs$core$truth_$$($data$jscomp$204$$) ? $APP.$daiquiri$core$create_element$$("div", {onMouseDown:function($e$jscomp$681$$) {
    return $APP.$frontend$util$stop$$($e$jscomp$681$$);
  }, className:"overflow-hidden"}, [$APP.$daiquiri$core$create_element$$("div", {style:{fontSize:10}, className:"my-1"}, [$APP.$daiquiri$core$create_element$$("a", {onClick:$APP.$frontend$handler$ui$toggle_wide_mode_BANG_$$, className:"mr-2"}, [$APP.$daiquiri$interpreter$interpret$$($APP.$frontend$util$format$cljs$0core$0IFn$0_invoke$0arity$0variadic$$("Wide Mode (%s)", $APP.$cljs$core$prim_seq$cljs$0core$0IFn$0_invoke$0arity$02$$([$APP.$cljs$core$truth_$$($wide_mode_QMARK_$$) ? "ON" : "OFF"])))]), 
  $APP.$daiquiri$core$create_element$$("a", {onClick:function() {
    return $APP.$cljs$core$swap_BANG_$$.$cljs$core$IFn$_invoke$arity$2$($_STAR_zen_mode_QMARK_$$, $APP.$cljs$core$not$$);
  }, className:"mr-2"}, [$APP.$daiquiri$interpreter$interpret$$($APP.$frontend$util$format$cljs$0core$0IFn$0_invoke$0arity$0variadic$$("Zen Mode (%s)", $APP.$cljs$core$prim_seq$cljs$0core$0IFn$0_invoke$0arity$02$$([$APP.$cljs$core$truth_$$($APP.$cljs$core$_deref$$($_STAR_zen_mode_QMARK_$$)) ? "ON" : "OFF"])))]), $APP.$daiquiri$core$create_element$$("a", {onClick:function() {
    return $APP.$cljs$core$swap_BANG_$$.$cljs$core$IFn$_invoke$arity$2$($_STAR_view_mode_QMARK_$$, $APP.$cljs$core$not$$);
  }, className:"mr-2"}, [$APP.$daiquiri$interpreter$interpret$$($APP.$frontend$util$format$cljs$0core$0IFn$0_invoke$0arity$0variadic$$("View Mode (%s)", $APP.$cljs$core$prim_seq$cljs$0core$0IFn$0_invoke$0arity$02$$([$APP.$cljs$core$truth_$$($APP.$cljs$core$_deref$$($_STAR_view_mode_QMARK_$$)) ? "ON" : "OFF"])))])]), $APP.$daiquiri$core$create_element$$("div", {onMouseDown:function($e$jscomp$682$$) {
    $APP.$frontend$util$stop$$($e$jscomp$682$$);
    return $APP.$frontend$state$set_state_BANG_$$($APP.$cljs$cst$keyword$block_SLASH_component_DASH_editing_DASH_mode_QMARK_$$, !0);
  }, onBlur:function() {
    return $APP.$frontend$state$set_state_BANG_$$($APP.$cljs$cst$keyword$block_SLASH_component_DASH_editing_DASH_mode_QMARK_$$, !1);
  }, className:"draw-wrap"}, [$APP.$daiquiri$interpreter$interpret$$(function() {
    var $G__99472$$ = $APP.$cljs$core$merge$$.$cljs$core$IFn$_invoke$arity$variadic$($APP.$cljs$core$prim_seq$cljs$0core$0IFn$0_invoke$0arity$02$$([new $APP.$cljs$core$PersistentArrayMap$$(null, 6, [$APP.$cljs$cst$keyword$on_DASH_change$$, function($elements$jscomp$16$$, $state__$1$jscomp$10_state__$2$$) {
      var $elements__GT_clj$$ = $APP.$cljs_bean$core$__GT_clj$$($elements$jscomp$16$$);
      return $APP.$cljs$core$seq$$($elements__GT_clj$$) && $APP.$cljs$core$not_EQ_$$.$cljs$core$IFn$_invoke$arity$2$($elements$jscomp$16$$, $APP.$cljs$core$_deref$$($_STAR_elements$$)) ? ($state__$1$jscomp$10_state__$2$$ = $APP.$cljs_bean$core$__GT_clj$$($state__$1$jscomp$10_state__$2$$), $APP.$frontend$handler$draw$save_excalidraw_BANG_$$($file$jscomp$98$$, JSON.stringify($APP.$cljs_bean$core$__GT_js$$(new $APP.$cljs$core$PersistentArrayMap$$(null, 5, [$APP.$cljs$cst$keyword$type$$, "excalidraw", 
      $APP.$cljs$cst$keyword$version$$, 2, $APP.$cljs$cst$keyword$source$$, $APP.$frontend$config$website$$, $APP.$cljs$cst$keyword$elements$$, $elements$jscomp$16$$, $cljs$cst$keyword$appState$$, $APP.$cljs$core$select_keys$$($state__$1$jscomp$10_state__$2$$, new $APP.$cljs$core$PersistentVector$$(null, 2, 5, $APP.$cljs$core$PersistentVector$EMPTY_NODE$$, [$cljs$cst$keyword$gridSize$$, $cljs$cst$keyword$viewBackgroundColor$$], null))], null)))), $APP.$cljs$core$reset_BANG_$$($_STAR_elements$$, $elements$jscomp$16$$)) : 
      null;
    }, $cljs$cst$keyword$zen_DASH_mode_DASH_enabled$$, $APP.$cljs$core$_deref$$($_STAR_zen_mode_QMARK_$$), $cljs$cst$keyword$view_DASH_mode_DASH_enabled$$, $APP.$cljs$core$_deref$$($_STAR_view_mode_QMARK_$$), $cljs$cst$keyword$grid_DASH_mode_DASH_enabled$$, !1, $cljs$cst$keyword$initial_DASH_data$$, $data$jscomp$204$$, $APP.$cljs$cst$keyword$width$$, $APP.$cljs$core$_deref$$($_STAR_draw_width$$)], null), $APP.$cljs$core$truth_$$($wide_mode_QMARK_$$) ? new $APP.$cljs$core$PersistentArrayMap$$(null, 
    1, [$APP.$cljs$cst$keyword$height$$, 650], null) : new $APP.$cljs$core$PersistentArrayMap$$(null, 1, [$APP.$cljs$cst$keyword$height$$, 500], null)]));
    return $frontend$extensions$excalidraw$excalidraw$$.$cljs$core$IFn$_invoke$arity$1$ ? $frontend$extensions$excalidraw$excalidraw$$.$cljs$core$IFn$_invoke$arity$1$($G__99472$$) : $frontend$extensions$excalidraw$excalidraw$$.call(null, $G__99472$$);
  }())])]) : null;
}, new $APP.$cljs$core$PersistentVector$$(null, 7, 5, $APP.$cljs$core$PersistentVector$EMPTY_NODE$$, [$APP.$rum$core$reactive$$, $APP.$rum$core$local$cljs$0core$0IFn$0_invoke$0arity$02$$(800, $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_draw_DASH_width$$), $APP.$rum$core$local$cljs$0core$0IFn$0_invoke$0arity$02$$(!0, $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_zen_DASH_mode_QMARK_$$), $APP.$rum$core$local$cljs$0core$0IFn$0_invoke$0arity$02$$(!1, $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_view_DASH_mode_QMARK_$$), 
$APP.$rum$core$local$cljs$0core$0IFn$0_invoke$0arity$02$$(null, $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_elements$$), new $APP.$cljs$core$PersistentArrayMap$$(null, 1, [$APP.$cljs$cst$keyword$did_DASH_mount$$, $frontend$extensions$excalidraw$update_draw_content_width$$], null), new $APP.$cljs$core$PersistentArrayMap$$(null, 1, [$APP.$cljs$cst$keyword$did_DASH_update$$, $frontend$extensions$excalidraw$update_draw_content_width$$], null)], null), "frontend.extensions.excalidraw/draw-inner");
$frontend$extensions$excalidraw$draw_container$$ = $APP.$rum$core$lazy_build$$($APP.$rum$core$build_defcs$$, function($_STAR_loading_QMARK_$jscomp$1_loading_QMARK_$jscomp$5_state$jscomp$278$$, $attrs99473_option$jscomp$26$$) {
  var $_STAR_data_data$jscomp$205$$ = $APP.$cljs$core$get$$.$cljs$core$IFn$_invoke$arity$2$($_STAR_loading_QMARK_$jscomp$1_loading_QMARK_$jscomp$5_state$jscomp$278$$, $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_data$$);
  $_STAR_loading_QMARK_$jscomp$1_loading_QMARK_$jscomp$5_state$jscomp$278$$ = $APP.$cljs$core$get$$.$cljs$core$IFn$_invoke$arity$2$($_STAR_loading_QMARK_$jscomp$1_loading_QMARK_$jscomp$5_state$jscomp$278$$, $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_loading_QMARK_$$);
  $_STAR_loading_QMARK_$jscomp$1_loading_QMARK_$jscomp$5_state$jscomp$278$$ = $APP.$rum$core$react$$($_STAR_loading_QMARK_$jscomp$1_loading_QMARK_$jscomp$5_state$jscomp$278$$);
  $_STAR_data_data$jscomp$205$$ = $APP.$rum$core$react$$($_STAR_data_data$jscomp$205$$);
  var $db_restoring_QMARK_$jscomp$4$$ = $APP.$frontend$state$sub$$($APP.$cljs$cst$keyword$db_SLASH_restoring_QMARK_$$);
  return $APP.$cljs$core$truth_$$($APP.$cljs$cst$keyword$file$$.$cljs$core$IFn$_invoke$arity$1$($attrs99473_option$jscomp$26$$)) ? $APP.$cljs$core$truth_$$($db_restoring_QMARK_$jscomp$4$$) ? ($attrs99473_option$jscomp$26$$ = $APP.$frontend$ui$loading$$("Loading"), $APP.$daiquiri$core$create_element$$("div", $APP.$cljs$core$map_QMARK_$$($attrs99473_option$jscomp$26$$) ? $APP.$daiquiri$interpreter$attributes$$($APP.$daiquiri$normalize$merge_with_class$cljs$0core$0IFn$0_invoke$0arity$0variadic$$($APP.$cljs$core$prim_seq$cljs$0core$0IFn$0_invoke$0arity$02$$([new $APP.$cljs$core$PersistentArrayMap$$(null, 
  1, [$APP.$cljs$cst$keyword$class$$, new $APP.$cljs$core$PersistentVector$$(null, 1, 5, $APP.$cljs$core$PersistentVector$EMPTY_NODE$$, ["ls-center"], null)], null), $attrs99473_option$jscomp$26$$]))) : {className:"ls-center"}, $APP.$cljs$core$map_QMARK_$$($attrs99473_option$jscomp$26$$) ? null : [$APP.$daiquiri$interpreter$interpret$$($attrs99473_option$jscomp$26$$)])) : !1 === $_STAR_loading_QMARK_$jscomp$1_loading_QMARK_$jscomp$5_state$jscomp$278$$ ? $frontend$extensions$excalidraw$draw_inner$$($_STAR_data_data$jscomp$205$$, 
  $attrs99473_option$jscomp$26$$) : null : null;
}, new $APP.$cljs$core$PersistentVector$$(null, 2, 5, $APP.$cljs$core$PersistentVector$EMPTY_NODE$$, [$APP.$rum$core$reactive$$, new $APP.$cljs$core$PersistentArrayMap$$(null, 1, [$APP.$cljs$cst$keyword$init$$, function($state$jscomp$279$$) {
  var $file$jscomp$99_option$jscomp$27_vec__99474$$ = $APP.$cljs$cst$keyword$rum_SLASH_args$$.$cljs$core$IFn$_invoke$arity$1$($state$jscomp$279$$);
  $file$jscomp$99_option$jscomp$27_vec__99474$$ = $APP.$cljs$core$nth$$.$cljs$core$IFn$_invoke$arity$3$($file$jscomp$99_option$jscomp$27_vec__99474$$, 0, null);
  $file$jscomp$99_option$jscomp$27_vec__99474$$ = $APP.$cljs$cst$keyword$file$$.$cljs$core$IFn$_invoke$arity$1$($file$jscomp$99_option$jscomp$27_vec__99474$$);
  var $_STAR_data$jscomp$1$$ = $APP.$cljs$core$atom$$.$cljs$core$IFn$_invoke$arity$1$(null), $_STAR_loading_QMARK_$jscomp$2$$ = $APP.$cljs$core$atom$$.$cljs$core$IFn$_invoke$arity$1$(!0);
  $APP.$cljs$core$truth_$$($file$jscomp$99_option$jscomp$27_vec__99474$$) && $frontend$handler$draw$load_excalidraw_file$$($file$jscomp$99_option$jscomp$27_vec__99474$$, function($data$jscomp$206_e$jscomp$inline_7628$$) {
    if ($APP.$clojure$string$blank_QMARK_$$($data$jscomp$206_e$jscomp$inline_7628$$)) {
      var $data__$1$jscomp$9$$ = null;
    } else {
      try {
        $data__$1$jscomp$9$$ = JSON.parse($data$jscomp$206_e$jscomp$inline_7628$$);
      } catch ($e99470$jscomp$inline_7629$$) {
        if ($e99470$jscomp$inline_7629$$ instanceof Error) {
          $data$jscomp$206_e$jscomp$inline_7628$$ = $e99470$jscomp$inline_7629$$, $APP.$cljs$core$println$$.$cljs$core$IFn$_invoke$arity$variadic$($APP.$cljs$core$prim_seq$cljs$0core$0IFn$0_invoke$0arity$02$$(["from json error:"])), console.dir($data$jscomp$206_e$jscomp$inline_7628$$), $data__$1$jscomp$9$$ = $APP.$frontend$handler$notification$show_BANG_$cljs$0core$0IFn$0_invoke$0arity$02$$($APP.$frontend$util$format$$("Could not load this invalid excalidraw file"), $APP.$cljs$cst$keyword$error$$);
        } else {
          throw $e99470$jscomp$inline_7629$$;
        }
      }
    }
    $APP.$cljs$core$reset_BANG_$$($_STAR_data$jscomp$1$$, $data__$1$jscomp$9$$);
    return $APP.$cljs$core$reset_BANG_$$($_STAR_loading_QMARK_$jscomp$2$$, !1);
  });
  return $APP.$cljs$core$assoc$$.$cljs$core$IFn$_invoke$arity$variadic$($state$jscomp$279$$, $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_data$$, $_STAR_data$jscomp$1$$, $APP.$cljs$core$prim_seq$cljs$0core$0IFn$0_invoke$0arity$02$$([$cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_loading_QMARK_$$, $_STAR_loading_QMARK_$jscomp$2$$]));
}], null)], null), "frontend.extensions.excalidraw/draw-container");
$APP.$frontend$extensions$excalidraw$draw$$ = $APP.$rum$core$lazy_build$$($APP.$rum$core$build_defc$$, function($option$jscomp$28$$) {
  var $repo$jscomp$418$$ = $APP.$frontend$state$get_current_repo$$(), $granted_QMARK_$jscomp$2$$ = $APP.$frontend$state$sub$$(new $APP.$cljs$core$PersistentVector$$(null, 2, 5, $APP.$cljs$core$PersistentVector$EMPTY_NODE$$, [$APP.$cljs$cst$keyword$nfs_SLASH_user_DASH_granted_QMARK_$$, $repo$jscomp$418$$], null));
  return $APP.$frontend$config$local_db_QMARK_$$($repo$jscomp$418$$) && $APP.$cljs$core$not$$($granted_QMARK_$jscomp$2$$) && $APP.$cljs$core$not$$($APP.$frontend$util$electron_QMARK_$$()) ? null : $frontend$extensions$excalidraw$draw_container$$($option$jscomp$28$$);
}, new $APP.$cljs$core$PersistentVector$$(null, 1, 5, $APP.$cljs$core$PersistentVector$EMPTY_NODE$$, [$APP.$rum$core$reactive$$], null), "frontend.extensions.excalidraw/draw");
$APP.$shadow$loader$mm$$.$setLoaded$();

}).call(this);
//# sourceMappingURL=excalidraw.js.map
