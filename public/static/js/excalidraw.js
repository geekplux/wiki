(function(){
shadow$provide[582]=function(ja,O,Ca,w){var l=O(2);!function(G,q){"object"==typeof w&&"object"==typeof Ca?Ca.exports=q(O(13),O(22)):"function"==typeof define&&define.amd?define(["react","react-dom"],q):"object"==typeof w?w.Excalidraw=q(O(13),O(22)):G.Excalidraw=q(G.React,G.ReactDOM)}(self,function(G,q){return function(){function m(u){var h=a[u];if(void 0!==h)return h.exports;h=a[u]={id:u,exports:{}};return t[u](h,h.exports,m),h.exports}var c,g,n,t={7945:function(u,h,e){u.exports=e(1602)},4516:function(u){var h=
Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;u.exports=function(){try{if(!Object.assign)return!1;var x=new String("abc");if(x[5]="de","5"===Object.getOwnPropertyNames(x)[0])return!1;var z={};for(x=0;10>x;x++)z["_"+String.fromCharCode(x)]=x;if("0123456789"!==Object.getOwnPropertyNames(z).map(function(L){return z[L]}).join(""))return!1;var B={};return"abcdefghijklmnopqrst".split("").forEach(function(L){B[L]=L}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},
B)).join("")}catch(L){return!1}}()?Object.assign:function(x,z){var B;if(null==x)throw new TypeError("Object.assign cannot be called with null or undefined");var L=Object(x);for(var F=1;F<arguments.length;F++){for(var y in B=Object(arguments[F]))e.call(B,y)&&(L[y]=B[y]);if(h){var E=h(B);for(var r=0;r<E.length;r++)k.call(B,E[r])&&(L[E[r]]=B[E[r]])}}return L}},6094:function(u,h,e){function k(F,y,E){var r,Y={},ia=null,R=null;for(r in void 0!==E&&(ia=""+E),void 0!==y.key&&(ia=""+y.key),void 0!==y.ref&&
(R=y.ref),y)B.call(y,r)&&!L.hasOwnProperty(r)&&(Y[r]=y[r]);if(F&&F.defaultProps)for(r in y=F.defaultProps)void 0===Y[r]&&(Y[r]=y[r]);return{$$typeof:x,type:F,key:ia,ref:R,props:Y,_owner:z.current}}e(4516);u=e(4698);var x=60103;if(h.Fragment=60107,"function"==typeof Symbol&&Symbol.for)e=Symbol.for,x=e("react.element"),h.Fragment=e("react.fragment");var z=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,B=Object.prototype.hasOwnProperty,L={key:!0,ref:!0,__self:!0,__source:!0};
h.jsx=k;h.jsxs=k},4512:function(u,h,e){u.exports=e(6094)},1602:function(u){u=function(h){function e(va,Da,ya){return Object.defineProperty(va,Da,{value:ya,enumerable:!0,configurable:!0,writable:!0}),va[Da]}function k(va,Da,ya,Ma){Da=Object.create((Da&&Da.prototype instanceof z?Da:z).prototype);Ma=new ia(Ma||[]);return Da._invoke=function(Sa,Wa,db){var Ib=M;return function(Fb,Sb){if(Ib===ca)throw Error("Generator is already running");if(Ib===xa){if("throw"===Fb)throw Sb;return da()}db.method=Fb;for(db.arg=
Sb;;){if(Fb=db.delegate)if(Fb=E(Fb,db)){if(Fb===ba)continue;return Fb}if("next"===db.method)db.sent=db._sent=db.arg;else if("throw"===db.method){if(Ib===M)throw Ib=xa,db.arg;db.dispatchException(db.arg)}else"return"===db.method&&db.abrupt("return",db.arg);Ib=ca;Fb=x(Sa,Wa,db);if("normal"===Fb.type){if(Ib=db.done?xa:S,Fb.arg===ba)continue;return{value:Fb.arg,done:db.done}}"throw"===Fb.type&&(Ib=xa,db.method="throw",db.arg=Fb.arg)}}}(va,ya,Ma),Da}function x(va,Da,ya){try{return{type:"normal",arg:va.call(Da,
ya)}}catch(Ma){return{type:"throw",arg:Ma}}}function z(){}function B(){}function L(){}function F(va){["next","throw","return"].forEach(function(Da){e(va,Da,function(ya){return this._invoke(Da,ya)})})}function y(va,Da){function ya(Sa,Wa,db,Ib){Sa=x(va[Sa],va,Wa);if("throw"!==Sa.type){var Fb=Sa.arg;return(Sa=Fb.value)&&"object"==typeof Sa&&K.call(Sa,"__await")?Da.resolve(Sa.__await).then(function(Sb){ya("next",Sb,db,Ib)},function(Sb){ya("throw",Sb,db,Ib)}):Da.resolve(Sa).then(function(Sb){Fb.value=
Sb;db(Fb)},function(Sb){return ya("throw",Sb,db,Ib)})}Ib(Sa.arg)}var Ma;this._invoke=function(Sa,Wa){function db(){return new Da(function(Ib,Fb){ya(Sa,Wa,Ib,Fb)})}return Ma=Ma?Ma.then(db,db):db()}}function E(va,Da){var ya=va.iterator[Da.method];if(ya===N){if(Da.delegate=null,"throw"===Da.method){if(va.iterator.return&&(Da.method="return",Da.arg=N,E(va,Da),"throw"===Da.method))return ba;Da.method="throw";Da.arg=new TypeError("The iterator does not provide a 'throw' method")}return ba}ya=x(ya,va.iterator,
Da.arg);return"throw"===ya.type?(Da.method="throw",Da.arg=ya.arg,Da.delegate=null,ba):(ya=ya.arg)?ya.done?(Da[va.resultName]=ya.value,Da.next=va.nextLoc,"return"!==Da.method&&(Da.method="next",Da.arg=N),Da.delegate=null,ba):ya:(Da.method="throw",Da.arg=new TypeError("iterator result is not an object"),Da.delegate=null,ba)}function r(va){var Da={tryLoc:va[0]};1 in va&&(Da.catchLoc=va[1]);2 in va&&(Da.finallyLoc=va[2],Da.afterLoc=va[3]);this.tryEntries.push(Da)}function Y(va){var Da=va.completion||
{};Da.type="normal";delete Da.arg;va.completion=Da}function ia(va){this.tryEntries=[{tryLoc:"root"}];va.forEach(r,this);this.reset(!0)}function R(va){if(va){var Da=va[P];if(Da)return Da.call(va);if("function"==typeof va.next)return va;if(!isNaN(va.length)){var ya=-1;Da=function Sa(){for(;++ya<va.length;)if(K.call(va,ya))return Sa.value=va[ya],Sa.done=!1,Sa;return Sa.value=N,Sa.done=!0,Sa};return Da.next=Da}}return{next:da}}function da(){return{value:N,done:!0}}var N,U=Object.prototype,K=U.hasOwnProperty,
X="function"==typeof Symbol?Symbol:{},P=X.iterator||"@@iterator",V=X.asyncIterator||"@@asyncIterator",J=X.toStringTag||"@@toStringTag";try{e({},"")}catch(va){e=function(Da,ya,Ma){return Da[ya]=Ma}}h.wrap=k;var M="suspendedStart",S="suspendedYield",ca="executing",xa="completed",ba={};X={};X[P]=function(){return this};var qa=Object.getPrototypeOf;(qa=qa&&qa(qa(R([]))))&&qa!==U&&K.call(qa,P)&&(X=qa);var ta=L.prototype=z.prototype=Object.create(X);return B.prototype=ta.constructor=L,L.constructor=B,B.displayName=
e(L,J,"GeneratorFunction"),h.isGeneratorFunction=function(va){va="function"==typeof va&&va.constructor;return!!va&&(va===B||"GeneratorFunction"===(va.displayName||va.name))},h.mark=function(va){return Object.setPrototypeOf?Object.setPrototypeOf(va,L):(va.__proto__=L,e(va,J,"GeneratorFunction")),va.prototype=Object.create(ta),va},h.awrap=function(va){return{__await:va}},F(y.prototype),y.prototype[V]=function(){return this},h.AsyncIterator=y,h.async=function(va,Da,ya,Ma,Sa){void 0===Sa&&(Sa=Promise);
var Wa=new y(k(va,Da,ya,Ma),Sa);return h.isGeneratorFunction(Da)?Wa:Wa.next().then(function(db){return db.done?db.value:Wa.next()})},F(ta),e(ta,J,"Generator"),ta[P]=function(){return this},ta.toString=function(){return"[object Generator]"},h.keys=function(va){var Da=[],ya;for(ya in va)Da.push(ya);return Da.reverse(),function Sa(){for(;Da.length;){var Wa=Da.pop();if(Wa in va)return Sa.value=Wa,Sa.done=!1,Sa}return Sa.done=!0,Sa}},h.values=R,ia.prototype={constructor:ia,reset:function(va){if(this.prev=
0,this.next=0,this.sent=this._sent=N,this.done=!1,this.delegate=null,this.method="next",this.arg=N,this.tryEntries.forEach(Y),!va)for(var Da in this)"t"===Da.charAt(0)&&K.call(this,Da)&&!isNaN(+Da.slice(1))&&(this[Da]=N)},stop:function(){this.done=!0;var va=this.tryEntries[0].completion;if("throw"===va.type)throw va.arg;return this.rval},dispatchException:function(va){function Da(Fb,Sb){return Wa.type="throw",Wa.arg=va,ya.next=Fb,Sb&&(ya.method="next",ya.arg=N),!!Sb}if(this.done)throw va;for(var ya=
this,Ma=this.tryEntries.length-1;0<=Ma;--Ma){var Sa=this.tryEntries[Ma],Wa=Sa.completion;if("root"===Sa.tryLoc)return Da("end");if(Sa.tryLoc<=this.prev){var db=K.call(Sa,"catchLoc"),Ib=K.call(Sa,"finallyLoc");if(db&&Ib){if(this.prev<Sa.catchLoc)return Da(Sa.catchLoc,!0);if(this.prev<Sa.finallyLoc)return Da(Sa.finallyLoc)}else if(db){if(this.prev<Sa.catchLoc)return Da(Sa.catchLoc,!0)}else{if(!Ib)throw Error("try statement without catch or finally");if(this.prev<Sa.finallyLoc)return Da(Sa.finallyLoc)}}}},
abrupt:function(va,Da){for(var ya=this.tryEntries.length-1;0<=ya;--ya){var Ma=this.tryEntries[ya];if(Ma.tryLoc<=this.prev&&K.call(Ma,"finallyLoc")&&this.prev<Ma.finallyLoc){var Sa=Ma;break}}Sa&&("break"===va||"continue"===va)&&Sa.tryLoc<=Da&&Da<=Sa.finallyLoc&&(Sa=null);ya=Sa?Sa.completion:{};return ya.type=va,ya.arg=Da,Sa?(this.method="next",this.next=Sa.finallyLoc,ba):this.complete(ya)},complete:function(va,Da){if("throw"===va.type)throw va.arg;return"break"===va.type||"continue"===va.type?this.next=
va.arg:"return"===va.type?(this.rval=this.arg=va.arg,this.method="return",this.next="end"):"normal"===va.type&&Da&&(this.next=Da),ba},finish:function(va){for(var Da=this.tryEntries.length-1;0<=Da;--Da){var ya=this.tryEntries[Da];if(ya.finallyLoc===va)return this.complete(ya.completion,ya.afterLoc),Y(ya),ba}},catch:function(va){for(var Da=this.tryEntries.length-1;0<=Da;--Da){var ya=this.tryEntries[Da];if(ya.tryLoc===va){va=ya.completion;if("throw"===va.type){var Ma=va.arg;Y(ya)}return Ma}}throw Error("illegal catch attempt");
},delegateYield:function(va,Da,ya){return this.delegate={iterator:R(va),resultName:Da,nextLoc:ya},"next"===this.method&&(this.arg=N),ba}},h}(u.exports);try{regeneratorRuntime=u}catch(h){Function("r","regeneratorRuntime \x3d r")(u)}},8336:function(u,h,e){h=e(487);e=e(4295);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[u.id,e,""]]);h(e,{insert:"head",singleton:!1});u.exports=e.locals||{}},554:function(u,h,e){h=e(487);e=e(9135);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[u.id,e,""]]);h(e,
{insert:"head",singleton:!1});u.exports=e.locals||{}},2789:function(u,h,e){h=e(487);e=e(3729);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[u.id,e,""]]);h(e,{insert:"head",singleton:!1});u.exports=e.locals||{}},5080:function(u,h,e){h=e(487);e=e(4241);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[u.id,e,""]]);h(e,{insert:"head",singleton:!1});u.exports=e.locals||{}},7225:function(u,h,e){h=e(487);e=e(6029);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[u.id,e,""]]);h(e,{insert:"head",
singleton:!1});u.exports=e.locals||{}},778:function(u,h,e){h=e(487);e=e(9609);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[u.id,e,""]]);h(e,{insert:"head",singleton:!1});u.exports=e.locals||{}},4220:function(u,h,e){h=e(487);e=e(2345);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[u.id,e,""]]);h(e,{insert:"head",singleton:!1});u.exports=e.locals||{}},1292:function(u,h,e){h=e(487);e=e(6578);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[u.id,e,""]]);h(e,{insert:"head",singleton:!1});u.exports=
e.locals||{}},196:function(u,h,e){h=e(487);e=e(9482);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[u.id,e,""]]);h(e,{insert:"head",singleton:!1});u.exports=e.locals||{}},2205:function(u,h,e){h=e(487);e=e(7955);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[u.id,e,""]]);h(e,{insert:"head",singleton:!1});u.exports=e.locals||{}},1310:function(u,h,e){h=e(487);e=e(3195);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[u.id,e,""]]);h(e,{insert:"head",singleton:!1});u.exports=e.locals||{}},3922:function(u,
h,e){h=e(487);e=e(2978);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[u.id,e,""]]);h(e,{insert:"head",singleton:!1});u.exports=e.locals||{}},7096:function(u,h,e){h=e(487);e=e(1587);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[u.id,e,""]]);h(e,{insert:"head",singleton:!1});u.exports=e.locals||{}},7117:function(u,h,e){h=e(487);e=e(9478);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[u.id,e,""]]);h(e,{insert:"head",singleton:!1});u.exports=e.locals||{}},1106:function(u,h,e){h=e(487);e=
e(7369);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[u.id,e,""]]);h(e,{insert:"head",singleton:!1});u.exports=e.locals||{}},3336:function(u,h,e){h=e(487);e=e(1434);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[u.id,e,""]]);h(e,{insert:"head",singleton:!1});u.exports=e.locals||{}},694:function(u,h,e){h=e(487);e=e(5644);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[u.id,e,""]]);h(e,{insert:"head",singleton:!1});u.exports=e.locals||{}},8328:function(u,h,e){h=e(487);e=e(6843);"string"==
typeof(e=e.__esModule?e.default:e)&&(e=[[u.id,e,""]]);h(e,{insert:"head",singleton:!1});u.exports=e.locals||{}},8051:function(u,h,e){h=e(487);e=e(8461);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[u.id,e,""]]);h(e,{insert:"head",singleton:!1});u.exports=e.locals||{}},4301:function(u,h,e){h=e(487);e=e(9935);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[u.id,e,""]]);h(e,{insert:"head",singleton:!1});u.exports=e.locals||{}},9966:function(u,h,e){h=e(487);e=e(532);"string"==typeof(e=e.__esModule?
e.default:e)&&(e=[[u.id,e,""]]);h(e,{insert:"head",singleton:!1});u.exports=e.locals||{}},4623:function(u,h,e){h=e(487);e=e(3874);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[u.id,e,""]]);h(e,{insert:"head",singleton:!1});u.exports=e.locals||{}},1528:function(u,h,e){h=e(487);e=e(2681);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[u.id,e,""]]);h(e,{insert:"head",singleton:!1});u.exports=e.locals||{}},518:function(u,h,e){h=e(487);e=e(6759);"string"==typeof(e=e.__esModule?e.default:e)&&(e=
[[u.id,e,""]]);h(e,{insert:"head",singleton:!1});u.exports=e.locals||{}},9757:function(u,h,e){h=e(487);e=e(9650);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[u.id,e,""]]);h(e,{insert:"head",singleton:!1});u.exports=e.locals||{}},5422:function(u,h,e){h=e(487);e=e(2044);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[u.id,e,""]]);h(e,{insert:"head",singleton:!1});u.exports=e.locals||{}},6781:function(u,h,e){h=e(487);e=e(6626);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[u.id,e,""]]);
h(e,{insert:"head",singleton:!1});u.exports=e.locals||{}},580:function(u,h,e){h=e(487);e=e(6359);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[u.id,e,""]]);h(e,{insert:"head",singleton:!1});u.exports=e.locals||{}},4285:function(u,h,e){h=e(487);e=e(9915);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[u.id,e,""]]);h(e,{insert:"head",singleton:!1});u.exports=e.locals||{}},3313:function(u,h,e){h=e(487);e=e(9310);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[u.id,e,""]]);h(e,{insert:"head",
singleton:!1});u.exports=e.locals||{}},8635:function(u,h,e){h=e(487);e=e(6464);"string"==typeof(e=e.__esModule?e.default:e)&&(e=[[u.id,e,""]]);h(e,{insert:"head",singleton:!1});u.exports=e.locals||{}},487:function(u,h,e){function k(N){for(var U=-1,K=0;K<r.length;K++)if(r[K].identifier===N){U=K;break}return U}function x(N,U){for(var K={},X=[],P=0;P<N.length;P++){var V=N[P],J=U.base?V[0]+U.base:V[0],M=K[J]||0,S="".concat(J," ").concat(M);K[J]=M+1;J=k(S);V={css:V[1],media:V[2],sourceMap:V[3]};-1!==J?
(r[J].references++,r[J].updater(V)):r.push({identifier:S,updater:F(V,U),references:1});X.push(S)}return X}function z(N){var U=document.createElement("style"),K=N.attributes||{};if(void 0===K.nonce){var X=e.nc;X&&(K.nonce=X)}if(Object.keys(K).forEach(function(P){U.setAttribute(P,K[P])}),"function"==typeof N.insert)N.insert(U);else{N=E(N.insert||"head");if(!N)throw Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");N.appendChild(U)}return U}
function B(N,U,K,X){K=K?"":X.media?"@media ".concat(X.media," {").concat(X.css,"}"):X.css;N.styleSheet?N.styleSheet.cssText=ia(U,K):(K=document.createTextNode(K),X=N.childNodes,X[U]&&N.removeChild(X[U]),X.length?N.insertBefore(K,X[U]):N.appendChild(K))}function L(N,U,K){U=K.css;var X=K.media;K=K.sourceMap;if(X?N.setAttribute("media",X):N.removeAttribute("media"),K&&"undefined"!=typeof btoa&&(U+="\n/*# sourceMappingURL\x3ddata:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(K)))),
" */")),N.styleSheet)N.styleSheet.cssText=U;else{for(;N.firstChild;)N.removeChild(N.firstChild);N.appendChild(document.createTextNode(U))}}function F(N,U){if(U.singleton){var K=da++;var X=R||=z(U);var P=B.bind(null,X,K,!1);var V=B.bind(null,X,K,!0)}else X=z(U),P=L.bind(null,X,U),V=function(){if(null===X.parentNode)var J=!1;else X.parentNode.removeChild(X),J=void 0;!J};return P(N),function(J){J?(J.css!==N.css||J.media!==N.media||J.sourceMap!==N.sourceMap)&&P(N=J):V()}}var y,E=function(){var N={};return function(U){if(void 0===
N[U]){var K=document.querySelector(U);if(window.HTMLIFrameElement&&K instanceof window.HTMLIFrameElement)try{K=K.contentDocument.head}catch(X){K=null}N[U]=K}return N[U]}}(),r=[],Y,ia=(Y=[],function(N,U){return Y[N]=U,Y.filter(Boolean).join("\n")}),R=null,da=0;u.exports=function(N,U){(U=U||{}).singleton||"boolean"==typeof U.singleton||(U.singleton=(void 0===y&&(y=!(!(window&&document&&document.all)||window.atob)),y));var K=x(N=N||[],U);return function(X){if(X=X||[],"[object Array]"===Object.prototype.toString.call(X)){for(var P=
0;P<K.length;P++){var V=k(K[P]);r[V].references--}X=x(X,U);for(P=0;P<K.length;P++)V=k(K[P]),0===r[V].references&&(r[V].updater(),r.splice(V,1));K=X}}}},788:function(u,h,e){function k(z){if(!e.o(x,z))return Promise.resolve().then(function(){var F=Error("Cannot find module '"+z+"'");throw F.code="MODULE_NOT_FOUND",F;});var B=x[z],L=B[0];return Promise.all(B.slice(1).map(e.e)).then(function(){return e.t(L,19)})}var x={"./ar-SA.json":[7822,558],"./bg-BG.json":[1203,384],"./ca-ES.json":[510,351],"./cs-CZ.json":[7605,
387],"./da-DK.json":[2392,617],"./de-DE.json":[2853,43],"./el-GR.json":[9876,526],"./en.json":[1463],"./es-ES.json":[2264,317],"./fa-IR.json":[3747,710],"./fi-FI.json":[9490,472],"./fr-FR.json":[7830,364],"./he-IL.json":[1994,262],"./hi-IN.json":[4646,933],"./hu-HU.json":[6373,661],"./id-ID.json":[3247,491],"./it-IT.json":[3257,465],"./ja-JP.json":[198,137],"./kab-KAB.json":[228,164],"./kk-KZ.json":[8972,649],"./ko-KR.json":[7596,60],"./lv-LV.json":[2327,899],"./my-MM.json":[7704,242],"./nb-NO.json":[1167,
246],"./nl-NL.json":[290,196],"./nn-NO.json":[4481,920],"./oc-FR.json":[2284,565],"./pa-IN.json":[6773,280],"./percentages.json":[4451],"./pl-PL.json":[3661,852],"./pt-BR.json":[8881,381],"./pt-PT.json":[5622,149],"./ro-RO.json":[2013,752],"./ru-RU.json":[2253,869],"./sk-SK.json":[4570,401],"./sv-SE.json":[6006,698],"./tr-TR.json":[7315,213],"./uk-UA.json":[334,583],"./zh-CN.json":[1037,304],"./zh-TW.json":[931,62]};k.keys=function(){return Object.keys(x)};k.id=788;u.exports=k},9713:function(u){u.exports=
function(h,e,k){return e in h?Object.defineProperty(h,e,{value:k,enumerable:!0,configurable:!0,writable:!0}):h[e]=k,h}},6479:function(u,h,e){var k=e(7316);u.exports=function(x,z){if(null==x)return{};var B,L=k(x,z);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(x);for(B=0;B<F.length;B++){var y=F[B];0<=z.indexOf(y)||Object.prototype.propertyIsEnumerable.call(x,y)&&(L[y]=x[y])}}return L}},7316:function(u){u.exports=function(h,e){if(null==h)return{};var k,x={},z=Object.keys(h);for(k=
0;k<z.length;k++){var B=z[k];0<=e.indexOf(B)||(x[B]=h[B])}return x}},4295:function(u,h,e){e.r(h);var k=e(3645),x=e.n(k);k=e(1667);k=e.n(k);var z=e(7464);e=e(9638);x=x()(function(B){return B[1]});z=k()(z.Z);k=k()(e.Z);x.push([u.id,'@font-face{font-family:"Virgil";src:url('+z+');font-display:swap}@font-face{font-family:"Cascadia";src:url('+k+");font-display:swap}",""]);h.default=x},9135:function(u,h,e){e.r(h);var k=e(3645);e=e.n(k)()(function(x){return x[1]});e.push([u.id,".excalidraw .ActiveFile .ActiveFile__fileName{display:flex;align-items:center}.excalidraw .ActiveFile .ActiveFile__fileName span{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;width:9.3em}.excalidraw .ActiveFile .ActiveFile__fileName svg{width:1.15em;-webkit-margin-end:.3em;margin-inline-end:.3em;-webkit-transform:scaleY(0.9);transform:scaleY(0.9)}",
""]);h.default=e},3729:function(u,h,e){e.r(h);var k=e(3645);e=e.n(k)()(function(x){return x[1]});e.push([u.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Avatar{width:2.5rem;height:2.5rem;border-radius:1.25rem;display:flex;justify-content:center;align-items:center;color:#fff;cursor:pointer;font-size:.8rem;font-weight:500}",""]);h.default=e},4241:function(u,h,e){e.r(h);var k=e(3645);e=e.n(k)()(function(x){return x[1]});e.push([u.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Card{display:flex;flex-direction:column;align-items:center;max-width:290px;margin:1em;text-align:center}.excalidraw .Card .Card-icon{font-size:2.6em;display:flex;flex:0 0 auto;padding:1.4rem;border-radius:50%;background:var(--card-color);color:#fff}.excalidraw .Card .Card-icon svg{width:2.8rem;height:2.8rem}.excalidraw .Card .Card-details{font-size:.96em;min-height:90px;padding:0 1em;margin-bottom:auto}.excalidraw .Card .Card-button.ToolIcon_type_button{height:2.5rem;margin-top:1em;margin-bottom:.3em;background-color:var(--card-color)}.excalidraw .Card .Card-button.ToolIcon_type_button:hover{background-color:var(--card-color-darker)}.excalidraw .Card .Card-button.ToolIcon_type_button:active{background-color:var(--card-color-darkest)}.excalidraw .Card .Card-button.ToolIcon_type_button .ToolIcon__label{color:#fff}",
""]);h.default=e},6029:function(u,h,e){e.r(h);var k=e(3645);e=e.n(k)()(function(x){return x[1]});e.push([u.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Checkbox{margin:4px .3em;display:flex;align-items:center;cursor:pointer;-webkit-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent}.excalidraw .Checkbox:hover:not(.is-checked) .Checkbox-box:not(:focus){box-shadow:0 0 0 2px #4dabf7}.excalidraw .Checkbox:hover:not(.is-checked) .Checkbox-box:not(:focus) svg{display:block;opacity:.3}.excalidraw .Checkbox:active .Checkbox-box{box-shadow:0 0 2px 1px inset #1c7ed6 !important}.excalidraw .Checkbox:hover .Checkbox-box{background-color:rgba(208,235,255,.2)}.excalidraw .Checkbox.is-checked .Checkbox-box{background-color:#d0ebff}.excalidraw .Checkbox.is-checked .Checkbox-box svg{display:block}.excalidraw .Checkbox.is-checked:hover .Checkbox-box{background-color:#a5d8ff}.excalidraw .Checkbox .Checkbox-box{width:22px;height:22px;padding:0;flex:0 0 auto;margin:0 1em;display:flex;align-items:center;justify-content:center;box-shadow:0 0 0 2px #1c7ed6;background-color:transparent;border-radius:4px;color:#1c7ed6}.excalidraw .Checkbox .Checkbox-box:focus{box-shadow:0 0 0 3px #1c7ed6}.excalidraw .Checkbox .Checkbox-box svg{display:none;width:16px;height:16px;stroke-width:3px}.excalidraw .Checkbox .Checkbox-label{display:flex;align-items:center}.excalidraw .Checkbox .excalidraw-tooltip-icon{width:1em;height:1em}",
""]);h.default=e},9609:function(u,h,e){e.r(h);var k=e(3645);e=e.n(k)()(function(x){return x[1]});e.push([u.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .CollabButton.is-collaborating{background-color:var(--button-special-active-bg-color)}.excalidraw .CollabButton.is-collaborating .ToolIcon__icon svg,.excalidraw .CollabButton.is-collaborating .ToolIcon__label{color:var(--icon-green-fill-color)}.excalidraw .CollabButton-collaborators{min-width:1em;position:absolute;bottom:-5px;padding:3px;border-radius:50%;background-color:#40c057;color:#fff;font-size:.7em;font-family:var(--ui-font)}:root[dir\x3dltr] .excalidraw .CollabButton-collaborators{right:-5px}:root[dir\x3drtl] .excalidraw .CollabButton-collaborators{left:-5px}",
""]);h.default=e},2345:function(u,h,e){e.r(h);var k=e(3645);e=e.n(k)()(function(x){return x[1]});e.push([u.id,':export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .color-picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}:root[dir\x3dltr] .excalidraw .color-picker{left:-5.5px}:root[dir\x3drtl] .excalidraw .color-picker{right:-5.5px}.excalidraw .color-picker-control-container{display:grid;grid-template-columns:auto 1fr;align-items:center}.excalidraw .color-picker-triangle{width:0;height:0;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent var(--popup-bg-color);position:absolute;top:-10px}:root[dir\x3dltr] .excalidraw .color-picker-triangle{left:12px}:root[dir\x3drtl] .excalidraw .color-picker-triangle{right:12px}.excalidraw .color-picker-triangle-shadow{border-color:transparent transparent rgba(0,0,0,.1);top:-11px}.excalidraw .color-picker-content{padding:.5rem;display:grid;grid-template-columns:repeat(5, auto);grid-gap:.5rem;border-radius:4px}.excalidraw .color-picker-content:focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-picker-content .color-input-container{grid-column:1/span 5}.excalidraw .color-picker-swatch{position:relative;height:1.875rem;width:1.875rem;cursor:pointer;border-radius:4px;margin:0;box-sizing:border-box;border:1px solid #ddd;background-color:currentColor !important;-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .color-picker-swatch:focus{box-shadow:0 0 4px 1px currentColor;border-color:var(--select-highlight-color)}.excalidraw .color-picker-transparent{border-radius:4px;box-shadow:rgba(0,0,0,.1) 0 0 0 1px inset;position:absolute;top:0;right:0;bottom:0;left:0}.excalidraw .color-picker-transparent,.excalidraw .color-picker-label-swatch{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg\x3d\x3d") left center}.excalidraw .color-picker-hash{background:var(--input-border-color);height:1.875rem;width:1.875rem;color:var(--input-label-color);display:flex;align-items:center;justify-content:center;position:relative}:root[dir\x3dltr] .excalidraw .color-picker-hash{border-radius:4px 0 0 4px}:root[dir\x3drtl] .excalidraw .color-picker-hash{border-radius:0 4px 4px 0}.excalidraw .color-input-container:focus-within .color-picker-hash{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-input-container:focus-within .color-picker-hash::before,.excalidraw .color-input-container:focus-within .color-picker-hash::after{content:"";width:1px;height:100%;position:absolute;top:0}.excalidraw .color-input-container:focus-within .color-picker-hash::before{background:var(--input-border-color)}:root[dir\x3dltr] .excalidraw .color-input-container:focus-within .color-picker-hash::before{right:-1px}:root[dir\x3drtl] .excalidraw .color-input-container:focus-within .color-picker-hash::before{left:-1px}.excalidraw .color-input-container:focus-within .color-picker-hash::after{background:var(--input-bg-color)}:root[dir\x3dltr] .excalidraw .color-input-container:focus-within .color-picker-hash::after{right:-2px}:root[dir\x3drtl] .excalidraw .color-input-container:focus-within .color-picker-hash::after{left:-2px}.excalidraw .color-input-container{display:flex}.excalidraw .color-picker-input{width:11ch;margin:0;font-size:1rem;background-color:var(--input-bg-color);color:var(--text-primary-color);border:0;outline:none;height:1.75em;box-shadow:var(--input-border-color) 0 0 0 1px inset;float:left;padding:1px;-webkit-padding-start:.5em;padding-inline-start:.5em;-webkit-appearance:none;appearance:none}:root[dir\x3dltr] .excalidraw .color-picker-input{border-radius:0 4px 4px 0}:root[dir\x3drtl] .excalidraw .color-picker-input{border-radius:4px 0 0 4px}.excalidraw .color-picker-label-swatch{height:1.875rem;width:1.875rem;-webkit-margin-end:.25rem;margin-inline-end:.25rem;border:1px solid #dee2e6;position:relative;overflow:hidden;background-color:transparent !important;-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .color-picker-label-swatch:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:var(--swatch-color)}.excalidraw .color-picker-keybinding{position:absolute;bottom:2px;font-size:.7em}:root[dir\x3dltr] .excalidraw .color-picker-keybinding{right:2px}:root[dir\x3drtl] .excalidraw .color-picker-keybinding{left:2px}.excalidraw--mobile.excalidraw .color-picker-keybinding{display:none}.excalidraw .color-picker-type-canvasBackground .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementBackground .color-picker-keybinding{color:#fff}.excalidraw .color-picker-swatch[aria-label\x3dtransparent] .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementStroke .color-picker-keybinding{color:#d4d4d4}.excalidraw.theme--dark .color-picker-type-elementBackground .color-picker-keybinding{color:#000}.excalidraw.theme--dark .color-picker-swatch[aria-label\x3dtransparent] .color-picker-keybinding{color:#000}',
""]);h.default=e},6578:function(u,h,e){e.r(h);var k=e(3645);e=e.n(k)()(function(x){return x[1]});e.push([u.id,':export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .context-menu{position:relative;border-radius:4px;box-shadow:0 3px 10px rgba(0,0,0,.2);padding:0;list-style:none;-webkit-user-select:none;user-select:none;margin:-0.25rem 0 0 .125rem;padding:.5rem 0;background-color:var(--popup-secondary-bg-color);border:1px solid var(--button-gray-3);cursor:default}.excalidraw .context-menu button{color:var(--popup-text-color)}.excalidraw .context-menu-option{position:relative;width:100%;min-width:9.5rem;margin:0;padding:.25rem 1rem .25rem 1.25rem;text-align:start;border-radius:0;background-color:transparent;border:none;white-space:nowrap;display:grid;grid-template-columns:1fr .2fr;align-items:center}.excalidraw .context-menu-option.checkmark::before{position:absolute;left:6px;margin-bottom:1px;content:"âœ“"}.excalidraw .context-menu-option.dangerous .context-menu-option__label{color:#f03e3e}.excalidraw .context-menu-option .context-menu-option__label{justify-self:start;-webkit-margin-end:20px;margin-inline-end:20px}.excalidraw .context-menu-option .context-menu-option__shortcut{justify-self:end;opacity:.6;font-family:inherit;font-size:.7rem}.excalidraw .context-menu-option:hover{color:var(--popup-bg-color);background-color:var(--select-highlight-color)}.excalidraw .context-menu-option:hover.dangerous{background-color:#fa5252}.excalidraw .context-menu-option:hover.dangerous .context-menu-option__label{color:var(--popup-bg-color)}.excalidraw .context-menu-option:focus{z-index:1}.excalidraw--mobile.excalidraw .context-menu-option{display:block}.excalidraw--mobile.excalidraw .context-menu-option .context-menu-option__label{-webkit-margin-end:0;margin-inline-end:0}.excalidraw--mobile.excalidraw .context-menu-option .context-menu-option__shortcut{display:none}.excalidraw .context-menu-option-separator{border:none;border-top:1px solid #adb5bd}',
""]);h.default=e},9482:function(u,h,e){e.r(h);var k=e(3645);e=e.n(k)()(function(x){return x[1]});e.push([u.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Dialog{-webkit-user-select:text;user-select:text;cursor:auto}.excalidraw .Dialog__title{display:grid;align-items:center;margin-top:0;grid-template-columns:1fr calc(var(--space-factor) * 7);grid-gap:var(--metric);padding:calc(var(--space-factor) * 2);text-align:center;font-variant:small-caps;font-size:1.2em}.excalidraw .Dialog__titleContent{flex:1}.excalidraw .Dialog .Modal__close{color:var(--icon-fill-color);margin:0}.excalidraw .Dialog__content{padding:0 16px 16px}.excalidraw--mobile.excalidraw .Dialog{--metric: calc(var(--space-factor) * 4);--inset-left: max(var(--metric), var(--sal));--inset-right: max(var(--metric), var(--sar))}.excalidraw--mobile.excalidraw .Dialog__title{grid-template-columns:calc(var(--space-factor) * 7) 1fr calc( var(--space-factor) * 7 );position:-webkit-sticky;position:sticky;top:0;padding:calc(var(--space-factor) * 2);background:var(--island-bg-color);font-size:1.25em;box-sizing:border-box;border-bottom:1px solid var(--button-gray-2);z-index:1}.excalidraw--mobile.excalidraw .Dialog__titleContent{text-align:center}.excalidraw--mobile.excalidraw .Dialog .Island{width:100vw;height:100%;box-sizing:border-box;overflow-y:auto;padding-left:max(calc(var(--padding) * var(--space-factor)), var(--sal));padding-right:max(calc(var(--padding) * var(--space-factor)), var(--sar));padding-bottom:max(calc(var(--padding) * var(--space-factor)), var(--sab))}.excalidraw--mobile.excalidraw .Dialog .Modal__close{order:-1}",
""]);h.default=e},7955:function(u,h,e){e.r(h);var k=e(3645);e=e.n(k)()(function(x){return x[1]});e.push([u.id,':export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .ExportDialog__preview{--preview-padding: calc(var(--space-factor) * 4);background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg\x3d\x3d") left center;text-align:center;padding:var(--preview-padding);margin-bottom:calc(var(--space-factor) * 3)}.excalidraw .ExportDialog__preview canvas{max-width:calc(100% - var(--preview-padding) * 2);max-height:25rem}.excalidraw.theme--dark .ExportDialog__preview canvas{-webkit-filter:none;filter:none}.excalidraw .ExportDialog__actions{width:100%;display:flex;grid-gap:calc(var(--space-factor) * 2);align-items:top;justify-content:space-between}.excalidraw--mobile.excalidraw .ExportDialog{display:flex;flex-direction:column}.excalidraw--mobile.excalidraw .ExportDialog__actions{flex-direction:column;align-items:center}.excalidraw--mobile.excalidraw .ExportDialog__actions\x3e*{margin-bottom:calc(var(--space-factor) * 3)}.excalidraw--mobile.excalidraw .ExportDialog__preview canvas{max-height:30vh}.excalidraw--mobile.excalidraw .ExportDialog__dialog,.excalidraw--mobile.excalidraw .ExportDialog__dialog .Island{height:100%;box-sizing:border-box}.excalidraw--mobile.excalidraw .ExportDialog__dialog .Island{overflow-y:auto}.excalidraw .ExportDialog--json .ExportDialog-cards{display:grid;grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));justify-items:center;row-gap:2em}@media(max-width: 460px){.excalidraw .ExportDialog--json .ExportDialog-cards{grid-template-columns:repeat(auto-fit, minmax(240px, 1fr))}.excalidraw .ExportDialog--json .ExportDialog-cards .Card-details{min-height:40px}}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;margin:1em auto;align-items:flex-start;flex-direction:column}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName .TextInput{width:auto}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName-label{margin:.625em 0;font-weight:bold}.excalidraw button.ExportDialog-imageExportButton{width:5rem;height:5rem;margin:0 .2em;border-radius:1rem;background-color:var(--button-color);box-shadow:0 3px 5px -1px rgba(0,0,0,.28),0 6px 10px 0 rgba(0,0,0,.14);font-family:Cascadia;font-size:1.8em;color:#fff}.excalidraw button.ExportDialog-imageExportButton:hover{background-color:var(--button-color-darker)}.excalidraw button.ExportDialog-imageExportButton:active{background-color:var(--button-color-darkest);box-shadow:none}.excalidraw button.ExportDialog-imageExportButton svg{width:.9em}',
""]);h.default=e},3195:function(u,h,e){e.r(h);var k=e(3645);e=e.n(k)()(function(x){return x[1]});e.push([u.id,".excalidraw .FixedSideContainer{position:absolute;pointer-events:none}.excalidraw .FixedSideContainer\x3e*{pointer-events:all}.excalidraw .FixedSideContainer_side_top{left:var(--space-factor);top:var(--space-factor);right:var(--space-factor);z-index:2}.excalidraw .FixedSideContainer_side_top.zen-mode{right:42px}",""]);h.default=e},2978:function(u,h,e){e.r(h);var k=e(3645);e=e.n(k)()(function(x){return x[1]});
e.push([u.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .HelpDialog h3{border-bottom:1px solid var(--button-gray-2);padding-bottom:4px}.excalidraw .HelpDialog--island{border:1px solid var(--button-gray-2);margin-bottom:16px}.excalidraw .HelpDialog--island-title{margin:0;padding:4px;background-color:var(--button-gray-1);text-align:center}.excalidraw .HelpDialog--shortcut{border-top:1px solid var(--button-gray-2)}.excalidraw .HelpDialog--key{word-break:keep-all;border:1px solid var(--button-gray-2);padding:2px 8px;margin:auto 4px;background-color:var(--button-gray-1);border-radius:2px;font-size:.8em;min-height:26px;box-sizing:border-box;display:flex;align-items:center;font-family:inherit}.excalidraw .HelpDialog--header{display:flex;flex-direction:row;justify-content:space-evenly;margin-bottom:32px;padding-bottom:16px}.excalidraw .HelpDialog--btn{border:1px solid var(--link-color);padding:8px 32px;border-radius:4px}.excalidraw .HelpDialog--btn:hover{text-decoration:none}",
""]);h.default=e},1587:function(u,h,e){e.r(h);var k=e(3645);e=e.n(k)()(function(x){return x[1]});e.push([u.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .HintViewer{pointer-events:none;box-sizing:border-box;position:absolute;display:flex;justify-content:center;left:0;top:100%;max-width:100%;width:100%;margin-top:6px;text-align:center;color:#868e96;font-size:.8rem}.excalidraw--mobile.excalidraw .HintViewer{position:static;padding-right:2em}.excalidraw .HintViewer\x3espan{padding:.2rem .4rem;background-color:var(--overlay-bg-color);border-radius:4px}",
""]);h.default=e},9478:function(u,h,e){e.r(h);var k=e(3645);e=e.n(k)()(function(x){return x[1]});e.push([u.id,':export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .picker-container{display:inline-block;box-sizing:border-box;margin-right:.25rem}.excalidraw .picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}.excalidraw .picker-container button,.excalidraw .picker button{position:relative;display:flex;align-items:center;justify-content:center}.excalidraw .picker-container button:focus,.excalidraw .picker button:focus{outline:transparent;background-color:var(--button-gray-2)}.excalidraw .picker-container button:focus svg,.excalidraw .picker button:focus svg{opacity:1}.excalidraw .picker-container button:hover,.excalidraw .picker button:hover{background-color:var(--button-gray-2)}.excalidraw .picker-container button:active,.excalidraw .picker button:active{background-color:var(--button-gray-3)}.excalidraw .picker-container button:disabled,.excalidraw .picker button:disabled{cursor:not-allowed}.excalidraw .picker-container button svg,.excalidraw .picker button svg{margin:0;width:36px;height:18px;opacity:.6;pointer-events:none}.excalidraw .picker button{padding:.25rem .28rem .35rem .25rem}.excalidraw .picker-triangle{width:0;height:0;position:relative;top:-10px;z-index:10}:root[dir\x3dltr] .excalidraw .picker-triangle{left:12px}:root[dir\x3drtl] .excalidraw .picker-triangle{right:12px}.excalidraw .picker-triangle:before{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent rgba(0,0,0,.1);top:-1px}.excalidraw .picker-triangle:after{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent var(--popup-bg-color)}.excalidraw .picker-content{padding:.5rem;display:grid;grid-auto-flow:column;grid-gap:.5rem;border-radius:4px}:root[dir\x3drtl] .excalidraw .picker-content{padding:.4rem}.excalidraw .picker-keybinding{position:absolute;bottom:2px;font-size:.7em;color:var(--keybinding-color)}:root[dir\x3dltr] .excalidraw .picker-keybinding{right:2px}:root[dir\x3drtl] .excalidraw .picker-keybinding{left:2px}.excalidraw--mobile.excalidraw .picker-keybinding{display:none}.excalidraw .picker-type-canvasBackground .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementBackground .picker-keybinding{color:#fff}.excalidraw .picker-swatch[aria-label\x3dtransparent] .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementStroke .picker-keybinding{color:#d4d4d4}.excalidraw.theme--dark .picker-type-elementBackground .picker-keybinding{color:#000}.excalidraw.theme--dark .picker-swatch[aria-label\x3dtransparent] .picker-keybinding{color:#000}',
""]);h.default=e},7369:function(u,h,e){e.r(h);var k=e(3645);e=e.n(k)()(function(x){return x[1]});e.push([u.id,".excalidraw .Island{--padding: 0;background-color:var(--island-bg-color);box-shadow:var(--shadow-island);border-radius:4px;padding:calc(var(--padding) * var(--space-factor));position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .Island.zen-mode{box-shadow:none}",""]);h.default=e},1434:function(u,h,e){e.r(h);var k=e(3645);e=e.n(k)()(function(x){return x[1]});e.push([u.id,".excalidraw .layer-ui__library{margin:auto;display:flex;align-items:center;justify-content:center}.excalidraw .layer-ui__library .layer-ui__library-header{display:flex;align-items:center;width:100%;margin:2px 0}.excalidraw .layer-ui__library .layer-ui__library-header button{margin:0 2px}.excalidraw .layer-ui__library .layer-ui__library-header a{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-padding-end:18px;padding-inline-end:18px;white-space:nowrap}.excalidraw .layer-ui__library-message{padding:10px 20px;max-width:200px}.excalidraw .layer-ui__library-items{max-height:50vh;overflow:auto}.excalidraw .layer-ui__wrapper{z-index:var(--zIndex-layerUI)}.excalidraw .layer-ui__wrapper__top-right{display:flex}.excalidraw .layer-ui__wrapper__footer{width:100%}.excalidraw .layer-ui__wrapper__footer-right{z-index:100;display:flex}.excalidraw .layer-ui__wrapper .zen-mode-transition{transition:-webkit-transform .5s ease-in-out;transition:transform .5s ease-in-out;transition:transform .5s ease-in-out, -webkit-transform .5s ease-in-out}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{-webkit-transform:translate(-999px, 0);transform:translate(-999px, 0)}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{-webkit-transform:translate(999px, 0);transform:translate(999px, 0)}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{-webkit-transform:translate(999px, 0);transform:translate(999px, 0)}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{-webkit-transform:translate(-999px, 0);transform:translate(-999px, 0)}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.layer-ui__wrapper__footer-left--transition-left{-webkit-transform:translate(-76px, 0);transform:translate(-76px, 0)}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.layer-ui__wrapper__footer-left--transition-left{-webkit-transform:translate(76px, 0);transform:translate(76px, 0)}.excalidraw .layer-ui__wrapper .zen-mode-transition.layer-ui__wrapper__footer-left--transition-bottom{-webkit-transform:translate(0, 92px);transform:translate(0, 92px)}.excalidraw .layer-ui__wrapper .disable-zen-mode{height:30px;position:absolute;bottom:10px;font-size:10px;padding:10px;font-weight:500;opacity:0;visibility:hidden;transition:visibility 0s linear 0s,opacity .5s}[dir\x3dltr] .excalidraw .layer-ui__wrapper .disable-zen-mode{right:15px}[dir\x3drtl] .excalidraw .layer-ui__wrapper .disable-zen-mode{left:15px}.excalidraw .layer-ui__wrapper .disable-zen-mode--visible{opacity:1;visibility:visible;transition:visibility 0s linear 300ms,opacity .5s;transition-delay:.8s}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-center{pointer-events:none}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-center\x3e*{pointer-events:all}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-left,.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-right,.excalidraw .layer-ui__wrapper .disable-zen-mode--visible{pointer-events:all}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-left{margin-bottom:.2em}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-right{margin-top:auto;margin-bottom:auto;-webkit-margin-end:1em;margin-inline-end:1em}",
""]);h.default=e},5644:function(u,h,e){e.r(h);var k=e(3645);e=e.n(k)()(function(x){return x[1]});e.push([u.id,".excalidraw .library-unit{align-items:center;border:1px solid var(--button-gray-2);display:flex;justify-content:center;position:relative;width:63px;height:63px}.excalidraw .library-unit__dragger{display:flex;height:100%;width:100%}.excalidraw .library-unit__dragger\x3esvg{-webkit-filter:var(--theme-filter);filter:var(--theme-filter);flex-grow:1;max-height:100%;max-width:100%}.excalidraw .library-unit__removeFromLibrary,.excalidraw .library-unit__removeFromLibrary:hover,.excalidraw .library-unit__removeFromLibrary:active{align-items:center;background:none;border:none;color:var(--icon-fill-color);display:flex;justify-content:center;margin:0;padding:0;position:absolute;right:5px;top:5px}.excalidraw .library-unit__removeFromLibrary\x3esvg{height:16px;width:16px}.excalidraw .library-unit__pulse{-webkit-transform:scale(1);transform:scale(1);-webkit-animation:library-unit__pulse-animation 1s ease-in infinite;animation:library-unit__pulse-animation 1s ease-in infinite}.excalidraw .library-unit__adder{position:absolute;left:50%;top:50%;width:20px;height:20px;margin-left:-10px;margin-top:-10px;pointer-events:none}.excalidraw .library-unit__active{cursor:pointer}@-webkit-keyframes library-unit__pulse-animation{0%{-webkit-transform:scale(0.95);transform:scale(0.95)}50%{-webkit-transform:scale(1);transform:scale(1)}100%{-webkit-transform:scale(0.95);transform:scale(0.95)}}@keyframes library-unit__pulse-animation{0%{-webkit-transform:scale(0.95);transform:scale(0.95)}50%{-webkit-transform:scale(1);transform:scale(1)}100%{-webkit-transform:scale(0.95);transform:scale(0.95)}}",
""]);h.default=e},6843:function(u,h,e){e.r(h);var k=e(3645);e=e.n(k)()(function(x){return x[1]});e.push([u.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw.excalidraw-modal-container{position:absolute;z-index:10}.excalidraw .Modal{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;overflow:auto;padding:calc(var(--space-factor) * 10)}.excalidraw .Modal__background{position:absolute;top:0;left:0;right:0;bottom:0;z-index:1;background-color:rgba(0,0,0,.7)}.excalidraw .Modal__content{position:relative;z-index:2;width:100%;max-width:var(--max-width);max-height:100%;opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px);-webkit-animation:Modal__content_fade-in .1s ease-out .05s forwards;animation:Modal__content_fade-in .1s ease-out .05s forwards;position:relative;overflow-y:auto;background:var(--island-bg-color);border:1px solid var(--dialog-border-color);box-shadow:0 2px 10px rgba(0,0,0,.25);border-radius:6px;box-sizing:border-box}.excalidraw .Modal__content:focus{outline:none}.excalidraw--mobile.excalidraw .Modal__content{max-width:100%;border:0;border-radius:0}@-webkit-keyframes Modal__content_fade-in{from{opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px)}to{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes Modal__content_fade-in{from{opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px)}to{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}.excalidraw .Modal__close{width:calc(var(--space-factor) * 7);height:calc(var(--space-factor) * 7);display:flex;align-items:center;justify-content:center}.excalidraw .Modal__close svg{height:calc(var(--space-factor) * 5)}.excalidraw--mobile.excalidraw .Modal{padding:0}.excalidraw--mobile.excalidraw .Modal__content{position:absolute;top:0;left:0;right:0;bottom:0}",
""]);h.default=e},8461:function(u,h,e){e.r(h);var k=e(3645);e=e.n(k)()(function(x){return x[1]});e.push([u.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw--mobile.excalidraw .PasteChartDialog .Island{display:flex;flex-direction:column}.excalidraw .PasteChartDialog .container{display:flex;align-items:center;justify-content:space-around;flex-wrap:wrap}.excalidraw--mobile.excalidraw .PasteChartDialog .container{flex-direction:column;justify-content:center}.excalidraw .PasteChartDialog .ChartPreview{margin:8px;text-align:center;width:192px;height:128px;border-radius:2px;padding:1px;border:1px solid #ced4da;display:flex;align-items:center;justify-content:center;background:transparent}.excalidraw .PasteChartDialog .ChartPreview div{display:inline-block}.excalidraw .PasteChartDialog .ChartPreview svg{max-height:120px;max-width:186px}.excalidraw .PasteChartDialog .ChartPreview:hover{padding:0;border:2px solid #339af0}",
""]);h.default=e},9935:function(u,h,e){e.r(h);var k=e(3645);e=e.n(k)()(function(x){return x[1]});e.push([u.id,".excalidraw .popover{position:absolute;z-index:10}",""]);h.default=e},532:function(u,h,e){e.r(h);var k=e(3645);e=e.n(k)()(function(x){return x[1]});e.push([u.id,".ProjectName{margin:auto;display:flex;align-items:center}.ProjectName .TextInput{height:calc(1rem - 3px);width:200px;overflow:hidden;text-align:center;margin-left:8px;text-overflow:ellipsis}.ProjectName .TextInput--readonly{background:none;border:none;width:auto;max-width:200px;padding-left:2px}.ProjectName .TextInput--readonly:hover{background:none}",
""]);h.default=e},3874:function(u,h,e){e.r(h);var k=e(3645);e=e.n(k)()(function(x){return x[1]});e.push([u.id,".excalidraw .Stack{--gap: 0;display:grid;gap:calc(var(--space-factor) * var(--gap))}.excalidraw .Stack_vertical{grid-template-columns:auto;grid-auto-flow:row;grid-auto-rows:-webkit-min-content;grid-auto-rows:min-content}.excalidraw .Stack_horizontal{grid-template-rows:auto;grid-auto-flow:column;grid-auto-columns:-webkit-min-content;grid-auto-columns:min-content}",""]);h.default=e},2681:function(u,
h,e){e.r(h);var k=e(3645);e=e.n(k)()(function(x){return x[1]});e.push([u.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Stats{position:absolute;top:64px;right:12px;font-size:12px;z-index:10}.excalidraw .Stats h3{margin:0 24px 8px 0;white-space:nowrap}.excalidraw .Stats .close{float:right;height:16px;width:16px;cursor:pointer}.excalidraw .Stats .close svg{width:100%;height:100%}.excalidraw .Stats table{width:100%}.excalidraw .Stats table th{border-bottom:1px solid var(--input-border-color);padding:4px}.excalidraw .Stats table tr td:nth-child(2){min-width:24px;text-align:right}:root[dir\x3drtl] .excalidraw .Stats{left:12px;right:initial}:root[dir\x3drtl] .excalidraw .Stats h3{margin:0 0 8px 24px}:root[dir\x3drtl] .excalidraw .Stats .close{float:left}",
""]);h.default=e},6759:function(u,h,e){e.r(h);var k=e(3645);e=e.n(k)()(function(x){return x[1]});e.push([u.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .TextInput{color:var(--text-primary-color);display:inline-block;border:1.5px solid var(--button-gray-1);line-height:1;padding:.75rem;white-space:nowrap;border-radius:var(--space-factor);background-color:var(--input-bg-color)}.excalidraw .TextInput:not(:focus):hover{background-color:var(--input-hover-bg-color)}.excalidraw .TextInput:focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}",
""]);h.default=e},9650:function(u,h,e){e.r(h);var k=e(3645);e=e.n(k)()(function(x){return x[1]});e.push([u.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Toast{-webkit-animation:fade-in .5s;animation:fade-in .5s;background-color:var(--button-gray-1);border-radius:4px;bottom:10px;box-sizing:border-box;cursor:default;left:50%;margin-left:-150px;padding:4px 0;position:absolute;text-align:center;width:300px;z-index:999999}.excalidraw .Toast__message{color:var(--popup-text-color);white-space:pre-wrap}@-webkit-keyframes fade-in{from{opacity:0}to{opacity:1}}@keyframes fade-in{from{opacity:0}to{opacity:1}}",
""]);h.default=e},2044:function(u,h,e){e.r(h);var k=e(3645);e=e.n(k)()(function(x){return x[1]});e.push([u.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .ToolIcon{display:inline-flex;align-items:center;position:relative;font-family:Cascadia;cursor:pointer;-webkit-tap-highlight-color:transparent;border-radius:var(--space-factor);-webkit-user-select:none;user-select:none;background-color:var(--button-gray-1)}.excalidraw .ToolIcon:hover{background-color:var(--button-gray-2)}.excalidraw .ToolIcon:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon--plain{background-color:transparent}.excalidraw .ToolIcon--plain .ToolIcon__icon{width:2rem;height:2rem}.excalidraw .ToolIcon__icon{width:2.5rem;height:2.5rem;color:var(--icon-fill-color);display:flex;justify-content:center;align-items:center;border-radius:var(--space-factor)}.excalidraw .ToolIcon__icon svg{position:relative;height:1em;fill:var(--icon-fill-color);color:var(--icon-fill-color)}.excalidraw .ToolIcon__icon+.ToolIcon__label{-webkit-margin-start:0;margin-inline-start:0}.excalidraw .ToolIcon__label{color:var(--icon-fill-color);font-family:var(--ui-font);margin:0 .8em;text-overflow:ellipsis}.excalidraw .ToolIcon_size_small .ToolIcon__icon{width:2rem;height:2rem;font-size:.8em}.excalidraw .excalidraw .ToolIcon_type_button,.excalidraw .Modal .ToolIcon_type_button,.excalidraw .ToolIcon_type_button{padding:0;border:none;margin:0;font-size:inherit}.excalidraw .excalidraw .ToolIcon_type_button:focus,.excalidraw .Modal .ToolIcon_type_button:focus,.excalidraw .ToolIcon_type_button:focus{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .excalidraw .ToolIcon_type_button.ToolIcon--selected,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected,.excalidraw .ToolIcon_type_button.ToolIcon--selected{background-color:var(--button-gray-2)}.excalidraw .excalidraw .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .ToolIcon_type_button.ToolIcon--selected:active{background-color:var(--button-gray-3)}.excalidraw .excalidraw .ToolIcon_type_button:hover,.excalidraw .Modal .ToolIcon_type_button:hover,.excalidraw .ToolIcon_type_button:hover{background-color:var(--button-gray-2)}.excalidraw .excalidraw .ToolIcon_type_button:active,.excalidraw .Modal .ToolIcon_type_button:active,.excalidraw .ToolIcon_type_button:active{background-color:var(--button-gray-3)}.excalidraw .excalidraw .ToolIcon_type_button--show,.excalidraw .Modal .ToolIcon_type_button--show,.excalidraw .ToolIcon_type_button--show{visibility:visible}.excalidraw .excalidraw .ToolIcon_type_button--hide,.excalidraw .Modal .ToolIcon_type_button--hide,.excalidraw .ToolIcon_type_button--hide{visibility:hidden}.excalidraw .ToolIcon_type_radio,.excalidraw .ToolIcon_type_checkbox{position:absolute;opacity:0;pointer-events:none}.excalidraw .ToolIcon_type_radio:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_radio:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon:active,.excalidraw .ToolIcon_type_checkbox:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon_type_radio:focus+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:focus+.ToolIcon__icon{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .ToolIcon_type_radio:active+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:active+.ToolIcon__icon{background-color:var(--button-gray-3)}.excalidraw .ToolIcon_type_floating{background-color:transparent}.excalidraw .ToolIcon_type_floating:hover{background-color:transparent}.excalidraw .ToolIcon_type_floating:active{background-color:transparent}.excalidraw .ToolIcon_type_floating:focus{box-shadow:none}.excalidraw .ToolIcon_type_floating .ToolIcon__icon{background-color:var(--button-gray-1);width:2rem;height:2em}.excalidraw .ToolIcon_type_floating .ToolIcon__icon:hover{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_floating .ToolIcon__icon:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon.ToolIcon__lock{-webkit-margin-end:var(--space-factor);margin-inline-end:var(--space-factor)}.excalidraw .ToolIcon.ToolIcon__lock.ToolIcon_type_floating{margin-left:.1rem}.excalidraw .ToolIcon__keybinding{position:absolute;bottom:2px;right:3px;font-size:.5em;color:var(--keybinding-color);font-family:var(--ui-font);-webkit-user-select:none;user-select:none}@media(max-width: 425px){.excalidraw .Shape .ToolIcon__icon{width:2rem;height:2rem}.excalidraw .Shape .ToolIcon__icon svg{height:.8em}}@media(max-width: 760px){.excalidraw .ToolIcon.ToolIcon_type_floating{display:inline-block;position:absolute;right:-8px;margin-left:0;border-radius:20px 0 0 20px;z-index:1;background-color:var(--button-gray-1)}.excalidraw .ToolIcon.ToolIcon_type_floating:hover{background-color:var(--button-gray-1)}.excalidraw .ToolIcon.ToolIcon_type_floating:active{background-color:var(--button-gray-2)}.excalidraw .ToolIcon.ToolIcon_type_floating .ToolIcon__icon{border-radius:inherit}.excalidraw .ToolIcon.ToolIcon_type_floating svg{position:static}.excalidraw .ToolIcon.ToolIcon__library{top:100px}.excalidraw .ToolIcon.ToolIcon__lock{-webkit-margin-end:0;margin-inline-end:0;top:60px}}:root[dir\x3dltr] .excalidraw .unlocked-icon{left:2px}:root[dir\x3drtl] .excalidraw .unlocked-icon{right:2px}",
""]);h.default=e},6626:function(u,h,e){e.r(h);var k=e(3645);e=e.n(k)()(function(x){return x[1]});e.push([u.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw-tooltip{position:absolute;z-index:1000;padding:8px;border-radius:6px;box-sizing:border-box;pointer-events:none;word-wrap:break-word;background:#000;line-height:1.5;text-align:center;font-size:13px;font-weight:500;color:#fff;display:none}.excalidraw-tooltip.excalidraw-tooltip--visible{display:block}.excalidraw-tooltip-wrapper{display:flex;height:100%}.excalidraw-tooltip-icon{width:.9em;height:.9em;margin-left:5px;margin-top:1px;display:flex}.excalidraw--mobile.excalidraw-tooltip-icon{display:none}",
""]);h.default=e},6359:function(u,h,e){e.r(h);var k=e(3645);e=e.n(k)()(function(x){return x[1]});e.push([u.id,".excalidraw .UserList{pointer-events:none;padding:var(--space-factor) var(--space-factor) var(--space-factor) var(--space-factor);display:flex;flex-wrap:wrap;justify-content:flex-end}.excalidraw .UserList\x3e*{pointer-events:all;margin:0 0 var(--space-factor) var(--space-factor)}.excalidraw .UserList_mobile{padding:0;justify-content:normal}.excalidraw .UserList_mobile\x3e*{margin:0 var(--space-factor) var(--space-factor) 0}",
""]);h.default=e},9915:function(u,h,e){e.r(h);var k=e(3645);e=e.n(k)()(function(x){return x[1]});e.push([u.id,".visually-hidden{position:absolute !important;height:1px;width:1px;overflow:hidden;clip:rect(1px, 1px, 1px, 1px);white-space:nowrap;-webkit-user-select:none;user-select:none}.LoadingMessage{position:absolute;top:0;right:0;bottom:0;left:0;z-index:999;display:flex;align-items:center;justify-content:center;pointer-events:none}.LoadingMessage span{background-color:var(--button-gray-1);border-radius:5px;padding:.8em 1.2em;color:var(--popup-text-color);font-size:1.3em}",
""]);h.default=e},9310:function(u,h,e){e.r(h);var k=e(3645);e=e.n(k)()(function(x){return x[1]});e.push([u.id,':export{themeFilter:invert(93%) hue-rotate(180deg)}:export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw{--theme-filter: none;--button-destructive-bg-color: #ffe3e3;--button-destructive-color: #c92a2a;--button-gray-1: #e9ecef;--button-gray-2: #ced4da;--button-gray-3: #adb5bd;--button-special-active-bg-color: #ebfbee;--dialog-border-color: #868e96;--dropdown-icon: url(\'data:image/svg+xml,\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"292.4" height\x3d"292.4" viewBox\x3d"0 0 292 292"\x3e\x3cpath d\x3d"M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/\x3e\x3c/svg\x3e\');--focus-highlight-color: #a5d8ff;--icon-fill-color: #000000;--icon-green-fill-color: #2b8a3e;--default-bg-color: #ffffff;--input-bg-color: #ffffff;--input-border-color: #dee2e6;--input-hover-bg-color: #f1f3f5;--input-label-color: #495057;--island-bg-color: rgba(255, 255, 255, 0.96);--keybinding-color: #adb5bd;--link-color: #1c7ed6;--overlay-bg-color: rgba(255, 255, 255, 0.88);--popup-bg-color: #ffffff;--popup-secondary-bg-color: #f1f3f5;--popup-text-color: #000000;--popup-text-inverted-color: #ffffff;--sab: env(safe-area-inset-bottom);--sal: env(safe-area-inset-left);--sar: env(safe-area-inset-right);--sat: env(safe-area-inset-top);--select-highlight-color: #339af0;--shadow-island: 0 1px 5px rgba(0, 0, 0, 0.15);--space-factor: 0.25rem;--text-primary-color: #343a40}.excalidraw.theme--dark{background:#000}.excalidraw.theme--dark.theme--dark-background-none{background:none}.excalidraw.theme--dark{--theme-filter: invert(93%) hue-rotate(180deg);--button-destructive-bg-color: #5a0000;--button-destructive-color: #ffa8a8;--button-gray-1: #363636;--button-gray-2: #272727;--button-gray-3: #222;--button-special-active-bg-color: #204624;--dialog-border-color: #212529;--dropdown-icon: url(\'data:image/svg+xml,\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"292.4" height\x3d"292.4" viewBox\x3d"0 0 292 292"\x3e\x3cpath fill\x3d"%23ced4da" d\x3d"M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/\x3e\x3c/svg\x3e\');--focus-highlight-color: #228be6;--icon-fill-color: #ced4da;--icon-green-fill-color: #69db7c;--default-bg-color: #121212;--input-bg-color: #121212;--input-border-color: #2e2e2e;--input-hover-bg-color: #181818;--input-label-color: #e9ecef;--island-bg-color: rgba(30, 30, 30, 0.98);--keybinding-color: #868e96;--overlay-bg-color: rgba(52, 58, 64, 0.12);--popup-bg-color: #2c2c2c;--popup-secondary-bg-color: #222;--popup-text-color: #ced4da;--popup-text-inverted-color: #2c2c2c;--select-highlight-color: #4dabf7;--shadow-island: 0 1px 5px rgba(0, 0, 0, 0.3);--text-primary-color: #ced4da}:root{--zIndex-canvas: 1;--zIndex-wysiwyg: 2;--zIndex-layerUI: 3}.excalidraw{position:relative;overflow:hidden;color:var(--text-primary-color);display:flex;top:0;bottom:0;left:0;right:0;height:100%;width:100%;-webkit-user-select:none;user-select:none}.excalidraw:focus{outline:none}.excalidraw a{font-weight:500;text-decoration:none;color:var(--link-color)}.excalidraw a:hover{text-decoration:underline}.excalidraw canvas{touch-action:none;image-rendering:pixelated;image-rendering:-moz-crisp-edges;z-index:var(--zIndex-canvas)}.excalidraw__canvas{position:absolute}.excalidraw.theme--dark canvas{-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .FixedSideContainer{padding-top:var(--sat, 0);padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0)}.excalidraw .panelRow{display:flex;justify-content:space-between}.excalidraw .panelColumn{display:flex;flex-direction:column}.excalidraw .panelColumn h3,.excalidraw .panelColumn legend,.excalidraw .panelColumn .control-label{margin-top:.333rem;margin-bottom:.333rem;font-size:.75rem;color:var(--text-primary-color);font-weight:bold;display:block}.excalidraw .panelColumn .control-label input{display:block;width:100%}.excalidraw .panelColumn h3:first-child,.excalidraw .panelColumn legend:first-child,.excalidraw .panelColumn .control-label:first-child{margin-top:0}.excalidraw .panelColumn legend{padding:0}.excalidraw .panelColumn .iconSelectList{flex-wrap:wrap;position:relative}.excalidraw .panelColumn .buttonList{flex-wrap:wrap}.excalidraw .panelColumn .buttonList label{margin-right:.25rem;font-size:.75rem;display:inline-block}.excalidraw .panelColumn .buttonList input[type\x3dradio],.excalidraw .panelColumn .buttonList input[type\x3dbutton]{opacity:0;position:absolute;pointer-events:none}.excalidraw .panelColumn .buttonList .iconRow{margin-top:8px}.excalidraw .panelColumn .buttonList .ToolIcon{margin:0;-webkit-margin-end:8px;margin-inline-end:8px}.excalidraw .panelColumn .buttonList .ToolIcon:focus{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .panelColumn .buttonList .ToolIcon:hover{background-color:var(--button-gray-2)}.excalidraw .panelColumn .buttonList .ToolIcon:active{background-color:var(--button-gray-3)}.excalidraw .panelColumn .buttonList .ToolIcon:disabled{cursor:not-allowed}.excalidraw .panelColumn .buttonList .ToolIcon__icon{width:28px;height:28px}.excalidraw .panelColumn fieldset{margin:0;margin-top:.333rem;padding:0;border:none}.excalidraw .divider{width:1px;background-color:#e9ecef;margin:1px}.excalidraw .buttonList label:focus-within,.excalidraw input:focus{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw button,.excalidraw .buttonList label{-webkit-user-select:none;user-select:none;background-color:var(--button-gray-1);border:0;border-radius:4px;margin:.125rem 0;padding:.25rem;white-space:nowrap;cursor:pointer}.excalidraw button:focus,.excalidraw .buttonList label:focus{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw button:hover,.excalidraw .buttonList label:hover{background-color:var(--button-gray-2)}.excalidraw button:active,.excalidraw .buttonList label:active{background-color:var(--button-gray-3)}.excalidraw button:disabled,.excalidraw .buttonList label:disabled{cursor:not-allowed}.excalidraw .active,.excalidraw .buttonList label.active{background-color:var(--button-gray-2)}.excalidraw .active:hover,.excalidraw .buttonList label.active:hover{background-color:var(--button-gray-2)}.excalidraw .active:active,.excalidraw .buttonList label.active:active{background-color:var(--button-gray-3)}.excalidraw .buttonList.buttonListIcon label{display:inline-flex;justify-content:center;align-items:center}.excalidraw .buttonList.buttonListIcon label svg{width:36px;height:14px;padding:2px;opacity:.6}.excalidraw .buttonList.buttonListIcon label.active svg{opacity:1}.excalidraw .App-top-bar{z-index:var(--zIndex-layerUI);display:flex;flex-direction:column;align-items:center}.excalidraw .App-bottom-bar{position:absolute;top:0;bottom:0;left:0;right:0;--bar-padding: calc(4 * var(--space-factor));padding-top:max(var(--bar-padding), var(--sat,0));padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0);z-index:4;display:flex;align-items:flex-end;pointer-events:none}.excalidraw .App-bottom-bar\x3e.Island{width:100%;max-width:100%;min-width:100%;box-sizing:border-box;max-height:100%;display:flex;flex-direction:column;pointer-events:initial}.excalidraw .App-bottom-bar\x3e.Island .panelColumn{padding:8px 8px 0 8px}.excalidraw .App-toolbar{width:100%;box-sizing:border-box}.excalidraw .App-toolbar-content{display:flex;align-items:center;justify-content:space-between;padding:8px}.excalidraw .App-mobile-menu{width:100%;overflow-x:visible;overflow-y:auto;box-sizing:border-box;margin-bottom:var(--bar-padding)}.excalidraw .App-menu{display:grid;color:var(--icon-fill-color)}.excalidraw .App-menu_top{grid-template-columns:1fr auto 1fr;grid-gap:4px;align-items:flex-start;cursor:default;pointer-events:none !important}.excalidraw .layer-ui__wrapper:not(.disable-pointerEvents) .App-menu_top\x3e*{pointer-events:all}.excalidraw .App-menu_top\x3e*:first-child{justify-self:flex-start}.excalidraw .App-menu_top\x3e*:last-child{justify-self:flex-end}.excalidraw .App-menu_bottom{position:absolute;bottom:0;grid-template-columns:-webkit-min-content auto -webkit-min-content;grid-template-columns:min-content auto min-content;grid-gap:15px;align-items:flex-start;cursor:default;pointer-events:none !important;z-index:100}:root[dir\x3dltr] .excalidraw .App-menu_bottom{left:.25rem}:root[dir\x3drtl] .excalidraw .App-menu_bottom{right:.25rem}.excalidraw .App-menu_bottom--transition-left section{width:185px}.excalidraw .App-menu_bottom section{display:flex}.excalidraw .App-menu_bottom\x3e*:first-child{justify-self:flex-start}.excalidraw .App-menu_bottom\x3e*:last-child{justify-self:flex-end}.excalidraw .App-menu_left{grid-template-rows:1fr auto 1fr;height:100%}.excalidraw .App-menu_right{grid-template-rows:1fr;height:100%}.excalidraw .App-menu__left{overflow-y:auto}.excalidraw .dropdown-select{height:1.5rem;padding:0;-webkit-padding-start:.5rem;padding-inline-start:.5rem;-webkit-padding-end:1.5rem;padding-inline-end:1.5rem;color:var(--icon-fill-color);background-color:var(--button-gray-1);border-radius:var(--space-factor);border:1px solid var(--button-gray-2);font-size:.8rem;outline:none;-webkit-appearance:none;appearance:none;background-image:var(--dropdown-icon);background-repeat:no-repeat;background-position:right .7rem top 50%,0 0;background-size:.65em auto,100%}:root[dir\x3drtl] .excalidraw .dropdown-select{background-position:left .7rem top 50%,0 0}.excalidraw .dropdown-select:focus{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .dropdown-select:hover{background-color:var(--button-gray-2)}.excalidraw .dropdown-select:active{background-color:var(--button-gray-2)}.excalidraw .zIndexButton{margin:0;-webkit-margin-end:8px;margin-inline-end:8px;padding:5px;display:inline-flex;align-items:center;justify-content:center}.excalidraw .zIndexButton svg{width:18px;height:18px}.excalidraw .scroll-back-to-content{color:var(--popup-text-color);position:absolute;left:50%;bottom:30px;-webkit-transform:translateX(-50%);transform:translateX(-50%);padding:10px 20px}.excalidraw .help-icon{display:flex;cursor:pointer;fill:#868e96;padding:0;margin:0;background:none;color:var(--icon-fill-color)}.excalidraw .help-icon svg{width:1.5rem;height:1.5rem}.excalidraw .help-icon:hover{background:none}.excalidraw .reset-zoom-button{padding:.2em;background:transparent;color:var(--text-primary-color);font-family:var(--ui-font)}.excalidraw .undo-redo-buttons{display:grid;grid-auto-flow:column;gap:.4em;margin-top:auto;margin-bottom:auto;-webkit-margin-start:.6em;margin-inline-start:.6em}.excalidraw--mobile.excalidraw aside{display:none}.excalidraw--mobile.excalidraw .scroll-back-to-content{bottom:calc(80px + var(--sab, 0));z-index:-1}:root[dir\x3drtl] .excalidraw .rtl-mirror{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.excalidraw .zen-mode-visibility{visibility:visible;opacity:1;height:auto;width:auto;transition:opacity .5s}.excalidraw .zen-mode-visibility.zen-mode-visibility--hidden{visibility:hidden;opacity:0;height:0;width:0;transition:opacity .5s}.excalidraw .disable-pointerEvents{pointer-events:none !important}.excalidraw.excalidraw--view-mode .App-menu{display:flex;justify-content:space-between}@media print{.excalidraw .App-bottom-bar,.excalidraw .FixedSideContainer,.excalidraw .layer-ui__wrapper{display:none}}.ErrorSplash.excalidraw{min-height:100vh;padding:20px 0;overflow:auto;display:flex;align-items:center;justify-content:center;-webkit-user-select:text;user-select:text}.ErrorSplash.excalidraw .ErrorSplash-messageContainer{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;background-color:#ffe3e3;border:3px solid #c92a2a}.ErrorSplash.excalidraw .ErrorSplash-paragraph{margin:15px 0;max-width:600px}.ErrorSplash.excalidraw .ErrorSplash-paragraph.align-center{text-align:center}.ErrorSplash.excalidraw .bigger,.ErrorSplash.excalidraw .bigger button{font-size:1.1em}.ErrorSplash.excalidraw .smaller,.ErrorSplash.excalidraw .smaller button{font-size:.9em}.ErrorSplash.excalidraw .ErrorSplash-details{display:flex;flex-direction:column;align-items:flex-start}.ErrorSplash.excalidraw .ErrorSplash-details textarea{width:100%;margin:10px 0;font-family:"Cascadia";font-size:.8em}',
""]);h.default=e},6464:function(u,h,e){e.r(h);var k=e(3645);e=e.n(k)()(function(x){return x[1]});e.push([u.id,"",""]);e.locals={themeFilter:"invert(93%) hue-rotate(180deg)"};h.default=e},3645:function(u){u.exports=function(h){var e=[];return e.toString=function(){return this.map(function(k){var x=h(k);return k[2]?"@media ".concat(k[2]," {").concat(x,"}"):x}).join("")},e.i=function(k,x,z){"string"==typeof k&&(k=[[null,k,""]]);var B={};if(z)for(var L=0;L<this.length;L++){var F=this[L][0];null!=F&&(B[F]=
!0)}for(L=0;L<k.length;L++)F=[].concat(k[L]),z&&B[F[0]]||(x&&(F[2]?F[2]="".concat(x," and ").concat(F[2]):F[2]=x),e.push(F))},e}},1667:function(u){u.exports=function(h,e){return e||={},"string"!=typeof(h=h&&h.__esModule?h.default:h)?h:(/^['"].*['"]$/.test(h)&&(h=h.slice(1,-1)),e.hash&&(h+=e.hash),/["'() \t\n]/.test(h)||e.needQuotes?'"'.concat(h.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):h)}},9638:function(u,h,e){h.Z=e.p+"excalidraw-assets/Cascadia.woff2"},7464:function(u,h,e){h.Z=e.p+"excalidraw-assets/Virgil.woff2"},
8288:function(u,h,e){e.d(h,{iC:function(){return x},f:function(){return z},qx:function(){return B},Iw:function(){return L},$e:function(){return F},wZ:function(){return y},ay:function(){return E},oc:function(){return r},Oh:function(){return Y},Ks:function(){return k},Vi:function(){return ia},$C:function(){return R},ut:function(){return da},_D:function(){return N},n5:function(){return U},rk:function(){return K},Hg:function(){return X},hs:function(){return P},k:function(){return V},LO:function(){return J},
r8:function(){return M},pb:function(){return S},Gj:function(){return ca},nM:function(){return xa},Lg:function(){return ba},HM:function(){return qa},V4:function(){return ta},EH:function(){return va},ZF:function(){return Da},UO:function(){return ya},ah:function(){return Ma},cW:function(){return Sa},kV:function(){return Wa},sS:function(){return db},Yx:function(){return Ib},zK:function(){return Fb},ZB:function(){return Sb},qy:function(){return ic}});var k;u=e(8635);e=e.n(u);var x="Excalidraw",z=10,B=
8,L=5,F=1,y=30,E=Math.PI/12,r={TEXT:"text",CROSSHAIR:"crosshair",GRABBING:"grabbing",GRAB:"grab",POINTER:"pointer",MOVE:"move",AUTO:""},Y={MAIN:0,WHEEL:1,SECONDARY:2,TOUCH:-1};!function(Db){Db.COPY="copy";Db.PASTE="paste";Db.CUT="cut";Db.KEYDOWN="keydown";Db.KEYUP="keyup";Db.MOUSE_MOVE="mousemove";Db.RESIZE="resize";Db.UNLOAD="unload";Db.FOCUS="focus";Db.BLUR="blur";Db.DRAG_OVER="dragover";Db.DROP="drop";Db.GESTURE_END="gestureend";Db.BEFORE_UNLOAD="beforeunload";Db.GESTURE_START="gesturestart";Db.GESTURE_CHANGE=
"gesturechange";Db.POINTER_MOVE="pointermove";Db.POINTER_UP="pointerup";Db.STATE_CHANGE="statechange";Db.WHEEL="wheel";Db.TOUCH_START="touchstart";Db.TOUCH_END="touchend";Db.HASHCHANGE="hashchange";Db.VISIBILITY_CHANGE="visibilitychange";Db.SCROLL="scroll"}(k||={});var ia={TEST:"test",DEVELOPMENT:"development"},R={SHAPE_ACTIONS_MENU:"App-menu__left"},da={Virgil:1,Helvetica:2,Cascadia:3},N="Segoe UI Emoji",U=20,K=da.Virgil,X="left",P="top",V=20,J={excalidraw:"application/vnd.excalidraw+json",excalidrawlib:"application/vnd.excalidrawlib+json"},
M={excalidraw:"excalidraw",excalidrawClipboard:"excalidraw/clipboard",excalidrawLibrary:"excalidrawlib"},S=window.location.origin,ca=300,xa=500,ba=5E3,qa=100,ta=.1,va={VIEW:"viewMode",ZEN:"zenMode",GRID:"gridMode"},Da=e().themeFilter,ya={addLibrary:"addLibrary"},Ma={addLibrary:"addLibrary"},Sa={canvasActions:{changeViewBackgroundColor:!0,clearCanvas:!0,export:{saveFileToDisk:!0},loadScene:!0,saveToActiveFile:!0,theme:!0,saveAsImage:!0}},Wa=730,db=1E3,Ib=500,Fb=2,Sb=[1,2,3],ic=10},21:function(u,h,
e){function k(aa,v){if(!(aa instanceof v))throw new TypeError("Cannot call a class as a function");}function x(aa,v){for(var D=0;D<v.length;D++){var T=v[D];T.enumerable=T.enumerable||!1;T.configurable=!0;"value"in T&&(T.writable=!0);Object.defineProperty(aa,T.key,T)}}function z(aa,v,D){return v&&x(aa.prototype,v),D&&x(aa,D),aa}function B(aa,v){return(B=Object.setPrototypeOf||function(D,T){return D.__proto__=T,D})(aa,v)}function L(aa,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function");
aa.prototype=Object.create(v&&v.prototype,{constructor:{value:aa,writable:!0,configurable:!0}});v&&B(aa,v)}function F(aa){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(v){return typeof v}:function(v){return v&&"function"==typeof Symbol&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(aa)}function y(aa){if(void 0===aa)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return aa}function E(aa,v){return!v||"object"!==
F(v)&&"function"!=typeof v?y(aa):v}function r(aa){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(v){return v.__proto__||Object.getPrototypeOf(v)})(aa)}function Y(aa){var v=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(D){return!1}}();return function(){var D=r(aa);if(v){var T=r(this).constructor;D=Reflect.construct(D,
arguments,T)}else D=D.apply(this,arguments);return E(this,D)}}function ia(aa,v){(null==v||v>aa.length)&&(v=aa.length);for(var D=0,T=Array(v);D<v;D++)T[D]=aa[D];return T}function R(aa,v){if(aa){if("string"==typeof aa)return ia(aa,v);var D=Object.prototype.toString.call(aa).slice(8,-1);return"Object"===D&&aa.constructor&&(D=aa.constructor.name),"Map"===D||"Set"===D?Array.from(aa):"Arguments"===D||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(D)?ia(aa,v):void 0}}function da(aa,v){if(!(aa=function(D){if(Array.isArray(D))return D}(aa)||
function(D,T){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(D)){var A=[],ma=!0,sa=!1,ha=void 0;try{for(var ua,za=D[Symbol.iterator]();!(ma=(ua=za.next()).done)&&(A.push(ua.value),!T||A.length!==T);ma=!0);}catch(Aa){sa=!0,ha=Aa}finally{try{ma||null==za.return||za.return()}finally{if(sa)throw ha;}}return A}}(aa,v)||R(aa,v)))throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");return aa}
function N(aa){var v=Array.isArray(aa)?ia(aa):void 0;v||(v="undefined"!=typeof Symbol&&Symbol.iterator in Object(aa)?Array.from(aa):void 0);if(!(aa=v||R(aa)))throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");return aa}function U(aa,v,D){return v in aa?Object.defineProperty(aa,v,{value:D,enumerable:!0,configurable:!0,writable:!0}):aa[v]=D,aa}function K(aa,v,D){if(aa&&aa.length){const [T,A]=v;v=
Math.PI/180*D;const ma=Math.cos(v),sa=Math.sin(v);aa.forEach(ha=>{const [ua,za]=ha;ha[0]=(ua-T)*ma-(za-A)*sa+T;ha[1]=(ua-T)*sa+(za-A)*ma+A})}}function X(aa){const v=aa[0];aa=aa[1];return Math.sqrt(Math.pow(v[0]-aa[0],2)+Math.pow(v[1]-aa[1],2))}function P(aa,v,D,T){const A=v[1]-aa[1];v=aa[0]-v[0];aa=A*aa[0]+v*aa[1];const ma=T[1]-D[1];T=D[0]-T[0];D=ma*D[0]+T*D[1];const sa=A*T-ma*v;return sa?[(T*aa-v*D)/sa,(A*D-ma*aa)/sa]:null}function V(aa,v,D){const T=aa.length;if(3>T)return!1;const A=[Number.MAX_SAFE_INTEGER,
D];v=[v,D];D=0;for(let ma=0;ma<T;ma++){const sa=aa[ma],ha=aa[(ma+1)%T];if(S(sa,ha,v,A)){if(0===M(sa,v,ha))return J(sa,v,ha);D++}}return 1==D%2}function J(aa,v,D){return v[0]<=Math.max(aa[0],D[0])&&v[0]>=Math.min(aa[0],D[0])&&v[1]<=Math.max(aa[1],D[1])&&v[1]>=Math.min(aa[1],D[1])}function M(aa,v,D){aa=(v[1]-aa[1])*(D[0]-v[0])-(v[0]-aa[0])*(D[1]-v[1]);return 0===aa?0:0<aa?1:2}function S(aa,v,D,T){const A=M(aa,v,D),ma=M(aa,v,T),sa=M(D,T,aa),ha=M(D,T,v);return A!==ma&&sa!==ha||!(0!==A||!J(aa,D,v))||!(0!==
ma||!J(aa,T,v))||!(0!==sa||!J(D,aa,T))||!(0!==ha||!J(D,v,T))}function ca(aa,v){const D=[0,0],T=Math.round(v.hachureAngle+90);T&&K(aa,D,T);v=function(A,ma){var sa=[...A];sa[0].join(",")!==sa[sa.length-1].join(",")&&sa.push([sa[0][0],sa[0][1]]);A=[];if(sa&&2<sa.length){let ua=ma.hachureGap;0>ua&&(ua=4*ma.strokeWidth);ua=Math.max(ua,.1);ma=[];for(var ha=0;ha<sa.length-1;ha++){const Ha=sa[ha],Ua=sa[ha+1];if(Ha[1]!==Ua[1]){const Ya=Math.min(Ha[1],Ua[1]);ma.push({ymin:Ya,ymax:Math.max(Ha[1],Ua[1]),x:Ya===
Ha[1]?Ha[0]:Ua[0],islope:(Ua[0]-Ha[0])/(Ua[1]-Ha[1])})}}if(ma.sort((Ha,Ua)=>Ha.ymin<Ua.ymin?-1:Ha.ymin>Ua.ymin?1:Ha.x<Ua.x?-1:Ha.x>Ua.x?1:Ha.ymax===Ua.ymax?0:(Ha.ymax-Ua.ymax)/Math.abs(Ha.ymax-Ua.ymax)),!ma.length)return A;let za=[],Aa=ma[0].ymin;for(;za.length||ma.length;){if(ma.length){sa=-1;for(ha=0;ha<ma.length&&!(ma[ha].ymin>Aa);ha++)sa=ha;ma.splice(0,sa+1).forEach(Ha=>{za.push({s:Aa,edge:Ha})})}if(za=za.filter(Ha=>!(Ha.edge.ymax<=Aa)),za.sort((Ha,Ua)=>Ha.edge.x===Ua.edge.x?0:(Ha.edge.x-Ua.edge.x)/
Math.abs(Ha.edge.x-Ua.edge.x)),1<za.length)for(sa=0;sa<za.length;sa+=2){ha=sa+1;if(ha>=za.length)break;A.push([[Math.round(za[sa].edge.x),Aa],[Math.round(za[ha].edge.x),Aa]])}Aa+=ua;za.forEach(Ha=>{Ha.edge.x+=ua*Ha.edge.islope})}}return A}(aa,v);return T&&(K(aa,D,-T),function(A,ma,sa){const ha=[];A.forEach(ua=>ha.push(...ua));K(ha,ma,sa)}(v,D,-T)),v}function xa(aa){const v=[];a:{var D=aa;for(var T=[];""!==D;){if(!D.match(/^([ \t\r\n,]+)/))if(D.match(/^([aAcChHlLmMqQsStTvVzZ])/))T[T.length]={type:0,
text:RegExp.$1};else{if(!D.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/)){D=[];break a}T[T.length]={type:1,text:`${parseFloat(RegExp.$1)}`}}D=D.substr(RegExp.$1.length)}D=(T[T.length]={type:2,text:""},T)}T="BOD";let A=0;for(var ma=D[A];2!==ma.type;){let sa=0;const ha=[];if("BOD"===T){if("M"!==ma.text&&"m"!==ma.text)return xa("M0,0"+aa);A++;sa=ck[ma.text];T=ma.text}else 1===ma.type?sa=ck[T]:(A++,sa=ck[ma.text],T=ma.text);if(!(A+sa<D.length))throw Error("Path data ended short");
for(ma=A;ma<A+sa;ma++){const ua=D[ma];if(1!==ua.type)throw Error("Param not a number: "+T+","+ua.text);ha[ha.length]=+ua.text}if("number"!=typeof ck[T])throw Error("Bad segment: "+T);v.push({key:T,data:ha});A+=sa;ma=D[A];"M"===T&&(T="L");"m"===T&&(T="l")}return v}function ba(aa){let v=0,D=0,T=0,A=0;const ma=[];for(const {key:sa,data:ha}of aa)switch(sa){case "M":ma.push({key:"M",data:[...ha]});[v,D]=ha;[T,A]=ha;break;case "m":v+=ha[0];D+=ha[1];ma.push({key:"M",data:[v,D]});T=v;A=D;break;case "L":ma.push({key:"L",
data:[...ha]});[v,D]=ha;break;case "l":v+=ha[0];D+=ha[1];ma.push({key:"L",data:[v,D]});break;case "C":ma.push({key:"C",data:[...ha]});v=ha[4];D=ha[5];break;case "c":aa=ha.map((ua,za)=>za%2?ua+D:ua+v);ma.push({key:"C",data:aa});v=aa[4];D=aa[5];break;case "Q":ma.push({key:"Q",data:[...ha]});v=ha[2];D=ha[3];break;case "q":aa=ha.map((ua,za)=>za%2?ua+D:ua+v);ma.push({key:"Q",data:aa});v=aa[2];D=aa[3];break;case "A":ma.push({key:"A",data:[...ha]});v=ha[5];D=ha[6];break;case "a":v+=ha[5];D+=ha[6];ma.push({key:"A",
data:[ha[0],ha[1],ha[2],ha[3],ha[4],v,D]});break;case "H":ma.push({key:"H",data:[...ha]});v=ha[0];break;case "h":v+=ha[0];ma.push({key:"H",data:[v]});break;case "V":ma.push({key:"V",data:[...ha]});D=ha[0];break;case "v":D+=ha[0];ma.push({key:"V",data:[D]});break;case "S":ma.push({key:"S",data:[...ha]});v=ha[2];D=ha[3];break;case "s":aa=ha.map((ua,za)=>za%2?ua+D:ua+v);ma.push({key:"S",data:aa});v=aa[2];D=aa[3];break;case "T":ma.push({key:"T",data:[...ha]});v=ha[0];D=ha[1];break;case "t":v+=ha[0];D+=
ha[1];ma.push({key:"T",data:[v,D]});break;case "Z":case "z":ma.push({key:"Z",data:[]}),v=T,D=A}return ma}function qa(aa){const v=[];var D="";let T=0,A=0,ma=0,sa=0,ha=0,ua=0;for(const {key:Aa,data:Ha}of aa){switch(Aa){case "M":v.push({key:"M",data:[...Ha]});[T,A]=Ha;[ma,sa]=Ha;break;case "C":v.push({key:"C",data:[...Ha]});T=Ha[4];A=Ha[5];ha=Ha[2];ua=Ha[3];break;case "L":v.push({key:"L",data:[...Ha]});[T,A]=Ha;break;case "H":T=Ha[0];v.push({key:"L",data:[T,A]});break;case "V":A=Ha[0];v.push({key:"L",
data:[T,A]});break;case "S":var za=aa=0;"C"===D||"S"===D?(aa=T+(T-ha),za=A+(A-ua)):(aa=T,za=A);v.push({key:"C",data:[aa,za,...Ha]});ha=Ha[0];ua=Ha[1];T=Ha[2];A=Ha[3];break;case "T":const [Ua,Ya]=Ha;za=aa=0;"Q"===D||"T"===D?(aa=T+(T-ha),za=A+(A-ua)):(aa=T,za=A);v.push({key:"C",data:[T+2*(aa-T)/3,A+2*(za-A)/3,Ua+2*(aa-Ua)/3,Ya+2*(za-Ya)/3,Ua,Ya]});ha=aa;ua=za;T=Ua;A=Ya;break;case "Q":const [ob,Bb,Rb,hc]=Ha;v.push({key:"C",data:[T+2*(ob-T)/3,A+2*(Bb-A)/3,Rb+2*(ob-Rb)/3,hc+2*(Bb-hc)/3,Rb,hc]});ha=ob;
ua=Bb;T=Rb;A=hc;break;case "A":D=Math.abs(Ha[0]);aa=Math.abs(Ha[1]);za=Ha[2];const mc=Ha[3],Tc=Ha[4],Xc=Ha[5],Pc=Ha[6];if(0===D||0===aa)v.push({key:"C",data:[T,A,Xc,Pc,Xc,Pc]}),T=Xc,A=Pc;else if(T!==Xc||A!==Pc)va(T,A,Xc,Pc,D,aa,za,mc,Tc).forEach(function(Zc){v.push({key:"C",data:Zc})}),T=Xc,A=Pc;break;case "Z":v.push({key:"Z",data:[]}),T=ma,A=sa}D=Aa}return v}function ta(aa,v,D){return[aa*Math.cos(D)-v*Math.sin(D),aa*Math.sin(D)+v*Math.cos(D)]}function va(aa,v,D,T,A,ma,sa,ha,ua,za){const Aa=(Ha=sa,
Math.PI*Ha/180);var Ha;Ha=[];if(za)[ha,Ua,Ya,ob]=za;else{[aa,v]=ta(aa,v,-Aa);[D,T]=ta(D,T,-Aa);var Ua=(aa-D)/2;var Ya=(v-T)/2;var ob=Ua*Ua/(A*A)+Ya*Ya/(ma*ma);1<ob&&(ob=Math.sqrt(ob),A*=ob,ma*=ob);ob=A*A;var Bb=ma*ma;ha=(ha===ua?-1:1)*Math.sqrt(Math.abs((ob*Bb-ob*Ya*Ya-Bb*Ua*Ua)/(ob*Ya*Ya+Bb*Ua*Ua)));Ya=ha*A*Ya/ma+(aa+D)/2;ob=ha*-ma*Ua/A+(v+T)/2;ha=Math.asin(parseFloat(((v-ob)/ma).toFixed(9)));Ua=Math.asin(parseFloat(((T-ob)/ma).toFixed(9)));aa<Ya&&(ha=Math.PI-ha);D<Ya&&(Ua=Math.PI-Ua);0>ha&&(ha=
2*Math.PI+ha);0>Ua&&(Ua=2*Math.PI+Ua);ua&&ha>Ua&&(ha-=2*Math.PI);!ua&&Ua>ha&&(Ua-=2*Math.PI)}if(Math.abs(Ua-ha)>120*Math.PI/180){Bb=Ua;const Rb=D,hc=T;Ua=ua&&Ua>ha?ha+120*Math.PI/180:ha+120*Math.PI/180*-1;Ha=va(D=Ya+A*Math.cos(Ua),T=ob+ma*Math.sin(Ua),Rb,hc,A,ma,sa,0,ua,[Ua,Bb,Ya,ob])}sa=Math.tan((Ua-ha)/4);A=4/3*A*sa;sa*=4/3*ma;ma=[aa,v];aa=[aa+A*Math.sin(ha),v-sa*Math.cos(ha)];v=[D+A*Math.sin(Ua),T-sa*Math.cos(Ua)];D=[D,T];if(aa[0]=2*ma[0]-aa[0],aa[1]=2*ma[1]-aa[1],za)return[aa,v,D].concat(Ha);
Ha=[aa,v,D].concat(Ha);za=[];for(D=0;D<Ha.length;D+=3)T=ta(Ha[D][0],Ha[D][1],Aa),aa=ta(Ha[D+1][0],Ha[D+1][1],Aa),v=ta(Ha[D+2][0],Ha[D+2][1],Aa),za.push([T[0],T[1],aa[0],aa[1],v[0],v[1]]);return za}function Da(aa,v,D){const T=(aa||[]).length;if(2<T){const A=[];for(let ma=0;ma<T-1;ma++)A.push(...Db(aa[ma][0],aa[ma][1],aa[ma+1][0],aa[ma+1][1],D));return v&&A.push(...Db(aa[T-1][0],aa[T-1][1],aa[0][0],aa[0][1],D)),{type:"path",ops:A}}return 2===T?{type:"path",ops:Db(aa[0][0],aa[0][1],aa[1][0],aa[1][1],
D)}:{type:"path",ops:[]}}function ya(aa,v){let D=Zb(aa,1+.2*v.roughness,v);if(!v.disableMultiStroke){var T=1.5*(1+.22*v.roughness);const A=Object.assign({},v);A.randomizer=void 0;v.seed&&(A.seed=v.seed+1);aa=Zb(aa,T,A);D=D.concat(aa)}return{type:"path",ops:D}}function Ma(aa,v,D){const T=2*Math.PI/Math.max(D.curveStepCount,D.curveStepCount/Math.sqrt(200)*Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(aa/2,2)+Math.pow(v/2,2))/2)));aa=Math.abs(aa/2);v=Math.abs(v/2);const A=1-D.curveFitting;return aa+=ic(aa*
A,D),v+=ic(v*A,D),{increment:T,rx:aa,ry:v}}function Sa(aa,v,D,T){const [A,ma]=hb(T.increment,aa,v,T.rx,T.ry,1,T.increment*Sb(.1,Sb(.4,1,D),D),D);let sa=zb(A,null,D);D.disableMultiStroke||([aa]=hb(T.increment,aa,v,T.rx,T.ry,1.5,0,D),D=zb(aa,null,D),sa=sa.concat(D));return{estimatedPoints:ma,opset:{type:"path",ops:sa}}}function Wa(aa,v,D,T,A,ma,sa,ha,ua){D=Math.abs(D/2);T=Math.abs(T/2);D+=ic(.01*D,ua);for(T+=ic(.01*T,ua);0>A;)A+=2*Math.PI,ma+=2*Math.PI;ma-A>2*Math.PI&&(A=0,ma=2*Math.PI);var za=Math.min(2*
Math.PI/ua.curveStepCount/2,(ma-A)/2);const Aa=ib(za,aa,v,D,T,A,ma,1,ua);ua.disableMultiStroke||(za=ib(za,aa,v,D,T,A,ma,1.5,ua),Aa.push(...za));return sa&&(ha?Aa.push(...Db(aa,v,aa+D*Math.cos(A),v+T*Math.sin(A),ua),...Db(aa,v,aa+D*Math.cos(ma),v+T*Math.sin(ma),ua)):Aa.push({op:"lineTo",data:[aa,v]},{op:"lineTo",data:[aa+D*Math.cos(A),v+T*Math.sin(A)]})),{type:"path",ops:Aa}}function db(aa,v){const D=[];if(aa.length){const T=v.maxRandomnessOffset||0,A=aa.length;if(2<A){D.push({op:"move",data:[aa[0][0]+
ic(T,v),aa[0][1]+ic(T,v)]});for(let ma=1;ma<A;ma++)D.push({op:"lineTo",data:[aa[ma][0]+ic(T,v),aa[ma][1]+ic(T,v)]})}}return{type:"fillPath",ops:D}}function Ib(aa,v){var D=ln;let T=v.fillStyle||"hachure";if(!Ah[T])switch(T){case "zigzag":Ah[T]||(Ah[T]=new Hi(D));break;case "cross-hatch":Ah[T]||(Ah[T]=new mh(D));break;case "dots":Ah[T]||(Ah[T]=new Ii(D));break;case "dashed":Ah[T]||(Ah[T]=new ug(D));break;case "zigzag-line":Ah[T]||(Ah[T]=new ii(D));break;default:T="hachure",Ah[T]||(Ah[T]=new Of(D))}return Ah[T].fillPolygon(aa,
v)}function Fb(aa){return aa.randomizer||(aa.randomizer=new pi(aa.seed||0)),aa.randomizer.next()}function Sb(aa,v,D,T=1){return D.roughness*T*(Fb(D)*(v-aa)+aa)}function ic(aa,v,D=1){return Sb(-aa,aa,v,D)}function Db(aa,v,D,T,A,ma=!1){const sa=ma?A.disableMultiStrokeFill:A.disableMultiStroke;ma=ec(aa,v,D,T,A,!0,!1);if(sa)return ma;aa=ec(aa,v,D,T,A,!0,!0);return ma.concat(aa)}function ec(aa,v,D,T,A,ma,sa){var ha=Math.pow(aa-D,2)+Math.pow(v-T,2),ua=Math.sqrt(ha);let za;za=200>ua?1:500<ua?.4:-.0016668*
ua+1.233334;let Aa=A.maxRandomnessOffset||0;Aa*Aa*100>ha&&(Aa=ua/10);ha=Aa/2;ua=.2+.2*Fb(A);let Ha=A.bowing*A.maxRandomnessOffset*(T-v)/200,Ua=A.bowing*A.maxRandomnessOffset*(aa-D)/200;Ha=ic(Ha,A,za);Ua=ic(Ua,A,za);const Ya=[],ob=A.preserveVertices;return ma&&(sa?Ya.push({op:"move",data:[aa+(ob?0:ic(ha,A,za)),v+(ob?0:ic(ha,A,za))]}):Ya.push({op:"move",data:[aa+(ob?0:ic(Aa,A,za)),v+(ob?0:ic(Aa,A,za))]})),sa?Ya.push({op:"bcurveTo",data:[Ha+aa+(D-aa)*ua+ic(ha,A,za),Ua+v+(T-v)*ua+ic(ha,A,za),Ha+aa+2*
(D-aa)*ua+ic(ha,A,za),Ua+v+2*(T-v)*ua+ic(ha,A,za),D+(ob?0:ic(ha,A,za)),T+(ob?0:ic(ha,A,za))]}):Ya.push({op:"bcurveTo",data:[Ha+aa+(D-aa)*ua+ic(Aa,A,za),Ua+v+(T-v)*ua+ic(Aa,A,za),Ha+aa+2*(D-aa)*ua+ic(Aa,A,za),Ua+v+2*(T-v)*ua+ic(Aa,A,za),D+(ob?0:ic(Aa,A,za)),T+(ob?0:ic(Aa,A,za))]}),Ya}function Zb(aa,v,D){const T=[];T.push([aa[0][0]+ic(v,D),aa[0][1]+ic(v,D)]);T.push([aa[0][0]+ic(v,D),aa[0][1]+ic(v,D)]);for(let A=1;A<aa.length;A++)T.push([aa[A][0]+ic(v,D),aa[A][1]+ic(v,D)]),A===aa.length-1&&T.push([aa[A][0]+
ic(v,D),aa[A][1]+ic(v,D)]);return zb(T,null,D)}function zb(aa,v,D){const T=aa.length,A=[];if(3<T){const ma=[],sa=1-D.curveTightness;A.push({op:"move",data:[aa[1][0],aa[1][1]]});for(let ha=1;ha+2<T;ha++){const ua=aa[ha];ma[0]=[ua[0],ua[1]];ma[1]=[ua[0]+(sa*aa[ha+1][0]-sa*aa[ha-1][0])/6,ua[1]+(sa*aa[ha+1][1]-sa*aa[ha-1][1])/6];ma[2]=[aa[ha+1][0]+(sa*aa[ha][0]-sa*aa[ha+2][0])/6,aa[ha+1][1]+(sa*aa[ha][1]-sa*aa[ha+2][1])/6];ma[3]=[aa[ha+1][0],aa[ha+1][1]];A.push({op:"bcurveTo",data:[ma[1][0],ma[1][1],
ma[2][0],ma[2][1],ma[3][0],ma[3][1]]})}v&&2===v.length&&(aa=D.maxRandomnessOffset,A.push({op:"lineTo",data:[v[0]+ic(aa,D),v[1]+ic(aa,D)]}))}else 3===T?(A.push({op:"move",data:[aa[1][0],aa[1][1]]}),A.push({op:"bcurveTo",data:[aa[1][0],aa[1][1],aa[2][0],aa[2][1],aa[2][0],aa[2][1]]})):2===T&&A.push(...Db(aa[0][0],aa[0][1],aa[1][0],aa[1][1],D));return A}function hb(aa,v,D,T,A,ma,sa,ha){const ua=[],za=[],Aa=ic(.5,ha)-Math.PI/2;za.push([ic(ma,ha)+v+.9*T*Math.cos(Aa-aa),ic(ma,ha)+D+.9*A*Math.sin(Aa-aa)]);
for(let Ha=Aa;Ha<2*Math.PI+Aa-.01;Ha+=aa){const Ua=[ic(ma,ha)+v+T*Math.cos(Ha),ic(ma,ha)+D+A*Math.sin(Ha)];ua.push(Ua);za.push(Ua)}return za.push([ic(ma,ha)+v+T*Math.cos(Aa+2*Math.PI+.5*sa),ic(ma,ha)+D+A*Math.sin(Aa+2*Math.PI+.5*sa)]),za.push([ic(ma,ha)+v+.98*T*Math.cos(Aa+sa),ic(ma,ha)+D+.98*A*Math.sin(Aa+sa)]),za.push([ic(ma,ha)+v+.9*T*Math.cos(Aa+.5*sa),ic(ma,ha)+D+.9*A*Math.sin(Aa+.5*sa)]),[za,ua]}function ib(aa,v,D,T,A,ma,sa,ha,ua){var za=ma+ic(.1,ua);ma=[];for(ma.push([ic(ha,ua)+v+.9*T*Math.cos(za-
aa),ic(ha,ua)+D+.9*A*Math.sin(za-aa)]);za<=sa;za+=aa)ma.push([ic(ha,ua)+v+T*Math.cos(za),ic(ha,ua)+D+A*Math.sin(za)]);return ma.push([v+T*Math.cos(sa),D+A*Math.sin(sa)]),ma.push([v+T*Math.cos(sa),D+A*Math.sin(sa)]),zb(ma,null,ua)}function La(aa,v,D,T,A,ma,sa,ha){const ua=[],za=[ha.maxRandomnessOffset||1,(ha.maxRandomnessOffset||1)+.3];let Aa;const Ha=ha.disableMultiStroke?1:2,Ua=ha.preserveVertices;for(let Ya=0;Ya<Ha;Ya++)0===Ya?ua.push({op:"move",data:[sa[0],sa[1]]}):ua.push({op:"move",data:[sa[0]+
(Ua?0:ic(za[0],ha)),sa[1]+(Ua?0:ic(za[0],ha))]}),Aa=Ua?[A,ma]:[A+ic(za[Ya],ha),ma+ic(za[Ya],ha)],ua.push({op:"bcurveTo",data:[aa+ic(za[Ya],ha),v+ic(za[Ya],ha),D+ic(za[Ya],ha),T+ic(za[Ya],ha),Aa[0],Aa[1]]});return ua}function Ja(aa,v){return Math.pow(aa[0]-v[0],2)+Math.pow(aa[1]-v[1],2)}function Ta(aa,v,D){return[aa[0]+(v[0]-aa[0])*D,aa[1]+(v[1]-aa[1])*D]}function lb(aa,v,D,T){T=T||[];var A=aa[v+0],ma=aa[v+1],sa=aa[v+2];const ha=aa[v+3];var ua=3*ma[0]-2*A[0]-ha[0];ua*=ua;ma=3*ma[1]-2*A[1]-ha[1];ma*=
ma;let za=3*sa[0]-2*ha[0]-A[0];za*=za;A=3*sa[1]-2*ha[1]-A[1];(A*=A,ua<za&&(ua=za),ma<A&&(ma=A),ua+ma)<D?(D=aa[v+0],T.length?1<(Aa=T[T.length-1],Ha=D,Math.sqrt(Ja(Aa,Ha)))&&T.push(D):T.push(D),T.push(aa[v+3])):(Aa=aa[v+0],ua=aa[v+1],Ha=aa[v+2],aa=aa[v+3],v=Ta(Aa,ua,.5),A=Ta(ua,Ha,.5),Ha=Ta(Ha,aa,.5),ua=Ta(v,A,.5),A=Ta(A,Ha,.5),sa=Ta(ua,A,.5),lb([Aa,v,ua,sa],0,D,T),lb([sa,A,Ha,aa],0,D,T));var Aa,Ha;return T}function Yb(aa,v,D,T,A){A=A||[];const ma=aa[v],sa=aa[D-1];let ha=0,ua=1;for(let Ya=v+1;Ya<D-
1;++Ya){a:{var za=aa[Ya],Aa=ma,Ha=sa;var Ua=Ja(Aa,Ha);if(0===Ua){Ua=Ja(za,Aa);break a}let ob=((za[0]-Aa[0])*(Ha[0]-Aa[0])+(za[1]-Aa[1])*(Ha[1]-Aa[1]))/Ua;Ua=(ob=Math.max(0,Math.min(1,ob)),Ja(za,Ta(Aa,Ha,ob)))}za=Ua;za>ha&&(ha=za,ua=Ya)}return Math.sqrt(ha)>T?(Yb(aa,v,ua+1,T,A),Yb(aa,ua,D,T,A)):(A.length||A.push(ma),A.push(sa)),A}function Ub(aa,v=.15,D){const T=[],A=(aa.length-1)/3;for(let ma=0;ma<A;ma++)lb(aa,3*ma,v,T);return D&&0<D?Yb(T,0,T.length,D):T}function Kc(aa){var v,D,T="";if("string"==typeof aa||
"number"==typeof aa)T+=aa;else if("object"==typeof aa)if(Array.isArray(aa))for(v=0;v<aa.length;v++)aa[v]&&(D=Kc(aa[v]))&&(T&&(T+=" "),T+=D);else for(v in aa)aa[v]&&(T&&(T+=" "),T+=v);return T}function Dc(){for(var aa,v,D=0,T="";D<arguments.length;)(aa=arguments[D++])&&(v=Kc(aa))&&(T&&(T+=" "),T+=v);return T}function Hc(aa,v){var D="undefined"!=typeof Symbol&&aa[Symbol.iterator]||aa["@@iterator"];if(!D){if(Array.isArray(aa)||(D=function(ha,ua){if(ha){if("string"==typeof ha)return Mc(ha,ua);var za=
Object.prototype.toString.call(ha).slice(8,-1);"Object"===za&&ha.constructor&&(za=ha.constructor.name);if("Map"===za||"Set"===za)return Array.from(ha);if("Arguments"===za||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(za))return Mc(ha,ua)}}(aa))||v&&aa&&"number"==typeof aa.length){D&&(aa=D);var T=0;v=function(){};return{s:v,n:function(){return T>=aa.length?{done:!0}:{done:!1,value:aa[T++]}},e:function(ha){throw ha;},f:v}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}var A,ma=!0,sa=!1;return{s:function(){D=D.call(aa)},n:function(){var ha=D.next();return ma=ha.done,ha},e:function(ha){sa=!0;A=ha},f:function(){try{ma||null==D.return||D.return()}finally{if(sa)throw A;}}}}function Mc(aa,v){(null==v||v>aa.length)&&(v=aa.length);for(var D=0,T=Array(v);D<v;D++)T[D]=aa[D];return T}function rd(aa,v){var D="undefined"!=typeof Symbol&&aa[Symbol.iterator]||aa["@@iterator"];if(!D){if(Array.isArray(aa)||(D=function(ha,ua){if(ha){if("string"==typeof ha)return Td(ha,ua);var za=
Object.prototype.toString.call(ha).slice(8,-1);"Object"===za&&ha.constructor&&(za=ha.constructor.name);if("Map"===za||"Set"===za)return Array.from(ha);if("Arguments"===za||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(za))return Td(ha,ua)}}(aa))||v&&aa&&"number"==typeof aa.length){D&&(aa=D);var T=0;v=function(){};return{s:v,n:function(){return T>=aa.length?{done:!0}:{done:!1,value:aa[T++]}},e:function(ha){throw ha;},f:v}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}var A,ma=!0,sa=!1;return{s:function(){D=D.call(aa)},n:function(){var ha=D.next();return ma=ha.done,ha},e:function(ha){sa=!0;A=ha},f:function(){try{ma||null==D.return||D.return()}finally{if(sa)throw A;}}}}function Td(aa,v){(null==v||v>aa.length)&&(v=aa.length);for(var D=0,T=Array(v);D<v;D++)T[D]=aa[D];return T}function ud(aa,v,D,T=A=>A){return aa*T(.5-v*(.5-D))}function ze(aa,v){return[aa[0]+v[0],aa[1]+v[1]]}function Ee(aa,v){return[aa[0]-v[0],aa[1]-v[1]]}function xd(aa,v){return[aa[0]*v,aa[1]*v]}
function Dd(aa){return[aa[1],-aa[0]]}function Ie(aa,v){return aa[0]===v[0]&&aa[1]===v[1]}function qg(aa,v){aa=Ee(aa,v);return aa[0]*aa[0]+aa[1]*aa[1]}function qf(aa){var v=Math.hypot(aa[0],aa[1]);return[aa[0]/v,aa[1]/v]}function rf(aa,v){return Math.hypot(aa[1]-v[1],aa[0]-v[0])}function hf(aa,v,D){let T=Math.sin(D);D=Math.cos(D);let A=aa[0]-v[0];aa=aa[1]-v[1];return[A*D-aa*T+v[0],A*T+aa*D+v[1]]}function Gf(aa,v,D){return ze(aa,xd(Ee(v,aa),D))}function og(aa,v,D){return ze(aa,xd(v,D))}function Ih(aa,
v={}){var D;let {size:T=16,smoothing:A=.5,thinning:ma=.5,simulatePressure:sa=!0,easing:ha=pf=>pf,start:ua={},end:za={},last:Aa=!1}=v,{cap:Ha=!0,taper:Ua=0,easing:Ya=pf=>pf*(2-pf)}=ua,{cap:ob=!0,taper:Bb=0,easing:Rb=pf=>--pf*pf*pf+1}=za;if(0===aa.length)return[];var hc,mc=aa[aa.length-1].runningLength,Tc=Math.pow(T*A,2);v=[];var Xc=[],Pc=aa.slice(0,10).reduce((pf,ye)=>{var ah=ye.pressure;sa&&(ye=Wl(1,ye.distance/T),ah=Wl(1,1-ye),ah=Wl(1,pf+.275*ye*(ah-pf)));return(pf+ah)/2},aa[0].pressure),Zc=ud(T,
ma,aa[aa.length-1].pressure,ha);let Bd=aa[0].vector;var Xd=aa[0].point;let kd=Xd;var qd=Xd,Gd=kd,He=!0;for(let pf=0;pf<aa.length-1;pf++){var {pressure:Sg}=aa[pf];let {point:ye,vector:ah,distance:Wi,runningLength:rk}=aa[pf];if(!(0<pf&&He&&rk<T/2)){(He&&=!1,ma)?(sa&&(Zc=Wl(1,Wi/T),Sg=Wl(1,1-Zc),Sg=Wl(1,Pc+.275*Zc*(Sg-Pc))),Zc=ud(T,ma,Sg,ha)):Zc=T/2;void 0===hc&&(hc=Zc);var ni=rk<Ua?Ya(rk/Ua):1,Ai=mc-rk<Bb?Rb((mc-rk)/Bb):1;Zc=Math.max(.01,Zc*Math.min(ni,Ai));Ai=(null==(D=aa[pf+1])?void 0:D.vector)||
ah;ni=ah[0]*Ai[0]+ah[1]*Ai[1];if(0>ni){Xd=xd(Dd(Bd),Zc);for(let El=1/13,Fl=0;1>=Fl;Fl+=El)Gd=hf(ze(ye,Xd),ye,Gm*-Fl),qd=hf(Ee(ye,Xd),ye,Gm*Fl),Xc.push(Gd),v.push(qd);Xd=qd;kd=Gd}else Gd=xd(Dd(Gf(Ai,ah,ni)),Zc),qd=Ee(ye,Gd),Gd=ze(ye,Gd),((Pc=2>pf||.25>ni)||qg(Xd,qd)>Tc)&&(v.push(qd),Xd=qd),(Pc||qg(kd,Gd)>Tc)&&(Xc.push(Gd),kd=Gd),Pc=Sg,Bd=ah}}D=aa[0];hc=aa[aa.length-1];if((mc=He||2>Xc.length||2>v.length)&&(!Ua&&!Bb||Aa)){v=0;Xc=Ie(D.point,hc.point)?ze(D.point,[1,1]):hc.point;for(qd=0;qd<aa.length;qd++){let {pressure:pf,
runningLength:ye}=aa[qd];if(ye>T){v=ud(T,ma,pf,ha);break}}v=og(D.point,Dd(qf(Ee(D.point,Xc))),-(v||Zc));Xc=[];for(let pf=1/13,ye=pf;1>=ye;ye+=pf)Xc.push(hf(v,D.point,2*Gm*ye));return Xc}aa=[];He=[];if(1<v.length&&1<Xc.length){Gd=Xc[1];for(Tc=1;Tc<v.length;Tc++)if(!Ie(Gd,v[Tc])){qd=v[Tc];break}if(Ha||Ua)if(Ua||Bb&&mc)aa.push(D.point.slice(0,2));else{if(!Ie(Gd,qd)){Gd=og(D.point,qf(Ee(qd,Gd)),-rf(Gd,qd)/2);for(let pf=1/13,ye=pf;1>=ye;ye+=pf){Tc=hf(Gd,D.point,Gm*ye);if(1>rf(Tc,qd))break;aa.push(Tc)}v.shift();
Xc.shift()}}else Ie(Gd,qd)||(Tc=qf(Ee(qd,Gd)),qd=rf(Gd,qd)/2,aa.push(og(D.point,Tc,-qd),og(D.point,Tc,.95*-qd),og(D.point,Tc,.95*qd),og(D.point,Tc,qd)),v.shift(),Xc.shift());D=xd(ze(v[v.length-1],Xc[Xc.length-1]),.5);qd=hc.point;Gd=Dd(qf(Ee(qd,D)));if(ob||Bb)if(Bb||Ua&&mc)He.push(qd.slice(0,2));else{Zc=og(qd,Gd,Zc);for(let pf=1/29,ye=0;1>=ye;ye+=pf)Gd=hf(Zc,qd,3*Gm*ye),He.push(Gd)}else D=Gf(D,qd,.95),Zc*=.95,He.push(og(D,Gd,Zc),og(qd,Gd,Zc),og(qd,Gd,-Zc),og(D,Gd,-Zc))}return v.concat(He,Xc.reverse(),
aa)}function Jh(aa,v={}){return Ih(function(D,T={}){var A;let {streamline:ma=.5,size:sa=16,last:ha=!1}=T;if(0===D.length)return[];T=.15+.85*(1-ma);D=Array.isArray(D[0])?D:D.map(({x:Ya,y:ob,pressure:Bb=.5})=>[Ya,ob,Bb]);1===D.length&&D.push([...ze(D[0],[1,1]),D[0][2]||.5]);let ua=[{point:[D[0][0],D[0][1]],pressure:D[0][2]||.25,vector:[1,1],distance:0,runningLength:0}],za=!1,Aa=0,Ha=ua[0],Ua=D.length-1;for(let Ya=1;Ya<D.length;Ya++){let ob=ha&&Ya===Ua?D[Ya]:Gf(Ha.point,D[Ya],T);if(Ie(Ha.point,ob))continue;
let Bb=rf(ob,Ha.point);if(Aa+=Bb,Ya<Ua&&!za){if(Aa<sa)continue;za=!0}Ha={point:ob,pressure:D[Ya][2]||.5,vector:qf(Ee(Ha.point,ob)),distance:Bb,runningLength:Aa};ua.push(Ha)}return ua[0].vector=(null==(A=ua[1])?void 0:A.vector)||[0,0],ua}(aa,v),v)}function Te(aa,v){var D=Object.keys(aa);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(aa);v&&(T=T.filter(function(A){return Object.getOwnPropertyDescriptor(aa,A).enumerable}));D.push.apply(D,T)}return D}function yg(aa){for(var v=1;v<
arguments.length;v++){var D=null!=arguments[v]?arguments[v]:{};v%2?Te(Object(D),!0).forEach(function(T){U(aa,T,D[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(aa,Object.getOwnPropertyDescriptors(D)):Te(Object(D)).forEach(function(T){Object.defineProperty(aa,T,Object.getOwnPropertyDescriptor(D,T))})}return aa}function xg(aa){var v=Se(aa);v=new Path2D(v);return Oh.set(aa,v),v}function Se(aa){return function(v){if(!v.length)return"";var D=v.length-1;return v.reduce(function(T,A,ma,sa){return ma===
D?T.push(A,ub(A,sa[0]),"L",sa[0],"Z"):T.push(A,ub(A,sa[ma+1])),T},["M",v[0],"Q"]).join(" ").replaceAll(Ue,"$1")}(Jh(aa.simulatePressure?aa.points:aa.points.length?aa.points.map(function(v,D){v=da(v,2);return[v[0],v[1],aa.pressures[D]]}):[[0,0,.5]],{simulatePressure:aa.simulatePressure,size:4.25*aa.strokeWidth,thinning:.6,smoothing:.5,streamline:.5,easing:function(v){return Math.sin(v*Math.PI/2)},last:!1}))}function ub(aa,v){return[(aa[0]+v[0])/2,(aa[1]+v[1])/2]}function Eb(aa,v){var D=Object.keys(aa);
if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(aa);v&&(T=T.filter(function(A){return Object.getOwnPropertyDescriptor(aa,A).enumerable}));D.push.apply(D,T)}return D}function rb(aa){for(var v=1;v<arguments.length;v++){var D=null!=arguments[v]?arguments[v]:{};v%2?Eb(Object(D),!0).forEach(function(T){U(aa,T,D[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(aa,Object.getOwnPropertyDescriptors(D)):Eb(Object(D)).forEach(function(T){Object.defineProperty(aa,T,Object.getOwnPropertyDescriptor(D,
T))})}return aa}function Za(aa,v){if(null==aa)return{};var D;if(null==aa)var T={};else{T={};var A=Object.keys(aa);for(D=0;D<A.length;D++){var ma=A[D];0<=v.indexOf(ma)||(T[ma]=aa[ma])}}if(Object.getOwnPropertySymbols)for(A=Object.getOwnPropertySymbols(aa),D=0;D<A.length;D++)ma=A[D],0<=v.indexOf(ma)||Object.prototype.propertyIsEnumerable.call(aa,ma)&&(T[ma]=aa[ma]);return T}function kb(aa,v){var D="undefined"!=typeof Symbol&&aa[Symbol.iterator]||aa["@@iterator"];if(!D){if(Array.isArray(aa)||(D=function(ha,
ua){if(ha){if("string"==typeof ha)return wb(ha,ua);var za=Object.prototype.toString.call(ha).slice(8,-1);"Object"===za&&ha.constructor&&(za=ha.constructor.name);if("Map"===za||"Set"===za)return Array.from(ha);if("Arguments"===za||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(za))return wb(ha,ua)}}(aa))||v&&aa&&"number"==typeof aa.length){D&&(aa=D);var T=0;v=function(){};return{s:v,n:function(){return T>=aa.length?{done:!0}:{done:!1,value:aa[T++]}},e:function(ha){throw ha;},f:v}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}var A,ma=!0,sa=!1;return{s:function(){D=D.call(aa)},n:function(){var ha=D.next();return ma=ha.done,ha},e:function(ha){sa=!0;A=ha},f:function(){try{ma||null==D.return||D.return()}finally{if(sa)throw A;}}}}function wb(aa,v){(null==v||v>aa.length)&&(v=aa.length);for(var D=0,T=Array(v);D<v;D++)T[D]=aa[D];return T}function Vb(aa,v){var D=Object.keys(aa);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(aa);v&&(T=T.filter(function(A){return Object.getOwnPropertyDescriptor(aa,A).enumerable}));
D.push.apply(D,T)}return D}function rc(aa){for(var v=1;v<arguments.length;v++){var D=null!=arguments[v]?arguments[v]:{};v%2?Vb(Object(D),!0).forEach(function(T){U(aa,T,D[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(aa,Object.getOwnPropertyDescriptors(D)):Vb(Object(D)).forEach(function(T){Object.defineProperty(aa,T,Object.getOwnPropertyDescriptor(D,T))})}return aa}function zc(aa,v){var D=Object.keys(aa);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(aa);v&&(T=
T.filter(function(A){return Object.getOwnPropertyDescriptor(aa,A).enumerable}));D.push.apply(D,T)}return D}function Rc(aa){for(var v=1;v<arguments.length;v++){var D=null!=arguments[v]?arguments[v]:{};v%2?zc(Object(D),!0).forEach(function(T){U(aa,T,D[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(aa,Object.getOwnPropertyDescriptors(D)):zc(Object(D)).forEach(function(T){Object.defineProperty(aa,T,Object.getOwnPropertyDescriptor(D,T))})}return aa}function Fd(aa,v){var D="undefined"!=
typeof Symbol&&aa[Symbol.iterator]||aa["@@iterator"];if(!D){if(Array.isArray(aa)||(D=function(ha,ua){if(ha){if("string"==typeof ha)return jd(ha,ua);var za=Object.prototype.toString.call(ha).slice(8,-1);"Object"===za&&ha.constructor&&(za=ha.constructor.name);if("Map"===za||"Set"===za)return Array.from(ha);if("Arguments"===za||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(za))return jd(ha,ua)}}(aa))||v&&aa&&"number"==typeof aa.length){D&&(aa=D);var T=0;v=function(){};return{s:v,n:function(){return T>=
aa.length?{done:!0}:{done:!1,value:aa[T++]}},e:function(ha){throw ha;},f:v}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var A,ma=!0,sa=!1;return{s:function(){D=D.call(aa)},n:function(){var ha=D.next();return ma=ha.done,ha},e:function(ha){sa=!0;A=ha},f:function(){try{ma||null==D.return||D.return()}finally{if(sa)throw A;}}}}function jd(aa,v){(null==v||v>aa.length)&&(v=aa.length);for(var D=
0,T=Array(v);D<v;D++)T[D]=aa[D];return T}function me(aa,v){var D=Object.keys(aa);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(aa);v&&(T=T.filter(function(A){return Object.getOwnPropertyDescriptor(aa,A).enumerable}));D.push.apply(D,T)}return D}function vc(aa){for(var v=1;v<arguments.length;v++){var D=null!=arguments[v]?arguments[v]:{};v%2?me(Object(D),!0).forEach(function(T){U(aa,T,D[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(aa,Object.getOwnPropertyDescriptors(D)):
me(Object(D)).forEach(function(T){Object.defineProperty(aa,T,Object.getOwnPropertyDescriptor(D,T))})}return aa}function $b(aa,v){var D=Object.keys(aa);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(aa);v&&(T=T.filter(function(A){return Object.getOwnPropertyDescriptor(aa,A).enumerable}));D.push.apply(D,T)}return D}function Ae(aa,v){var D=Object.keys(aa);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(aa);v&&(T=T.filter(function(A){return Object.getOwnPropertyDescriptor(aa,
A).enumerable}));D.push.apply(D,T)}return D}function hd(aa){for(var v=1;v<arguments.length;v++){var D=null!=arguments[v]?arguments[v]:{};v%2?Ae(Object(D),!0).forEach(function(T){U(aa,T,D[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(aa,Object.getOwnPropertyDescriptors(D)):Ae(Object(D)).forEach(function(T){Object.defineProperty(aa,T,Object.getOwnPropertyDescriptor(D,T))})}return aa}function Je(aa,v){var D=Object.keys(aa);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(aa);
v&&(T=T.filter(function(A){return Object.getOwnPropertyDescriptor(aa,A).enumerable}));D.push.apply(D,T)}return D}function tb(aa){for(var v=1;v<arguments.length;v++){var D=null!=arguments[v]?arguments[v]:{};v%2?Je(Object(D),!0).forEach(function(T){U(aa,T,D[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(aa,Object.getOwnPropertyDescriptors(D)):Je(Object(D)).forEach(function(T){Object.defineProperty(aa,T,Object.getOwnPropertyDescriptor(D,T))})}return aa}function nc(aa,v){var D=Object.keys(aa);
if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(aa);v&&(T=T.filter(function(A){return Object.getOwnPropertyDescriptor(aa,A).enumerable}));D.push.apply(D,T)}return D}function mb(aa){for(var v=1;v<arguments.length;v++){var D=null!=arguments[v]?arguments[v]:{};v%2?nc(Object(D),!0).forEach(function(T){U(aa,T,D[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(aa,Object.getOwnPropertyDescriptors(D)):nc(Object(D)).forEach(function(T){Object.defineProperty(aa,T,Object.getOwnPropertyDescriptor(D,
T))})}return aa}function oc(aa,v){var D=Object.keys(aa);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(aa);v&&(T=T.filter(function(A){return Object.getOwnPropertyDescriptor(aa,A).enumerable}));D.push.apply(D,T)}return D}function vd(aa){for(var v=1;v<arguments.length;v++){var D=null!=arguments[v]?arguments[v]:{};v%2?oc(Object(D),!0).forEach(function(T){U(aa,T,D[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(aa,Object.getOwnPropertyDescriptors(D)):oc(Object(D)).forEach(function(T){Object.defineProperty(aa,
T,Object.getOwnPropertyDescriptor(D,T))})}return aa}function Kd(aa,v){var D=Object.keys(aa);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(aa);v&&(T=T.filter(function(A){return Object.getOwnPropertyDescriptor(aa,A).enumerable}));D.push.apply(D,T)}return D}function Zd(aa){for(var v=1;v<arguments.length;v++){var D=null!=arguments[v]?arguments[v]:{};v%2?Kd(Object(D),!0).forEach(function(T){U(aa,T,D[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(aa,Object.getOwnPropertyDescriptors(D)):
Kd(Object(D)).forEach(function(T){Object.defineProperty(aa,T,Object.getOwnPropertyDescriptor(D,T))})}return aa}function bf(aa,v){var D=Object.keys(aa);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(aa);v&&(T=T.filter(function(A){return Object.getOwnPropertyDescriptor(aa,A).enumerable}));D.push.apply(D,T)}return D}function Ic(aa){for(var v=1;v<arguments.length;v++){var D=null!=arguments[v]?arguments[v]:{};v%2?bf(Object(D),!0).forEach(function(T){U(aa,T,D[T])}):Object.getOwnPropertyDescriptors?
Object.defineProperties(aa,Object.getOwnPropertyDescriptors(D)):bf(Object(D)).forEach(function(T){Object.defineProperty(aa,T,Object.getOwnPropertyDescriptor(D,T))})}return aa}function $c(aa){var v=aa.options,D=aa.value,T=aa.label,A=aa.onChange,ma=aa.onClose,sa=ce().useRef(),ha=ce().useRef(),ua=ce().useRef(null);ce().useEffect(function(){ha.current?ha.current.focus():ua.current&&ua.current.focus()},[]);return(0,Ra.jsx)("div",{className:"picker",role:"dialog","aria-modal":"true","aria-label":T,onKeyDown:function(za){var Aa=
v.find(function(ob){return ob.keyBinding===za.key.toLowerCase()});if(za.metaKey||za.altKey||za.ctrlKey||!Aa)if("Tab"===za.key)setTimeout(function(){ha.current!==document.activeElement&&ma()},0);else if(oh(za.key)){Aa=Cg.rtl;var Ha=Array.prototype.indexOf.call(ua.current.children,document.activeElement);if(-1!==Ha){var Ua=v.length,Ya=Ha;switch(za.key){case Aa?"ArrowLeft":"ArrowRight":case "ArrowDown":Ya=(Ha+1)%Ua;break;case Aa?"ArrowRight":"ArrowLeft":case "ArrowUp":Ya=(Ua+Ha-1)%Ua}ua.current.children[Ya].focus()}za.preventDefault()}else"Escape"!==
za.key&&"Enter"!==za.key||(za.preventDefault(),ma());else Aa=v.indexOf(Aa),ua.current.children[Aa].focus(),za.preventDefault();za.nativeEvent.stopImmediatePropagation();za.stopPropagation()},children:(0,Ra.jsx)("div",{className:"picker-content",ref:ua,children:v.map(function(za,Aa){return(0,Ra.jsxs)("button",{className:"picker-option",onClick:function(Ha){Ha.currentTarget.focus();A(za.value)},title:"".concat(za.text," â€” ").concat(za.keyBinding.toUpperCase()),"aria-label":za.text||"none","aria-keyshortcuts":za.keyBinding,
ref:function(Ha){Ha&&0===Aa&&(sa.current=Ha);Ha&&za.value===D&&(ha.current=Ha)},onFocus:function(){A(za.value)},children:[za.icon,(0,Ra.jsx)("span",{className:"picker-keybinding",children:za.keyBinding})]},za.text)})})})}function qc(aa){var v,D=aa.value,T=aa.label,A=aa.options,ma=aa.onChange;aa=aa.group;aa=void 0===aa?"":aa;var sa=da(ce().useState(!1),2),ha=sa[0],ua=sa[1],za=ce().useRef(null);sa=Cg.rtl;return(0,Ra.jsxs)("label",{className:"picker-container",children:[(0,Ra.jsx)("button",{name:aa,
className:ha?"active":"","aria-label":T,onClick:function(){return ua(!ha)},ref:za,children:null===(v=A.find(function(Aa){return Aa.value===D}))||void 0===v?void 0:v.icon}),(0,Ra.jsx)(ce().Suspense,{fallback:"",children:ha?(0,Ra.jsxs)(Ra.Fragment,{children:[(0,Ra.jsx)(Fa,Ic(Ic({onCloseRequest:function(Aa){return Aa.target!==za.current&&ua(!1)}},sa?{right:5.5}:{left:-5.5}),{},{children:(0,Ra.jsx)($c,{options:A,value:D,label:T,onChange:ma,onClose:function(){var Aa;ua(!1);null===(Aa=za.current)||void 0===
Aa||Aa.focus()}})})),(0,Ra.jsx)("div",{className:"picker-triangle"})]}):null})]})}function yb(aa,v){var D=Object.keys(aa);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(aa);v&&(T=T.filter(function(A){return Object.getOwnPropertyDescriptor(aa,A).enumerable}));D.push.apply(D,T)}return D}function od(aa){for(var v=1;v<arguments.length;v++){var D=null!=arguments[v]?arguments[v]:{};v%2?yb(Object(D),!0).forEach(function(T){U(aa,T,D[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(aa,
Object.getOwnPropertyDescriptors(D)):yb(Object(D)).forEach(function(T){Object.defineProperty(aa,T,Object.getOwnPropertyDescriptor(D,T))})}return aa}function sf(aa,v){var D=Object.keys(aa);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(aa);v&&(T=T.filter(function(A){return Object.getOwnPropertyDescriptor(aa,A).enumerable}));D.push.apply(D,T)}return D}function Rd(aa){for(var v=1;v<arguments.length;v++){var D=null!=arguments[v]?arguments[v]:{};v%2?sf(Object(D),!0).forEach(function(T){U(aa,
T,D[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(aa,Object.getOwnPropertyDescriptors(D)):sf(Object(D)).forEach(function(T){Object.defineProperty(aa,T,Object.getOwnPropertyDescriptor(D,T))})}return aa}function jg(aa,v){var D=Object.keys(aa);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(aa);v&&(T=T.filter(function(A){return Object.getOwnPropertyDescriptor(aa,A).enumerable}));D.push.apply(D,T)}return D}function Ia(aa){for(var v=1;v<arguments.length;v++){var D=
null!=arguments[v]?arguments[v]:{};v%2?jg(Object(D),!0).forEach(function(T){U(aa,T,D[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(aa,Object.getOwnPropertyDescriptors(D)):jg(Object(D)).forEach(function(T){Object.defineProperty(aa,T,Object.getOwnPropertyDescriptor(D,T))})}return aa}function cb(aa,v){var D="undefined"!=typeof Symbol&&aa[Symbol.iterator]||aa["@@iterator"];if(!D){if(Array.isArray(aa)||(D=function(ha,ua){if(ha){if("string"==typeof ha)return Va(ha,ua);var za=Object.prototype.toString.call(ha).slice(8,
-1);"Object"===za&&ha.constructor&&(za=ha.constructor.name);if("Map"===za||"Set"===za)return Array.from(ha);if("Arguments"===za||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(za))return Va(ha,ua)}}(aa))||v&&aa&&"number"==typeof aa.length){D&&(aa=D);var T=0;v=function(){};return{s:v,n:function(){return T>=aa.length?{done:!0}:{done:!1,value:aa[T++]}},e:function(ha){throw ha;},f:v}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}var A,ma=!0,sa=!1;return{s:function(){D=D.call(aa)},n:function(){var ha=D.next();return ma=ha.done,ha},e:function(ha){sa=!0;A=ha},f:function(){try{ma||null==D.return||D.return()}finally{if(sa)throw A;}}}}function Va(aa,v){(null==v||v>aa.length)&&(v=aa.length);for(var D=0,T=Array(v);D<v;D++)T[D]=aa[D];return T}function nb(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,
[],function(){})),!0}catch(aa){return!1}}function Lb(aa,v,D){return(Lb=nb()?Reflect.construct:function(T,A,ma){var sa=[null];sa.push.apply(sa,A);T=new (Function.bind.apply(T,sa));return ma&&B(T,ma.prototype),T}).apply(null,arguments)}function xc(aa){var v="function"==typeof Map?new Map:void 0;return(xc=function(D){function T(){return Lb(D,arguments,r(this).constructor)}if(null===D||(A=D,-1===Function.toString.call(A).indexOf("[native code]")))return D;var A;if("function"!=typeof D)throw new TypeError("Super expression must either be null or a function");
if(void 0!==v){if(v.has(D))return v.get(D);v.set(D,T)}return T.prototype=Object.create(D.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),B(T,D)})(aa)}function Ac(aa){var v=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(D){return!1}}();return function(){var D=r(aa);if(v){var T=r(this).constructor;
D=Reflect.construct(D,arguments,T)}else D=D.apply(this,arguments);return E(this,D)}}function Nc(aa,v){var D="undefined"!=typeof Symbol&&aa[Symbol.iterator]||aa["@@iterator"];if(!D){if(Array.isArray(aa)||(D=function(ha,ua){if(ha){if("string"==typeof ha)return Cd(ha,ua);var za=Object.prototype.toString.call(ha).slice(8,-1);"Object"===za&&ha.constructor&&(za=ha.constructor.name);if("Map"===za||"Set"===za)return Array.from(ha);if("Arguments"===za||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(za))return Cd(ha,
ua)}}(aa))||v&&aa&&"number"==typeof aa.length){D&&(aa=D);var T=0;v=function(){};return{s:v,n:function(){return T>=aa.length?{done:!0}:{done:!1,value:aa[T++]}},e:function(ha){throw ha;},f:v}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var A,ma=!0,sa=!1;return{s:function(){D=D.call(aa)},n:function(){var ha=D.next();return ma=ha.done,ha},e:function(ha){sa=!0;A=ha},f:function(){try{ma||null==
D.return||D.return()}finally{if(sa)throw A;}}}}function Cd(aa,v){(null==v||v>aa.length)&&(v=aa.length);for(var D=0,T=Array(v);D<v;D++)T[D]=aa[D];return T}function bd(aa,v){var D=Object.keys(aa);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(aa);v&&(T=T.filter(function(A){return Object.getOwnPropertyDescriptor(aa,A).enumerable}));D.push.apply(D,T)}return D}function Ud(aa){for(var v=1;v<arguments.length;v++){var D=null!=arguments[v]?arguments[v]:{};v%2?bd(Object(D),!0).forEach(function(T){U(aa,
T,D[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(aa,Object.getOwnPropertyDescriptors(D)):bd(Object(D)).forEach(function(T){Object.defineProperty(aa,T,Object.getOwnPropertyDescriptor(D,T))})}return aa}function md(aa,v){var D=Object.keys(aa);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(aa);v&&(T=T.filter(function(A){return Object.getOwnPropertyDescriptor(aa,A).enumerable}));D.push.apply(D,T)}return D}function fe(aa){for(var v=1;v<arguments.length;v++){var D=
null!=arguments[v]?arguments[v]:{};v%2?md(Object(D),!0).forEach(function(T){U(aa,T,D[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(aa,Object.getOwnPropertyDescriptors(D)):md(Object(D)).forEach(function(T){Object.defineProperty(aa,T,Object.getOwnPropertyDescriptor(D,T))})}return aa}function kg(aa,v){var D="undefined"!=typeof Symbol&&aa[Symbol.iterator]||aa["@@iterator"];if(!D){if(Array.isArray(aa)||(D=function(ha,ua){if(ha){if("string"==typeof ha)return ne(ha,ua);var za=Object.prototype.toString.call(ha).slice(8,
-1);"Object"===za&&ha.constructor&&(za=ha.constructor.name);if("Map"===za||"Set"===za)return Array.from(ha);if("Arguments"===za||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(za))return ne(ha,ua)}}(aa))||v&&aa&&"number"==typeof aa.length){D&&(aa=D);var T=0;v=function(){};return{s:v,n:function(){return T>=aa.length?{done:!0}:{done:!1,value:aa[T++]}},e:function(ha){throw ha;},f:v}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}var A,ma=!0,sa=!1;return{s:function(){D=D.call(aa)},n:function(){var ha=D.next();return ma=ha.done,ha},e:function(ha){sa=!0;A=ha},f:function(){try{ma||null==D.return||D.return()}finally{if(sa)throw A;}}}}function ne(aa,v){(null==v||v>aa.length)&&(v=aa.length);for(var D=0,T=Array(v);D<v;D++)T[D]=aa[D];return T}function $a(aa,v){var D=Object.keys(aa);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(aa);v&&(T=T.filter(function(A){return Object.getOwnPropertyDescriptor(aa,A).enumerable}));
D.push.apply(D,T)}return D}function fa(aa){for(var v=1;v<arguments.length;v++){var D=null!=arguments[v]?arguments[v]:{};v%2?$a(Object(D),!0).forEach(function(T){U(aa,T,D[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(aa,Object.getOwnPropertyDescriptors(D)):$a(Object(D)).forEach(function(T){Object.defineProperty(aa,T,Object.getOwnPropertyDescriptor(D,T))})}return aa}function na(aa,v){var D=Object.keys(aa);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(aa);v&&(T=
T.filter(function(A){return Object.getOwnPropertyDescriptor(aa,A).enumerable}));D.push.apply(D,T)}return D}function wa(aa){for(var v=1;v<arguments.length;v++){var D=null!=arguments[v]?arguments[v]:{};v%2?na(Object(D),!0).forEach(function(T){U(aa,T,D[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(aa,Object.getOwnPropertyDescriptors(D)):na(Object(D)).forEach(function(T){Object.defineProperty(aa,T,Object.getOwnPropertyDescriptor(D,T))})}return aa}function Na(aa,v){var D=Object.keys(aa);
if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(aa);v&&(T=T.filter(function(A){return Object.getOwnPropertyDescriptor(aa,A).enumerable}));D.push.apply(D,T)}return D}function jb(aa){for(var v=1;v<arguments.length;v++){var D=null!=arguments[v]?arguments[v]:{};v%2?Na(Object(D),!0).forEach(function(T){U(aa,T,D[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(aa,Object.getOwnPropertyDescriptors(D)):Na(Object(D)).forEach(function(T){Object.defineProperty(aa,T,Object.getOwnPropertyDescriptor(D,
T))})}return aa}function xb(aa,v){var D=Object.keys(aa);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(aa);v&&(T=T.filter(function(A){return Object.getOwnPropertyDescriptor(aa,A).enumerable}));D.push.apply(D,T)}return D}function Xb(aa){for(var v=1;v<arguments.length;v++){var D=null!=arguments[v]?arguments[v]:{};v%2?xb(Object(D),!0).forEach(function(T){U(aa,T,D[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(aa,Object.getOwnPropertyDescriptors(D)):xb(Object(D)).forEach(function(T){Object.defineProperty(aa,
T,Object.getOwnPropertyDescriptor(D,T))})}return aa}function tc(aa,v){var D=Object.keys(aa);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(aa);v&&(T=T.filter(function(A){return Object.getOwnPropertyDescriptor(aa,A).enumerable}));D.push.apply(D,T)}return D}function gd(aa){for(var v=1;v<arguments.length;v++){var D=null!=arguments[v]?arguments[v]:{};v%2?tc(Object(D),!0).forEach(function(T){U(aa,T,D[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(aa,Object.getOwnPropertyDescriptors(D)):
tc(Object(D)).forEach(function(T){Object.defineProperty(aa,T,Object.getOwnPropertyDescriptor(D,T))})}return aa}function Jd(aa,v){var D=Object.keys(aa);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(aa);v&&(T=T.filter(function(A){return Object.getOwnPropertyDescriptor(aa,A).enumerable}));D.push.apply(D,T)}return D}function ve(aa){for(var v=1;v<arguments.length;v++){var D=null!=arguments[v]?arguments[v]:{};v%2?Jd(Object(D),!0).forEach(function(T){U(aa,T,D[T])}):Object.getOwnPropertyDescriptors?
Object.defineProperties(aa,Object.getOwnPropertyDescriptors(D)):Jd(Object(D)).forEach(function(T){Object.defineProperty(aa,T,Object.getOwnPropertyDescriptor(D,T))})}return aa}function Ge(aa,v){var D=Object.keys(aa);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(aa);v&&(T=T.filter(function(A){return Object.getOwnPropertyDescriptor(aa,A).enumerable}));D.push.apply(D,T)}return D}function ge(aa){for(var v=1;v<arguments.length;v++){var D=null!=arguments[v]?arguments[v]:{};v%2?Ge(Object(D),
!0).forEach(function(T){U(aa,T,D[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(aa,Object.getOwnPropertyDescriptors(D)):Ge(Object(D)).forEach(function(T){Object.defineProperty(aa,T,Object.getOwnPropertyDescriptor(D,T))})}return aa}function je(aa,v){var D="undefined"!=typeof Symbol&&aa[Symbol.iterator]||aa["@@iterator"];if(!D){if(Array.isArray(aa)||(D=function(ha,ua){if(ha){if("string"==typeof ha)return qe(ha,ua);var za=Object.prototype.toString.call(ha).slice(8,-1);"Object"===za&&
ha.constructor&&(za=ha.constructor.name);if("Map"===za||"Set"===za)return Array.from(ha);if("Arguments"===za||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(za))return qe(ha,ua)}}(aa))||v&&aa&&"number"==typeof aa.length){D&&(aa=D);var T=0;v=function(){};return{s:v,n:function(){return T>=aa.length?{done:!0}:{done:!1,value:aa[T++]}},e:function(ha){throw ha;},f:v}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}var A,ma=!0,sa=!1;return{s:function(){D=D.call(aa)},n:function(){var ha=D.next();return ma=ha.done,ha},e:function(ha){sa=!0;A=ha},f:function(){try{ma||null==D.return||D.return()}finally{if(sa)throw A;}}}}function qe(aa,v){(null==v||v>aa.length)&&(v=aa.length);for(var D=0,T=Array(v);D<v;D++)T[D]=aa[D];return T}function tf(aa,v){var D=Object.keys(aa);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(aa);v&&(T=T.filter(function(A){return Object.getOwnPropertyDescriptor(aa,A).enumerable}));
D.push.apply(D,T)}return D}function Kg(aa){for(var v=1;v<arguments.length;v++){var D=null!=arguments[v]?arguments[v]:{};v%2?tf(Object(D),!0).forEach(function(T){U(aa,T,D[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(aa,Object.getOwnPropertyDescriptors(D)):tf(Object(D)).forEach(function(T){Object.defineProperty(aa,T,Object.getOwnPropertyDescriptor(D,T))})}return aa}function Uh(aa,v){var D=Object.keys(aa);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(aa);v&&(T=
T.filter(function(A){return Object.getOwnPropertyDescriptor(aa,A).enumerable}));D.push.apply(D,T)}return D}function Vh(aa){for(var v=1;v<arguments.length;v++){var D=null!=arguments[v]?arguments[v]:{};v%2?Uh(Object(D),!0).forEach(function(T){U(aa,T,D[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(aa,Object.getOwnPropertyDescriptors(D)):Uh(Object(D)).forEach(function(T){Object.defineProperty(aa,T,Object.getOwnPropertyDescriptor(D,T))})}return aa}function Lg(aa,v){var D="undefined"!=
typeof Symbol&&aa[Symbol.iterator]||aa["@@iterator"];if(!D){if(Array.isArray(aa)||(D=function(ha,ua){if(ha){if("string"==typeof ha)return Ye(ha,ua);var za=Object.prototype.toString.call(ha).slice(8,-1);"Object"===za&&ha.constructor&&(za=ha.constructor.name);if("Map"===za||"Set"===za)return Array.from(ha);if("Arguments"===za||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(za))return Ye(ha,ua)}}(aa))||v&&aa&&"number"==typeof aa.length){D&&(aa=D);var T=0;v=function(){};return{s:v,n:function(){return T>=
aa.length?{done:!0}:{done:!1,value:aa[T++]}},e:function(ha){throw ha;},f:v}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var A,ma=!0,sa=!1;return{s:function(){D=D.call(aa)},n:function(){var ha=D.next();return ma=ha.done,ha},e:function(ha){sa=!0;A=ha},f:function(){try{ma||null==D.return||D.return()}finally{if(sa)throw A;}}}}function Ye(aa,v){(null==v||v>aa.length)&&(v=aa.length);for(var D=
0,T=Array(v);D<v;D++)T[D]=aa[D];return T}function ph(aa,v){var D=Object.keys(aa);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(aa);v&&(T=T.filter(function(A){return Object.getOwnPropertyDescriptor(aa,A).enumerable}));D.push.apply(D,T)}return D}function Id(aa){for(var v=1;v<arguments.length;v++){var D=null!=arguments[v]?arguments[v]:{};v%2?ph(Object(D),!0).forEach(function(T){U(aa,T,D[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(aa,Object.getOwnPropertyDescriptors(D)):
ph(Object(D)).forEach(function(T){Object.defineProperty(aa,T,Object.getOwnPropertyDescriptor(D,T))})}return aa}function gi(aa,v){var D=Object.keys(aa);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(aa);v&&(T=T.filter(function(A){return Object.getOwnPropertyDescriptor(aa,A).enumerable}));D.push.apply(D,T)}return D}function oi(aa){for(var v=1;v<arguments.length;v++){var D=null!=arguments[v]?arguments[v]:{};v%2?gi(Object(D),!0).forEach(function(T){U(aa,T,D[T])}):Object.getOwnPropertyDescriptors?
Object.defineProperties(aa,Object.getOwnPropertyDescriptors(D)):gi(Object(D)).forEach(function(T){Object.defineProperty(aa,T,Object.getOwnPropertyDescriptor(D,T))})}return aa}function Vj(aa,v){var D=Object.keys(aa);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(aa);v&&(T=T.filter(function(A){return Object.getOwnPropertyDescriptor(aa,A).enumerable}));D.push.apply(D,T)}return D}function Ni(aa){for(var v=1;v<arguments.length;v++){var D=null!=arguments[v]?arguments[v]:{};v%2?Vj(Object(D),
!0).forEach(function(T){U(aa,T,D[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(aa,Object.getOwnPropertyDescriptors(D)):Vj(Object(D)).forEach(function(T){Object.defineProperty(aa,T,Object.getOwnPropertyDescriptor(D,T))})}return aa}function Qe(aa,v){var D=Object.keys(aa);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(aa);v&&(T=T.filter(function(A){return Object.getOwnPropertyDescriptor(aa,A).enumerable}));D.push.apply(D,T)}return D}function Ck(aa){for(var v=1;v<
arguments.length;v++){var D=null!=arguments[v]?arguments[v]:{};v%2?Qe(Object(D),!0).forEach(function(T){U(aa,T,D[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(aa,Object.getOwnPropertyDescriptors(D)):Qe(Object(D)).forEach(function(T){Object.defineProperty(aa,T,Object.getOwnPropertyDescriptor(D,T))})}return aa}function Xk(aa,v){var D=Object.keys(aa);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(aa);v&&(T=T.filter(function(A){return Object.getOwnPropertyDescriptor(aa,
A).enumerable}));D.push.apply(D,T)}return D}function xh(aa){for(var v=1;v<arguments.length;v++){var D=null!=arguments[v]?arguments[v]:{};v%2?Xk(Object(D),!0).forEach(function(T){U(aa,T,D[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(aa,Object.getOwnPropertyDescriptors(D)):Xk(Object(D)).forEach(function(T){Object.defineProperty(aa,T,Object.getOwnPropertyDescriptor(D,T))})}return aa}function ol(aa,v){var D=Object.keys(aa);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(aa);
v&&(T=T.filter(function(A){return Object.getOwnPropertyDescriptor(aa,A).enumerable}));D.push.apply(D,T)}return D}function Ol(aa){for(var v=1;v<arguments.length;v++){var D=null!=arguments[v]?arguments[v]:{};v%2?ol(Object(D),!0).forEach(function(T){U(aa,T,D[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(aa,Object.getOwnPropertyDescriptors(D)):ol(Object(D)).forEach(function(T){Object.defineProperty(aa,T,Object.getOwnPropertyDescriptor(D,T))})}return aa}function xj(aa,v){var D=Object.keys(aa);
if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(aa);v&&(T=T.filter(function(A){return Object.getOwnPropertyDescriptor(aa,A).enumerable}));D.push.apply(D,T)}return D}function sg(aa){for(var v=1;v<arguments.length;v++){var D=null!=arguments[v]?arguments[v]:{};v%2?xj(Object(D),!0).forEach(function(T){U(aa,T,D[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(aa,Object.getOwnPropertyDescriptors(D)):xj(Object(D)).forEach(function(T){Object.defineProperty(aa,T,Object.getOwnPropertyDescriptor(D,
T))})}return aa}function yj(aa,v){var D="undefined"!=typeof Symbol&&aa[Symbol.iterator]||aa["@@iterator"];if(!D){if(Array.isArray(aa)||(D=function(ha,ua){if(ha){if("string"==typeof ha)return Gi(ha,ua);var za=Object.prototype.toString.call(ha).slice(8,-1);"Object"===za&&ha.constructor&&(za=ha.constructor.name);if("Map"===za||"Set"===za)return Array.from(ha);if("Arguments"===za||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(za))return Gi(ha,ua)}}(aa))||v&&aa&&"number"==typeof aa.length){D&&(aa=D);
var T=0;v=function(){};return{s:v,n:function(){return T>=aa.length?{done:!0}:{done:!1,value:aa[T++]}},e:function(ha){throw ha;},f:v}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var A,ma=!0,sa=!1;return{s:function(){D=D.call(aa)},n:function(){var ha=D.next();return ma=ha.done,ha},e:function(ha){sa=!0;A=ha},f:function(){try{ma||null==D.return||D.return()}finally{if(sa)throw A;}}}}function Gi(aa,
v){(null==v||v>aa.length)&&(v=aa.length);for(var D=0,T=Array(v);D<v;D++)T[D]=aa[D];return T}function Pl(aa,v){var D=Object.keys(aa);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(aa);v&&(T=T.filter(function(A){return Object.getOwnPropertyDescriptor(aa,A).enumerable}));D.push.apply(D,T)}return D}function Wj(aa){for(var v=1;v<arguments.length;v++){var D=null!=arguments[v]?arguments[v]:{};v%2?Pl(Object(D),!0).forEach(function(T){U(aa,T,D[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(aa,
Object.getOwnPropertyDescriptors(D)):Pl(Object(D)).forEach(function(T){Object.defineProperty(aa,T,Object.getOwnPropertyDescriptor(D,T))})}return aa}function Yk(aa,v){var D=Object.keys(aa);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(aa);v&&(T=T.filter(function(A){return Object.getOwnPropertyDescriptor(aa,A).enumerable}));D.push.apply(D,T)}return D}function Zi(aa,v){var D=Object.keys(aa);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(aa);v&&(T=T.filter(function(A){return Object.getOwnPropertyDescriptor(aa,
A).enumerable}));D.push.apply(D,T)}return D}function Ek(aa,v){var D=Object.keys(aa);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(aa);v&&(T=T.filter(function(A){return Object.getOwnPropertyDescriptor(aa,A).enumerable}));D.push.apply(D,T)}return D}function Yj(aa,v){var D=Object.keys(aa);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(aa);v&&(T=T.filter(function(A){return Object.getOwnPropertyDescriptor(aa,A).enumerable}));D.push.apply(D,T)}return D}function ql(aa){for(var v=
1;v<arguments.length;v++){var D=null!=arguments[v]?arguments[v]:{};v%2?Yj(Object(D),!0).forEach(function(T){U(aa,T,D[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(aa,Object.getOwnPropertyDescriptors(D)):Yj(Object(D)).forEach(function(T){Object.defineProperty(aa,T,Object.getOwnPropertyDescriptor(D,T))})}return aa}function lj(aa,v){var D="undefined"!=typeof Symbol&&aa[Symbol.iterator]||aa["@@iterator"];if(!D){if(Array.isArray(aa)||(D=function(ha,ua){if(ha){if("string"==typeof ha)return $i(ha,
ua);var za=Object.prototype.toString.call(ha).slice(8,-1);"Object"===za&&ha.constructor&&(za=ha.constructor.name);if("Map"===za||"Set"===za)return Array.from(ha);if("Arguments"===za||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(za))return $i(ha,ua)}}(aa))||v&&aa&&"number"==typeof aa.length){D&&(aa=D);var T=0;v=function(){};return{s:v,n:function(){return T>=aa.length?{done:!0}:{done:!1,value:aa[T++]}},e:function(ha){throw ha;},f:v}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}var A,ma=!0,sa=!1;return{s:function(){D=D.call(aa)},n:function(){var ha=D.next();return ma=ha.done,ha},e:function(ha){sa=!0;A=ha},f:function(){try{ma||null==D.return||D.return()}finally{if(sa)throw A;}}}}function $i(aa,v){(null==v||v>aa.length)&&(v=aa.length);for(var D=0,T=Array(v);D<v;D++)T[D]=aa[D];return T}function Zj(aa,v){var D=Object.keys(aa);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(aa);v&&(T=T.filter(function(A){return Object.getOwnPropertyDescriptor(aa,A).enumerable}));
D.push.apply(D,T)}return D}function Wd(aa){for(var v=1;v<arguments.length;v++){var D=null!=arguments[v]?arguments[v]:{};v%2?Zj(Object(D),!0).forEach(function(T){U(aa,T,D[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(aa,Object.getOwnPropertyDescriptors(D)):Zj(Object(D)).forEach(function(T){Object.defineProperty(aa,T,Object.getOwnPropertyDescriptor(D,T))})}return aa}function Pe(aa){var v=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;
if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(D){return!1}}();return function(){var D=r(aa);if(v){var T=r(this).constructor;D=Reflect.construct(D,arguments,T)}else D=D.apply(this,arguments);return E(this,D)}}function Wh(aa,v){var D=Object.keys(aa);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(aa);v&&(T=T.filter(function(A){return Object.getOwnPropertyDescriptor(aa,A).enumerable}));D.push.apply(D,
T)}return D}function qh(aa){for(var v=1;v<arguments.length;v++){var D=null!=arguments[v]?arguments[v]:{};v%2?Wh(Object(D),!0).forEach(function(T){U(aa,T,D[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(aa,Object.getOwnPropertyDescriptors(D)):Wh(Object(D)).forEach(function(T){Object.defineProperty(aa,T,Object.getOwnPropertyDescriptor(D,T))})}return aa}function Ng(aa,v){var D=Object.keys(aa);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(aa);v&&(T=T.filter(function(A){return Object.getOwnPropertyDescriptor(aa,
A).enumerable}));D.push.apply(D,T)}return D}function km(aa){for(var v=1;v<arguments.length;v++){var D=null!=arguments[v]?arguments[v]:{};v%2?Ng(Object(D),!0).forEach(function(T){mj()(aa,T,D[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(aa,Object.getOwnPropertyDescriptors(D)):Ng(Object(D)).forEach(function(T){Object.defineProperty(aa,T,Object.getOwnPropertyDescriptor(D,T))})}return aa}e.r(h);e.d(h,{FONT_FAMILY:function(){return yc.ut},default:function(){return Ov},defaultLang:function(){return Vg},
exportToBlob:function(){return Ru},exportToCanvas:function(){return it},exportToSvg:function(){return Yv},getElementMap:function(){return al},getFreeDrawSvgPath:function(){return Se},getSceneVersion:function(){return Uj},isInvisiblySmallElement:function(){return Kj},languages:function(){return bk},loadFromBlob:function(){return vl},loadLibraryFromBlob:function(){return jo},restore:function(){return Tm},restoreAppState:function(){return Um},restoreElements:function(){return sl},serializeAsJSON:function(){return Jn}});
var Hg=e(6479),Xh=e.n(Hg),ak=e(9713),mj=e.n(ak),ue=e(4698),ce=e.n(ue),yc=e(8288),Fk=JSON.parse('{"u2":"@excalidraw/excalidraw","i8":"0.10.0"}');"production"!==yc.Vi.TEST&&(e.p=window.EXCALIDRAW_ASSET_PATH||"https://unpkg.com/".concat(Fk.u2,"@").concat(Fk.i8,"/dist/"));var ff=e(8950),Oi=e(7945),Yd=e.n(Oi),Pm=e(1463),Hk=e(4451),Vg={code:"en",label:"English"},bk=[{code:"ar-SA",label:"Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©",rtl:!0},{code:"bg-BG",label:"Ð‘ÑŠÐ»Ð³Ð°Ñ€ÑÐºÐ¸"},{code:"ca-ES",label:"CatalÃ "},{code:"de-DE",label:"Deutsch"},{code:"el-GR",
label:"Î•Î»Î»Î·Î½Î¹ÎºÎ¬"},{code:"es-ES",label:"EspaÃ±ol"},{code:"fa-IR",label:"ÙØ§Ø±Ø³ÛŒ",rtl:!0},{code:"fi-FI",label:"Suomi"},{code:"fr-FR",label:"FranÃ§ais"},{code:"he-IL",label:"×¢×‘×¨×™×ª",rtl:!0},{code:"hi-IN",label:"à¤¹à¤¿à¤¨à¥à¤¦à¥€"},{code:"hu-HU",label:"Magyar"},{code:"id-ID",label:"Bahasa Indonesia"},{code:"it-IT",label:"Italiano"},{code:"ja-JP",label:"æ—¥æœ¬èªž"},{code:"kab-KAB",label:"Taqbaylit"},{code:"ko-KR",label:"í•œêµ­ì–´"},{code:"my-MM",label:"Burmese"},{code:"nb-NO",label:"Norsk bokmÃ¥l"},{code:"nl-NL",label:"Nederlands"},
{code:"nn-NO",label:"Norsk nynorsk"},{code:"oc-FR",label:"Occitan"},{code:"pa-IN",label:"à¨ªà©°à¨œà¨¾à¨¬à©€"},{code:"pl-PL",label:"Polski"},{code:"pt-BR",label:"PortuguÃªs Brasileiro"},{code:"pt-PT",label:"PortuguÃªs"},{code:"ro-RO",label:"RomÃ¢nÄƒ"},{code:"ru-RU",label:"Ð ÑƒÑÑÐºÐ¸Ð¹"},{code:"sk-SK",label:"SlovenÄina"},{code:"sv-SE",label:"Svenska"},{code:"tr-TR",label:"TÃ¼rkÃ§e"},{code:"uk-UA",label:"Ð£ÐºÑ€Ð°Ñ—Ð½ÑÑŒÐºÐ°"},{code:"zh-CN",label:"ç®€ä½“ä¸­æ–‡"},{code:"zh-TW",label:"ç¹é«”ä¸­æ–‡"},{code:"lv-LV",label:"LatvieÅ¡u"},{code:"cs-CZ",label:"ÄŒesky"},
{code:"kk-KZ",label:"ÒšÐ°Ð·Ð°Ò› Ñ‚Ñ–Ð»Ñ–"}].concat([Vg]).sort(function(aa,v){return aa.label>v.label?1:-1}).filter(function(aa){return 85<=Hk[aa.code]});"production"===yc.Vi.DEVELOPMENT&&bk.unshift({code:"__test__",label:"test language"},{code:"".concat("__test__",".rtl"),label:"â€ªtest language (rtl)â€¬",rtl:!0});var Cg=Vg,yh={},tg=function(){var aa=(0,ff.Z)(Yd().mark(function T(D){return Yd().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(Cg=D,document.documentElement.dir=Cg.rtl?"rtl":"ltr",document.documentElement.lang=
Cg.code,!D.code.startsWith("__test__")){A.next=7;break}yh={};A.next=10;break;case 7:return A.next=9,e(788)("./".concat(Cg.code,".json"));case 9:yh=A.sent;case 10:case "end":return A.stop()}},T)}));return function(D){return aa.apply(this,arguments)}}(),zh=function(aa,v){for(var D=0;D<v.length;++D){var T=v[D];if(void 0===aa[T])return;aa=aa[T]}if("string"==typeof aa)return aa},Wb=function(aa,v){if(Cg.code.startsWith("__test__"))return aa=v?"".concat(aa,"(").concat(JSON.stringify(v).slice(1,-1),")"):
aa,"â€ª[[".concat(aa,"]]â€¬");var D=aa.split(".");D=zh(yh,D)||zh(Pm,D);if(void 0===D)throw Error("Can't find translation for ".concat(aa));if(v)for(var T in v)D=D.replace("{{".concat(T,"}}"),v[T]);return D},Ra=e(4512),Aj=function(){return(0,Ra.jsx)("div",{className:"LoadingMessage",children:(0,Ra.jsx)("span",{children:Wb("labels.loadingScene")})})},Rl=function(aa){function v(){var A,ma;k(this,v);for(var sa=arguments.length,ha=Array(sa),ua=0;ua<sa;ua++)ha[ua]=arguments[ua];return E(ma,(A=ma=T.call.apply(T,
[this].concat(ha)),ma.state={isLoading:!0},A))}L(v,aa);var D,T=Y(v);return z(v,[{key:"componentDidMount",value:(D=(0,ff.Z)(Yd().mark(function ma(){var sa,ha=this;return Yd().wrap(function(ua){for(;;)switch(ua.prev=ua.next){case 0:return sa=bk.find(function(za){return za.code===ha.props.langCode})||Vg,ua.next=3,tg(sa);case 3:this.setState({isLoading:!1});case 4:case "end":return ua.stop()}},ma,this)})),function(){return D.apply(this,arguments)})},{key:"render",value:function(){return this.state.isLoading?
(0,Ra.jsx)(Aj,{}):this.props.children}}]),v}(ce().Component);class Of{constructor(aa){this.helper=aa}fillPolygon(aa,v){return this._fillPolygon(aa,v)}_fillPolygon(aa,v,D=!1){let T=ca(aa,v);D&&(aa=this.connectingLines(aa,T),T=T.concat(aa));return{type:"fillSketch",ops:this.renderLines(T,v)}}renderLines(aa,v){const D=[];for(const T of aa)D.push(...this.helper.doubleLineOps(T[0][0],T[0][1],T[1][0],T[1][1],v));return D}connectingLines(aa,v){const D=[];if(1<v.length)for(let A=1;A<v.length;A++){var T=v[A-
1];3>X(T)||(T=[v[A][0],T[1]],3<X(T)&&(T=this.splitOnIntersections(aa,T),D.push(...T)))}return D}midPointInPolygon(aa,v){return V(aa,(v[0][0]+v[1][0])/2,(v[0][1]+v[1][1])/2)}splitOnIntersections(aa,v){var D=Math.max(5,.1*X(v)),T=[];for(var A=0;A<aa.length;A++){var ma=aa[A],sa=aa[(A+1)%aa.length];if(S(ma,sa,...v)&&(ma=P(ma,sa,v[0],v[1]))){sa=X([ma,v[0]]);const ha=X([ma,v[1]]);sa>D&&ha>D&&T.push({point:ma,distance:sa})}}if(1<T.length){D=T.sort((ha,ua)=>ha.distance-ua.distance).map(ha=>ha.point);if(V(aa,
...v[0])||D.shift(),V(aa,...v[1])||D.pop(),1>=D.length)return this.midPointInPolygon(aa,v)?[v]:[];v=[v[0],...D,v[1]];D=[];for(T=0;T<v.length-1;T+=2)A=[v[T],v[T+1]],this.midPointInPolygon(aa,A)&&D.push(A);return D}return this.midPointInPolygon(aa,v)?[v]:[]}}class Hi extends Of{fillPolygon(aa,v){return this._fillPolygon(aa,v,!0)}}class mh extends Of{fillPolygon(aa,v){const D=this._fillPolygon(aa,v);v=Object.assign({},v,{hachureAngle:v.hachureAngle+90});aa=this._fillPolygon(aa,v);return D.ops=D.ops.concat(aa.ops),
D}}class Ii{constructor(aa){this.helper=aa}fillPolygon(aa,v){aa=ca(aa,v=Object.assign({},v,{curveStepCount:4,hachureAngle:0,roughness:1}));return this.dotsOnLines(aa,v)}dotsOnLines(aa,v){const D=[];let T=v.hachureGap;0>T&&(T=4*v.strokeWidth);T=Math.max(T,.1);let A=v.fillWeight;0>A&&(A=v.strokeWidth/2);const ma=T/4;for(const za of aa){var sa=X(za);aa=Math.ceil(sa/T)-1;sa-=aa*T;const Aa=(za[0][0]+za[1][0])/2-T/4,Ha=Math.min(za[0][1],za[1][1]);for(let Ua=0;Ua<aa;Ua++){var ha=Ha+sa+Ua*T,ua=this.helper.randOffsetWithRange(Aa-
ma,Aa+ma,v);ha=this.helper.randOffsetWithRange(ha-ma,ha+ma,v);ua=this.helper.ellipse(ua,ha,A,A,v);D.push(...ua.ops)}}return{type:"fillSketch",ops:D}}}class ug{constructor(aa){this.helper=aa}fillPolygon(aa,v){aa=ca(aa,v);return{type:"fillSketch",ops:this.dashedLine(aa,v)}}dashedLine(aa,v){const D=0>v.dashOffset?0>v.hachureGap?4*v.strokeWidth:v.hachureGap:v.dashOffset,T=0>v.dashGap?0>v.hachureGap?4*v.strokeWidth:v.hachureGap:v.dashGap,A=[];return aa.forEach(ma=>{var sa=X(ma);const ha=Math.floor(sa/
(D+T));sa=(sa+T-ha*(D+T))/2;let ua=ma[0];var za=ma[1];ua[0]>za[0]&&(ua=ma[1],za=ma[0]);ma=Math.atan((za[1]-ua[1])/(za[0]-ua[0]));for(za=0;za<ha;za++){var Aa=za*(D+T),Ha=Aa+D;Aa=[ua[0]+Aa*Math.cos(ma)+sa*Math.cos(ma),ua[1]+Aa*Math.sin(ma)+sa*Math.sin(ma)];Ha=[ua[0]+Ha*Math.cos(ma)+sa*Math.cos(ma),ua[1]+Ha*Math.sin(ma)+sa*Math.sin(ma)];A.push(...this.helper.doubleLineOps(Aa[0],Aa[1],Ha[0],Ha[1],v))}}),A}}class ii{constructor(aa){this.helper=aa}fillPolygon(aa,v){const D=0>v.hachureGap?4*v.strokeWidth:
v.hachureGap,T=0>v.zigzagOffset?D:v.zigzagOffset;aa=ca(aa,v=Object.assign({},v,{hachureGap:D+T}));return{type:"fillSketch",ops:this.zigzagLines(aa,T,v)}}zigzagLines(aa,v,D){const T=[];return aa.forEach(A=>{var ma=X(A);ma=Math.round(ma/(2*v));let sa=A[0];var ha=A[1];sa[0]>ha[0]&&(sa=A[1],ha=A[0]);A=Math.atan((ha[1]-sa[1])/(ha[0]-sa[0]));for(ha=0;ha<ma;ha++){var ua=2*ha*v,za=2*(ha+1)*v,Aa=Math.sqrt(2*Math.pow(v,2));ua=[sa[0]+ua*Math.cos(A),sa[1]+ua*Math.sin(A)];za=[sa[0]+za*Math.cos(A),sa[1]+za*Math.sin(A)];
Aa=[ua[0]+Aa*Math.cos(A+Math.PI/4),ua[1]+Aa*Math.sin(A+Math.PI/4)];T.push(...this.helper.doubleLineOps(ua[0],ua[1],Aa[0],Aa[1],D),...this.helper.doubleLineOps(Aa[0],Aa[1],za[0],za[1],D))}}),T}}const Ah={};class pi{constructor(aa){this.seed=aa}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const ck={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0},ln={randOffset:function(aa,v){return ic(aa,v)},randOffsetWithRange:function(aa,
v,D){return Sb(aa,v,D)},ellipse:function(aa,v,D,T,A){D=Ma(D,T,A);return Sa(aa,v,A,D).opset},doubleLineOps:function(aa,v,D,T,A){return Db(aa,v,D,T,A,!0)}};class aj{constructor(aa){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,combineNestedSvgPaths:!1,disableMultiStroke:!1,disableMultiStrokeFill:!1,
preserveVertices:!1};this.config=aa||{};this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(aa){return aa?Object.assign({},this.defaultOptions,aa):this.defaultOptions}_d(aa,v,D){return{shape:aa,sets:v||[],options:D||this.defaultOptions}}line(aa,v,D,T,A){A=this._o(A);return this._d("line",[{type:"path",ops:Db(aa,v,D,T,A)}],A)}rectangle(aa,v,D,T,A){A=this._o(A);const ma=[];var sa=Da([[aa,v],[aa+D,v],[aa+D,v+T],[aa,v+T]],
!0,A);A.fill&&(aa=[[aa,v],[aa+D,v],[aa+D,v+T],[aa,v+T]],"solid"===A.fillStyle?ma.push(db(aa,A)):ma.push(Ib(aa,A)));return"none"!==A.stroke&&ma.push(sa),this._d("rectangle",ma,A)}ellipse(aa,v,D,T,A){A=this._o(A);const ma=[];T=Ma(D,T,A);D=Sa(aa,v,A,T);A.fill&&("solid"===A.fillStyle?(aa=Sa(aa,v,A,T).opset,aa.type="fillPath",ma.push(aa)):ma.push(Ib(D.estimatedPoints,A)));return"none"!==A.stroke&&ma.push(D.opset),this._d("ellipse",ma,A)}circle(aa,v,D,T){aa=this.ellipse(aa,v,D,D,T);return aa.shape="circle",
aa}linearPath(aa,v){v=this._o(v);return this._d("linearPath",[Da(aa,!1,v)],v)}arc(aa,v,D,T,A,ma,sa=!1,ha){ha=this._o(ha);const ua=[],za=Wa(aa,v,D,T,A,ma,sa,!0,ha);if(sa&&ha.fill)if("solid"===ha.fillStyle)aa=Wa(aa,v,D,T,A,ma,!0,!1,ha),aa.type="fillPath",ua.push(aa);else{sa=ua.push;D=Math.abs(D/2);T=Math.abs(T/2);D+=ic(.01*D,ha);for(T+=ic(.01*T,ha);0>A;)A+=2*Math.PI,ma+=2*Math.PI;ma-A>2*Math.PI&&(A=0,ma=2*Math.PI);const Aa=(ma-A)/ha.curveStepCount,Ha=[];for(;A<=ma;A+=Aa)Ha.push([aa+D*Math.cos(A),v+
T*Math.sin(A)]);aa=(Ha.push([aa+D*Math.cos(ma),v+T*Math.sin(ma)]),Ha.push([aa,v]),Ib(Ha,ha));sa.call(ua,aa)}return"none"!==ha.stroke&&ua.push(za),this._d("arc",ua,ha)}curve(aa,v){v=this._o(v);const D=[],T=ya(aa,v);v.fill&&"none"!==v.fill&&3<=aa.length&&(aa=Ub(function(A,ma=0){var sa=A.length;if(3>sa)throw Error("A curve must have at least three points.");const ha=[];if(3===sa)ha.push([...A[0]],[...A[1]],[...A[2]],[...A[2]]);else{sa=[];sa.push(A[0],A[0]);for(var ua=1;ua<A.length;ua++)sa.push(A[ua]),
ua===A.length-1&&sa.push(A[ua]);A=[];ma=1-ma;ha.push([...sa[0]]);for(ua=1;ua+2<sa.length;ua++){const za=sa[ua];A[0]=[za[0],za[1]];A[1]=[za[0]+(ma*sa[ua+1][0]-ma*sa[ua-1][0])/6,za[1]+(ma*sa[ua+1][1]-ma*sa[ua-1][1])/6];A[2]=[sa[ua+1][0]+(ma*sa[ua][0]-ma*sa[ua+2][0])/6,sa[ua+1][1]+(ma*sa[ua][1]-ma*sa[ua+2][1])/6];A[3]=[sa[ua+1][0],sa[ua+1][1]];ha.push(A[1],A[2],A[3])}}return ha}(aa),10,(1+v.roughness)/2),"solid"===v.fillStyle?D.push(db(aa,v)):D.push(Ib(aa,v)));return"none"!==v.stroke&&D.push(T),this._d("curve",
D,v)}polygon(aa,v){v=this._o(v);const D=[],T=Da(aa,!0,v);return v.fill&&("solid"===v.fillStyle?D.push(db(aa,v)):D.push(Ib(aa,v))),"none"!==v.stroke&&D.push(T),this._d("polygon",D,v)}path(aa,v){const D=this._o(v),T=[];if(!aa)return this._d("path",T,D);aa=(aa||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");v=D.fill&&"transparent"!==D.fill&&"none"!==D.fill;const A="none"!==D.stroke,ma=!!(D.simplification&&1>D.simplification),sa=function(ha,ua,za){var Aa=qa(ba(xa(ha)));ha=[];let Ha=
[];var Ua=[0,0];let Ya=[];const ob=()=>{4<=Ya.length&&Ha.push(...Ub(Ya,ua));Ya=[]};for(const {key:Bb,data:Rb}of Aa)switch(Bb){case "M":ob();Ha.length&&(ha.push(Ha),Ha=[]);Ua=[Rb[0],Rb[1]];Ha.push(Ua);break;case "L":ob();Ha.push([Rb[0],Rb[1]]);break;case "C":Ya.length||(Aa=Ha.length?Ha[Ha.length-1]:Ua,Ya.push([Aa[0],Aa[1]]));Ya.push([Rb[0],Rb[1]]);Ya.push([Rb[2],Rb[3]]);Ya.push([Rb[4],Rb[5]]);break;case "Z":ob(),Ha.push([Ua[0],Ua[1]])}ob();Ha.length&&(ha.push(Ha),Ha=[]);if(!za)return ha;Ua=[];for(const Bb of ha)ha=
Yb(Bb,0,Bb.length,za),ha.length&&Ua.push(ha);return Ua}(aa,1,ma?4-4*D.simplification:(1+D.roughness)/2);if(v)if(D.combineNestedSvgPaths){const ha=[];sa.forEach(ua=>ha.push(...ua));"solid"===D.fillStyle?T.push(db(ha,D)):T.push(Ib(ha,D))}else sa.forEach(ha=>{"solid"===D.fillStyle?T.push(db(ha,D)):T.push(Ib(ha,D))});return A&&(ma?sa.forEach(ha=>{T.push(Da(ha,!1,D))}):T.push(function(ha,ua){ha=qa(ba(xa(ha)));const za=[];let Aa=[0,0],Ha=[0,0];for(const {key:Ua,data:Ya}of ha)switch(Ua){case "M":const ob=
1*(ua.maxRandomnessOffset||0),Bb=ua.preserveVertices;za.push({op:"move",data:Ya.map(Zc=>Zc+(Bb?0:ic(ob,ua)))});Ha=[Ya[0],Ya[1]];Aa=[Ya[0],Ya[1]];break;case "L":za.push(...Db(Ha[0],Ha[1],Ya[0],Ya[1],ua));Ha=[Ya[0],Ya[1]];break;case "C":const [Rb,hc,mc,Tc,Xc,Pc]=Ya;za.push(...La(Rb,hc,mc,Tc,Xc,Pc,Ha,ua));Ha=[Xc,Pc];break;case "Z":za.push(...Db(Ha[0],Ha[1],Aa[0],Aa[1],ua)),Ha=[Aa[0],Aa[1]]}return{type:"path",ops:za}}(aa,D))),this._d("path",T,D)}opsToPath(aa,v){let D="";for(const T of aa.ops)switch(aa=
"number"==typeof v&&0<=v?T.data.map(A=>+A.toFixed(v)):T.data,T.op){case "move":D+=`M${aa[0]} ${aa[1]} `;break;case "bcurveTo":D+=`C${aa[0]} ${aa[1]}, ${aa[2]} ${aa[3]}, ${aa[4]} ${aa[5]} `;break;case "lineTo":D+=`L${aa[0]} ${aa[1]} `}return D.trim()}toPaths(aa){var v=aa.sets||[];aa=aa.options||this.defaultOptions;const D=[];for(const T of v){v=null;switch(T.type){case "path":v={d:this.opsToPath(T),stroke:aa.stroke,strokeWidth:aa.strokeWidth,fill:"none"};break;case "fillPath":v={d:this.opsToPath(T),
stroke:"none",strokeWidth:0,fill:aa.fill||"none"};break;case "fillSketch":v=this.fillSketch(T,aa)}v&&D.push(v)}return D}fillSketch(aa,v){let D=v.fillWeight;return 0>D&&(D=v.strokeWidth/2),{d:this.opsToPath(aa),stroke:v.fill||"none",strokeWidth:D,fill:"none"}}}class $k{constructor(aa,v){this.canvas=aa;this.ctx=this.canvas.getContext("2d");this.gen=new aj(v)}draw(aa){const v=aa.sets||[],D=aa.options||this.getDefaultOptions(),T=this.ctx;for(const A of v)switch(A.type){case "path":T.save();T.strokeStyle=
"none"===D.stroke?"transparent":D.stroke;T.lineWidth=D.strokeWidth;D.strokeLineDash&&T.setLineDash(D.strokeLineDash);D.strokeLineDashOffset&&(T.lineDashOffset=D.strokeLineDashOffset);this._drawToContext(T,A);T.restore();break;case "fillPath":T.save();T.fillStyle=D.fill||"";this._drawToContext(T,A,"curve"===aa.shape||"polygon"===aa.shape?"evenodd":"nonzero");T.restore();break;case "fillSketch":this.fillSketch(T,A,D)}}fillSketch(aa,v,D){let T=D.fillWeight;0>T&&(T=D.strokeWidth/2);aa.save();D.fillLineDash&&
aa.setLineDash(D.fillLineDash);D.fillLineDashOffset&&(aa.lineDashOffset=D.fillLineDashOffset);aa.strokeStyle=D.fill||"";aa.lineWidth=T;this._drawToContext(aa,v);aa.restore()}_drawToContext(aa,v,D="nonzero"){aa.beginPath();for(const T of v.ops){const A=T.data;switch(T.op){case "move":aa.moveTo(A[0],A[1]);break;case "bcurveTo":aa.bezierCurveTo(A[0],A[1],A[2],A[3],A[4],A[5]);break;case "lineTo":aa.lineTo(A[0],A[1])}}"fillPath"===v.type?aa.fill(D):aa.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(aa,
v,D,T,A){aa=this.gen.line(aa,v,D,T,A);return this.draw(aa),aa}rectangle(aa,v,D,T,A){aa=this.gen.rectangle(aa,v,D,T,A);return this.draw(aa),aa}ellipse(aa,v,D,T,A){aa=this.gen.ellipse(aa,v,D,T,A);return this.draw(aa),aa}circle(aa,v,D,T){aa=this.gen.circle(aa,v,D,T);return this.draw(aa),aa}linearPath(aa,v){aa=this.gen.linearPath(aa,v);return this.draw(aa),aa}polygon(aa,v){aa=this.gen.polygon(aa,v);return this.draw(aa),aa}arc(aa,v,D,T,A,ma,sa=!1,ha){aa=this.gen.arc(aa,v,D,T,A,ma,sa,ha);return this.draw(aa),
aa}curve(aa,v){aa=this.gen.curve(aa,v);return this.draw(aa),aa}path(aa,v){aa=this.gen.path(aa,v);return this.draw(aa),aa}}class Hn{constructor(aa,v){this.svg=aa;this.gen=new aj(v)}draw(aa){var v=aa.sets||[];const D=aa.options||this.getDefaultOptions(),T=this.svg.ownerDocument||window.document,A=T.createElementNS("http://www.w3.org/2000/svg","g"),ma=aa.options.fixedDecimalPlaceDigits;for(const sa of v){v=null;switch(sa.type){case "path":v=T.createElementNS("http://www.w3.org/2000/svg","path");v.setAttribute("d",
this.opsToPath(sa,ma));v.setAttribute("stroke",D.stroke);v.setAttribute("stroke-width",D.strokeWidth+"");v.setAttribute("fill","none");D.strokeLineDash&&v.setAttribute("stroke-dasharray",D.strokeLineDash.join(" ").trim());D.strokeLineDashOffset&&v.setAttribute("stroke-dashoffset",`${D.strokeLineDashOffset}`);break;case "fillPath":v=T.createElementNS("http://www.w3.org/2000/svg","path");v.setAttribute("d",this.opsToPath(sa,ma));v.setAttribute("stroke","none");v.setAttribute("stroke-width","0");v.setAttribute("fill",
D.fill||"");"curve"!==aa.shape&&"polygon"!==aa.shape||v.setAttribute("fill-rule","evenodd");break;case "fillSketch":v=this.fillSketch(T,sa,D)}v&&A.appendChild(v)}return A}fillSketch(aa,v,D){let T=D.fillWeight;0>T&&(T=D.strokeWidth/2);aa=aa.createElementNS("http://www.w3.org/2000/svg","path");return aa.setAttribute("d",this.opsToPath(v,D.fixedDecimalPlaceDigits)),aa.setAttribute("stroke",D.fill||""),aa.setAttribute("stroke-width",T+""),aa.setAttribute("fill","none"),D.fillLineDash&&aa.setAttribute("stroke-dasharray",
D.fillLineDash.join(" ").trim()),D.fillLineDashOffset&&aa.setAttribute("stroke-dashoffset",`${D.fillLineDashOffset}`),aa}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(aa,v){return this.gen.opsToPath(aa,v)}line(aa,v,D,T,A){aa=this.gen.line(aa,v,D,T,A);return this.draw(aa)}rectangle(aa,v,D,T,A){aa=this.gen.rectangle(aa,v,D,T,A);return this.draw(aa)}ellipse(aa,v,D,T,A){aa=this.gen.ellipse(aa,v,D,T,A);return this.draw(aa)}circle(aa,v,D,T){aa=this.gen.circle(aa,
v,D,T);return this.draw(aa)}linearPath(aa,v){aa=this.gen.linearPath(aa,v);return this.draw(aa)}polygon(aa,v){aa=this.gen.polygon(aa,v);return this.draw(aa)}arc(aa,v,D,T,A,ma,sa=!1,ha){aa=this.gen.arc(aa,v,D,T,A,ma,sa,ha);return this.draw(aa)}curve(aa,v){aa=this.gen.curve(aa,v);return this.draw(aa)}path(aa,v){aa=this.gen.path(aa,v);return this.draw(aa)}}var Bj={canvas:(aa,v)=>new $k(aa,v),svg:(aa,v)=>new Hn(aa,v),generator:aa=>new aj(aa),newSeed:()=>aj.newSeed()};let dk=(aa=21)=>{let v="",D=crypto.getRandomValues(new Uint8Array(aa));
for(;aa--;){let T=63&D[aa];v+=36>T?T.toString(36):62>T?(T-26).toString(36).toUpperCase():63>T?"_":"-"}return v};var Xg=function(aa){return null!=aa&&"text"===aa.type},ki=function(aa){return null!=aa&&"freedraw"===aa.type},Dg=function(aa){return null!=aa&&oj(aa.type)},oj=function(aa){return"arrow"===aa||"line"===aa},Wg=function(aa){return null!=aa&&"arrow"===aa.type},Ze=function(aa){return null!=aa&&("rectangle"===aa.type||"diamond"===aa.type||"ellipse"===aa.type||"text"===aa.type)},Jf=function(aa,
v,D,T,A){return[(aa-D)*Math.cos(A)-(v-T)*Math.sin(A)+D,(aa-D)*Math.sin(A)+(v-T)*Math.cos(A)+T]},Df=function(aa,v,D){return Jf(aa[0],aa[1],v[0],v[1],D)},qi=function(aa,v,D,T,A,ma,sa,ha){var ua=Math.cos(T);T=Math.sin(T);return aa.e&&aa.w?v+=A+sa:aa.e?(v+=A*(1+ua),D+=A*T,v+=sa*(1-ua),D+=sa*-T):aa.w&&(v+=A*(1-ua),D+=A*-T,v+=sa*(1+ua),D+=sa*T),aa.n&&aa.s?D+=ma+ha:aa.n?(v+=ma*T,D+=ma*(1-ua),v+=ha*-T,D+=ha*(1+ua)):aa.s&&(v+=ma*-T,D+=ma*(1+ua),v+=ha*T,D+=ha*(1-ua)),[v,D]},qj=function(aa){var v=1<arguments.length&&
void 0!==arguments[1]?arguments[1]:1;if(3<=aa.length){var D=[aa[0],aa[aa.length-1]],T=D[0];D=D[1];return Math.hypot(D[0]-T[0],D[1]-T[1])<=yc.qx/v}return!1},ek=function(aa,v,D){var T=aa.length;if(3>T)return!1;var A=[Number.MAX_SAFE_INTEGER,D];v=[v,D];for(var ma=D=0;ma<T;ma++){var sa=aa[ma],ha=aa[(ma+1)%T],ua=sa,za=ha,Aa=v,Ha=A,Ua=Qi(ua,za,Aa),Ya=Qi(ua,za,Ha),ob=Qi(Aa,Ha,ua),Bb=Qi(Aa,Ha,za);if(Ua!==Ya&&ob!==Bb||0===Ua&&nh(ua,Aa,za)||0===Ya&&nh(ua,Ha,za)||0===ob&&nh(Aa,ua,Ha)||0===Bb&&nh(Aa,za,Ha)){if(0===
Qi(sa,v,ha))return nh(sa,v,ha);D++}}return 1==D%2},nh=function(aa,v,D){return v[0]<=Math.max(aa[0],D[0])&&v[0]>=Math.min(aa[0],D[0])&&v[1]<=Math.max(aa[1],D[1])&&v[1]>=Math.min(aa[1],D[1])},Qi=function(aa,v,D){aa=(v[1]-aa[1])*(D[0]-v[0])-(v[0]-aa[0])*(D[1]-v[1]);return 0===aa?0:0<aa?1:2},Ch=function(aa,v,D){return D?[Math.round(aa/D)*D,Math.round(v/D)*D]:[aa,v]},lm=function(aa,v,D){var T=D.map(function(ua){return ua[aa]}),A=Math.max.apply(Math,N(T));T=Math.min.apply(Math,N(T));A-=T;var ma=0===A?1:
v/A,sa=1/0;v=D.map(function(ua){return ua.map(function(za,Aa){if(Aa!==aa)return za;za*=ma;return sa=Math.min(za,sa),za})});if(2===v.length)return v;var ha=T-sa;return v.map(function(ua){return ua.map(function(za,Aa){return Aa===aa?za+ha:za})})},Vf=function(aa){if(ki(aa)){var v=da(tl(aa.points),4);aa=[v[0]+aa.x,v[1]+aa.y,v[2]+aa.x,v[3]+aa.y]}else aa=Dg(aa)?jf(aa):[aa.x,aa.y,aa.x+aa.width,aa.y+aa.height];return aa},Ik=function(aa){var v,D=Hc(aa.sets);try{for(D.s();!(v=D.n()).done;){var T=v.value;if("path"===
T.type)return T.ops}}catch(A){D.e(A)}finally{D.f()}return aa.sets[0].ops},Mh=function(aa,v){var D=[0,0];aa=aa.reduce(function(T,A){var ma=A.op;A=A.data;if("move"===ma)D=A;else if("bcurveTo"===ma){var sa=[A[0],A[1]],ha=[A[2],A[3]],ua=[A[4],A[5]],za=D;D=ua;ma=function(Ua,Ya){return Math.pow(1-Ua,3)*ua[Ya]+3*Ua*Math.pow(1-Ua,2)*ha[Ya]+3*Math.pow(Ua,2)*(1-Ua)*sa[Ya]+za[Ya]*Math.pow(Ua,3)};for(A=0;1>=A;){var Aa=ma(A,0),Ha=ma(A,1);v&&(Ha=da(v(Aa,Ha),2),Aa=Ha[0],Ha=Ha[1]);T.minY=Math.min(T.minY,Ha);T.minX=
Math.min(T.minX,Aa);T.maxX=Math.max(T.maxX,Aa);T.maxY=Math.max(T.maxY,Ha);A+=.1}}return T},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[aa.minX,aa.minY,aa.maxX,aa.maxY]},tl=function(aa){var v,D=1/0,T=1/0,A=-1/0,ma=-1/0;aa=Hc(aa);try{for(aa.s();!(v=aa.n()).done;){var sa=da(v.value,2),ha=sa[0],ua=sa[1];D=Math.min(D,ha);T=Math.min(T,ua);A=Math.max(A,ha);ma=Math.max(ma,ua)}}catch(za){aa.e(za)}finally{aa.f()}return[D,T,A,ma]},jf=function(aa){if(2>aa.points.length||!kh.get(aa)){var v=aa.points.reduce(function(D,
T){var A=da(T,2);T=A[0];A=A[1];return D.minY=Math.min(D.minY,A),D.minX=Math.min(D.minX,T),D.maxX=Math.max(D.maxX,T),D.maxY=Math.max(D.maxY,A),D},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});aa=[v.minX+aa.x,v.minY+aa.y,v.maxX+aa.x,v.maxY+aa.y]}else v=kh.get(aa),v=Ik(v[0]),v=da(Mh(v),4),aa=[v[0]+aa.x,v[1]+aa.y,v[2]+aa.x,v[3]+aa.y];return aa},gk=function(aa){var v=da(Vf(aa),4),D=v[0],T=v[1];var A=v[2];var ma=v[3],sa=(D+A)/2,ha=(T+ma)/2;if(ki(aa))return A=tl(aa.points.map(function(Ha){Ha=da(Ha,2);return Jf(Ha[0],
Ha[1],sa-aa.x,ha-aa.y,aa.angle)})),A=da(A,4),[A[0]+aa.x,A[1]+aa.y,A[2]+aa.x,A[3]+aa.y];if(Dg(aa))A=function(Ha,Ua,Ya){if(2>Ha.points.length||!kh.get(Ha)){var ob=Ha.points.reduce(function(Bb,Rb){var hc=da(Rb,2);Rb=hc[0];hc=hc[1];var mc=da(Jf(Ha.x+Rb,Ha.y+hc,Ua,Ya,Ha.angle),2);return Rb=mc[0],hc=mc[1],Bb.minY=Math.min(Bb.minY,hc),Bb.minX=Math.min(Bb.minX,Rb),Bb.maxX=Math.max(Bb.maxX,Rb),Bb.maxY=Math.max(Bb.maxY,hc),Bb},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[ob.minX,ob.minY,ob.maxX,ob.maxY]}ob=
kh.get(Ha);ob=Ik(ob[0]);return Mh(ob,function(Bb,Rb){return Jf(Ha.x+Bb,Ha.y+Rb,Ua,Ya,Ha.angle)})}(aa,sa,ha);else if("diamond"===aa.type){T=da(Jf(sa,T,sa,ha,aa.angle),2);v=T[0];T=T[1];ma=da(Jf(sa,ma,sa,ha,aa.angle),2);var ua=ma[0];ma=ma[1];var za=da(Jf(D,ha,sa,ha,aa.angle),2);D=za[0];za=za[1];var Aa=da(Jf(A,ha,sa,ha,aa.angle),2);A=Aa[0];Aa=Aa[1];A=[Math.min(v,ua,D,A),Math.min(T,ma,za,Aa),Math.max(v,ua,D,A),Math.max(T,ma,za,Aa)]}else"ellipse"===aa.type?(A=(A-D)/2,T=(ma-T)/2,ua=Math.cos(aa.angle),D=
Math.sin(aa.angle),v=Math.hypot(A*ua,T*D),A=Math.hypot(T*ua,A*D),A=[sa-v,ha-A,sa+v,ha+A]):(ua=da(Jf(D,T,sa,ha,aa.angle),2),v=ua[0],ua=ua[1],za=da(Jf(D,ma,sa,ha,aa.angle),2),D=za[0],za=za[1],Aa=da(Jf(A,ma,sa,ha,aa.angle),2),ma=Aa[0],Aa=Aa[1],T=da(Jf(A,T,sa,ha,aa.angle),2),A=T[0],T=T[1],A=[Math.min(v,D,ma,A),Math.min(ua,za,Aa,T),Math.max(v,D,ma,A),Math.max(ua,za,Aa,T)]);return A},Bg=function(aa){if(!aa.length)return[0,0,0,0];var v=1/0,D=-1/0,T=1/0,A=-1/0;return aa.forEach(function(ma){ma=da(gk(ma),
4);var sa=ma[1],ha=ma[2],ua=ma[3];v=Math.min(v,ma[0]);T=Math.min(T,sa);D=Math.max(D,ha);A=Math.max(A,ua)}),[v,T,D,A]},Re=function(aa,v,D){if(!Dg(aa)&&!ki(aa))return[aa.x,aa.y,aa.x+v,aa.y+D];v=lm(0,v,lm(1,D,aa.points));ki(aa)?v=tl(v):(D=Bj.generator(),v="sharp"===aa.strokeSharpness?D.linearPath(v,Yf(aa)):D.curve(v,Yf(aa)),v=Ik(v),v=Mh(v));v=da(v,4);return[v[0]+aa.x,v[1]+aa.y,v[2]+aa.x,v[3]+aa.y]},ul=function(aa,v,D){var T=Bj.generator();v="sharp"===D?T.linearPath(v,Yf(aa)):T.curve(v,Yf(aa));v=Ik(v);
v=da(Mh(v),4);return[v[0]+aa.x,v[1]+aa.y,v[2]+aa.x,v[3]+aa.y]},mf=JSON.parse('{"white":"#ffffff","black":"#000000","gray":["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],"red":["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],"pink":["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],"grape":["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],"violet":["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],"indigo":["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],"blue":["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],"cyan":["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],"teal":["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],"green":["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],"lime":["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],"yellow":["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],"orange":["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]}'),
$h=function(aa){return[mf.red[aa],mf.pink[aa],mf.grape[aa],mf.violet[aa],mf.indigo[aa],mf.blue[aa],mf.cyan[aa],mf.teal[aa],mf.green[aa],mf.lime[aa],mf.yellow[aa],mf.orange[aa]]},ri={canvasBackground:[mf.white,mf.gray[0],mf.gray[1]].concat(N($h(0))),elementBackground:["transparent",mf.gray[4],mf.gray[6]].concat(N($h(6))),elementStroke:[mf.black,mf.gray[8],mf.gray[7]].concat(N($h(9)))},rh=e(6207),xi=/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),nj=/^Win/.test(window.navigator.platform),Af=
xi?"metaKey":"ctrlKey",oh=function(aa){return"ArrowLeft"===aa||"ArrowRight"===aa||"ArrowDown"===aa||"ArrowUp"===aa},Nh=function(aa){return aa.charAt(0).toUpperCase()+aa.slice(1)},Dj=function(aa){return aa instanceof HTMLElement&&"wysiwyg"===aa.dataset.type||aa instanceof HTMLBRElement||aa instanceof HTMLTextAreaElement||aa instanceof HTMLInputElement&&("text"===aa.type||"number"===aa.type)},mm=function(aa){aa=aa.fontFamily;for(var v=0,D=Object.entries(yc.ut);v<D.length;v++){var T=da(D[v],2),A=T[0];
if(T[1]===aa)return"".concat(A,", ").concat(yc._D)}return yc._D},jk=function(aa){var v=aa.fontFamily;return"".concat(aa.fontSize,"px ").concat(mm({fontFamily:v}))},Vl=function(aa,v){var D=document.createElement("div"),T=document.body;D.style.position="absolute";D.style.whiteSpace="pre";D.style.font=v;T.appendChild(D);D.innerText=aa.split("\n").map(function(A){return A||" "}).join("\n");aa=D.offsetWidth;v=D.offsetHeight;T=document.createElement("span");T.style.display="inline-block";T.style.overflow=
"hidden";T.style.width="1px";T.style.height="1px";D.appendChild(T);T=T.offsetTop+T.offsetHeight;return document.body.removeChild(D),{width:aa,height:v,baseline:T}},Sm=function(aa,v){var D=0,T=null,A=function(){for(var ma=arguments.length,sa=Array(ma),ha=0;ha<ma;ha++)sa[ha]=arguments[ha];T=sa;clearTimeout(D);D=window.setTimeout(function(){T=null;aa.apply(void 0,sa)},v)};return A.flush=function(){if(clearTimeout(D),T){var ma=T;T=null;aa.apply(void 0,N(ma))}},A.cancel=function(){T=null;clearTimeout(D)},
A},Pi=function(aa){aa&&(aa.style.cursor="")},yi=function(aa,v){aa&&(aa.style.cursor=v)},si=function(aa,v){aa&&("selection"===v?Pi(aa):aa.style.cursor=yc.oc.CROSSHAIR)},Ul=function(){var aa;return"HTML"===(null===(aa=document.fullscreenElement)||void 0===aa?void 0:aa.nodeName)},Vd=function(aa){return aa=aa.replace(/\bAlt\b/i,"Alt").replace(/\bShift\b/i,"Shift").replace(/\b(Enter|Return)\b/i,"Enter").replace(/\bDel\b/i,"Delete"),xi?aa.replace(/\bCtrlOrCmd\b/i,"Cmd").replace(/\bAlt\b/i,"Option"):aa.replace(/\bCtrlOrCmd\b/i,
"Ctrl")},hh=function(aa,v){var D=v.zoom,T=1/D.value;return{x:(aa.clientX-D.translation.x-v.offsetLeft)*T-v.scrollX,y:(aa.clientY-D.translation.y-v.offsetTop)*T-v.scrollY}},hk=function(aa,v){var D=v.zoom;return{x:(aa.sceneX+v.scrollX+v.offsetLeft)*D.value+D.translation.x,y:(aa.sceneY+v.scrollY+v.offsetTop)*D.value+D.translation.y}},Gj=function(aa){return getComputedStyle(document.documentElement).getPropertyValue("--".concat(aa))},ik=new RegExp("^[^".concat("A-Za-zÃ€-Ã–Ã˜-Ã¶Ã¸-Ê¸Ì€-Öà €-á¿¿â°€-ï¬œï·¾-ï¹¯ï»½-ï¿¿","]*[").concat("Ö‘-ß¿ï¬-ï·½ï¹°-ï»¼",
"]")),Hj=function(aa){aa=da(aa,2);return{x:aa[0],y:aa[1]}},kk=function(aa){if("AbortError"!==(null==aa?void 0:aa.name))throw aa;},Ri=function(aa){var v=5===aa.length&&"0"===aa.substr(4,1),D=9===aa.length&&"00"===aa.substr(7,2);return v||D||aa===ri.elementBackground[0]},ag=function(aa){return function(v){(0,rh.unstable_batchedUpdates)(aa,v)}},Bm=yc.ZB.includes(devicePixelRatio)?devicePixelRatio:1,Ij=function(){var aa=new Map,v=yc.rk,D=yc.n5,T=mf.black,A=yc.Hg,ma="".concat(Wb("labels.untitled"),"-"),
sa=ma.concat;var ha=new Date;var ua=ha.getFullYear();var za="".concat(ha.getMonth()+1).padStart(2,"0"),Aa="".concat(ha.getDate()).padStart(2,"0"),Ha="".concat(ha.getHours()).padStart(2,"0");ha="".concat(ha.getMinutes()).padStart(2,"0");ua="".concat(ua,"-").concat(za,"-").concat(Aa,"-").concat(Ha).concat(ha);return{theme:"light",collaborators:aa,currentChartType:"bar",currentItemBackgroundColor:"transparent",currentItemEndArrowhead:"arrow",currentItemFillStyle:"hachure",currentItemFontFamily:v,currentItemFontSize:D,
currentItemLinearStrokeSharpness:"round",currentItemOpacity:100,currentItemRoughness:1,currentItemStartArrowhead:null,currentItemStrokeColor:T,currentItemStrokeSharpness:"sharp",currentItemStrokeStyle:"solid",currentItemStrokeWidth:1,currentItemTextAlign:A,cursorButton:"up",draggingElement:null,editingElement:null,editingGroupId:null,editingLinearElement:null,elementLocked:!1,elementType:"selection",errorMessage:null,exportBackground:!0,exportScale:Bm,exportEmbedScene:!1,exportWithDarkMode:!1,fileHandle:null,
gridSize:null,isBindingEnabled:!0,isLibraryOpen:!1,isLoading:!1,isResizing:!1,isRotating:!1,lastPointerDownWith:"mouse",multiElement:null,name:sa.call(ma,ua),openMenu:null,openPopup:null,pasteDialog:{shown:!1,data:null},previousSelectedElementIds:{},resizingElement:null,scrolledOutside:!1,scrollX:0,scrollY:0,selectedElementIds:{},selectedGroupIds:{},selectionElement:null,shouldCacheIgnoreZoom:!1,showHelpDialog:!1,showStats:!1,startBoundElement:null,suggestedBindings:[],toastMessage:null,viewBackgroundColor:mf.white,
zenModeEnabled:!1,zoom:{value:1,translation:{x:0,y:0}},viewModeEnabled:!1}},xl={theme:{browser:!0,export:!1},collaborators:{browser:!1,export:!1},currentChartType:{browser:!0,export:!1},currentItemBackgroundColor:{browser:!0,export:!1},currentItemEndArrowhead:{browser:!0,export:!1},currentItemFillStyle:{browser:!0,export:!1},currentItemFontFamily:{browser:!0,export:!1},currentItemFontSize:{browser:!0,export:!1},currentItemLinearStrokeSharpness:{browser:!0,export:!1},currentItemOpacity:{browser:!0,
export:!1},currentItemRoughness:{browser:!0,export:!1},currentItemStartArrowhead:{browser:!0,export:!1},currentItemStrokeColor:{browser:!0,export:!1},currentItemStrokeSharpness:{browser:!0,export:!1},currentItemStrokeStyle:{browser:!0,export:!1},currentItemStrokeWidth:{browser:!0,export:!1},currentItemTextAlign:{browser:!0,export:!1},cursorButton:{browser:!0,export:!1},draggingElement:{browser:!1,export:!1},editingElement:{browser:!1,export:!1},editingGroupId:{browser:!0,export:!1},editingLinearElement:{browser:!1,
export:!1},elementLocked:{browser:!0,export:!1},elementType:{browser:!0,export:!1},errorMessage:{browser:!1,export:!1},exportBackground:{browser:!0,export:!1},exportEmbedScene:{browser:!0,export:!1},exportScale:{browser:!0,export:!1},exportWithDarkMode:{browser:!0,export:!1},fileHandle:{browser:!1,export:!1},gridSize:{browser:!0,export:!0},height:{browser:!1,export:!1},isBindingEnabled:{browser:!1,export:!1},isLibraryOpen:{browser:!1,export:!1},isLoading:{browser:!1,export:!1},isResizing:{browser:!1,
export:!1},isRotating:{browser:!1,export:!1},lastPointerDownWith:{browser:!0,export:!1},multiElement:{browser:!1,export:!1},name:{browser:!0,export:!1},offsetLeft:{browser:!1,export:!1},offsetTop:{browser:!1,export:!1},openMenu:{browser:!0,export:!1},openPopup:{browser:!1,export:!1},pasteDialog:{browser:!1,export:!1},previousSelectedElementIds:{browser:!0,export:!1},resizingElement:{browser:!1,export:!1},scrolledOutside:{browser:!0,export:!1},scrollX:{browser:!0,export:!1},scrollY:{browser:!0,export:!1},
selectedElementIds:{browser:!0,export:!1},selectedGroupIds:{browser:!0,export:!1},selectionElement:{browser:!1,export:!1},shouldCacheIgnoreZoom:{browser:!0,export:!1},showHelpDialog:{browser:!1,export:!1},showStats:{browser:!0,export:!1},startBoundElement:{browser:!1,export:!1},suggestedBindings:{browser:!1,export:!1},toastMessage:{browser:!1,export:!1},viewBackgroundColor:{browser:!0,export:!0},width:{browser:!1,export:!1},zenModeEnabled:{browser:!0,export:!1},zoom:{browser:!0,export:!1},viewModeEnabled:{browser:!1,
export:!1}},fk=function(aa,v){var D,T={},A=rd(Object.keys(aa));try{for(A.s();!(D=A.n()).done;){var ma=D.value,sa=xl[ma];null!=sa&&sa[v]&&(T[ma]=aa[ma])}}catch(ha){A.e(ha)}finally{A.f()}return T},{min:Wl,PI:nn}=Math,Gm=nn+1E-4,zj=Ij(),Sl=function(aa,v,D){switch(D.globalAlpha=aa.opacity/100,aa.type){case "rectangle":case "diamond":case "ellipse":D.lineJoin="round";D.lineCap="round";v.draw(kh.get(aa));break;case "arrow":case "line":D.lineJoin="round";D.lineCap="round";kh.get(aa).forEach(function(ua){v.draw(ua)});
break;case "freedraw":D.save();D.fillStyle=aa.strokeColor;var T=Oh.get(aa);D.fillStyle=aa.strokeColor;D.fill(T);D.restore();break;default:if(!Xg(aa))throw Error("Unimplemented type ".concat(aa.type));var A=ik.test(aa.text);(T=A&&!D.canvas.isConnected)&&document.body.appendChild(D.canvas);D.canvas.setAttribute("dir",A?"rtl":"ltr");D.save();D.font=jk(aa);D.fillStyle=aa.strokeColor;D.textAlign=aa.textAlign;A=aa.text.replace(/\r\n?/g,"\n").split("\n");var ma=aa.height/A.length,sa=aa.height-aa.baseline;
aa="center"===aa.textAlign?aa.width/2:"right"===aa.textAlign?aa.width:0;for(var ha=0;ha<A.length;ha++)D.fillText(A[ha],aa,(ha+1)*ma-sa);D.restore();T&&D.canvas.remove()}D.globalAlpha=1},Xl=new WeakMap,kh=new WeakMap,Yf=function(aa){var v={seed:aa.seed,strokeLineDash:"dashed"===aa.strokeStyle?[8,8+aa.strokeWidth]:"dotted"===aa.strokeStyle?[1.5,6+aa.strokeWidth]:void 0,disableMultiStroke:"solid"!==aa.strokeStyle,strokeWidth:"solid"!==aa.strokeStyle?aa.strokeWidth+.5:aa.strokeWidth,fillWeight:aa.strokeWidth/
2,hachureGap:4*aa.strokeWidth,roughness:aa.roughness,stroke:aa.strokeColor,preserveVertices:1<arguments.length&&void 0!==arguments[1]&&arguments[1]};switch(aa.type){case "rectangle":case "diamond":case "ellipse":return v.fillStyle=aa.fillStyle,v.fill="transparent"===aa.backgroundColor?void 0:aa.backgroundColor,"ellipse"===aa.type&&(v.curveFitting=1),v;case "line":return qj(aa.points)&&(v.fillStyle=aa.fillStyle,v.fill="transparent"===aa.backgroundColor?void 0:aa.backgroundColor),v;case "freedraw":case "arrow":return v;
default:throw Error("Unimplemented type ".concat(aa.type));}},hi=function(aa,v){var D=kh.get(aa)||null;if(!D){switch(Xl.delete(aa),aa.type){case "rectangle":if("round"===aa.strokeSharpness){var T=aa.width;D=aa.height;var A=.25*Math.min(T,D);D=v.path("M ".concat(A," 0 L ").concat(T-A," 0 Q ").concat(T," 0, ").concat(T," ").concat(A," L ").concat(T," ").concat(D-A," Q ").concat(T," ").concat(D,", ").concat(T-A," ").concat(D," L ").concat(A," ").concat(D," Q 0 ").concat(D,", 0 ").concat(D-A," L 0 ").concat(A,
" Q 0 0, ").concat(A," 0"),Yf(aa,!0))}else D=v.rectangle(0,0,aa.width,aa.height,Yf(aa));break;case "diamond":T=da(function(za){var Aa=Math.floor(za.width/2)+1,Ha=Math.floor(za.height/2)+1;return[Aa,0,za.width,Ha,Aa,za.height,0,Ha]}(aa),8);D=v.polygon([[T[0],T[1]],[T[2],T[3]],[T[4],T[5]],[T[6],T[7]]],Yf(aa));break;case "ellipse":D=v.ellipse(aa.width/2,aa.height/2,aa.width,aa.height,Yf(aa));break;case "line":case "arrow":var ma=Yf(aa);D=aa.points.length?aa.points:[[0,0]];if(D="sharp"===aa.strokeSharpness?
ma.fill?[v.polygon(D,ma)]:[v.linearPath(D,ma)]:[v.curve(D,ma)],"arrow"===aa.type){var sa=aa.startArrowhead;sa=void 0===sa?null:sa;var ha=aa.endArrowhead;ha=void 0===ha?"arrow":ha;var ua=function(za,Aa,Ha,Ua){Aa=function(Rb,hc,mc,Tc){hc=Ik(hc[0]);if(1>hc.length)return null;var Xc="start"===mc?1:hc.length-1,Pc=hc[Xc].data,Zc=[Pc[4],Pc[5]],Bd=[Pc[2],Pc[3]],Xd=[Pc[0],Pc[1]];hc=hc[Xc-1];var kd=[0,0];"move"===hc.op?kd=hc.data:"bcurveTo"===hc.op&&(kd=[hc.data[4],hc.data[5]]);Xc=function(pf,ye){return Math.pow(1-
pf,3)*Zc[ye]+3*pf*Math.pow(1-pf,2)*Bd[ye]+3*Math.pow(pf,2)*(1-pf)*Xd[ye]+kd[ye]*Math.pow(pf,3)};hc=da("start"===mc?kd:Zc,2);mc=hc[0];hc=hc[1];Pc=[Xc(.3,0),Xc(.3,1)];Xc=Pc[0];Pc=Pc[1];var qd=Math.hypot(mc-Xc,hc-Pc);Xc=(mc-Xc)/qd;Pc=(hc-Pc)/qd;qd={arrow:30,bar:15,dot:15}[Tc];var Gd=0;if("arrow"===Tc){var He=da(Rb.points[Rb.points.length-1],2);Gd=He[0];He=He[1];var Sg=da(1<Rb.points.length?Rb.points[Rb.points.length-2]:[0,0],2);Gd=Math.hypot(Gd-Sg[0],He-Sg[1])}else for(He=0;He<Rb.points.length;He++){var ni=
da(Rb.points[He-1]||[0,0],2);Sg=ni[0];ni=ni[1];var Ai=da(Rb.points[He],2);Gd+=Math.hypot(Ai[0]-Sg,Ai[1]-ni)}qd=Math.min(qd,Gd/2);Xc=mc-Xc*qd;Pc=hc-Pc*qd;if("dot"===Tc)return[mc,hc,Math.hypot(Pc-hc,Xc-mc)+Rb.strokeWidth];Tc={arrow:20,bar:90}[Tc];qd=da(Jf(Xc,Pc,mc,hc,-Tc*Math.PI/180),2);Rb=qd[0];qd=qd[1];Tc=da(Jf(Xc,Pc,mc,hc,Tc*Math.PI/180),2);return[mc,hc,Rb,qd,Tc[0],Tc[1]]}(za,Aa,Ha,Ua);if(null===Aa)return[];if("dot"===Ua)return Ua=da(Aa,3),[v.circle(Ua[0],Ua[1],Ua[2],yg(yg({},ma),{},{fill:za.strokeColor,
fillStyle:"solid",stroke:"none"}))];var Ya=da(Aa,6);Ua=Ya[0];Aa=Ya[1];Ha=Ya[2];var ob=Ya[3],Bb=Ya[4];Ya=Ya[5];"dotted"===za.strokeStyle?(za=[1.5,6+(za.strokeWidth-1)],ma.strokeLineDash=[za[0],za[1]-1]):delete ma.strokeLineDash;return[v.line(Ha,ob,Ua,Aa,ma),v.line(Bb,Ya,Ua,Aa,ma)]};null!==sa&&(sa=ua(aa,D,"start",sa),(A=D).push.apply(A,N(sa)));null!==ha&&(A=ua(aa,D,"end",ha),(T=D).push.apply(T,N(A)))}break;case "freedraw":xg(aa);D=[];break;case "text":D=[]}kh.set(aa,D)}},gh=function(aa,v){var D=v?v.zoom:
zj.zoom,T=Xl.get(aa);v=T&&T.canvasZoom!==D.value&&!(null!=v&&v.shouldCacheIgnoreZoom);if(!T||v){T=document.createElement("canvas");v=T.getContext("2d");var A="freedraw"===aa.type?12*aa.strokeWidth:20,ma=0,sa=0;if(Dg(aa)||ki(aa)){var ha=da(Vf(aa),4);ma=ha[0];sa=ha[1];var ua=ha[2];ha=ha[3];ma=Math.floor(ma);ua=Math.ceil(ua);sa=Math.floor(sa);ha=Math.ceil(ha);T.width=Math.abs(ma-ua)*window.devicePixelRatio*D.value+A*D.value*2;T.height=Math.abs(sa-ha)*window.devicePixelRatio*D.value+A*D.value*2;ma=aa.x>
ma?Math.floor(Math.abs(aa.x-ma))*window.devicePixelRatio*D.value:0;sa=aa.y>sa?Math.floor(Math.abs(aa.y-sa))*window.devicePixelRatio*D.value:0;v.translate(ma,sa)}else T.width=aa.width*window.devicePixelRatio*D.value+A*D.value*2,T.height=aa.height*window.devicePixelRatio*D.value+A*D.value*2;v.save();v.translate(A*D.value,A*D.value);v.scale(window.devicePixelRatio*D.value,window.devicePixelRatio*D.value);A=Bj.canvas(T);D=(Sl(aa,A,v),v.restore(),{element:aa,canvas:T,canvasZoom:D.value,canvasOffsetX:ma,
canvasOffsetY:sa});return Xl.set(aa,D),D}return T},Dk=function(aa,v,D,T){v=aa.element;var A="freedraw"===v.type?12*v.strokeWidth:20,ma=da(Vf(v),4),sa=ma[0],ha=ma[1],ua=ma[2];ma=ma[3];ki(v)&&(sa=Math.floor(sa),ua=Math.ceil(ua),ha=Math.floor(ha),ma=Math.ceil(ma));var za=((sa+ua)/2+T.scrollX)*window.devicePixelRatio;T=((ha+ma)/2+T.scrollY)*window.devicePixelRatio;D.save();D.scale(1/window.devicePixelRatio,1/window.devicePixelRatio);D.translate(za,T);D.rotate(v.angle);D.drawImage(aa.canvas,-(ua-sa)/2*
window.devicePixelRatio-A*aa.canvasZoom/aa.canvasZoom,-(ma-ha)/2*window.devicePixelRatio-A*aa.canvasZoom/aa.canvasZoom,aa.canvas.width/aa.canvasZoom,aa.canvas.height/aa.canvasZoom);D.restore()},lh=function(aa,v,D,T,A){var ma=v.generator;switch(aa.type){case "selection":D.save();D.translate(aa.x+A.scrollX,aa.y+A.scrollY);D.fillStyle="rgba(0, 0, 255, 0.10)";D.fillRect(0,0,aa.width,aa.height);D.restore();break;case "freedraw":if(hi(aa,ma),T)aa=gh(aa,A),Dk(aa,0,D,A);else{ma=da(Vf(aa),4);var sa=ma[0];
T=ma[1];var ha=ma[2],ua=ma[3];ma=(sa+ha)/2+A.scrollX;A=(T+ua)/2+A.scrollY;sa=(ha-sa)/2-(aa.x-sa);T=(ua-T)/2-(aa.y-T);D.save();D.translate(ma,A);D.rotate(aa.angle);D.translate(-sa,-T);Sl(aa,v,D);D.restore()}break;case "rectangle":case "diamond":case "ellipse":case "line":case "arrow":case "text":(hi(aa,ma),T)?(aa=gh(aa,A),Dk(aa,0,D,A)):(ma=da(Vf(aa),4),sa=ma[0],T=ma[1],ha=ma[2],ua=ma[3],ma=(sa+ha)/2+A.scrollX,A=(T+ua)/2+A.scrollY,sa=(ha-sa)/2-(aa.x-sa),T=(ua-T)/2-(aa.y-T),D.save(),D.translate(ma,A),
D.rotate(aa.angle),D.translate(-sa,-T),Sl(aa,v,D),D.restore());break;default:throw Error("Unimplemented type ".concat(aa.type));}},Li=function(aa,v,D){if(void 0===D)return aa.draw(v);v={sets:v.sets,shape:v.shape,options:yg(yg({},v.options),{},{fixedDecimalPlaceDigits:D})};return aa.draw(v)},Bf=function(aa,v,D,T,A){var ma=da(Vf(aa),4),sa=ma[0],ha=ma[1],ua=(ma[2]-sa)/2-(aa.x-sa),za=(ma[3]-ha)/2-(aa.y-ha),Aa=180*aa.angle/Math.PI;ma=v.generator;switch(aa.type){case "selection":throw Error("Selection rendering is not supported for SVG");
case "rectangle":case "diamond":case "ellipse":hi(aa,ma);ma=Li(v,kh.get(aa),yc.zK);sa=aa.opacity/100;1!==sa&&(ma.setAttribute("stroke-opacity","".concat(sa)),ma.setAttribute("fill-opacity","".concat(sa)));ma.setAttribute("stroke-linecap","round");ma.setAttribute("transform","translate(".concat(T||0," ").concat(A||0,") rotate(").concat(Aa," ").concat(ua," ").concat(za,")"));D.appendChild(ma);break;case "line":case "arrow":hi(aa,ma);var Ha=D.ownerDocument.createElementNS("http://www.w3.org/2000/svg",
"g"),Ua=aa.opacity/100;Ha.setAttribute("stroke-linecap","round");kh.get(aa).forEach(function(Tc){Tc=Li(v,Tc,yc.zK);1!==Ua&&(Tc.setAttribute("stroke-opacity","".concat(Ua)),Tc.setAttribute("fill-opacity","".concat(Ua)));Tc.setAttribute("transform","translate(".concat(T||0," ").concat(A||0,") rotate(").concat(Aa," ").concat(ua," ").concat(za,")"));"line"===aa.type&&qj(aa.points)&&"transparent"!==aa.backgroundColor&&Tc.setAttribute("fill-rule","evenodd");Ha.appendChild(Tc)});D.appendChild(Ha);break;
case "freedraw":xg(aa);sa=aa.opacity/100;ma=D.ownerDocument.createElementNS("http://www.w3.org/2000/svg","g");1!==sa&&(ma.setAttribute("stroke-opacity","".concat(sa)),ma.setAttribute("fill-opacity","".concat(sa)));ma.setAttribute("transform","translate(".concat(T||0," ").concat(A||0,") rotate(").concat(Aa," ").concat(ua," ").concat(za,")"));sa=D.ownerDocument.createElementNS("http://www.w3.org/2000/svg","path");ma.setAttribute("stroke","none");ma.setAttribute("fill",aa.strokeColor);sa.setAttribute("d",
Se(aa));ma.appendChild(sa);D.appendChild(ma);break;default:if(!Xg(aa))throw Error("Unimplemented type ".concat(aa.type));sa=aa.opacity/100;ma=D.ownerDocument.createElementNS("http://www.w3.org/2000/svg","g");1!==sa&&(ma.setAttribute("stroke-opacity","".concat(sa)),ma.setAttribute("fill-opacity","".concat(sa)));ma.setAttribute("transform","translate(".concat(T||0," ").concat(A||0,") rotate(").concat(Aa," ").concat(ua," ").concat(za,")"));sa=aa.text.replace(/\r\n?/g,"\n").split("\n");ha=aa.height/sa.length;
for(var Ya=aa.height-aa.baseline,ob="center"===aa.textAlign?aa.width/2:"right"===aa.textAlign?aa.width:0,Bb=ik.test(aa.text)?"rtl":"ltr",Rb="center"===aa.textAlign?"middle":"right"===aa.textAlign||"rtl"===Bb?"end":"start",hc=0;hc<sa.length;hc++){var mc=D.ownerDocument.createElementNS("http://www.w3.org/2000/svg","text");mc.textContent=sa[hc];mc.setAttribute("x","".concat(ob));mc.setAttribute("y","".concat((hc+1)*ha-Ya));mc.setAttribute("font-family",mm(aa));mc.setAttribute("font-size","".concat(aa.fontSize,
"px"));mc.setAttribute("fill",aa.strokeColor);mc.setAttribute("text-anchor",Rb);mc.setAttribute("style","white-space: pre;");mc.setAttribute("direction",Bb);ma.appendChild(mc)}D.appendChild(ma)}},Oh=new WeakMap([]),Ue=/(\s?[A-Z]?,?-?[0-9]*\.[0-9]{0,2})(([0-9]|e|-)*)/g,Ph=function(){function aa(){k(this,aa);this.callbacks=new Set;this.nonDeletedElements=[];this.elements=[];this.elementsMap=new Map}return z(aa,[{key:"getElementsIncludingDeleted",value:function(){return this.elements}},{key:"getElements",
value:function(){return this.nonDeletedElements}},{key:"getElement",value:function(v){return this.elementsMap.get(v)||null}},{key:"getNonDeletedElement",value:function(v){return(v=this.getElement(v))&&!v.isDeleted?v:null}},{key:"getNonDeletedElements",value:function(v){var D=this,T=[];return v.forEach(function(A){A=D.getNonDeletedElement(A);null!=A&&T.push(A)}),T}},{key:"replaceAllElements",value:function(v){var D=this;this.elements=v;this.elementsMap.clear();v.forEach(function(T){D.elementsMap.set(T.id,
T);aa.mapElementToScene(T,D)});this.nonDeletedElements=oe(this.elements);this.informMutation()}},{key:"informMutation",value:function(){for(var v=0,D=Array.from(this.callbacks);v<D.length;v++)(0,D[v])()}},{key:"addCallback",value:function(v){var D=this;if(this.callbacks.has(v))throw Error();return this.callbacks.add(v),function(){if(!D.callbacks.has(v))throw Error();D.callbacks.delete(v)}}},{key:"destroy",value:function(){var v=this;aa.sceneMapById.forEach(function(D,T){D===v&&aa.sceneMapById.delete(T)});
this.callbacks.clear()}}],[{key:"mapElementToScene",value:function(v,D){"string"==typeof v?this.sceneMapById.set(v,D):this.sceneMapByElement.set(v,D)}},{key:"getScene",value:function(v){return"string"==typeof v?this.sceneMapById.get(v)||null:this.sceneMapByElement.get(v)||null}}]),aa}();Ph.sceneMapByElement=new WeakMap;Ph.sceneMapById=new Map;var Jj=new pi(Date.now()),yl=function(){return Math.floor(Jj.next()*Math.pow(2,31))},ke=function(aa,v){var D,T=!1,A=v.points,ma;for(ma in void 0!==A&&(v=rb(rb({},
function(Ya){var ob=Ya.map(function(Bb){return Bb[0]});Ya=Ya.map(function(Bb){return Bb[1]});return{width:Math.max.apply(Math,N(ob))-Math.min.apply(Math,N(ob)),height:Math.max.apply(Math,N(Ya))-Math.min.apply(Math,N(Ya))}}(A)),v)),v){var sa=v[ma];if(void 0!==sa&&(aa[ma]!==sa||"object"===F(sa)&&null!==sa&&"groupIds"!==ma)){if("points"===ma){var ha=aa[ma],ua=sa;if(ha.length===ua.length){for(var za=!1,Aa=ha.length;--Aa;){var Ha=ha[Aa],Ua=ua[Aa];if(Ha[0]!==Ua[0]||Ha[1]!==Ua[1]){za=!0;break}}if(!za)continue}}aa[ma]=
sa;T=!0}}T&&(void 0===v.height&&void 0===v.width&&void 0===A||kh.delete(aa),aa.version++,aa.versionNonce=yl(),null===(D=Ph.getScene(aa))||void 0===D||D.informMutation())},cf=function(aa,v){var D=!1,T;for(T in v){var A=v[T];void 0!==A&&(aa[T]!==A||"object"===F(A)&&null!==A&&"groupIds"!==T)&&(D=!0)}return D?rb(rb(rb({},aa),v),{},{version:aa.version+1,versionNonce:yl()}):aa},vg=function(aa,v){return aa.version=(null!=v?v:aa.version)+1,aa.versionNonce=yl(),aa},Kj=function(aa){return Dg(aa)||ki(aa)?2>
aa.points.length:0===aa.width&&0===aa.height},mk=function(aa,v,D){var T=Math.abs(v),A=Math.abs(D);"line"===aa||"arrow"===aa||"freedraw"===aa?(aa=Math.round(Math.atan(A/T)/yc.ay)*yc.ay,0===aa?D=0:aa===Math.PI/2?v=0:D=Math.round(T*Math.tan(aa))*Math.sign(D)||D):"selection"!==aa&&(D=T*Math.sign(D));return{width:v,height:D}},Rj=function(aa){var v={width:aa.width,height:aa.height,x:aa.x,y:aa.y};if(0>aa.width){var D=Math.abs(aa.width);v.width=D;v.x=aa.x-D}0>aa.height&&(D=Math.abs(aa.height),v.height=D,
v.y=aa.y-D);return v},Pf=function(aa,v,D){D=D.filter(function(T){return T.groupIds.includes(aa)});return 2>D.length?v.selectedGroupIds[aa]||v.editingGroupId===aa?rc(rc({},v),{},{selectedGroupIds:rc(rc({},v.selectedGroupIds),{},U({},aa,!1)),editingGroupId:null}):v:rc(rc({},v),{},{selectedGroupIds:rc(rc({},v.selectedGroupIds),{},U({},aa,!0)),selectedElementIds:rc(rc({},v.selectedElementIds),Object.fromEntries(D.map(function(T){return[T.id,!0]})))})},dh=function(aa,v){return v.groupIds.filter(function(D){return D!==
aa.editingGroupId}).find(function(D){return aa.selectedGroupIds[D]})},vi=function(aa){return Object.entries(aa.selectedGroupIds).filter(function(v){v=da(v,2);v[0];return v[1]}).map(function(v){v=da(v,2);var D=v[0];v[1];return D})},Me=function(aa,v){var D=rc(rc({},aa),{},{selectedGroupIds:{}}),T=Sf(v,aa);if(!T.length)return rc(rc({},D),{},{editingGroupId:null});var A;T=kb(T);try{for(T.s();!(A=T.n()).done;){var ma=A.value.groupIds;if(aa.editingGroupId){var sa=ma.indexOf(aa.editingGroupId);-1<sa&&(ma=
ma.slice(0,sa))}0<ma.length&&(D=Pf(ma[ma.length-1],D,v))}}catch(ha){T.e(ha)}finally{T.f()}return D},li=function(aa,v){return aa.filter(function(D){return D.groupIds.includes(v)})},gj="x y strokeColor backgroundColor fillStyle strokeWidth strokeStyle roughness opacity width height angle groupIds strokeSharpness boundElementIds".split(" "),xm=function(aa,v){var D,T,A=v.x,ma=v.y,sa=v.strokeColor,ha=v.backgroundColor,ua=v.fillStyle,za=v.strokeWidth,Aa=v.strokeStyle,Ha=v.roughness,Ua=v.opacity,Ya=v.width;
Ya=void 0===Ya?0:Ya;var ob=v.height;ob=void 0===ob?0:ob;var Bb=v.angle;Bb=void 0===Bb?0:Bb;var Rb=v.groupIds;Rb=void 0===Rb?[]:Rb;var hc=v.strokeSharpness,mc=v.boundElementIds;mc=void 0===mc?null:mc;v=Za(v,gj);return{id:v.id||dk(),type:aa,x:A,y:ma,width:Ya,height:ob,angle:Bb,strokeColor:sa,backgroundColor:ha,fillStyle:ua,strokeWidth:za,strokeStyle:Aa,roughness:Ha,opacity:Ua,groupIds:Rb,strokeSharpness:hc,seed:null!==(D=v.seed)&&void 0!==D?D:yl(),version:v.version||1,versionNonce:null!==(T=v.versionNonce)&&
void 0!==T?T:0,isDeleted:!1,boundElementIds:mc}},xf=function(aa){return xm(aa.type,aa)},kl=function(aa,v){return{x:"center"===aa.textAlign?v.width/2:"right"===aa.textAlign?v.width:0,y:"middle"===aa.verticalAlign?v.height/2:0}},Eg=function(aa){var v=Vl(aa.text,jk(aa)),D=kl(aa,v);return cf(Rc(Rc({},xm("text",aa)),{},{text:aa.text,fontSize:aa.fontSize,fontFamily:aa.fontFamily,textAlign:aa.textAlign,verticalAlign:aa.verticalAlign,x:aa.x-D.x,y:aa.y-D.y,width:v.width,height:v.height,baseline:v.baseline}),
{})},Pg=function(aa){return Rc(Rc({},xm(aa.type,aa)),{},{points:aa.points||[],lastCommittedPoint:null,startBinding:null,endBinding:null,startArrowhead:aa.startArrowhead,endArrowhead:aa.endArrowhead})},Wf=function D(v){var T=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;if(null==v||"object"!==F(v))return v;if("[object Object]"===Object.prototype.toString.call(v)){var A="function"==typeof v.constructor?Object.create(Object.getPrototypeOf(v)):{},ma;for(ma in v)v.hasOwnProperty(ma)&&(0!==T||
"shape"!==ma&&"canvas"!==ma)&&(A[ma]=D(v[ma],T+1));return A}if(Array.isArray(v)){A=v.length;for(ma=Array(A);A--;)ma[A]=D(v[A],T+1);return ma}return v},Xj=function(v,D,T,A){T=Wf(T);return T.id=dk(),T.seed=yl(),T.groupIds=function(ma,sa,ha){var ua=N(ma);sa=sa?ma.indexOf(sa):-1;ma=-1<sa?sa:ma.length;for(sa=0;sa<ma;sa++)ua[sa]=ha(ua[sa]);return ua}(T.groupIds,v,function(ma){return D.has(ma)||D.set(ma,dk()),D.get(ma)}),A&&(T=Object.assign(T,A)),T},Qh={mouse:8,pen:16,touch:28},sj={e:!0,s:!0,n:!0,w:!0},
Nm={e:!0,s:!0,n:!0,w:!0},Qj={e:!0,s:!0,n:!0,w:!0,nw:!0,se:!0},Uf={e:!0,s:!0,n:!0,w:!0,ne:!0,sw:!0},af=function(v,D,T,A,ma,sa,ha){v=da(Jf(v+T/2,D+A/2,ma,sa,ha),2);return[v[0]-T/2,v[1]-A/2,T,A]},Jg=function(v,D,T,A){var ma=da(v,4),sa=ma[0],ha=ma[1],ua=ma[2];ma=ma[3];var za=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{},Aa=Qh[A],Ha=Aa/T.value,Ua=Aa/T.value,Ya=Aa/T.value,ob=Aa/T.value,Bb=ua-sa,Rb=ma-ha,hc=(sa+ua)/2,mc=(ha+ma)/2,Tc=4/T.value;Aa=(Aa-8)/(2*T.value);var Xc={nw:za.nw?void 0:af(sa-
Tc-Ya+Aa,ha-Tc-ob+Aa,Ha,Ua,hc,mc,D),ne:za.ne?void 0:af(ua+Tc-Aa,ha-Tc-ob+Aa,Ha,Ua,hc,mc,D),sw:za.sw?void 0:af(sa-Tc-Ya+Aa,ma+Tc-Aa,Ha,Ua,hc,mc,D),se:za.se?void 0:af(ua+Tc-Aa,ma+Tc-Aa,Ha,Ua,hc,mc,D),rotation:za.rotation?void 0:af(sa+Bb/2-Ha/2,ha-Tc-ob+Aa-16/T.value,Ha,Ua,hc,mc,D)},Pc=5*Qh.mouse/T.value;return Math.abs(Bb)>Pc&&(za.n||(Xc.n=af(sa+Bb/2-Ha/2,ha-Tc-ob+Aa,Ha,Ua,hc,mc,D)),za.s||(Xc.s=af(sa+Bb/2-Ha/2,ma+Tc-Aa,Ha,Ua,hc,mc,D))),Math.abs(Rb)>Pc&&(za.w||(Xc.w=af(sa-Tc-Ya+Aa,ha+Rb/2-Ua/2,Ha,Ua,
hc,mc,D)),za.e||(Xc.e=af(ua+Tc-Aa,ha+Rb/2-Ua/2,Ha,Ua,hc,mc,D))),Xc},Tk=function(v,D){var T=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"mouse",A={};if("arrow"===v.type||"line"===v.type||"freedraw"===v.type){if(2===v.points.length){var ma=da(v.points,2)[1];0===ma[0]||0===ma[1]?A=Uf:0<ma[0]&&0>ma[1]?A=Qj:0<ma[0]&&0<ma[1]?A=Uf:0>ma[0]&&0<ma[1]?A=Qj:0>ma[0]&&0>ma[1]&&(A=Uf)}}else"text"===v.type&&(A=Nm);return Jg(Vf(v),v.angle,D,T,A)},th=function(v,D){return[0,0,0,0,D,v,1,0]},uh=function(){var v=
0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,D=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,T=[0,0,0,0,0,0,0,0];if(0>D||7<D)throw Error("Expected `index` betwen 0 and 7, got `".concat(D,"`"));return 0!==v&&(T[D]=v),T},uk=function(v){return[v[0],v[1],v[2],v[3],-v[4],-v[5],-v[6],-v[7]]},ll=function(v,D){return"number"==typeof D?[v[0]-D,v[1],v[2],v[3],v[4],v[5],v[6],v[7]]:[v[0]-D[0],v[1]-D[1],v[2]-D[2],v[3]-D[3],v[4]-D[4],v[5]-D[5],v[6]-D[6],v[7]-D[7]]},Ug=function(v,D){return"number"==
typeof D?[v[0]*D,v[1]*D,v[2]*D,v[3]*D,v[4]*D,v[5]*D,v[6]*D,v[7]*D]:[D[0]*v[0]+D[2]*v[2]+D[3]*v[3]-D[6]*v[6],D[1]*v[0]+D[0]*v[1]-D[4]*v[2]+D[5]*v[3]+D[2]*v[4]-D[3]*v[5]-D[7]*v[6]-D[6]*v[7],D[2]*v[0]+D[0]*v[2]-D[6]*v[3]+D[3]*v[6],D[3]*v[0]+D[6]*v[2]+D[0]*v[3]-D[2]*v[6],D[4]*v[0]+D[2]*v[1]-D[1]*v[2]+D[7]*v[3]+D[0]*v[4]+D[6]*v[5]-D[5]*v[6]+D[3]*v[7],D[5]*v[0]-D[3]*v[1]+D[7]*v[2]+D[1]*v[3]-D[6]*v[4]+D[0]*v[5]+D[4]*v[6]+D[2]*v[7],D[6]*v[0]+D[3]*v[2]-D[2]*v[3]+D[0]*v[6],D[7]*v[0]+D[6]*v[1]+D[5]*v[2]+D[4]*
v[3]+D[3]*v[4]+D[2]*v[5]+D[1]*v[6]+D[0]*v[7]]},Ki=function(v,D){return[ai(v,D),v[1]*D[7]+v[4]*D[5]-v[5]*D[4]+v[7]*D[1],v[2]*D[7]-v[4]*D[6]+v[6]*D[4]+v[7]*D[2],v[3]*D[7]+v[5]*D[6]-v[6]*D[5]+v[7]*D[3],v[4]*D[7]+v[7]*D[4],v[5]*D[7]+v[7]*D[5],v[6]*D[7]+v[7]*D[6],v[7]*D[7]]},ai=function(v,D){return v[0]*D[7]+v[1]*D[6]+v[2]*D[5]+v[3]*D[4]+v[4]*D[3]+v[5]*D[2]+v[6]*D[1]+v[7]*D[0]},lk=function(v){return Math.sqrt(Math.abs(v[0]*v[0]-v[2]*v[2]-v[3]*v[3]+v[6]*v[6]))},Lf=function(v){var D=lk(v);return 0===D||
1===D?v:Ug(v,(0>v[6]?-1:1)/D)},yf=(uh(1,1),uh(1,2),uh(1,3),uh(1,4),uh(1,5),uh(1,6),uh(1,7),function(v,D,T){return Lf([0,T,v,D,0,0,0,0])}),Ci=function(v,D){return T=v,[(A=D)[0]*T[0]+A[2]*T[2]+A[3]*T[3]-A[6]*T[6],A[1]*T[0]+A[0]*T[1]-A[4]*T[2]+A[5]*T[3]+A[2]*T[4]-A[3]*T[5]-A[7]*T[6]-A[6]*T[7],A[2]*T[0]+A[0]*T[2]-A[6]*T[3]+A[3]*T[6],A[3]*T[0]+A[6]*T[2]+A[0]*T[3]-A[2]*T[6],A[4]*T[0]+A[7]*T[3]+A[0]*T[4]+A[3]*T[7],A[5]*T[0]+A[7]*T[2]+A[0]*T[5]+A[2]*T[7],A[6]*T[0]+A[0]*T[6],A[7]*T[0]+A[0]*T[7]];var T,A},
Gh=function(v){v=da(v,2);return[0,0,0,0,v[1],v[0],1,0]},Zh=function(v){return[v[5],v[4]]},Mk=function(v,D){return T=Ug(v,Math.sin(D/2)),A=Math.cos(D/2),"number"==typeof A?[T[0]+A,T[1],T[2],T[3],T[4],T[5],T[6],T[7]]:[T[0]+A[0],T[1]+A[1],T[2]+A[2],T[3]+A[3],T[4]+A[4],T[5]+A[5],T[6]+A[6],T[7]+A[7]];var T,A},Bh=function(v,D){return Lf(Ug(Ug(v,D),uk(v)))},Xi=function(v,D,T,A){var ma=10/D.zoom.value;return!Nk(v,D,[T,A])&&eg(v,[T,A],ma)},Nk=function(v,D,T){D=10/D.zoom.value;if("text"===v.type)var A=yk;else"arrow"===
v.type?A=!1:"freedraw"===v.type?A=!0:(A="transparent"!==v.backgroundColor,A="line"===v.type?A&&qj(v.points):A),A=A?vk:gm;return hj({element:v,point:T,threshold:D,check:A})},eg=function(v,D,T){D=da(D,2);var A=D[0],ma=D[1],sa=da(Vf(v),4);D=sa[0];var ha=sa[1],ua=sa[2];sa=sa[3];A=da(Jf(A,ma,(D+ua)/2,(ha+sa)/2,-v.angle),2);v=A[0];A=A[1];return v>D-T&&v<ua+T&&A>ha-T&&A<sa+T},Uk=function(v,D){var T=D.x;D=D.y;var A=Rh(v,v.width,v.height);return hj({element:v,point:[T,D],threshold:A,check:bi})},Rh=function(v,
D,T){return Math.max(16,Math.min(.25*("diamond"===v.type?1/Math.sqrt(2):1)*Math.min(D,T),32))},hj=function(v){switch(v.element.type){case "rectangle":case "text":case "diamond":case "ellipse":var D=ml(v.element,v.point);return v.check(D,v.threshold);case "freedraw":if(D=!!v.check(wk(v.element,v.point),v.threshold))a:{D=v.element;var T=v.point;v=v.threshold;if(0===D.angle){var A=T[0]-D.x;T=T[1]-D.y}else{A=da(Vf(D),4);var ma=A[0],sa=A[1];T=Df(T,[ma+(A[2]-ma)/2,sa+(A[3]-sa)/2],-D.angle);A=T[0]-D.x;T=
T[1]-D.y}sa=da(D.points,2);ma=sa[0];sa=sa[1];if(2===D.points.length)D=Math.hypot(A-ma[0],T-ma[1])<v||Math.hypot(A-sa[0],T-sa[1])<v;else{for(var ha=1;ha<D.points.length-1;ha++){var ua=[sa[0]-ma[0],sa[1]-ma[1]];var za=Math.hypot(ua[1],ua[0]);ua=[ua[0]/za,ua[1]/za];var Aa=[A-ma[0],T-ma[1]];Aa=(Aa[0]*ua[0]+Aa[1]*ua[1])/Math.hypot(ua[1],ua[0]);ua=[ma[0]+ua[0]*Aa,ma[1]+ua[1]*Aa];Aa=Math.hypot(ma[0]-ua[0],ma[1]-ua[1]);var Ha=Math.hypot(sa[0]-ua[0],sa[1]-ua[1]);if(ua=Ha<Aa&&Aa>za?sa:Aa<Ha&&Ha>za?ma:ua,Math.hypot(T-
ua[1],A-ua[0])<v){D=!0;break a}ma=sa;sa=D.points[ha+1]}D=!1}}return D;case "arrow":case "line":return Ne(v);case "selection":return console.warn("This should not happen, we need to investigate why it does."),!1}},ml=function(v,D){switch(v.type){case "rectangle":case "text":return wk(v,D);case "diamond":var T=da(Jl(v,D),4);v=T[1];D=T[2];T=T[3];D=yf(T,D,-T*D);return ai(v,D);case "ellipse":return v=da(nl(v,D),2),D=v[1],-Math.sign(D[1])*ai(v[0],D)}},yk=function(v,D){return 0>v},vk=function(v,D){return v<
D},gm=function(v,D){return Math.abs(v)<D},bi=function(v,D){return 0<=v&&v<D},wk=function(v,D){var T=da(Jl(v,D),4),A=T[1],ma=T[2];v=Math;D=v.max;T=yf(0,1,-T[3]);T=ai(A,T);ma=yf(1,0,-ma);A=ai(A,ma);return D.call(v,T,A)},nl=function(v,D){D=da(Jl(v,D),4);v=D[1];var T=D[2],A=D[3];D=da(Zh(v),2);var ma=D[0],sa=D[1],ha=.707,ua=.707;[0,1,2,3].forEach(function(za){za=(T*T-A*A)*Math.pow(ha,3)/T;var Aa=(A*A-T*T)*Math.pow(ua,3)/A,Ha=ma-za,Ua=sa-Aa,Ya=Math.hypot(A*ua-Aa,T*ha-za),ob=Math.hypot(Ua,Ha);ha=Math.min(1,
Math.max(0,(Ha*Ya/ob+za)/T));ua=Math.min(1,Math.max(0,(Ua*Ya/ob+Aa)/A));za=Math.hypot(ua,ha);ha/=za;ua/=za});D=th(T*ha,A*ua);return[v,Ci(Lf(Ki(D,v)),D)]},Ne=function(v){var D=v.element,T=v.threshold;if(!kh.get(D))return!1;var A=da(Jl(v.element,v.point),4),ma=A[0],sa=A[1],ha=A[2];A=yf(0,1,-A[3]);ha=yf(1,0,-ha);if(!vk(ai(sa,A),T)||!vk(ai(sa,ha),T))return!1;ma=da(Zh(ma),2);var ua=ma[0],za=ma[1];ma=kh.get(D);return v.check===vk&&ma.some(function(Aa){var Ha=D.strokeSharpness;var Ua,Ya=[],ob=!1;Aa=Fd(Ik(Aa));
try{for(Aa.s();!(Ua=Aa.n()).done;){var Bb=Ua.value;"move"===Bb.op?(ob=!ob)&&Ya.push([Bb.data[0],Bb.data[1]]):"bcurveTo"===Bb.op&&ob&&(Ya.push([Bb.data[0],Bb.data[1]]),Ya.push([Bb.data[2],Bb.data[3]]),Ya.push([Bb.data[4],Bb.data[5]]))}}catch(Rb){Aa.e(Rb)}finally{Aa.f()}4<=Ya.length?"sharp"===Ha?Ha=ek(Ya,ua,za):(Ha=Ub(Ya,10,5),Ha=ek(Ha,ua,za)):Ha=!1;return Ha})?!0:ma.some(function(Aa){return tj(Aa,ua,za,T)})},Jl=function(v,D){var T=Gh(D);D=Vf(v);var A=uj(D),ma=Mk(A,v.angle);T=Bh(ma,T);A=ll(T,[0,0,0,
0,A[4],A[5],0,0]);A=[0,0,0,0,Math.abs(A[4]),Math.abs(A[5]),1,0];v=ll(T,[0,0,0,0,v.y,v.x,0,0]);D=da(D,4);return[v,A,(D[2]-D[0])/2,(D[3]-D[1])/2]},fm=function(v){var D=Vf(v);D=uj(D);v=Mk(D,v.angle);D=[0,0,0,0,D[4],D[5],0,0];D=uk([1,0,0,0,-.5*D[5],.5*D[4],0,0]);return Ug(D,v)},uj=function(v){v=da(v,4);return th((v[0]+v[2])/2,(v[1]+v[3])/2)},ij=function(v,D,T){var A=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;switch(v.type){case "rectangle":case "text":case "diamond":var ma=Sh(v);var sa=
ma.flatMap(function(ha,ua){ua=da([ha,ma[(ua+1)%4]],2);ha=ua[0];ua=ua[1];var za=[0,0,0,0,ua[4]-ha[4],ua[5]-ha[5],0,0];var Aa=Math.sqrt(Math.abs(za[7]*za[7]-za[5]*za[5]-za[4]*za[4]+za[1]*za[1]));za=0===Aa||1===Aa?za:Ug(za,1/Aa);Aa=.5*A;za=[1,0,0,0,Aa*za[4],Aa*za[5],0,0];ha=[Bh(za,ha),Bh(za,ua)];ua=da(ha,2);ha=ua[0];ua=ua[1];if(0<=ai(ha,D)*ai(ua,D))var Ha=[];else{a:{ua=Lf(Ki(ua,ha));ha=Lf((Ha=D,[(Ua=ua)[0]*Ha[0],Ua[1]*Ha[0]+Ua[0]*Ha[1],Ua[2]*Ha[0]+Ua[0]*Ha[2],Ua[3]*Ha[0]+Ua[0]*Ha[3],Ua[4]*Ha[0]+Ua[2]*
Ha[1]-Ua[1]*Ha[2]+Ua[0]*Ha[4],Ua[5]*Ha[0]-Ua[3]*Ha[1]+Ua[1]*Ha[3]+Ua[0]*Ha[5],Ua[6]*Ha[0]+Ua[3]*Ha[2]-Ua[2]*Ha[3]+Ua[0]*Ha[6],Ua[7]*Ha[0]+Ua[6]*Ha[1]+Ua[5]*Ha[2]+Ua[4]*Ha[3]+Ua[3]*Ha[4]+Ua[2]*Ha[5]+Ua[1]*Ha[6]]));break a;var Ua}Ha=[ha]}return Ha}).concat(ma.flatMap(function(ha){if(0===A)var ua=0===ai(D,ha)?[ha]:[];else{ua=D[2];var za=D[3],Aa=D[1],Ha=da(Zh(ha),2);ha=Ha[0];var Ua=Ha[1];Ha=ua*ua+za*za;var Ya=A*A*Ha-Math.pow(ua*ha+za*Ua+Aa,2);if(0===Ha||0>=Ya)ua=[];else{Ya=Math.sqrt(Ya);var ob=ha*za*
za-Ua*ua*za-ua*Aa;Aa=Ua*ua*ua-ha*ua*za-za*Aa;ua=[th((ob+za*Ya)/Ha,(Aa-ua*Ya)/Ha),th((ob-za*Ya)/Ha,(Aa+ua*Ya)/Ha)]}}return ua}));break;case "ellipse":sa=Hh(v,A,D)}if(2>sa.length)return[];sa=sa.sort(function(ha,ua){return lk(Ki(ha,T))-lk(Ki(ua,T))});return[sa[0],sa[sa.length-1]]},Sh=function(v){var D=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,T=D*v.width/2;D=D*v.height/2;switch(v.type){case "rectangle":case "text":return[th(T,D),th(T,-D),th(-T,-D),th(-T,D)];case "diamond":return[th(0,
D),th(T,0),th(0,-D),th(-T,0)]}},Hh=function(v,D,T){var A=v.width/2+D;v=v.height/2+D;D=T[2];var ma=T[3],sa=T[1];T=A*A*D*D+v*v*ma*ma;var ha=T-sa*sa;if(0===T||0>=ha)return[];ha=Math.sqrt(ha);var ua=-A*A*D*sa;sa*=-v*v*ma;return[th((ua+A*v*ma*ha)/T,(sa-A*v*D*ha)/T),th((ua-A*v*ma*ha)/T,(sa+A*v*D*ha)/T)]},wi=function(v,D,T){var A=Math.sign(D),ma=0,sa=null;return Sh(v,Math.abs(D)).forEach(function(ha){var ua=A*Lf(Ki(ha,T))[1];ua>ma&&(ma=ua,sa=ha)}),sa},tj=function(v,D,T,A){var ma=[0,0];return Ik(v).some(function(sa,
ha){ha=sa.op;var ua=sa.data;if("move"===ha)ma=ua;else if("bcurveTo"===ha){sa=[ua[0],ua[1]];ha=[ua[2],ua[3]];ua=[ua[4],ua[5]];var za=ma;return ma=ua,function(Aa,Ha,Ua,Ya,ob,Bb){var Rb=da(ob,2);ob=Rb[0];Rb=Rb[1];for(var hc=function(Pc,Zc){return Math.pow(1-Pc,3)*Ya[Zc]+3*Pc*Math.pow(1-Pc,2)*Ua[Zc]+3*Math.pow(Pc,2)*(1-Pc)*Ha[Zc]+Aa[Zc]*Math.pow(Pc,3)},mc=0;1>=mc;){var Tc=hc(mc,0),Xc=hc(mc,1);if(Math.sqrt(Math.pow(Tc-ob,2)+Math.pow(Xc-Rb,2))<Bb)return!0;mc+=.01}return!1}(za,sa,ha,ua,[D,T],A)}return!1})},
xk=["rotation"],Sj=function(v,D,T){return D>=v[0]&&D<=v[0]+v[2]&&T>=v[1]&&T<=v[1]+v[3]},fh=function(v,D,T,A,ma,sa){return v.reduce(function(ha,ua){return ha?ha:(ha=function(za,Aa,Ha,Ua,Ya,ob){if(!Aa.selectedElementIds[za.id])return!1;za=Tk(za,Ya,ob);Aa=za.rotation;var Bb=Za(za,xk);if(Aa&&Sj(Aa,Ha,Ua))return"rotation";za=Object.keys(Bb).filter(function(Rb){Rb=Bb[Rb];return!!Rb&&Sj(Rb,Ha,Ua)});return 0<za.length&&za[0]}(ua,D,T,A,ma,sa))?{element:ua,transformHandleType:ha}:null},null)},jj=function(v,
D,T,A,ma){v=da(v,4);var sa=Jg([v[0],v[1],v[2],v[3]],0,A,ma,sj);return Object.keys(sa).find(function(ha){return(ha=sa[ha])&&Sj(ha,D,T)})||!1},id=["ns","nesw","ew","nwse"],le=function(v){var D=v.element,T=D&&-1==Math.sign(D.height)*Math.sign(D.width),A=null;switch(v.transformHandleType){case "n":case "s":A="ns";break;case "w":case "e":A="ew";break;case "nw":case "se":A=T?"nesw":"nwse";break;case "ne":case "sw":A=T?"nwse":"nesw";break;case "rotation":return"grab"}A&&D&&(v=A,D=D.angle,T=id.indexOf(v),
0<=T&&(v=id[(T+Math.round(D/(Math.PI/4)))%id.length]),A=v);return A?"".concat(A,"-resize"):""},dd=function(){function v(D,T){k(this,v);this.elementId=D.id;Ph.mapElementToScene(this.elementId,T);v.normalizePoints(D);this.lastUncommittedPoint=this.activePointIndex=null;this.isDragging=!1;this.pointerOffset={x:0,y:0};this.endBindingElement=this.startBindingElement="keep"}return z(v,null,[{key:"getElement",value:function(D){var T;return(null===(T=Ph.getScene(D))||void 0===T?void 0:T.getNonDeletedElement(D))||
null}},{key:"handlePointDragging",value:function(D,T,A,ma,sa){if(!D.editingLinearElement)return!1;var ha=D.editingLinearElement,ua=ha.activePointIndex,za=ha.isDragging,Aa=v.getElement(ha.elementId);return Aa?null!=ua&&-1<ua?(!1===za&&T({editingLinearElement:vc(vc({},ha),{},{isDragging:!0})}),D=v.createPointAt(Aa,A-ha.pointerOffset.x,ma-ha.pointerOffset.y,D.gridSize),v.movePoint(Aa,ua,D),Wg(Aa)&&sa(Aa,0===ua?"start":"end"),!0):!1:!1}},{key:"handlePointerUp",value:function(D,T,A){D=T.activePointIndex;
var ma=T.isDragging,sa=v.getElement(T.elementId);if(!sa)return T;var ha={};!ma||0!==D&&D!==sa.points.length-1||(qj(sa.points,A.zoom.value)&&v.movePoint(sa,D,0===D?sa.points[sa.points.length-1]:sa.points[0]),ha=U({},0===D?"startBindingElement":"endBindingElement",A.isBindingEnabled?hg(Hj(v.getPointAtIndexGlobalCoordinates(sa,D)),Ph.getScene(sa)):null));return vc(vc(vc({},T),ha),{},{isDragging:!1,pointerOffset:{x:0,y:0}})}},{key:"handlePointerDown",value:function(D,T,A,ma,sa){var ha={didAddPoint:!1,
hitElement:null};if(!T.editingLinearElement)return ha;var ua=v.getElement(T.editingLinearElement.elementId);if(!ua)return ha;if(D.altKey)return null==T.editingLinearElement.lastUncommittedPoint&&ke(ua,{points:[].concat(N(ua.points),[v.createPointAt(ua,sa.x,sa.y,T.gridSize)])}),ma.resumeRecording(),A({editingLinearElement:vc(vc({},T.editingLinearElement),{},{activePointIndex:ua.points.length-1,lastUncommittedPoint:null,endBindingElement:hg(sa,Ph.getScene(ua))})}),ha.didAddPoint=!0,ha;D=v.getPointIndexUnderCursor(ua,
T.zoom,sa.x,sa.y);if(-1<D)ha.hitElement=ua;else{var za=T.editingLinearElement;ma=za.startBindingElement;za=za.endBindingElement;T.isBindingEnabled&&Wg(ua)&&Md(ua,ma,za)}za=da(Vf(ua),4);ma=(za[0]+za[2])/2;za=(za[1]+za[3])/2;ua=-1<D&&Jf(ua.x+ua.points[D][0],ua.y+ua.points[D][1],ma,za,ua.angle);return A({editingLinearElement:vc(vc({},T.editingLinearElement),{},{activePointIndex:-1<D?D:null,pointerOffset:ua?{x:sa.x-ua[0],y:sa.y-ua[1]}:{x:0,y:0}})}),ha}},{key:"handlePointerMove",value:function(D,T,A,ma,
sa){var ha=ma.lastUncommittedPoint,ua=v.getElement(ma.elementId);if(!ua)return ma;var za=ua.points,Aa=za[za.length-1];if(!D.altKey)return Aa===ha&&v.movePoint(ua,za.length-1,"delete"),vc(vc({},ma),{},{lastUncommittedPoint:null});D=v.createPointAt(ua,T-ma.pointerOffset.x,A-ma.pointerOffset.y,sa);return Aa===ha?v.movePoint(ua,ua.points.length-1,D):v.movePoint(ua,"new",D),vc(vc({},ma),{},{lastUncommittedPoint:ua.points[ua.points.length-1]})}},{key:"getPointsGlobalCoordinates",value:function(D){var T=
da(Vf(D),4),A=(T[0]+T[2])/2,ma=(T[1]+T[3])/2;return D.points.map(function(sa){sa=da(Jf(D.x+sa[0],D.y+sa[1],A,ma,D.angle),2);return[sa[0],sa[1]]})}},{key:"getPointAtIndexGlobalCoordinates",value:function(D,T){var A=0>T?D.points.length+T:T;T=da(Vf(D),4);A=D.points[A];return Jf(D.x+A[0],D.y+A[1],(T[0]+T[2])/2,(T[1]+T[3])/2,D.angle)}},{key:"pointFromAbsoluteCoords",value:function(D,T){var A=da(Vf(D),4);T=da(Jf(T[0],T[1],(A[0]+A[2])/2,(A[1]+A[3])/2,-D.angle),2);return[T[0]-D.x,T[1]-D.y]}},{key:"getPointIndexUnderCursor",
value:function(D,T,A,ma){D=this.getPointsGlobalCoordinates(D);for(var sa=D.length;-1<--sa;){var ha=D[sa];if(Math.hypot(ha[0]-A,ha[1]-ma)*T.value<this.POINT_HANDLE_SIZE/2+1)return sa}return-1}},{key:"createPointAt",value:function(D,T,A,ma){T=Ch(T,A,ma);A=da(Vf(D),4);T=da(Jf(T[0],T[1],(A[0]+A[2])/2,(A[1]+A[3])/2,-D.angle),2);return[T[0]-D.x,T[1]-D.y]}},{key:"getNormalizedPoints",value:function(D){var T=D.points,A=T[0][0],ma=T[0][1];return{points:T.map(function(sa,ha){return[sa[0]-A,sa[1]-ma]}),x:D.x+
A,y:D.y+ma}}},{key:"normalizePoints",value:function(D){ke(D,v.getNormalizedPoints(D))}},{key:"movePointByOffset",value:function(D,T,A){var ma=da(D.points[T],2);v.movePoint(D,T,[ma[0]+A.x,ma[1]+A.y])}},{key:"movePoint",value:function(D,T,A,ma){var sa=D.points,ha=0,ua=0;if("delete"===A){if("new"===T)throw Error("invalid args in movePoint");(A=sa.slice()).splice(T,1);0===T&&(ha=A[0][0],ua=A[0][1],A=A.map(function(Ua,Ya){return 0===Ya?[0,0]:[Ua[0]-ha,Ua[1]-ua]}))}else if("new"===T)A=[].concat(N(sa),[A]);
else{var za=A[0]-sa[T][0],Aa=A[1]-sa[T][1];A=sa.map(function(Ua,Ya){return Ya===T?0===Ya?(ha=za,ua=Aa,Ua):(ha=0,ua=0,[Ua[0]+za,Ua[1]+Aa]):ha||ua?[Ua[0]-ha,Ua[1]-ua]:Ua})}var Ha=ul(D,A,D.strokeSharpness||"round");sa=ul(D,sa,D.strokeSharpness||"round");sa=Jf(ha,ua,(sa[0]+sa[2])/2-(Ha[0]+Ha[2])/2,(sa[1]+sa[3])/2-(Ha[1]+Ha[3])/2,D.angle);ke(D,vc(vc({},ma),{},{points:A,x:D.x+sa[0],y:D.y+sa[1]}))}}]),v}();dd.POINT_HANDLE_SIZE=20;var Md=function(v,D,T){var A=new Set,ma=new Set;fi(v,D,T,"start",A,ma);fi(v,
T,D,"end",A,ma);D=Array.from(ma).filter(function(sa){return!A.has(sa)});Ph.getScene(v).getNonDeletedElements(D).forEach(function(sa){var ha;ke(sa,{boundElementIds:null===(ha=sa.boundElementIds)||void 0===ha?void 0:ha.filter(function(ua){return ua!==v.id})})})},fi=function(v,D,T,A,ma,sa){"keep"!==D&&(null!=D?null!=T&&("keep"===T?pd(v,D,A):"start"!==A&&T.id===D.id)||(Ti(v,D,A),ma.add(D.id)):(D="start"===A?"startBinding":"endBinding",T=v[D],v=null==T?null:(ke(v,U({},D,null)),T.elementId),null!=v&&sa.add(v)))},
If=function(v){v.forEach(function(D){Wg(D)?Md(D,de(D,"start"),de(D,"end")):Ze(D)&&Th(D)})},Th=function(v){zf(v).forEach(function(D){D=da(D,2);var T=D[1];return Md(D[0],"end"===T?"keep":v,"start"===T?"keep":v)})},ng=function(v,D,T,A){null!=D.startBoundElement&&Ti(v,D.startBoundElement,"start");D=hg(A,T);null==D||pd(v,D,"end")||Ti(v,D,"end")},Ti=function(v,D,T){var A;ke(v,U({},"start"===T?"startBinding":"endBinding",function(ma){for(var sa=1;sa<arguments.length;sa++){var ha=null!=arguments[sa]?arguments[sa]:
{};sa%2?$b(Object(ha),!0).forEach(function(ua){U(ma,ua,ha[ua])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ma,Object.getOwnPropertyDescriptors(ha)):$b(Object(ha)).forEach(function(ua){Object.defineProperty(ma,ua,Object.getOwnPropertyDescriptor(ha,ua))})}return ma}({elementId:D.id},fd(v,D,T))));ke(D,{boundElementIds:Array.from(new Set([].concat(N(null!==(A=D.boundElementIds)&&void 0!==A?A:[]),[v.id])))})},pd=function(v,D,T){T=v["start"===T?"endBinding":"startBinding"];return(null==T?
void 0:T.elementId)===D.id&&3>v.points.length},yd=function(v){v.forEach(function(D){Wg(D)&&Md(D,null,null)})},hg=function(v,D){return ka(D.getElements(),function(T){return Ze(T)&&Uk(T,v)})},fd=function(v,D,T){var A="start"===T?-1:1;T=-1===A?0:v.points.length-1;A=T-A;T=dd.getPointAtIndexGlobalCoordinates(v,T);A=dd.getPointAtIndexGlobalCoordinates(v,A);a:{v=fm(D);A=Bh(v,Gh(A));v=Bh(v,Gh(T));var ma=Lf(Ki(v,A));v=D.height/D.width;A=D.width/2;var sa=D.height/2,ha=ma[2],ua=ma[3];ma=ma[1];var za=Math.abs(ua),
Aa=Math.abs(ha);switch(D.type){case "rectangle":case "text":v=ma/(A*(Aa+v*za));break a;case "diamond":v=za<Aa?ma/(Aa*A):ma/(za*sa);break a;case "ellipse":v=ma/(A*Math.sqrt(Math.pow(ha,2)+Math.pow(v,2)*Math.pow(ua,2)));break a}v=void 0}return{focus:v,gap:Math.max(1,ml(D,T))}},Di=function(v,D){var T,A=null!==(T=v.boundElementIds)&&void 0!==T?T:[];if(0!==A.length){D=null!=D?D:{};var ma=D.newSize,sa=Kl(D.simultaneouslyUpdated);Ph.getScene(v).getNonDeletedElements(A).forEach(function(ha){var ua,za;if((null===
(ua=ha.startBinding)||void 0===ua?void 0:ua.elementId)===v.id||(null===(za=ha.endBinding)||void 0===za?void 0:za.elementId)===v.id)ua=eh(v,ha.startBinding,ma),za=eh(v,ha.endBinding,ma),sa.has(ha.id)?ke(ha,{startBinding:ua,endBinding:za}):(vj(ha,"start",ua,v),vj(ha,"end",za,v))})}},Kl=function(v){return new Set((v||[]).map(function(D){return D.id}))},vj=function(v,D,T,A){if(!(null==T||T.elementId!==A.id&&2<v.points.length)){var ma=Ph.getScene(v).getElement(T.elementId);if(null!=ma){var sa="start"===
D?-1:1;A=-1===sa?0:v.points.length-1;var ha=dd.getPointAtIndexGlobalCoordinates(v,A-sa);sa=function(ua,za,Aa){if(0===za){var Ha=Vf(ua);Ha=uj(Ha);return Zh(Ha)}Ha=fm(ua);Aa=Bh(Ha,Gh(Aa));Ha=uk(Ha);switch(ua.type){case "rectangle":case "text":case "diamond":var Ua=wi(ua,za,Aa);break;case "ellipse":var Ya=Math.abs(za);Ua=ua.width*Ya/2;ua=ua.height*Ya/2;za=Math.sign(za);Ya=da(Zh(Aa),2);Aa=Ya[0];Ya=Ya[1];Ya=0===Ya?1E-4:Ya;var ob=Math.pow(Aa,2)*Math.pow(ua,2)+Math.pow(Ya,2)*Math.pow(Ua,2);za=(-Aa*Math.pow(ua,
2)+za*Ya*Math.sqrt(Math.max(0,ob-Math.pow(Ua,2)*Math.pow(ua,2))))/ob;Aa=(-za*Aa-1)/Ya;Ua=-Math.pow(Ua,2)*za/(Math.pow(Aa,2)*Math.pow(ua,2)+Math.pow(za,2)*Math.pow(Ua,2));Ua=th(Ua,(-za*Ua-1)/Aa)}return Zh(Bh(Ha,Ua))}(ma,T.focus,ha);0===T.gap?ma=sa:(ma=function(ua,za,Aa){var Ha=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,Ua=fm(ua),Ya=Bh(Ua,Gh(za)),ob=Bh(Ua,Gh(Aa));ob=Lf(Ki(ob,Ya));var Bb=uk(Ua);return ij(ua,ob,Ya,Ha).map(function(Rb){return Zh(Bh(Bb,Rb))})}(ma,ha,sa,T.gap),ma=0===ma.length?
sa:ma[0]);dd.movePoint(v,A,dd.pointFromAbsoluteCoords(v,ma),U({},"start"===D?"startBinding":"endBinding",T))}}},eh=function(v,D,T){if(null==D||null==T)return D;var A=D.gap,ma=D.focus,sa=T.width;T=T.height;var ha=v.width,ua=v.height;return{elementId:D.elementId,gap:Math.max(1,Math.min(Rh(v,sa,T),A*(sa<T?sa/ha:T/ua))),focus:ma}},zg=function(v){return[de(v,"start"),de(v,"end")].filter(function(D){return null!=D})},de=function(v,D){return hg(Hj(dd.getPointAtIndexGlobalCoordinates(v,"start"===D?0:-1)),
Ph.getScene(v))},zf=function(v){return Ph.getScene(v).getElements().map(function(D){if(!Wg(D))return null;var T=nk(D,"start",v),A=nk(D,"end",v);return T||A?[D,T&&A?"both":T?"start":"end",v]:null}).filter(function(D){return null!=D})},nk=function(v,D,T){return null==v["start"===D?"startBinding":"endBinding"]&&!pd(v,T,D)&&Uk(T,Hj(dd.getPointAtIndexGlobalCoordinates(v,"start"===D?0:-1)))},Tj=function(v,D,T,A){var ma=new Set,sa=new Set,ha="duplicatesServeAsOld"===A;D.forEach(function(ua){var za=ua.boundElementIds;
if(null!=za&&0<za.length&&(za.forEach(function(Aa){ha&&!T.has(Aa)&&ma.add(Aa)}),sa.add(T.get(ua.id))),Wg(ua))null!=ua.startBinding&&(za=ua.startBinding.elementId,ha&&!T.has(za)&&sa.add(za)),null!=ua.endBinding&&(za=ua.endBinding.elementId,ha&&!T.has(za)&&sa.add(za)),null==ua.startBinding&&null==ua.endBinding||ma.add(T.get(ua.id))});v.filter(function(ua){return ma.has(ua.id)}).forEach(function(ua){var za=ua.endBinding;ke(ua,{startBinding:pe(ua.startBinding,T),endBinding:pe(za,T)})});v.filter(function(ua){return sa.has(ua.id)}).forEach(function(ua){var za=
ua.boundElementIds;null!=za&&0<za.length&&ke(ua,{boundElementIds:za.map(function(Aa){var Ha;return null!==(Ha=T.get(Aa))&&void 0!==Ha?Ha:Aa})})})},pe=function(v,D){var T;if(null==v)return null;var A=v.elementId;return{focus:v.focus,gap:v.gap,elementId:null!==(T=D.get(A))&&void 0!==T?T:A}},Ll=function(v,D){var T=new Set(D.map(function(ma){return ma.id})),A=new Set;D.forEach(function(ma){var sa;Ze(ma)&&(null===(sa=ma.boundElementIds)||void 0===sa||sa.forEach(function(ha){T.has(ha)||A.add(ha)}))});v.filter(function(ma){return A.has(ma.id)}).forEach(function(ma){var sa=
ma.endBinding;ke(ma,{startBinding:bj(ma.startBinding,T),endBinding:bj(sa,T)})})},bj=function(v,D){return null==v||D.has(v.elementId)?null:v},ee=function(v){return v>=2*Math.PI?v-2*Math.PI:v},ok=function(v,D,T){return Dg(v)||ki(v)?{points:lm(0,D,lm(1,T,v.points))}:{}},fg=function(v,D,T){D=D/v.width*v.fontSize;if(1>D)return null;v=Vl(v.text,jk({fontSize:D,fontFamily:v.fontFamily}));return{size:D,baseline:v.baseline+(T-v.height)}},Fi=function(v,D,T,A,ma,sa,ha){var ua=da(Re(v,v.width,v.height),4),za=
[ua[0],ua[1]],Aa=[ua[2],ua[3]];ua=[(za[0]+Aa[0])/2,(za[1]+Aa[1])/2];var Ha=Df([sa,ha],ua,-v.angle);sa=da(Re(T,T.width,T.height),4);var Ua=sa[2]-sa[0],Ya=sa[3]-sa[1];sa=(Aa[0]-za[0])/Ua;ha=(Aa[1]-za[1])/Ya;A.includes("e")&&(sa=(Ha[0]-za[0])/Ua);A.includes("s")&&(ha=(Ha[1]-za[1])/Ya);A.includes("w")&&(sa=(Aa[0]-Ha[0])/Ua);A.includes("n")&&(ha=(Aa[1]-Ha[1])/Ya);Ha=v.width;Ua=v.height;sa*=T.width;ha*=T.height;if(ma&&(sa=2*sa-Ha,ha=2*ha-Ua),D){Ya=Math.abs(sa)/Ha;var ob=Math.abs(ha)/Ua;if(1===A.length&&
(ha*=Ya,sa*=ob),2===A.length)Ya=Math.max(Ya,ob),sa=Ha*Ya*Math.sign(sa),ha=Ua*Ya*Math.sign(ha)}ob=da(Re(v,sa,ha),4);Ha=ob[0];Ua=ob[1];Ya=ob[2]-Ha;ob=ob[3]-Ua;var Bb=[].concat(za);if(["n","w","nw"].includes(A)&&(Bb=[Aa[0]-Math.abs(Ya),Aa[1]-Math.abs(ob)]),"ne"===A)Bb=[za[0],Aa[1]],Bb=[Bb[0],Bb[1]-Math.abs(ob)];"sw"===A&&(za=[Aa[0],za[1]],Bb=[za[0]-Math.abs(Ya),za[1]]);D&&(["s","n"].includes(A)&&(Bb[0]=ua[0]-Ya/2),["e","w"].includes(A)&&(Bb[1]=ua[1]-ob/2));0>sa&&(A.includes("e")&&(Bb[0]-=Math.abs(Ya)),
A.includes("w")&&(Bb[0]+=Math.abs(Ya)));0>ha&&(A.includes("s")&&(Bb[1]-=Math.abs(ob)),A.includes("n")&&(Bb[1]+=Math.abs(ob)));ma&&(Bb[0]=ua[0]-Math.abs(Ya)/2,Bb[1]=ua[1]-Math.abs(ob)/2);D=v.angle;A=Df(Bb,ua,D);ua=Df([Bb[0]+Math.abs(Ya)/2,Bb[1]+Math.abs(ob)/2],ua,D);Bb=Df(A,ua,-D);ua=ok(v,sa,ha);D=N(Bb);D[0]+=v.x-Ha;D[1]+=v.y-Ua;v=hd({width:Math.abs(sa),height:Math.abs(ha),x:D[0],y:D[1]},ua);0!==v.width&&0!==v.height&&Number.isFinite(v.x)&&Number.isFinite(v.y)&&(Di(T,{newSize:{width:v.width,height:v.height}}),
ke(T,v))},Hm=function(v,D,T,A){var ma=da(Bg(v),4),sa=ma[0],ha=ma[1],ua=ma[2],za=ma[3];switch(D){case "se":var Aa=Math.max((T-sa)/(ua-sa),(A-ha)/(za-ha));var Ha=function(Ya,ob,Bb){var Rb=da(ob,2);ob=Rb[0];Rb=Rb[1];Bb=da(Bb,2);return{x:Ya.x+(ob-sa)*(Aa-1)+ob-Bb[0],y:Ya.y+(Rb-ha)*(Aa-1)+Rb-Bb[1]}};break;case "nw":Aa=Math.max((ua-T)/(ua-sa),(za-A)/(za-ha));Ha=function(Ya,ob,Bb){var Rb=da(ob,4);ob=Rb[2];Rb=Rb[3];Bb=da(Bb,4);return{x:Ya.x-(ua-ob)*(Aa-1)+ob-Bb[2],y:Ya.y-(za-Rb)*(Aa-1)+Rb-Bb[3]}};break;case "ne":Aa=
Math.max((T-sa)/(ua-sa),(za-A)/(za-ha));Ha=function(Ya,ob,Bb){var Rb=da(ob,4);ob=Rb[0];Rb=Rb[3];Bb=da(Bb,4);return{x:Ya.x+(ob-sa)*(Aa-1)+ob-Bb[0],y:Ya.y-(za-Rb)*(Aa-1)+Rb-Bb[3]}};break;case "sw":Aa=Math.max((ua-T)/(ua-sa),(A-ha)/(za-ha)),Ha=function(Ya,ob,Bb){var Rb=da(ob,3);ob=Rb[1];Rb=Rb[2];Bb=da(Bb,3);return{x:Ya.x-(ua-Rb)*(Aa-1)+Rb-Bb[2],y:Ya.y+(ob-ha)*(Aa-1)+ob-Bb[1]}}}if(0<Aa){var Ua=v.reduce(function(Ya,ob){if(!Ya)return Ya;var Bb=ob.width*Aa,Rb=ob.height*Aa,hc={};if("text"===ob.type){hc=fg(ob,
Bb,Rb);if(null===hc)return null;hc={fontSize:hc.size,baseline:hc.baseline}}var mc=Vf(ob),Tc=ok(ob,Bb,Rb);Di(ob,{newSize:{width:Bb,height:Rb},simultaneouslyUpdated:v});var Xc=Re(hd(hd({},ob),Tc),Bb,Rb);mc=Ha(ob,mc,Xc);ob=mc.x;mc=mc.y;return[].concat(N(Ya),[hd(hd({width:Bb,height:Rb,x:ob,y:mc},Tc),hc)])},[]);Ua&&v.forEach(function(Ya,ob){ke(Ya,Ua[ob])})}},Bk=function(v,D,T,A,ma,sa,ha){var ua=5*Math.PI/2+Math.atan2(A-ha,T-sa);ma&&(ua+=yc.ay/2,ua-=ua%yc.ay);D.forEach(function(za,Aa){var Ha,Ua,Ya=da(Vf(za),
4);Aa=(Ya[0]+Ya[2])/2;Ya=(Ya[1]+Ya[3])/2;var ob=null!==(Ha=null===(Ua=v.originalElements.get(za.id))||void 0===Ua?void 0:Ua.angle)&&void 0!==Ha?Ha:za.angle;Ha=da(Jf(Aa,Ya,sa,ha,ua+ob-za.angle),2);ke(za,{x:za.x+(Ha[0]-Aa),y:za.y+(Ha[1]-Ya),angle:ee(ua+ob)})})},Ok=function(v,D,T,A,ma,sa,ha,ua,za,Aa){za&&(D=mk(D,ha,sa<A?-ua:ua),ha=D.width,0>(ua=D.height)&&(ua=-ua));ma=ma<T?T-ha:T;sa=sa<A?A-ua:A;Aa&&(ma=T-(ha+=ha)/2,sa=A-(ua+=ua)/2);0!==ha&&0!==ua&&ke(v,{x:ma,y:sa,width:ha,height:ua})},Ak=function(v){return v.replace(/\t/g,
"        ").replace(/\r?\n|\r/g,"\n")},Lj=function(v){var D=Vl(v.text,jk(v));ke(v,{width:D.width,height:D.height,baseline:D.baseline})},wh=function(v,D){return!(v.viewModeEnabled||!v.editingElement&&!Sf(D,v).length&&"selection"===v.elementType)},al=function(v){return v.reduce(function(D,T){return D[T.id]=T,D},{})},Uj=function(v){return v.reduce(function(D,T){return D+T.version},0)},oe=function(v){return v.filter(function(D){return!D.isDeleted})},Ml=function(v){return oe(v).map(function(D){return oj(D.type)?
tb(tb({},D),{},{lastCommittedPoint:null}):D})},sh=function(v,D,T,A){var ma=A.scrollX,sa=A.scrollY,ha=A.zoom;if(0===v.length)return{horizontal:null,vertical:null};A=da(Bg(v),4);var ua=A[0],za=A[1];v=A[2];A=A[3];var Aa=D/ha.value,Ha=T/ha.value,Ua=D-Aa,Ya=T-Ha;ha=parseInt(Gj("sat"));var ob=parseInt(Gj("sab")),Bb=parseInt(Gj("sal")),Rb=parseInt(Gj("sar")),hc=Cg.rtl;ma=Ua/2-ma+Bb;sa=Ya/2-sa+ha;Aa=ma+Aa-Rb;Ha=sa+Ha-ob;ua=Math.min(ua,ma);za=Math.min(za,sa);v=Math.max(v,Aa);A=Math.max(A,Ha);return{horizontal:ma===
ua&&Aa===v?null:{x:Math.max(Bb,4)+(ma-ua)/(v-ua)*D,y:T-6-Math.max(4,ob),width:(Aa-ma)/(v-ua)*D-Math.max(8,Bb+Rb),height:6},vertical:sa===za&&Ha===A?null:{x:hc?Math.max(Bb,4):D-6-Math.max(Rb,4),y:(sa-za)/(A-za)*T+Math.max(ha,4),width:6,height:(Ha-sa)/(A-za)*T-Math.max(8,ha+ob)}}},Yg=function(v,D,T){var A=da([v.horizontal,v.vertical].map(function(ma){return null!=ma&&ma.x<=D&&D<=ma.x+ma.width&&ma.y<=T&&T<=ma.y+ma.height}),2);v=A[0];A=A[1];return{isOverEither:v||A,isOverHorizontal:v,isOverVertical:A}},
vh=function(v,D){return v.some(function(T){return D.selectedElementIds[T.id]})},Sf=function(v,D){return v.filter(function(T){return D.selectedElementIds[T.id]})},Kh=function(v,D){return D.editingElement?[D.editingElement]:Sf(v,D)},Be=function(v){var D=v.scenePoint,T=v.viewportDimensions;v=v.zoom;return{scrollX:T.width/2*(1/v.value)-D.x-1/v.value*v.translation.x,scrollY:T.height/2*(1/v.value)-D.y-1/v.value*v.translation.y}},Fg=function(v,D,T){if(!(v=function(ha){return ha.filter(function(ua){return!ua.isDeleted&&
!Kj(ua)})}(v)).length)return{scrollX:0,scrollY:0};var A=da(Bg(v),4);T=A[0];var ma=A[1],sa=A[2];A=A[3];(function(ha,ua,za){ua=da(za,4);za=ua[2];var Aa=ua[3],Ha=hk({sceneX:ua[0],sceneY:ua[1]},ha);ua=Ha.x;Ha=Ha.y;za=hk({sceneX:za,sceneY:Aa},ha);Aa=za.y;return za.x-ua>ha.width||Aa-Ha>ha.height})(D,0,[T,ma,sa,A])&&(v=function(ha,ua){if(!ha.length)return[0,0,0,0];var za=1/0,Aa=ha[0];return ha.forEach(function(Ha){var Ua=da(gk(Ha),4);Ua=Math.hypot(ua.x-(Ua[0]+Ua[2])/2,ua.y-(Ua[1]+Ua[3])/2);Ua<za&&(za=Ua,
Aa=Ha)}),gk(Aa)}(v,hh({clientX:D.scrollX,clientY:D.scrollY},D)),v=da(v,4),T=v[0],ma=v[1],sa=v[2],A=v[3]);return Be({scenePoint:{x:(T+sa)/2,y:(ma+A)/2},viewportDimensions:{width:D.width,height:D.height},zoom:D.zoom})},Pk=function(v){return"rectangle"===v||"ellipse"===v||"diamond"===v||"line"===v},Vk=function(v){return"rectangle"===v||"ellipse"===v||"diamond"===v||"freedraw"===v||"arrow"===v||"line"===v},p=function(v){return"rectangle"===v||"ellipse"===v||"diamond"===v||"arrow"===v||"line"===v},I=function(v){return"rectangle"===
v||"arrow"===v||"line"===v},ka=function(v,D){for(var T=null,A=v.length-1;0<=A;--A){var ma=v[A];if(!ma.isDeleted&&D(ma)){T=ma;break}}return T},ea=function(v,D,T){var A=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{x:0,y:0};return{value:v,translation:{x:A.x-T.left-v/D.value*(A.x-T.left-D.translation.x),y:A.y-T.top-v/D.value*(A.y-T.top-D.translation.y)}}},ra=function(v){v=parseFloat(v.toFixed(2));return Math.max(.1,Math.min(v,10))},Ga=(e(5422),ce().forwardRef(function(v,D){var T=Ip().id,A=
ce().useRef(null);ce().useImperativeHandle(D,function(){return A.current});D="ToolIcon_size_".concat(v.size);return"button"===v.type||"icon"===v.type?(0,Ra.jsxs)("button",{className:Dc("ToolIcon_type_button",D,v.className,v.visible&&!v.hidden?"ToolIcon_type_button--show":"ToolIcon_type_button--hide",{ToolIcon:!v.hidden,"ToolIcon--selected":v.selected,"ToolIcon--plain":"icon"===v.type}),"data-testid":v["data-testid"],hidden:v.hidden,title:v.title,"aria-label":v["aria-label"],type:"button",onClick:v.onClick,
ref:A,children:[(v.icon||v.label)&&(0,Ra.jsxs)("div",{className:"ToolIcon__icon","aria-hidden":"true",children:[v.icon||v.label,v.keyBindingLabel&&(0,Ra.jsx)("span",{className:"ToolIcon__keybinding",children:v.keyBindingLabel})]}),v.showAriaLabel&&(0,Ra.jsx)("div",{className:"ToolIcon__label",children:v["aria-label"]}),v.children]}):(0,Ra.jsxs)("label",{className:Dc("ToolIcon",v.className),title:v.title,children:[(0,Ra.jsx)("input",{className:"ToolIcon_type_radio ".concat(D),type:"radio",name:v.name,
"aria-label":v["aria-label"],"aria-keyshortcuts":v["aria-keyshortcuts"],"data-testid":v["data-testid"],id:"".concat(T,"-").concat(v.id),onChange:v.onChange,checked:v.checked,ref:A}),(0,Ra.jsxs)("div",{className:"ToolIcon__icon",children:[v.icon,v.keyBindingLabel&&(0,Ra.jsx)("span",{className:"ToolIcon__keybinding",children:v.keyBindingLabel})]})]})}));Ga.defaultProps={visible:!0,className:"",size:"medium"};var Qa=function(v){return"light"===v?mf.orange[4]:mf.orange[9]},Pa=function(v){return"light"===
v?mf.black:mf.gray[4]},fb=function(v){var D=1<arguments.length&&void 0!==arguments[1]?arguments[1]:512;D="number"==typeof D?{width:D}:D;var T=D.width;T=void 0===T?512:T;var A=D.height;A=void 0===A?T:A;var ma=D.mirror;D=D.style;return(0,Ra.jsx)("svg",{"aria-hidden":"true",focusable:"false",role:"img",viewBox:"0 0 ".concat(T," ").concat(A),className:Dc({"rtl-mirror":ma}),style:D,children:"string"==typeof v?(0,Ra.jsx)("path",{fill:"currentColor",d:v}):v})},Jb=fb((0,Ra.jsx)("polyline",{fill:"none",stroke:"currentColor",
points:"20 6 9 17 4 12"}),{width:24,height:24}),Kb=fb("M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z",
{mirror:!0}),Bc=fb("M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z",{width:448,height:512}),Cc=fb("M252 54L203 8a28 27 0 00-20-8H28C12 0 0 12 0 27v195c0 15 12 26 28 26h204c15 0 28-11 28-26V73a28 27 0 00-8-19zM130 213c-21 0-37-16-37-36 0-19 16-35 37-35 20 0 37 16 37 35 0 20-17 36-37 36zm56-169v56c0 4-4 6-7 6H44c-4 0-7-2-7-6V42c0-4 3-7 7-7h133l4 2 3 2a7 7 0 012 5z M296 201l87 95-188 205-78 9c-10 1-19-8-18-20l9-84zm141-14l-41-44a31 31 0 00-46 0l-38 41 87 95 38-42c13-14 13-36 0-50z",
{width:448,height:512}),pc=fb("M572.694 292.093L500.27 416.248A63.997 63.997 0 0 1 444.989 448H45.025c-18.523 0-30.064-20.093-20.731-36.093l72.424-124.155A64 64 0 0 1 152 256h399.964c18.523 0 30.064 20.093 20.73 36.093zM152 224h328v-48c0-26.51-21.49-48-48-48H272l-64-64H48C21.49 64 0 85.49 0 112v278.046l69.077-118.418C86.214 242.25 117.989 224 152 224z",{width:576,height:512,mirror:!0}),ld=fb("M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z",
{width:384,height:512}),be=fb("M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z",{width:448,height:512}),df=fb("M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"),
Dh=fb("M384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128zM571 308l-95.7-96.4c-10.1-10.1-27.4-3-27.4 11.3V288h-64v64h64v65.2c0 14.3 17.3 21.4 27.4 11.3L571 332c6.6-6.6 6.6-17.4 0-24zm-379 28v-32c0-8.8 7.2-16 16-16h176V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V352H208c-8.8 0-16-7.2-16-16z",{width:576,height:512,mirror:!0}),Le=fb((0,Ra.jsxs)(Ra.Fragment,{children:[(0,Ra.jsx)("path",{d:"M571 308l-95.7-96.4c-10.1-10.1-27.4-3-27.4 11.3V288h-64v64h64v65.2c0 14.3 17.3 21.4 27.4 11.3L571 332c6.6-6.6 6.6-17.4 0-24zm-187 44v-64 64z"}),
(0,Ra.jsx)("path",{d:"M384 121.941V128H256V0h6.059c6.362 0 12.471 2.53 16.97 7.029l97.941 97.941a24.01 24.01 0 017.03 16.971zM248 160c-13.2 0-24-10.8-24-24V0H24C10.745 0 0 10.745 0 24v464c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24V160H248zm-135.455 16c26.51 0 48 21.49 48 48s-21.49 48-48 48-48-21.49-48-48 21.491-48 48-48zm208 240h-256l.485-48.485L104.545 328c4.686-4.686 11.799-4.201 16.485.485L160.545 368 264.06 264.485c4.686-4.686 12.284-4.686 16.971 0L320.545 304v112z"})]}),{width:576,
height:512,mirror:!0}),Hf=fb("M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z",{width:512,height:512}),Ag=
fb("M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),Gg=fb("M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),rg=fb("M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"),
Ke=fb("M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"),ig=fb("M255.545 8c-66.269.119-126.438 26.233-170.86 68.685L48.971 40.971C33.851 25.851 8 36.559 8 57.941V192c0 13.255 10.745 24 24 24h134.059c21.382 0 32.09-25.851 16.971-40.971l-41.75-41.75c30.864-28.899 70.801-44.907 113.23-45.273 92.398-.798 170.283 73.977 169.484 169.442C423.236 348.009 349.816 424 256 424c-41.127 0-79.997-14.678-110.63-41.556-4.743-4.161-11.906-3.908-16.368.553L89.34 422.659c-4.872 4.872-4.631 12.815.482 17.433C133.798 479.813 192.074 504 256 504c136.966 0 247.999-111.033 248-247.998C504.001 119.193 392.354 7.755 255.545 8z",
{mirror:!0}),Xf=fb("M256.455 8c66.269.119 126.437 26.233 170.859 68.685l35.715-35.715C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.75c-30.864-28.899-70.801-44.907-113.23-45.273-92.398-.798-170.283 73.977-169.484 169.442C88.764 348.009 162.184 424 256 424c41.127 0 79.997-14.678 110.629-41.556 4.743-4.161 11.906-3.908 16.368.553l39.662 39.662c4.872 4.872 4.631 12.815-.482 17.433C378.202 479.813 319.926 504 256 504 119.034 504 8.001 392.967 8 256.002 7.999 119.193 119.646 7.755 256.455 8z",
{mirror:!0}),bg=fb("M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z",
{mirror:!0}),Eh=(fb("M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z",{width:24,height:24}),fb("M16 5l-1.42 1.42-1.59-1.59V16h-1.98V4.83L9.42 6.42 8 5l4-4 4 4zm4 5v11c0 1.1-.9 2-2 2H6c-1.11 0-2-.9-2-2V10c0-1.11.89-2 2-2h3v2H6v11h12V10h-3V8h3c1.1 0 2 .89 2 2z",
{width:24,height:24}),fb((0,Ra.jsxs)(Ra.Fragment,{children:[(0,Ra.jsx)("path",{stroke:"currentColor",fill:"currentColor",d:"M40 5.6v6.1l-4.1.7c-8.9 1.4-16.5 6.9-20.6 15C13 32 10.9 43 12.4 43c.4 0 2.4-1.3 4.4-3 5-3.9 12.1-7 18.2-7.7l5-.6v12.8l11.2-11.3L62.5 22 51.2 10.8 40-.5v6.1zm10.2 22.6L44 34.5v-6.8l-6.9.6c-3.9.3-9.8 1.7-13.2 3.1-3.5 1.4-6.5 2.4-6.7 2.2-.9-1 3-7.5 6.4-10.8C28 18.6 34.4 16 40.1 16c3.7 0 3.9-.1 3.9-3.2V9.5l6.2 6.3 6.3 6.2-6.3 6.2z"}),(0,Ra.jsx)("path",{stroke:"currentColor",fill:"currentColor",
d:"M0 36v20h48v-6.2c0-6 0-6.1-2-4.3-1.1 1-2 2.9-2 4.2V52H4V34c0-17.3-.1-18-2-18s-2 .7-2 20z"})]}),{width:64,height:64}),fb((0,Ra.jsx)("path",{stroke:"currentColor",strokeWidth:"40",fill:"currentColor",d:"M148 560a318 318 0 0 0 522 110 316 316 0 0 0 0-450 316 316 0 0 0-450 0c-11 11-21 22-30 34v4h47c25 0 46 21 46 46s-21 45-46 45H90c-13 0-25-6-33-14-9-9-14-20-14-33V156c0-25 20-45 45-45s45 20 45 45v32l1 1a401 401 0 0 1 623 509l212 212a42 42 0 0 1-59 59L698 757A401 401 0 0 1 65 570a42 42 0 0 1 83-10z"}),
{width:1024}),ce().memo(function(v){v=v.theme;return fb((0,Ra.jsxs)(Ra.Fragment,{children:[(0,Ra.jsx)("path",{d:"M22 9.556C22 8.696 21.303 8 20.444 8H16v8H8v4.444C8 21.304 8.697 22 9.556 22h10.888c.86 0 1.556-.697 1.556-1.556V9.556z",fill:Pa(v),stroke:Pa(v),strokeWidth:"2"}),(0,Ra.jsx)("path",{d:"M16 3.556C16 2.696 15.303 2 14.444 2H3.556C2.696 2 2 2.697 2 3.556v10.888C2 15.304 2.697 16 3.556 16h10.888c.86 0 1.556-.697 1.556-1.556V3.556z",fill:Qa(v),stroke:Qa(v),strokeWidth:"2"})]}),{width:24,mirror:!0})})),
Og=ce().memo(function(v){v=v.theme;return fb((0,Ra.jsxs)(Ra.Fragment,{children:[(0,Ra.jsx)("path",{d:"M16 3.556C16 2.696 15.303 2 14.444 2H3.556C2.696 2 2 2.697 2 3.556v10.888C2 15.304 2.697 16 3.556 16h10.888c.86 0 1.556-.697 1.556-1.556V3.556z",fill:Qa(v),stroke:Qa(v),strokeWidth:"2"}),(0,Ra.jsx)("path",{d:"M22 9.556C22 8.696 21.303 8 20.444 8H9.556C8.696 8 8 8.697 8 9.556v10.888C8 21.304 8.697 22 9.556 22h10.888c.86 0 1.556-.697 1.556-1.556V9.556z",fill:Pa(v),stroke:Pa(v),strokeWidth:"2"})]}),
{width:24,mirror:!0})}),Ei=ce().memo(function(v){v=v.theme;return fb((0,Ra.jsxs)(Ra.Fragment,{children:[(0,Ra.jsx)("path",{d:"M13 21a1 1 0 001 1h7a1 1 0 001-1v-7a1 1 0 00-1-1h-3v5h-5v3zM11 3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h3V6h5V3z",fill:Pa(v),stroke:Pa(v),strokeWidth:"2"}),(0,Ra.jsx)("path",{d:"M18 7.333C18 6.597 17.403 6 16.667 6H7.333C6.597 6 6 6.597 6 7.333v9.334C6 17.403 6.597 18 7.333 18h9.334c.736 0 1.333-.597 1.333-1.333V7.333z",fill:Qa(v),stroke:Qa(v),strokeWidth:"2"})]}),{width:24,
mirror:!0})}),zk=ce().memo(function(v){v=v.theme;return fb((0,Ra.jsxs)(Ra.Fragment,{children:[(0,Ra.jsx)("path",{d:"M18 7.333C18 6.597 17.403 6 16.667 6H7.333C6.597 6 6 6.597 6 7.333v9.334C6 17.403 6.597 18 7.333 18h9.334c.736 0 1.333-.597 1.333-1.333V7.333z",fill:Qa(v),stroke:Qa(v),strokeWidth:"2"}),(0,Ra.jsx)("path",{d:"M11 3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h8V3zM22 14a1 1 0 00-1-1h-7a1 1 0 00-1 1v7a1 1 0 001 1h8v-8z",fill:Pa(v),stroke:Pa(v),strokeWidth:"2"})]}),{width:24,mirror:!0})}),
Kk=ce().memo(function(v){v=v.theme;return fb((0,Ra.jsxs)(Ra.Fragment,{children:[(0,Ra.jsx)("path",{d:"M 2,5 H 22",fill:Pa(v),stroke:Pa(v),strokeWidth:"2",strokeLinecap:"round"}),(0,Ra.jsx)("path",{d:"M 6,7 C 5.446,7 5,7.446 5,8 v 9.999992 c 0,0.554 0.446,1 1,1 h 3.0000001 c 0.554,0 0.9999999,-0.446 0.9999999,-1 V 8 C 10,7.446 9.5540001,7 9.0000001,7 Z m 9,0 c -0.554,0 -1,0.446 -1,1 v 5.999992 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 V 8 C 19,7.446 18.554,7 18,7 Z",fill:Qa(v),stroke:Qa(v),
strokeWidth:"2"})]}),{width:24,mirror:!0})}),wl=ce().memo(function(v){v=v.theme;return fb((0,Ra.jsxs)(Ra.Fragment,{children:[(0,Ra.jsx)("path",{d:"M 2,19 H 22",fill:Pa(v),stroke:Pa(v),strokeWidth:"2",strokeLinecap:"round"}),(0,Ra.jsx)("path",{d:"m 6,16.999992 c -0.554,0 -1,-0.446 -1,-1 V 6 C 5,5.446 5.446,5 6,5 H 9.0000001 C 9.5540001,5 10,5.446 10,6 v 9.999992 c 0,0.554 -0.4459999,1 -0.9999999,1 z m 9,0 c -0.554,0 -1,-0.446 -1,-1 V 10 c 0,-0.554 0.446,-1 1,-1 h 3 c 0.554,0 1,0.446 1,1 v 5.999992 c 0,0.554 -0.446,1 -1,1 z",
fill:Qa(v),stroke:Qa(v),strokeWidth:"2"})]}),{width:24,mirror:!0})}),Wo=ce().memo(function(v){v=v.theme;return fb((0,Ra.jsxs)(Ra.Fragment,{children:[(0,Ra.jsx)("path",{d:"M 5,2 V 22",fill:Pa(v),stroke:Pa(v),strokeWidth:"2",strokeLinecap:"round"}),(0,Ra.jsx)("path",{d:"m 7.000004,5.999996 c 0,-0.554 0.446,-1 1,-1 h 9.999992 c 0.554,0 1,0.446 1,1 v 3.0000001 c 0,0.554 -0.446,0.9999999 -1,0.9999999 H 8.000004 c -0.554,0 -1,-0.4459999 -1,-0.9999999 z m 0,9 c 0,-0.554 0.446,-1 1,-1 h 5.999992 c 0.554,0 1,0.446 1,1 v 3 c 0,0.554 -0.446,1 -1,1 H 8.000004 c -0.554,0 -1,-0.446 -1,-1 z",
fill:Qa(v),stroke:Qa(v),strokeWidth:"2"})]}),{width:24})}),Fm=ce().memo(function(v){v=v.theme;return fb((0,Ra.jsxs)(Ra.Fragment,{children:[(0,Ra.jsx)("path",{d:"M 19,2 V 22",fill:Pa(v),stroke:Pa(v),strokeWidth:"2",strokeLinecap:"round"}),(0,Ra.jsx)("path",{d:"m 16.999996,5.999996 c 0,-0.554 -0.446,-1 -1,-1 H 6.000004 c -0.554,0 -1,0.446 -1,1 v 3.0000001 c 0,0.554 0.446,0.9999999 1,0.9999999 h 9.999992 c 0.554,0 1,-0.4459999 1,-0.9999999 z m 0,9 c 0,-0.554 -0.446,-1 -1,-1 h -5.999992 c -0.554,0 -1,0.446 -1,1 v 3 c 0,0.554 0.446,1 1,1 h 5.999992 c 0.554,0 1,-0.446 1,-1 z",
fill:Qa(v),stroke:Qa(v),strokeWidth:"2"})]}),{width:24})}),Cf=ce().memo(function(v){v=v.theme;return fb((0,Ra.jsxs)(Ra.Fragment,{children:[(0,Ra.jsx)("path",{d:"M19 5V19M5 5V19",stroke:Pa(v),strokeWidth:"2",strokeLinecap:"round"}),(0,Ra.jsx)("path",{d:"M15 9C15.554 9 16 9.446 16 10V14C16 14.554 15.554 15 15 15H9C8.446 15 8 14.554 8 14V10C8 9.446 8.446 9 9 9H15Z",fill:Qa(v),stroke:Qa(v),strokeWidth:"2"})]}),{width:24})}),Nn=ce().memo(function(v){v=v.theme;return fb((0,Ra.jsxs)(Ra.Fragment,{children:[(0,Ra.jsx)("path",
{d:"M5 5L19 5M5 19H19",fill:Pa(v),stroke:Pa(v),strokeWidth:"2",strokeLinecap:"round"}),(0,Ra.jsx)("path",{d:"M15 9C15.554 9 16 9.446 16 10V14C16 14.554 15.554 15 15 15H9C8.446 15 8 14.554 8 14V10C8 9.446 8.446 9 9 9H15Z",fill:Qa(v),stroke:Qa(v),strokeWidth:"2"})]}),{width:24})}),kj=ce().memo(function(v){v=v.theme;return fb((0,Ra.jsxs)(Ra.Fragment,{children:[(0,Ra.jsx)("path",{d:"m 5.000004,16.999996 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 v -10 c 0,-0.554 -0.446,-1 -1,-1 h -3 c -0.554,0 -1,0.446 -1,1 z m 9,-2 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 v -6 c 0,-0.554 -0.446,-1 -1,-1 h -3 c -0.554,0 -1,0.446 -1,1 z",
fill:Qa(v),stroke:Qa(v),strokeWidth:"2"}),(0,Ra.jsx)("path",{d:"M 2,12 H 22",fill:Pa(v),stroke:Pa(v),strokeWidth:"2",strokeDasharray:"1, 2.8",strokeLinecap:"round"})]}),{width:24,mirror:!0})}),xn=ce().memo(function(v){v=v.theme;return fb((0,Ra.jsxs)(Ra.Fragment,{children:[(0,Ra.jsx)("path",{d:"M 7 5 C 6.446 5 6 5.446 6 6 L 6 9 C 6 9.554 6.446 10 7 10 L 17 10 C 17.554 10 18 9.554 18 9 L 18 6 C 18 5.446 17.554 5 17 5 L 7 5 z M 9 14 C 8.446 14 8 14.446 8 15 L 8 18 C 8 18.554 8.446 19 9 19 L 15 19 C 15.554 19 16 18.554 16 18 L 16 15 C 16 14.446 15.554 14 15 14 L 9 14 z ",
fill:Qa(v),stroke:Qa(v),strokeWidth:"2"}),(0,Ra.jsx)("path",{d:"M 12,2 V 22",fill:Pa(v),stroke:Pa(v),strokeWidth:"2",strokeDasharray:"1, 2.8",strokeLinecap:"round"})]}),{width:24})}),ym=fb("M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z",
{width:640,height:512,mirror:!0}),Om=(fb("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z"),fb("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm96 328c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h160c8.8 0 16 7.2 16 16v160z"),fb("M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z",
{width:352,height:512})),yn=fb("M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z",{width:320,height:512,style:{marginLeft:"-0.2rem"},mirror:!0}),Wk=fb("M464 0c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48H176c-26.51 0-48-21.49-48-48V48c0-26.51 21.49-48 48-48h288M176 416c-44.112 0-80-35.888-80-80V128H48c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48v-48H176z",
{mirror:!0}),hm=(fb("M11.553 22.894a.998.998 0 00.894 0s3.037-1.516 5.465-4.097C19.616 16.987 21 14.663 21 12V5a1 1 0 00-.649-.936l-8-3a.998.998 0 00-.702 0l-8 3A1 1 0 003 5v7c0 2.663 1.384 4.987 3.088 6.797 2.428 2.581 5.465 4.097 5.465 4.097zm-1.303-8.481l6.644-6.644a.856.856 0 111.212 1.212l-7.25 7.25a.856.856 0 01-1.212 0l-3.75-3.75a.856.856 0 111.212-1.212l3.144 3.144z",{width:24}),fb("M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm32-48h224V288l-23.5-23.5c-4.7-4.7-12.3-4.7-17 0L176 352l-39.5-39.5c-4.7-4.7-12.3-4.7-17 0L80 352v64zm48-240c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48z",
{width:384,height:512})),Yi=ce().memo(function(v){v=v.theme;return fb((0,Ra.jsxs)(Ra.Fragment,{children:[(0,Ra.jsx)("path",{d:"M25 26H111V111H25",fill:Pa(v)}),(0,Ra.jsx)("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",
stroke:Pa(v),strokeWidth:"2"}),(0,Ra.jsx)("path",{d:"M100 100H160V160H100",fill:Pa(v)}),(0,Ra.jsx)("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:Pa(v),strokeWidth:"2"}),(0,Ra.jsxs)("g",
{fill:"light"===v?mf.white:"#1e1e1e",stroke:Pa(v),strokeWidth:"6",children:[(0,Ra.jsx)("rect",{x:"2.5",y:"2.5",width:"30",height:"30"}),(0,Ra.jsx)("rect",{x:"2.5",y:"149.5",width:"30",height:"30"}),(0,Ra.jsx)("rect",{x:"147.5",y:"149.5",width:"30",height:"30"}),(0,Ra.jsx)("rect",{x:"147.5",y:"2.5",width:"30",height:"30"})]})]}),{width:182,height:182,mirror:!0})}),wj=ce().memo(function(v){v=v.theme;return fb((0,Ra.jsxs)(Ra.Fragment,{children:[(0,Ra.jsx)("path",{d:"M25 26H111V111H25",fill:Pa(v)}),(0,Ra.jsx)("path",
{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:Pa(v),strokeWidth:"2"}),(0,Ra.jsx)("path",{d:"M100 100H160V160H100",fill:Pa(v)}),(0,Ra.jsx)("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",
stroke:Pa(v),strokeWidth:"2"}),(0,Ra.jsxs)("g",{fill:"light"===v?mf.white:"#1e1e1e",stroke:Pa(v),strokeWidth:"6",children:[(0,Ra.jsx)("rect",{x:"2.5",y:"2.5",width:"30",height:"30"}),(0,Ra.jsx)("rect",{x:"78.5",y:"149.5",width:"30",height:"30"}),(0,Ra.jsx)("rect",{x:"147.5",y:"149.5",width:"30",height:"30"}),(0,Ra.jsx)("rect",{x:"147.5",y:"78.5",width:"30",height:"30"}),(0,Ra.jsx)("rect",{x:"105.5",y:"2.5",width:"30",height:"30"}),(0,Ra.jsx)("rect",{x:"2.5",y:"102.5",width:"30",height:"30"})]})]}),
{width:182,height:182,mirror:!0})}),im=ce().memo(function(v){return fb((0,Ra.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.101 16H28.0934L36 8.95989V4H33.5779L20.101 16ZM30.5704 4L17.0935 16H9.10101L22.5779 4H30.5704ZM19.5704 4L6.09349 16H4V10.7475L11.5779 4H19.5704ZM8.57036 4H4V8.06952L8.57036 4ZM36 11.6378L31.101 16H36V11.6378ZM2 2V18H38V2H2Z",fill:Pa(v.theme)}),{width:40,height:20})}),Qm=ce().memo(function(v){return fb((0,Ra.jsxs)("g",{fill:Pa(v.theme),fillRule:"evenodd",clipRule:"evenodd",
children:[(0,Ra.jsx)("path",{d:"M20.101 16H28.0934L36 8.95989V4H33.5779L20.101 16ZM30.5704 4L17.0935 16H9.10101L22.5779 4H30.5704ZM19.5704 4L6.09349 16H4V10.7475L11.5779 4H19.5704ZM8.57036 4H4V8.06952L8.57036 4ZM36 11.6378L31.101 16H36V11.6378ZM2 2V18H38V2H2Z"}),(0,Ra.jsx)("path",{d:"M14.0001 18L3.00006 4.00002L4.5727 2.76438L15.5727 16.7644L14.0001 18ZM25.0001 18L14.0001 4.00002L15.5727 2.76438L26.5727 16.7644L25.0001 18ZM36.0001 18L25.0001 4.00002L26.5727 2.76438L37.5727 16.7644L36.0001 18Z"})]}),
{width:40,height:20})}),Cm=ce().memo(function(v){return fb((0,Ra.jsx)("path",{d:"M2 2H38V18H2V2Z",fill:Pa(v.theme)}),{width:40,height:20})}),bo=ce().memo(function(v){var D=v.strokeWidth;return fb((0,Ra.jsx)("path",{d:"M6 10H32",stroke:Pa(v.theme),strokeWidth:D,strokeLinecap:"round",fill:"none"}),{width:40,height:20})}),Bn=ce().memo(function(v){return fb((0,Ra.jsx)("path",{d:"M6 10H34",stroke:Pa(v.theme),strokeWidth:2,fill:"none",strokeLinecap:"round"}),{width:40,height:20})}),co=ce().memo(function(v){return fb((0,Ra.jsx)("path",
{d:"M6 10H34",stroke:Pa(v.theme),strokeWidth:2.5,strokeDasharray:"10, 8",fill:"none",strokeLinecap:"round"}),{width:40,height:20})}),Fj=ce().memo(function(v){return fb((0,Ra.jsx)("path",{d:"M6 10H36",stroke:Pa(v.theme),strokeWidth:2.5,strokeDasharray:"2, 4.5",fill:"none",strokeLinecap:"round"}),{width:40,height:20})}),Zo=ce().memo(function(v){return fb((0,Ra.jsx)("path",{d:"M3.00098 16.1691C6.28774 13.9744 19.6399 2.8905 22.7215 3.00082C25.8041 3.11113 19.1158 15.5488 21.4962 16.8309C23.8757 18.1131 34.4155 11.7148 37.0001 10.6919",
stroke:Pa(v.theme),strokeWidth:2,strokeLinecap:"round",fill:"none"}),{width:40,height:20,mirror:!0})}),lo=ce().memo(function(v){return fb((0,Ra.jsx)("path",{d:"M3 17C6.68158 14.8752 16.1296 9.09849 22.0648 6.54922C28 3.99995 22.2896 13.3209 25 14C27.7104 14.6791 36.3757 9.6471 36.3757 9.6471M6.40706 15C13 11.1918 20.0468 1.51045 23.0234 3.0052C26 4.49995 20.457 12.8659 22.7285 16.4329C25 20 36.3757 13 36.3757 13",stroke:Pa(v.theme),strokeWidth:2,strokeLinecap:"round",fill:"none"}),{width:40,height:20,
mirror:!0})}),jm=ce().memo(function(v){return fb((0,Ra.jsx)("path",{d:"M3 15.6468C6.93692 13.5378 22.5544 2.81528 26.6206 3.00242C30.6877 3.18956 25.6708 15.3346 27.4009 16.7705C29.1309 18.2055 35.4001 12.4762 37 11.6177M3.97143 10.4917C6.61158 9.24563 16.3706 2.61886 19.8104 3.01724C23.2522 3.41472 22.0773 12.2013 24.6181 12.8783C27.1598 13.5536 33.3179 8.04068 35.0571 7.07244",stroke:Pa(v.theme),strokeWidth:2,strokeLinecap:"round",fill:"none"}),{width:40,height:20,mirror:!0})}),en=ce().memo(function(v){return fb((0,Ra.jsx)("path",
{d:"M10 17L10 5L35 5",stroke:Pa(v.theme),strokeWidth:2,strokeLinecap:"round",fill:"none"}),{width:40,height:20,mirror:!0})}),fn=ce().memo(function(v){return fb((0,Ra.jsx)("path",{d:"M10 17V15C10 8 13 5 21 5L33.5 5",stroke:Pa(v.theme),strokeWidth:2,strokeLinecap:"round",fill:"none"}),{width:40,height:20,mirror:!0})}),ao=ce().memo(function(v){return fb((0,Ra.jsx)("path",{d:"M6 10H34",stroke:Pa(v.theme),strokeWidth:2,fill:"none"}),{width:40,height:20})}),zn=ce().memo(function(v){var D=v.flip;return fb((0,Ra.jsxs)("g",
{transform:void 0!==D&&D?"translate(40, 0) scale(-1, 1)":"",stroke:Pa(v.theme),strokeWidth:2,fill:"none",children:[(0,Ra.jsx)("path",{d:"M34 10H6M34 10L27 5M34 10L27 15"}),(0,Ra.jsx)("path",{d:"M27.5 5L34.5 10L27.5 15"})]}),{width:40,height:20})}),An=ce().memo(function(v){var D=v.theme;v=v.flip;v=void 0!==v&&v;return fb((0,Ra.jsxs)("g",{stroke:Pa(D),fill:Pa(D),transform:v?"translate(40, 0) scale(-1, 1)":"",children:[(0,Ra.jsx)("path",{d:"M32 10L6 10",strokeWidth:2}),(0,Ra.jsx)("circle",{r:"4",transform:"matrix(-1 0 0 1 30 10)"})]}),
{width:40,height:20})}),Kn=ce().memo(function(v){var D=v.flip;return fb((0,Ra.jsx)("g",{transform:void 0!==D&&D?"translate(40, 0) scale(-1, 1)":"",children:(0,Ra.jsx)("path",{d:"M34 10H5.99996M34 10L34 5M34 10L34 15",stroke:Pa(v.theme),strokeWidth:2,fill:"none"})}),{width:40,height:20})}),Lk=ce().memo(function(v){return fb((0,Ra.jsx)("path",{fill:Pa(v.theme),d:"M 0 69.092 L 0 55.03 A 124.24 124.24 0 0 0 4.706 57.02 Q 6.826 57.863 8.708 58.5 A 53.466 53.466 0 0 0 12.231 59.571 Q 17.236 60.889 21.387 60.889 A 20.909 20.909 0 0 0 24.265 60.704 Q 25.719 60.502 26.903 60.077 A 8.649 8.649 0 0 0 29.028 58.985 Q 31.689 57.08 31.689 53.321 Q 31.689 51.221 30.518 49.585 A 10.126 10.126 0 0 0 29.282 48.177 Q 28.352 47.287 27.075 46.436 A 23.719 23.719 0 0 0 25.752 45.627 Q 23.774 44.492 20.176 42.735 A 254.44 254.44 0 0 0 17.822 41.602 Q 11.503 38.631 8.236 35.888 A 19.742 19.742 0 0 1 8.008 35.694 A 22.18 22.18 0 0 1 2.783 29.102 Q 0.83 25.342 0.83 20.313 A 22.471 22.471 0 0 1 1.733 13.778 A 17.283 17.283 0 0 1 7.251 5.42 A 21.486 21.486 0 0 1 15.177 1.272 Q 18.361 0.338 22.166 0.09 A 43.573 43.573 0 0 1 25 0 A 42.399 42.399 0 0 1 34.349 1.01 A 39.075 39.075 0 0 1 35.62 1.319 A 67.407 67.407 0 0 1 42.108 3.382 A 83.357 83.357 0 0 1 46.191 5.03 L 41.309 16.797 Q 35.596 14.453 31.86 13.526 A 30.762 30.762 0 0 0 25.417 12.612 A 28.337 28.337 0 0 0 24.512 12.598 A 14.846 14.846 0 0 0 22.022 12.793 Q 19.498 13.224 17.92 14.6 Q 15.625 16.602 15.625 19.824 Q 15.625 21.826 16.553 23.316 Q 17.48 24.805 19.507 26.197 A 18.343 18.343 0 0 0 20.659 26.912 Q 22.596 28.035 26.516 29.953 A 299.99 299.99 0 0 0 29.102 31.201 Q 37.91 35.412 41.841 39.642 A 16.553 16.553 0 0 1 42.822 40.796 A 17.675 17.675 0 0 1 46.301 49.233 A 23.517 23.517 0 0 1 46.533 52.588 A 21.581 21.581 0 0 1 45.471 59.515 A 17.733 17.733 0 0 1 39.575 67.823 Q 33.745 72.486 24.094 73.243 A 49.683 49.683 0 0 1 20.215 73.389 A 51.712 51.712 0 0 1 9.448 72.315 A 40.672 40.672 0 0 1 0 69.092 Z"}),
{width:47,height:77})}),Nl=ce().memo(function(v){return fb((0,Ra.jsx)("path",{fill:Pa(v.theme),d:"M 44.092 71.387 L 30.225 71.387 L 13.037 15.381 L 12.598 15.381 A 1505.093 1505.093 0 0 1 12.959 22.313 Q 13.426 31.715 13.508 36.4 A 102.991 102.991 0 0 1 13.525 38.184 L 13.525 71.387 L 0 71.387 L 0 0 L 20.605 0 L 37.5 54.59 L 37.793 54.59 L 55.713 0 L 76.318 0 L 76.318 71.387 L 62.207 71.387 L 62.207 37.598 Q 62.207 35.205 62.28 32.08 A 160.703 160.703 0 0 1 62.326 30.544 Q 62.452 26.754 62.866 17.168 A 5390.536 5390.536 0 0 1 62.939 15.479 L 62.5 15.479 L 44.092 71.387 Z"}),
{width:77,height:75})}),Cn=ce().memo(function(v){return fb((0,Ra.jsx)("path",{fill:Pa(v.theme),d:"M 44.092 71.387 L 0 71.387 L 0 0 L 15.137 0 L 15.137 58.887 L 44.092 58.887 L 44.092 71.387 Z"}),{width:45,height:75})}),eo=ce().memo(function(v){return fb((0,Ra.jsx)("path",{fill:Pa(v.theme),d:"M 42.578 35.4 L 66.699 71.387 L 49.414 71.387 L 32.813 44.385 L 16.211 71.387 L 0 71.387 L 23.682 34.57 L 1.514 0 L 18.213 0 L 33.594 25.684 L 48.682 0 L 64.99 0 L 42.578 35.4 Z M 119.775 71.387 L 75.684 71.387 L 75.684 0 L 90.82 0 L 90.82 58.887 L 119.775 58.887 L 119.775 71.387 Z"}),
{width:120,height:75})}),On=ce().memo(function(v){return fb((0,Ra.jsx)("path",{fill:Pa(v.theme),d:"M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"}),{width:448,height:512})}),pj=ce().memo(function(v){v=v.theme;return fb((0,Ra.jsxs)(Ra.Fragment,{children:[(0,Ra.jsx)("path",{fill:Pa(v),d:"M 63.818 71.68 L 54.492 71.68 L 45.898 49.561 L 17.578 49.561 L 9.082 71.68 L 0 71.68 L 27.881 0 L 35.986 0 L 63.818 71.68 Z M 20.605 41.602 L 43.213 41.602 L 35.205 19.971 L 31.787 9.277 Q 30.322 15.137 28.711 19.971 L 20.605 41.602 Z"}),
(0,Ra.jsx)("path",{fill:Pa(v),d:"M 68.994 71.68 L 52.686 71.68 L 47.51 54.688 L 21.484 54.688 L 16.309 71.68 L 0 71.68 L 25.195 0 L 43.701 0 L 68.994 71.68 Z M 25.293 41.992 L 43.896 41.992 A 27590.463 27590.463 0 0 1 42.2 36.532 Q 36.965 19.676 35.937 16.273 A 120.932 120.932 0 0 1 35.815 15.869 A 131.65 131.65 0 0 1 35.396 14.435 Q 34.951 12.879 34.675 11.741 A 34.866 34.866 0 0 1 34.521 11.084 A 141.762 141.762 0 0 1 33.706 14.075 Q 31.482 21.957 25.293 41.992 Z"})]}),{width:70,height:78})}),io=
ce().memo(function(v){return fb((0,Ra.jsx)(Ra.Fragment,{children:(0,Ra.jsx)("path",{fill:Pa(v.theme),d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"})}),
{width:640,height:512})}),Dn=ce().memo(function(v){return fb((0,Ra.jsx)("path",{d:"M12.83 352h262.34A12.82 12.82 0 00288 339.17v-38.34A12.82 12.82 0 00275.17 288H12.83A12.82 12.82 0 000 300.83v38.34A12.82 12.82 0 0012.83 352zm0-256h262.34A12.82 12.82 0 00288 83.17V44.83A12.82 12.82 0 00275.17 32H12.83A12.82 12.82 0 000 44.83v38.34A12.82 12.82 0 0012.83 96zM432 160H16a16 16 0 00-16 16v32a16 16 0 0016 16h416a16 16 0 0016-16v-32a16 16 0 00-16-16zm0 256H16a16 16 0 00-16 16v32a16 16 0 0016 16h416a16 16 0 0016-16v-32a16 16 0 00-16-16z",
fill:Pa(v.theme),strokeLinecap:"round"}),{width:448,height:512})}),gn=ce().memo(function(v){return fb((0,Ra.jsx)("path",{d:"M432 160H16a16 16 0 00-16 16v32a16 16 0 0016 16h416a16 16 0 0016-16v-32a16 16 0 00-16-16zm0 256H16a16 16 0 00-16 16v32a16 16 0 0016 16h416a16 16 0 0016-16v-32a16 16 0 00-16-16zM108.1 96h231.81A12.09 12.09 0 00352 83.9V44.09A12.09 12.09 0 00339.91 32H108.1A12.09 12.09 0 0096 44.09V83.9A12.1 12.1 0 00108.1 96zm231.81 256A12.09 12.09 0 00352 339.9v-39.81A12.09 12.09 0 00339.91 288H108.1A12.09 12.09 0 0096 300.09v39.81a12.1 12.1 0 0012.1 12.1z",
fill:Pa(v.theme)}),{width:448,height:512})}),Am=ce().memo(function(v){return fb((0,Ra.jsx)("path",{d:"M16 224h416a16 16 0 0016-16v-32a16 16 0 00-16-16H16a16 16 0 00-16 16v32a16 16 0 0016 16zm416 192H16a16 16 0 00-16 16v32a16 16 0 0016 16h416a16 16 0 0016-16v-32a16 16 0 00-16-16zm3.17-384H172.83A12.82 12.82 0 00160 44.83v38.34A12.82 12.82 0 00172.83 96h262.34A12.82 12.82 0 00448 83.17V44.83A12.82 12.82 0 00435.17 32zm0 256H172.83A12.82 12.82 0 00160 300.83v38.34A12.82 12.82 0 00172.83 352h262.34A12.82 12.82 0 00448 339.17v-38.34A12.82 12.82 0 00435.17 288z",
fill:Pa(v.theme),strokeLinecap:"round"}),{width:448,height:512})}),zm=[],we=function(v){return zm=zm.concat(v),v},Uo=function(v,D){return v.editingGroupId&&(D=li(oe(D),v.editingGroupId),D.length)?mb(mb({},v),{},{selectedElementIds:U({},D[0].id,!0)}):v},hn=we({name:"deleteSelectedElements",perform:function(v,D){if(D.editingLinearElement){var T=D.editingLinearElement,A=T.activePointIndex,ma=T.startBindingElement,sa=T.endBindingElement,ha=dd.getElement(T.elementId);if(!ha)return!1;if(null==A||-1===A||
2>ha.points.length)return v=v.filter(function(ua){return ua.id!==ha.id}),{elements:v,appState:mb(mb({},Uo(D,v)),{},{editingLinearElement:null}),commitToHistory:!1};T={startBindingElement:0===A?null:ma,endBindingElement:A===ha.points.length-1?null:sa};return dd.movePoint(ha,A,"delete"),{elements:v,appState:mb(mb({},D),{},{editingLinearElement:mb(mb(mb({},D.editingLinearElement),T),{},{activePointIndex:0<A?A-1:0})}),commitToHistory:!0}}T=function(ua,za){return{elements:ua.map(function(Aa){return za.selectedElementIds[Aa.id]?
cf(Aa,{isDeleted:!0}):Aa}),appState:mb(mb({},za),{},{selectedElementIds:{}})}}(v,D);A=T.elements;T=T.appState;return Ll(A,v.filter(function(ua){return D.selectedElementIds[ua.id]})),{elements:A,appState:mb(mb({},T=Uo(T,A)),{},{elementType:"selection",multiElement:null}),commitToHistory:vh(oe(v),D)}},contextItemLabel:"labels.delete",keyTest:function(v){return"Backspace"===v.key||"Delete"===v.key},PanelComponent:function(v){var D=v.elements,T=v.appState,A=v.updateData;return(0,Ra.jsx)(Ga,{type:"button",
icon:be,title:Wb("labels.delete"),"aria-label":Wb("labels.delete"),onClick:function(){return A(null)},visible:vh(oe(D),T)})}}),En=function(v,D){for(var T=[],A=[],ma=null,sa=-1;++sa<v.length;)D.selectedElementIds[v[sa].id]?(A.length&&(T=T.concat(A),A=[]),T.push(sa),ma=sa+1):v[sa].isDeleted&&ma===sa?(ma=sa+1,A.push(sa)):A=[];return T},fo=function(v,D,T,A){var ma=D[T],sa=function(ha){return!ha.isDeleted&&(!v.editingGroupId||ha.groupIds.includes(v.editingGroupId))};T="left"===A?function(ha,ua){var za=
2<arguments.length&&void 0!==arguments[2]?arguments[2]:ha.length-1;0>za&&(za=ha.length+za);for(za=Math.min(ha.length-1,Math.max(za,0))+1;-1<--za;)if(ua(ha[za],za,ha))return za;return-1}(D,sa,Math.max(0,T-1)):function(ha,ua){var za=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;0>za&&(za=ha.length+za);for(za=Math.min(ha.length,Math.max(za,0))-1;++za<ha.length;)if(ua(ha[za],za,ha))return za;return-1}(D,sa,T+1);sa=D[T];if(!sa)return-1;if(v.editingGroupId){if((null==ma?void 0:ma.groupIds.join(""))===
(null==sa?void 0:sa.groupIds.join("")))return T;if(null==sa||!sa.groupIds.includes(v.editingGroupId))return-1}if(!sa.groupIds.length)return T;ma=v.editingGroupId?sa.groupIds[sa.groupIds.indexOf(v.editingGroupId)-1]:sa.groupIds[sa.groupIds.length-1];ma=li(D,ma);return ma.length?"left"===A?D.indexOf(ma[0]):D.indexOf(ma[ma.length-1]):T},Vo=function(v,D){return D.reduce(function(T,A){A=v[A];return T[A.id]=A,T},{})},kn=function(v,D,T){var A,ma=En(D,v),sa=Vo(D,ma),ha=(A=0,ma.reduce(function(ua,za,Aa){return 0<
Aa&&ma[Aa-1]!==za-1&&(A=++A),(ua[A]||(ua[A]=[])).push(za),ua},[]));return"right"===T&&(ha=ha.reverse()),ha.forEach(function(ua,za){za=ua[0];ua=ua[ua.length-1];var Aa="left"===T?za:ua,Ha=fo(v,D,Aa,T);if(-1!==Ha&&Aa!==Ha){Aa="left"===T?D.slice(0,Ha):D.slice(0,za);var Ua=D.slice(za,ua+1);za="left"===T?D.slice(Ha,za):D.slice(ua+1,Ha+1);ua="left"===T?D.slice(ua+1):D.slice(Ha+1);D="left"===T?[].concat(N(Aa),N(Ua),N(za),N(ua)):[].concat(N(Aa),N(za),N(Ua),N(ua))}}),D.map(function(ua){return sa[ua.id]?vg(ua):
ua})},pl=function(v,D,T){var A=En(v,D),ma=Vo(v,A),sa=[];if("left"===T){if(D.editingGroupId){D=li(v,D.editingGroupId);if(!D.length)return v;var ha=v.indexOf(D[0])}else ha=0;D=A[A.length-1]}else{if(D.editingGroupId){D=li(v,D.editingGroupId);if(!D.length)return v;D=v.indexOf(D[D.length-1])}else D=v.length-1;ha=A[0]}for(var ua=ha;ua<D+1;ua++)A.includes(ua)||sa.push(v[ua]);A=Object.values(ma).map(function(za){return vg(za)});ma=v.slice(0,ha);v=v.slice(D+1);return"left"===T?[].concat(N(ma),N(A),sa,N(v)):
[].concat(N(ma),sa,N(A),N(v))},Gn=we({name:"sendBackward",perform:function(v,D){return{elements:kn(D,v,"left"),appState:D,commitToHistory:!0}},contextItemLabel:"labels.sendBackward",keyPriority:40,keyTest:function(v){return v[Af]&&!v.shiftKey&&"BracketLeft"===v.code},PanelComponent:function(v){var D=v.updateData;v=v.appState;return(0,Ra.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return D(null)},title:"".concat(Wb("labels.sendBackward")," â€” ").concat(Vd("CtrlOrCmd+[")),
children:(0,Ra.jsx)(Og,{theme:v.theme})})}}),Fn=we({name:"bringForward",perform:function(v,D){return{elements:kn(D,v,"right"),appState:D,commitToHistory:!0}},contextItemLabel:"labels.bringForward",keyPriority:40,keyTest:function(v){return v[Af]&&!v.shiftKey&&"BracketRight"===v.code},PanelComponent:function(v){var D=v.updateData;v=v.appState;return(0,Ra.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return D(null)},title:"".concat(Wb("labels.bringForward")," â€” ").concat(Vd("CtrlOrCmd+]")),
children:(0,Ra.jsx)(Eh,{theme:v.theme})})}}),ji=we({name:"sendToBack",perform:function(v,D){return{elements:pl(v,D,"left"),appState:D,commitToHistory:!0}},contextItemLabel:"labels.sendToBack",keyTest:function(v){return xi?v[Af]&&v.altKey&&"BracketLeft"===v.code:v[Af]&&v.shiftKey&&"BracketLeft"===v.code},PanelComponent:function(v){var D=v.updateData;v=v.appState;return(0,Ra.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return D(null)},title:"".concat(Wb("labels.sendToBack"),
" â€” ").concat(Vd(xi?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+[")),children:(0,Ra.jsx)(zk,{theme:v.theme})})}}),rl=we({name:"bringToFront",perform:function(v,D){return{elements:pl(v,D,"right"),appState:D,commitToHistory:!0}},contextItemLabel:"labels.bringToFront",keyTest:function(v){return xi?v[Af]&&v.altKey&&"BracketRight"===v.code:v[Af]&&v.shiftKey&&"BracketRight"===v.code},PanelComponent:function(v){var D=v.updateData;v=v.appState;return(0,Ra.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(T){return D(null)},
title:"".concat(Wb("labels.bringToFront")," â€” ").concat(Vd(xi?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]")),children:(0,Ra.jsx)(Ei,{theme:v.theme})})}}),Ql=we({name:"selectAll",perform:function(v,D){return!D.editingLinearElement&&{appState:Me(vd(vd({},D),{},{editingGroupId:null,selectedElementIds:v.reduce(function(T,A){return A.isDeleted||(T[A.id]=!0),T},{})}),oe(v)),commitToHistory:!0}},contextItemLabel:"labels.selectAll",keyTest:function(v){return v[Af]&&"a"===v.key}}),Zk=we({name:"duplicateSelection",
perform:function(v,D){if(D.editingLinearElement){var T=D.editingLinearElement,A=T.activePointIndex;T=dd.getElement(T.elementId);if(!T||null===A)return!1;var ma=T.points,sa=ma[A],ha=ma[A+1];return ke(T,{points:[].concat(N(ma.slice(0,A+1)),[ha?[(sa[0]+ha[0])/2,(sa[1]+ha[1])/2]:[sa[0]+30,sa[1]+30]],N(ma.slice(A+1)))}),{appState:Zd(Zd({},D),{},{editingLinearElement:Zd(Zd({},D.editingLinearElement),{},{activePointIndex:A+1})}),elements:v,commitToHistory:!0}}return Zd(Zd({},Q(v,D)),{},{commitToHistory:!0})},
contextItemLabel:"labels.duplicateSelection",keyTest:function(v){return v[Af]&&"d"===v.key},PanelComponent:function(v){var D=v.elements,T=v.appState,A=v.updateData;return(0,Ra.jsx)(Ga,{type:"button",icon:Wk,title:"".concat(Wb("labels.duplicateSelection")," â€” ").concat(Vd("CtrlOrCmd+D")),"aria-label":Wb("labels.duplicateSelection"),onClick:function(){return A(null)},visible:vh(oe(D),T)})}}),Q=function(v,D){for(var T=new Map,A=[],ma=[],sa=new Map,ha=function(Ua){var Ya=Xj(D.editingGroupId,T,Ua,{x:Ua.x+
yc.k/2,y:Ua.y+yc.k/2});return sa.set(Ua.id,Ya.id),ma.push(Ua),A.push(Ya),Ya},ua=[],za=0;za<v.length;){var Aa=v[za];if(D.selectedElementIds[Aa.id]){if(Aa.groupIds.length){var Ha=dh(D,Aa);if(Ha){Aa=li(v,Ha);ua.push.apply(ua,N(Aa).concat(N(Aa.map(function(Ua){return ha(Ua)}))));za+=Aa.length;continue}}ua.push(Aa,ha(Aa))}else ua.push(Aa);za++}return Tj(ua,ma,sa),{elements:ua,appState:Me(Zd(Zd({},D),{},{selectedGroupIds:{},selectedElementIds:A.reduce(function(Ua,Ya){return Ua[Ya.id]=!0,Ua},{})}),oe(ua))}},
la=function(v){var D=v.value,T=v.onChange,A=v.group;return(0,Ra.jsx)("div",{className:"buttonList buttonListIcon",children:v.options.map(function(ma){return(0,Ra.jsxs)("label",{className:Dc({active:D===ma.value}),title:ma.text,children:[(0,Ra.jsx)("input",{type:"radio",name:A,onChange:function(){return T(ma.value)},checked:D===ma.value}),ma.icon]},ma.text)})})},Fa=(e(4301),function(v){var D=v.children,T=v.left,A=v.top,ma=v.onCloseRequest;v=v.fitInViewport;var sa=void 0!==v&&v,ha=(0,ue.useRef)(null);
return(0,ue.useLayoutEffect)(function(){if(sa&&ha.current){var ua=ha.current,za=ua.getBoundingClientRect(),Aa=za.y,Ha=za.width,Ua=za.height,Ya=window.innerWidth;za.x+Ha>Ya&&(ua.style.left="".concat(Ya-Ha,"px"));za=window.innerHeight;Aa+Ua>za&&(ua.style.top="".concat(za-Ua,"px"))}},[sa]),(0,ue.useEffect)(function(){if(ma){var ua=function(za){var Aa;null!==(Aa=ha.current)&&void 0!==Aa&&Aa.contains(za.target)||(0,rh.unstable_batchedUpdates)(function(){return ma(za)})};return document.addEventListener("pointerdown",
ua,!1),function(){return document.removeEventListener("pointerdown",ua,!1)}}},[ma]),(0,Ra.jsx)("div",{className:"popover",style:{top:A,left:T},ref:ha,children:D})}),gb=(e(4220),function(v){var D=(new Option).style;return D.color=v,!!D.color}),Ab=[["1","2","3","4","5"],["q","w","e","r","t"],["a","s","d","f","g"]].flat(),Nb=function(v){var D=v.colors,T=v.color,A=v.onChange,ma=v.onClose,sa=v.label,ha=v.showInput,ua=void 0===ha||ha;v=v.type;var za=ce().useRef(),Aa=ce().useRef(),Ha=ce().useRef(),Ua=ce().useRef();
ce().useEffect(function(){Aa.current?Aa.current.focus():Ua.current?Ua.current.focus():Ha.current&&Ha.current.focus()},[]);return(0,Ra.jsxs)("div",{className:"color-picker color-picker-type-".concat(v),role:"dialog","aria-modal":"true","aria-label":Wb("labels.colorPicker"),onKeyDown:function(Ya){if("Tab"===Ya.key){var ob,Bb=document.activeElement;if(Ya.shiftKey)Bb===za.current&&(null===(ob=Ua.current)||void 0===ob||ob.focus(),Ya.preventDefault());else if(Bb===Ua.current){var Rb;null===(Rb=za.current)||
void 0===Rb||Rb.focus();Ya.preventDefault()}}else oh(Ya.key)?(ob=Cg.rtl,Bb=Array.prototype.indexOf.call(Ha.current.children,document.activeElement),-1!==Bb&&(Rb=Ha.current.children.length-(ua?1:0),Ha.current.children[Ya.key===(ob?"ArrowLeft":"ArrowRight")?(Bb+1)%Rb:Ya.key===(ob?"ArrowRight":"ArrowLeft")?(Rb+Bb-1)%Rb:"ArrowDown"===Ya.key?(Bb+5)%Rb:"ArrowUp"===Ya.key?(Rb+Bb-5)%Rb:Bb].focus()),Ya.preventDefault()):Ab.includes(Ya.key.toLowerCase())&&!Dj(Ya.target)?(ob=Ab.indexOf(Ya.key.toLowerCase()),
Ha.current.children[ob].focus(),Ya.preventDefault()):"Escape"!==Ya.key&&"Enter"!==Ya.key||(Ya.preventDefault(),ma());Ya.nativeEvent.stopImmediatePropagation();Ya.stopPropagation()},children:[(0,Ra.jsx)("div",{className:"color-picker-triangle color-picker-triangle-shadow"}),(0,Ra.jsx)("div",{className:"color-picker-triangle"}),(0,Ra.jsxs)("div",{className:"color-picker-content",ref:function(Ya){Ya&&(Ha.current=Ya)},tabIndex:0,children:[D.map(function(Ya,ob){var Bb=Ya.replace("#","");return(0,Ra.jsxs)("button",
{className:"color-picker-swatch",onClick:function(Rb){Rb.currentTarget.focus();A(Ya)},title:"".concat(Wb("colors.".concat(Bb))).concat(Ri(Ya)?"":" (".concat(Ya,")")," â€” ").concat(Ab[ob].toUpperCase()),"aria-label":Wb("colors.".concat(Bb)),"aria-keyshortcuts":Ab[ob],style:{color:Ya},ref:function(Rb){Rb&&0===ob&&(za.current=Rb);Rb&&Ya===T&&(Aa.current=Rb)},onFocus:function(){A(Ya)},children:[Ri(Ya)?(0,Ra.jsx)("div",{className:"color-picker-transparent"}):void 0,(0,Ra.jsx)("span",{className:"color-picker-keybinding",
children:Ab[ob]})]},Ya)}),ua&&(0,Ra.jsx)(sc,{color:T,label:sa,onChange:function(Ya){A(Ya)},ref:Ua})]})]})},sc=ce().forwardRef(function(v,D){var T=v.color,A=v.onChange;v=v.label;var ma=da(ce().useState(T),2),sa=ma[0],ha=ma[1],ua=ce().useRef(null);ce().useEffect(function(){ha(T)},[T]);ce().useImperativeHandle(D,function(){return ua.current});var za=ce().useCallback(function(Aa){Aa=Aa.toLowerCase();var Ha;(Ha=Ri(Aa)||gb(Aa)?Aa:gb("#".concat(Aa))?"#".concat(Aa):null)&&A(Ha);ha(Aa)},[A]);return(0,Ra.jsxs)("label",
{className:"color-input-container",children:[(0,Ra.jsx)("div",{className:"color-picker-hash",children:"#"}),(0,Ra.jsx)("input",{spellCheck:!1,className:"color-picker-input","aria-label":v,onChange:function(Aa){return za(Aa.target.value)},value:(sa||"").replace(/^#/,""),onBlur:function(){return ha(T)},ref:ua})]})}),Fc=function(v){var D=v.type,T=v.color,A=v.onChange,ma=v.label,sa=v.isActive,ha=v.setActive,ua=ce().useRef(null);return(0,Ra.jsxs)("div",{children:[(0,Ra.jsxs)("div",{className:"color-picker-control-container",
children:[(0,Ra.jsx)("button",{className:"color-picker-label-swatch","aria-label":ma,style:T?{"--swatch-color":T}:void 0,onClick:function(){return ha(!sa)},ref:ua}),(0,Ra.jsx)(sc,{color:T,label:ma,onChange:function(za){A(za)}})]}),(0,Ra.jsx)(ce().Suspense,{fallback:"",children:sa?(0,Ra.jsx)(Fa,{onCloseRequest:function(za){return za.target!==ua.current&&ha(!1)},children:(0,Ra.jsx)(Nb,{colors:ri[D],color:T||null,onChange:function(za){A(za)},onClose:function(){var za;ha(!1);null===(za=ua.current)||void 0===
za||za.focus()},label:ma,showInput:!1,type:D})}):null})]})};e(7117);var Oc=function(v,D,T){return v.map(function(A){var ma;return D.selectedElementIds[A.id]||A.id===(null===(ma=D.editingElement)||void 0===ma?void 0:ma.id)?T(A):A})},ad=function(v,D,T,A){var ma,sa,ha=D.editingElement;v=oe(v);return null!==(ma=null!==(sa=ha&&T(ha))&&void 0!==sa?sa:vh(v,D)?function(ua,za,Aa){ua=Array.from(new Set(Sf(ua,za).map(function(Ha){return Aa(Ha)})));return 1===ua.length?ua[0]:null}(v,D,T):A)&&void 0!==ma?ma:null},
zd=(we({name:"changeStrokeColor",perform:function(v,D,T){return od(od({},T.currentItemStrokeColor&&{elements:Oc(v,D,function(A){return cf(A,{strokeColor:T.currentItemStrokeColor})})}),{},{appState:od(od({},D),T),commitToHistory:!!T.currentItemStrokeColor})},PanelComponent:function(v){var D=v.elements,T=v.appState,A=v.updateData;return(0,Ra.jsxs)(Ra.Fragment,{children:[(0,Ra.jsx)("h3",{"aria-hidden":"true",children:Wb("labels.stroke")}),(0,Ra.jsx)(Fc,{type:"elementStroke",label:Wb("labels.stroke"),
color:ad(D,T,function(ma){return ma.strokeColor},T.currentItemStrokeColor),onChange:function(ma){return A({currentItemStrokeColor:ma})},isActive:"strokeColorPicker"===T.openPopup,setActive:function(ma){return A({openPopup:ma?"strokeColorPicker":null})}})]})}}),we({name:"changeBackgroundColor",perform:function(v,D,T){return od(od({},T.currentItemBackgroundColor&&{elements:Oc(v,D,function(A){return cf(A,{backgroundColor:T.currentItemBackgroundColor})})}),{},{appState:od(od({},D),T),commitToHistory:!!T.currentItemBackgroundColor})},
PanelComponent:function(v){var D=v.elements,T=v.appState,A=v.updateData;return(0,Ra.jsxs)(Ra.Fragment,{children:[(0,Ra.jsx)("h3",{"aria-hidden":"true",children:Wb("labels.background")}),(0,Ra.jsx)(Fc,{type:"elementBackground",label:Wb("labels.background"),color:ad(D,T,function(ma){return ma.backgroundColor},T.currentItemBackgroundColor),onChange:function(ma){return A({currentItemBackgroundColor:ma})},isActive:"backgroundColorPicker"===T.openPopup,setActive:function(ma){return A({openPopup:ma?"backgroundColorPicker":
null})}})]})}}),we({name:"changeFillStyle",perform:function(v,D,T){return{elements:Oc(v,D,function(A){return cf(A,{fillStyle:T})}),appState:od(od({},D),{},{currentItemFillStyle:T}),commitToHistory:!0}},PanelComponent:function(v){var D=v.elements,T=v.appState,A=v.updateData;return(0,Ra.jsxs)("fieldset",{children:[(0,Ra.jsx)("legend",{children:Wb("labels.fill")}),(0,Ra.jsx)(la,{options:[{value:"hachure",text:Wb("labels.hachure"),icon:(0,Ra.jsx)(im,{theme:T.theme})},{value:"cross-hatch",text:Wb("labels.crossHatch"),
icon:(0,Ra.jsx)(Qm,{theme:T.theme})},{value:"solid",text:Wb("labels.solid"),icon:(0,Ra.jsx)(Cm,{theme:T.theme})}],group:"fill",value:ad(D,T,function(ma){return ma.fillStyle},T.currentItemFillStyle),onChange:function(ma){A(ma)}})]})}}),we({name:"changeStrokeWidth",perform:function(v,D,T){return{elements:Oc(v,D,function(A){return cf(A,{strokeWidth:T})}),appState:od(od({},D),{},{currentItemStrokeWidth:T}),commitToHistory:!0}},PanelComponent:function(v){var D=v.elements,T=v.appState,A=v.updateData;return(0,Ra.jsxs)("fieldset",
{children:[(0,Ra.jsx)("legend",{children:Wb("labels.strokeWidth")}),(0,Ra.jsx)(la,{group:"stroke-width",options:[{value:1,text:Wb("labels.thin"),icon:(0,Ra.jsx)(bo,{theme:T.theme,strokeWidth:2})},{value:2,text:Wb("labels.bold"),icon:(0,Ra.jsx)(bo,{theme:T.theme,strokeWidth:6})},{value:4,text:Wb("labels.extraBold"),icon:(0,Ra.jsx)(bo,{theme:T.theme,strokeWidth:10})}],value:ad(D,T,function(ma){return ma.strokeWidth},T.currentItemStrokeWidth),onChange:function(ma){return A(ma)}})]})}}),we({name:"changeSloppiness",
perform:function(v,D,T){return{elements:Oc(v,D,function(A){return cf(A,{seed:yl(),roughness:T})}),appState:od(od({},D),{},{currentItemRoughness:T}),commitToHistory:!0}},PanelComponent:function(v){var D=v.elements,T=v.appState,A=v.updateData;return(0,Ra.jsxs)("fieldset",{children:[(0,Ra.jsx)("legend",{children:Wb("labels.sloppiness")}),(0,Ra.jsx)(la,{group:"sloppiness",options:[{value:0,text:Wb("labels.architect"),icon:(0,Ra.jsx)(Zo,{theme:T.theme})},{value:1,text:Wb("labels.artist"),icon:(0,Ra.jsx)(lo,
{theme:T.theme})},{value:2,text:Wb("labels.cartoonist"),icon:(0,Ra.jsx)(jm,{theme:T.theme})}],value:ad(D,T,function(ma){return ma.roughness},T.currentItemRoughness),onChange:function(ma){return A(ma)}})]})}}),we({name:"changeStrokeStyle",perform:function(v,D,T){return{elements:Oc(v,D,function(A){return cf(A,{strokeStyle:T})}),appState:od(od({},D),{},{currentItemStrokeStyle:T}),commitToHistory:!0}},PanelComponent:function(v){var D=v.elements,T=v.appState,A=v.updateData;return(0,Ra.jsxs)("fieldset",
{children:[(0,Ra.jsx)("legend",{children:Wb("labels.strokeStyle")}),(0,Ra.jsx)(la,{group:"strokeStyle",options:[{value:"solid",text:Wb("labels.strokeStyle_solid"),icon:(0,Ra.jsx)(Bn,{theme:T.theme})},{value:"dashed",text:Wb("labels.strokeStyle_dashed"),icon:(0,Ra.jsx)(co,{theme:T.theme})},{value:"dotted",text:Wb("labels.strokeStyle_dotted"),icon:(0,Ra.jsx)(Fj,{theme:T.theme})}],value:ad(D,T,function(ma){return ma.strokeStyle},T.currentItemStrokeStyle),onChange:function(ma){return A(ma)}})]})}}),we({name:"changeOpacity",
perform:function(v,D,T){return{elements:Oc(v,D,function(A){return cf(A,{opacity:T})}),appState:od(od({},D),{},{currentItemOpacity:T}),commitToHistory:!0}},PanelComponent:function(v){var D,T=v.elements,A=v.appState,ma=v.updateData;return(0,Ra.jsxs)("label",{className:"control-label",children:[Wb("labels.opacity"),(0,Ra.jsx)("input",{type:"range",min:"0",max:"100",step:"10",onChange:function(sa){return ma(+sa.target.value)},onWheel:function(sa){sa.stopPropagation();var ha=+sa.target.value;0>sa.deltaY&&
100>ha?ma(ha+10):0<sa.deltaY&&0<ha&&ma(ha-10)},value:null!==(D=ad(T,A,function(sa){return sa.opacity},A.currentItemOpacity))&&void 0!==D?D:void 0})]})}}),we({name:"changeFontSize",perform:function(v,D,T){return{elements:Oc(v,D,function(A){return Xg(A)?(A=cf(A,{fontSize:T}),Lj(A),A):A}),appState:od(od({},D),{},{currentItemFontSize:T}),commitToHistory:!0}},PanelComponent:function(v){var D=v.elements,T=v.appState,A=v.updateData;return(0,Ra.jsxs)("fieldset",{children:[(0,Ra.jsx)("legend",{children:Wb("labels.fontSize")}),
(0,Ra.jsx)(la,{group:"font-size",options:[{value:16,text:Wb("labels.small"),icon:(0,Ra.jsx)(Lk,{theme:T.theme})},{value:20,text:Wb("labels.medium"),icon:(0,Ra.jsx)(Nl,{theme:T.theme})},{value:28,text:Wb("labels.large"),icon:(0,Ra.jsx)(Cn,{theme:T.theme})},{value:36,text:Wb("labels.veryLarge"),icon:(0,Ra.jsx)(eo,{theme:T.theme})}],value:ad(D,T,function(ma){return Xg(ma)&&ma.fontSize},T.currentItemFontSize||yc.n5),onChange:function(ma){return A(ma)}})]})}}),we({name:"changeFontFamily",perform:function(v,
D,T){return{elements:Oc(v,D,function(A){return Xg(A)?(A=cf(A,{fontFamily:T}),Lj(A),A):A}),appState:od(od({},D),{},{currentItemFontFamily:T}),commitToHistory:!0}},PanelComponent:function(v){var D=v.elements,T=v.appState,A=v.updateData;v=[{value:yc.ut.Virgil,text:Wb("labels.handDrawn"),icon:(0,Ra.jsx)(On,{theme:T.theme})},{value:yc.ut.Helvetica,text:Wb("labels.normal"),icon:(0,Ra.jsx)(pj,{theme:T.theme})},{value:yc.ut.Cascadia,text:Wb("labels.code"),icon:(0,Ra.jsx)(io,{theme:T.theme})}];return(0,Ra.jsxs)("fieldset",
{children:[(0,Ra.jsx)("legend",{children:Wb("labels.fontFamily")}),(0,Ra.jsx)(la,{group:"font-family",options:v,value:ad(D,T,function(ma){return Xg(ma)&&ma.fontFamily},T.currentItemFontFamily||yc.rk),onChange:function(ma){return A(ma)}})]})}}),we({name:"changeTextAlign",perform:function(v,D,T){return{elements:Oc(v,D,function(A){return Xg(A)?(A=cf(A,{textAlign:T}),Lj(A),A):A}),appState:od(od({},D),{},{currentItemTextAlign:T}),commitToHistory:!0}},PanelComponent:function(v){var D=v.elements,T=v.appState,
A=v.updateData;return(0,Ra.jsxs)("fieldset",{children:[(0,Ra.jsx)("legend",{children:Wb("labels.textAlign")}),(0,Ra.jsx)(la,{group:"text-align",options:[{value:"left",text:Wb("labels.left"),icon:(0,Ra.jsx)(Dn,{theme:T.theme})},{value:"center",text:Wb("labels.center"),icon:(0,Ra.jsx)(gn,{theme:T.theme})},{value:"right",text:Wb("labels.right"),icon:(0,Ra.jsx)(Am,{theme:T.theme})}],value:ad(D,T,function(ma){return Xg(ma)&&ma.textAlign},T.currentItemTextAlign),onChange:function(ma){return A(ma)}})]})}}),
we({name:"changeSharpness",perform:function(v,D,T){var A=Kh(oe(v),D),ma=A.length?A.every(function(sa){return!Dg(sa)}):!oj(D.elementType);A=A.length?A.every(Dg):oj(D.elementType);return{elements:Oc(v,D,function(sa){return cf(sa,{strokeSharpness:T})}),appState:od(od({},D),{},{currentItemStrokeSharpness:ma?T:D.currentItemStrokeSharpness,currentItemLinearStrokeSharpness:A?T:D.currentItemLinearStrokeSharpness}),commitToHistory:!0}},PanelComponent:function(v){var D=v.elements,T=v.appState,A=v.updateData;
return(0,Ra.jsxs)("fieldset",{children:[(0,Ra.jsx)("legend",{children:Wb("labels.edges")}),(0,Ra.jsx)(la,{group:"edges",options:[{value:"sharp",text:Wb("labels.sharp"),icon:(0,Ra.jsx)(en,{theme:T.theme})},{value:"round",text:Wb("labels.round"),icon:(0,Ra.jsx)(fn,{theme:T.theme})}],value:ad(D,T,function(ma){return ma.strokeSharpness},I(T.elementType)&&(oj(T.elementType)?T.currentItemLinearStrokeSharpness:T.currentItemStrokeSharpness)||null),onChange:function(ma){return A(ma)}})]})}}),we({name:"changeArrowhead",
perform:function(v,D,T){return{elements:Oc(v,D,function(A){if(Dg(A)){var ma=T.position,sa=T.type;if("start"===ma)return cf(A,{startArrowhead:sa});if("end"===ma)return cf(A,{endArrowhead:sa})}return A}),appState:od(od({},D),{},U({},"start"===T.position?"currentItemStartArrowhead":"currentItemEndArrowhead",T.type)),commitToHistory:!0}},PanelComponent:function(v){var D=v.elements,T=v.appState,A=v.updateData;v=Cg.rtl;return(0,Ra.jsxs)("fieldset",{children:[(0,Ra.jsx)("legend",{children:Wb("labels.arrowheads")}),
(0,Ra.jsxs)("div",{className:"iconSelectList",children:[(0,Ra.jsx)(qc,{label:"arrowhead_start",options:[{value:null,text:Wb("labels.arrowhead_none"),icon:(0,Ra.jsx)(ao,{theme:T.theme}),keyBinding:"q"},{value:"arrow",text:Wb("labels.arrowhead_arrow"),icon:(0,Ra.jsx)(zn,{theme:T.theme,flip:!v}),keyBinding:"w"},{value:"bar",text:Wb("labels.arrowhead_bar"),icon:(0,Ra.jsx)(Kn,{theme:T.theme,flip:!v}),keyBinding:"e"},{value:"dot",text:Wb("labels.arrowhead_dot"),icon:(0,Ra.jsx)(An,{theme:T.theme,flip:!v}),
keyBinding:"r"}],value:ad(D,T,function(ma){return Dg(ma)&&"arrow"===ma.type?ma.startArrowhead:T.currentItemStartArrowhead},T.currentItemStartArrowhead),onChange:function(ma){return A({position:"start",type:ma})}}),(0,Ra.jsx)(qc,{label:"arrowhead_end",group:"arrowheads",options:[{value:null,text:Wb("labels.arrowhead_none"),keyBinding:"q",icon:(0,Ra.jsx)(ao,{theme:T.theme})},{value:"arrow",text:Wb("labels.arrowhead_arrow"),keyBinding:"w",icon:(0,Ra.jsx)(zn,{theme:T.theme,flip:v})},{value:"bar",text:Wb("labels.arrowhead_bar"),
keyBinding:"e",icon:(0,Ra.jsx)(Kn,{theme:T.theme,flip:v})},{value:"dot",text:Wb("labels.arrowhead_dot"),keyBinding:"r",icon:(0,Ra.jsx)(An,{theme:T.theme,flip:v})}],value:ad(D,T,function(ma){return Dg(ma)&&"arrow"===ma.type?ma.endArrowhead:T.currentItemEndArrowhead},T.currentItemEndArrowhead),onChange:function(ma){return A({position:"end",type:ma})}})]})]})}}),function(v){var D=v.title||("dark"===v.value?Wb("buttons.lightMode"):Wb("buttons.darkMode"));return(0,Ra.jsx)(Ga,{type:"icon",icon:"light"===
v.value?he.MOON:he.SUN,title:D,"aria-label":D,onClick:function(){return v.onChange("dark"===v.value?"light":"dark")},"data-testid":"toggle-dark-mode"})}),he={SUN:(0,Ra.jsx)("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512",children:(0,Ra.jsx)("path",{fill:"currentColor",d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"})}),
MOON:(0,Ra.jsx)("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512",children:(0,Ra.jsx)("path",{fill:"currentColor",d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"})})},re=(e(6781),function(){var v=document.querySelector(".excalidraw-tooltip");
if(v)return v;v=document.createElement("div");return document.body.appendChild(v),v.classList.add("excalidraw-tooltip"),v}),wf=function(v){var D=v.children,T=v.label;v=v.long;var A=void 0!==v&&v;return(0,ue.useEffect)(function(){return function(){return re().classList.remove("excalidraw-tooltip--visible")}},[]),(0,Ra.jsx)("div",{className:"excalidraw-tooltip-wrapper",onPointerEnter:function(ma){var sa=ma.currentTarget;ma=re();ma.classList.add("excalidraw-tooltip--visible");ma.style.minWidth=A?"50ch":
"10ch";ma.style.maxWidth=A?"50ch":"15ch";ma.textContent=T;var ha=sa.getBoundingClientRect(),ua=ha.x;sa=ha.bottom;var za=ha.top,Aa=ha.width;ha=ma.getBoundingClientRect();var Ha=ha.width;ha=ha.height;var Ua=window.innerWidth;ua=ua+Aa/2-Ha/2;Ha=ua+Ha>=Ua?ua+Ha-Ua:0;Aa=sa+5;Object.assign(ma.style,{top:"".concat(Aa-(Aa+ha>=window.innerHeight?sa-za+ha+10:0),"px"),left:"".concat(ua-Ha,"px")})},onPointerLeave:function(){return re().classList.remove("excalidraw-tooltip--visible")},children:D})};we({name:"changeViewBackgroundColor",
perform:function(v,D,T){return{appState:Rd(Rd({},D),T),commitToHistory:!!T.viewBackgroundColor}},PanelComponent:function(v){var D=v.appState,T=v.updateData;return(0,Ra.jsx)("div",{style:{position:"relative"},children:(0,Ra.jsx)(Fc,{label:Wb("labels.canvasBackground"),type:"canvasBackground",color:D.viewBackgroundColor,onChange:function(A){return T({viewBackgroundColor:A})},isActive:"canvasColorPicker"===D.openPopup,setActive:function(A){return T({openPopup:A?"canvasColorPicker":null})},"data-testid":"canvas-background-picker"})})}});
we({name:"clearCanvas",perform:function(v,D){return{elements:v.map(function(T){return cf(T,{isDeleted:!0})}),appState:Rd(Rd({},Ij()),{},{theme:D.theme,elementLocked:D.elementLocked,exportBackground:D.exportBackground,exportEmbedScene:D.exportEmbedScene,gridSize:D.gridSize,showStats:D.showStats,pasteDialog:D.pasteDialog}),commitToHistory:!0}},PanelComponent:function(v){var D=v.updateData;return(0,Ra.jsx)(Ga,{type:"button",icon:be,title:Wb("buttons.clearReset"),"aria-label":Wb("buttons.clearReset"),
showAriaLabel:om(),onClick:function(){window.confirm(Wb("alerts.clearReset"))&&D(null)},"data-testid":"clear-canvas-button"})}});we({name:"zoomIn",perform:function(v,D){v=ea(ra(D.zoom.value+yc.V4),D.zoom,{left:D.offsetLeft,top:D.offsetTop},{x:D.width/2,y:D.height/2});return{appState:Rd(Rd({},D),{},{zoom:v}),commitToHistory:!1}},PanelComponent:function(v){var D=v.updateData;return(0,Ra.jsx)(Ga,{type:"button",icon:Ag,title:"".concat(Wb("buttons.zoomIn")," â€” ").concat(Vd("CtrlOrCmd++")),"aria-label":Wb("buttons.zoomIn"),
onClick:function(){D(null)},size:"small"})},keyTest:function(v){return("Equal"===v.code||"NumpadAdd"===v.code)&&(v[Af]||v.shiftKey)}});we({name:"zoomOut",perform:function(v,D){v=ea(ra(D.zoom.value-yc.V4),D.zoom,{left:D.offsetLeft,top:D.offsetTop},{x:D.width/2,y:D.height/2});return{appState:Rd(Rd({},D),{},{zoom:v}),commitToHistory:!1}},PanelComponent:function(v){var D=v.updateData;return(0,Ra.jsx)(Ga,{type:"button",icon:Gg,title:"".concat(Wb("buttons.zoomOut")," â€” ").concat(Vd("CtrlOrCmd+-")),"aria-label":Wb("buttons.zoomOut"),
onClick:function(){D(null)},size:"small"})},keyTest:function(v){return("Minus"===v.code||"NumpadSubtract"===v.code)&&(v[Af]||v.shiftKey)}});we({name:"resetZoom",perform:function(v,D){return{appState:Rd(Rd({},D),{},{zoom:ea(1,D.zoom,{left:D.offsetLeft,top:D.offsetTop},{x:D.width/2,y:D.height/2})}),commitToHistory:!1}},PanelComponent:function(v){var D=v.updateData;v=v.appState;return(0,Ra.jsx)(wf,{label:Wb("buttons.resetZoom"),children:(0,Ra.jsxs)(Ga,{type:"button",className:"reset-zoom-button",title:Wb("buttons.resetZoom"),
"aria-label":Wb("buttons.resetZoom"),onClick:function(){D(null)},size:"small",children:[(100*v.zoom.value).toFixed(0),"%"]})})},keyTest:function(v){return("Digit0"===v.code||"Numpad0"===v.code)&&(v[Af]||v.shiftKey)}});var lf=function(v,D,T){v=oe(v);var A=Sf(v,D);T=T&&0<A.length?Bg(A):Bg(v);v=D.width;A=D.height;var ma=da(T,4);v=ea(Math.min(Math.max(Math.floor(Math.min(v/(ma[2]-ma[0]),A/(ma[3]-ma[1]))/yc.V4)*yc.V4,yc.V4),1),D.zoom,{left:D.offsetLeft,top:D.offsetTop});A=da(T,4);T=(A[0]+A[2])/2;A=(A[1]+
A[3])/2;return{appState:Rd(Rd(Rd({},D),Be({scenePoint:{x:T,y:A},viewportDimensions:{width:D.width,height:D.height},zoom:v})),{},{zoom:v}),commitToHistory:!1}};we({name:"zoomToSelection",perform:function(v,D){return lf(v,D,!0)},keyTest:function(v){return"Digit2"===v.code&&v.shiftKey&&!v.altKey&&!v[Af]}});we({name:"zoomToFit",perform:function(v,D){return lf(v,D,!1)},keyTest:function(v){return"Digit1"===v.code&&v.shiftKey&&!v.altKey&&!v[Af]}});we({name:"toggleTheme",perform:function(v,D,T){return{appState:Rd(Rd({},
D),{},{theme:T||("light"===D.theme?"dark":"light")}),commitToHistory:!1}},PanelComponent:function(v){var D=v.updateData;return(0,Ra.jsx)("div",{style:{marginInlineStart:"0.25rem"},children:(0,Ra.jsx)(zd,{value:v.appState.theme,onChange:function(T){D(T)}})})},keyTest:function(v){return v.altKey&&v.shiftKey&&"KeyD"===v.code}});var Yh,Tl,Ji,$f=we({name:"finalize",perform:function(v,D,T,A){var ma;T=A.canvas;A=A.focusContainer;if(D.editingLinearElement){var sa=D.editingLinearElement,ha=sa.startBindingElement,
ua=sa.endBindingElement,za=dd.getElement(sa.elementId);if(za)return Wg(za)&&Md(za,ha,ua),{elements:2>za.points.length||Kj(za)?v.filter(function(Ua){return Ua.id!==za.id}):void 0,appState:Ia(Ia({},D),{},{editingLinearElement:null}),commitToHistory:!0}}window.document.activeElement instanceof HTMLElement&&A();if(A=D.multiElement?D.multiElement:"freedraw"===(null===(ma=D.editingElement)||void 0===ma?void 0:ma.type)?D.editingElement:null){"freedraw"!==A.type&&"touch"!==D.lastPointerDownWith&&(ma=A.points,
(sa=A.lastCommittedPoint)&&ma[ma.length-1]===sa||ke(A,{points:A.points.slice(0,-1)}));Kj(A)&&(v=v.slice(0,-1));ma=qj(A.points,D.zoom.value);if(("line"===A.type||"freedraw"===A.type)&&ma){var Aa=A.points,Ha=Aa[0];ke(A,{points:Aa.map(function(Ua,Ya){return Ya===Aa.length-1?[Ha[0],Ha[1]]:Ua})})}Wg(A)&&!ma&&1<A.points.length&&(sa=da(dd.getPointAtIndexGlobalCoordinates(A,-1),2),ma=sa[0],sa=sa[1],ng(A,D,Ph.getScene(A),{x:ma,y:sa}));D.elementLocked||"freedraw"===D.elementType||(D.selectedElementIds[A.id]=
!0)}return(D.elementLocked||"freedraw"===D.elementType)&&A||Pi(T),{elements:v,appState:Ia(Ia({},D),{},{elementType:(D.elementLocked||"freedraw"===D.elementType)&&A?D.elementType:"selection",draggingElement:null,multiElement:null,editingElement:null,startBoundElement:null,suggestedBindings:[],selectedElementIds:A&&!D.elementLocked&&"freedraw"!==D.elementType?Ia(Ia({},D.selectedElementIds),{},U({},A.id,!0)):D.selectedElementIds}),commitToHistory:"freedraw"===D.elementType}},keyTest:function(v,D){return"Escape"===
v.key&&(null!==D.editingLinearElement||!D.draggingElement&&null===D.multiElement)||("Escape"===v.key||"Enter"===v.key)&&null!==D.multiElement},PanelComponent:function(v){var D=v.appState;v=v.updateData;return(0,Ra.jsx)(Ga,{type:"button",icon:rg,title:Wb("buttons.done"),"aria-label":Wb("buttons.done"),onClick:v,visible:null!=D.multiElement})}}),Lh="undefined"!=typeof l&&null!==(Yh=l.env)&&void 0!==Yh&&Yh.REACT_APP_GOOGLE_ANALYTICS_ID&&"undefined"!=typeof window&&window.gtag?function(v,D,T,A){window.gtag("event",
D,{event_category:v,event_label:T,value:A})}:("undefined"!=typeof l&&null!==(Tl=l.env)&&void 0!==Tl&&Tl.JEST_WORKER_ID,function(v,D,T,A){}),Jk=(e(518),e(9966),function(v){var D=Ip().id,T=da((0,ue.useState)(v.value),2),A=T[0],ma=T[1];return(0,Ra.jsxs)("div",{className:"ProjectName",children:[(0,Ra.jsx)("label",{className:"ProjectName-label",htmlFor:"filename",children:"".concat(v.label).concat(v.isNameEditable?"":":")}),v.isNameEditable?(0,Ra.jsx)("input",{className:"TextInput",onBlur:function(sa){var ha;
a:{for(ha=sa.target.parentElement;ha;){if(-1<ha.tabIndex){ha=void ha.focus();break a}ha=ha.parentElement}ha=void 0}!ha;sa=sa.target.value;sa!==v.value&&v.onChange(sa)},onKeyDown:function(sa){"Enter"!==sa.key||(sa.preventDefault(),sa.nativeEvent.isComposing||229===sa.keyCode)||sa.currentTarget.blur()},id:"".concat(D,"-filename"),value:A,onChange:function(sa){return ma(sa.target.value)}}):(0,Ra.jsx)("span",{className:"TextInput TextInput--readonly",id:"".concat(D,"-filename"),children:v.value})]})}),
Dm=function(v,D){if(null!=D&&D.collaborators&&(D=D.collaborators.get(v),null!=D&&D.color))return D.color;v=v.split("").reduce(function(A,ma){return A+ma.charCodeAt(0)},0);D=ri.elementBackground.slice(1);var T=ri.elementStroke.slice(1);return{background:D[v%D.length],stroke:T[v%T.length]}};!function(v){v.ACTIVE="active";v.AWAY="away";v.IDLE="idle"}(Ji||={});var Ln=function(){var v=document.createElement("canvas").getContext("2d");return v?(v.fillStyle="#f00",v.textBaseline="top",v.font="32px Arial",
v.fillText("\ud83d\ude00",0,0),0!==v.getImageData(12,12,1,1).data[0]):!1}(),Rm=function(v,D,T,A,ma,sa,ha,ua){var za=8<arguments.length&&void 0!==arguments[8]&&arguments[8];v.save();v.translate(sa,ha);v.rotate(ua);za&&v.fillRect(D-sa,T-ha,A,ma);v.strokeRect(D-sa,T-ha,A,ma);v.restore()},on=function(v,D,T,A){v.beginPath();v.arc(D,T,A,0,2*Math.PI);v.fill();v.stroke()},Kf=function(v,D,T,A,ma,sa){v.save();v.strokeStyle="rgba(0,0,0,0.1)";v.beginPath();for(var ha=T;ha<T+ma+2*D;ha+=D)v.moveTo(ha,A-D),v.lineTo(ha,
A+sa+2*D);for(ha=A;ha<A+sa+2*D;ha+=D)v.moveTo(T-D,ha),v.lineTo(T+ma+2*D,ha);v.stroke();v.restore()},Gk=function(v,D,T,A){v.save();v.translate(T.scrollX,T.scrollY);v.lineWidth=1/T.zoom.value;dd.getPointsGlobalCoordinates(A).forEach(function(ma,sa){var ha;v.strokeStyle="red";v.setLineDash([]);v.fillStyle=(null===(ha=D.editingLinearElement)||void 0===ha?void 0:ha.activePointIndex)===sa?"rgba(255, 127, 127, 0.9)":"rgba(255, 255, 255, 0.9)";on(v,ma[0],ma[1],dd.POINT_HANDLE_SIZE/2/T.zoom.value)});v.restore()},
Si=function(v,D,T,A,ma,sa,ha){var ua=7<arguments.length&&void 0!==arguments[7]?arguments[7]:{},za=ua.renderScrollbars;za=void 0===za||za;var Aa=ua.renderSelection;Aa=void 0===Aa||Aa;var Ha=ua.renderOptimizations,Ua=void 0!==Ha&&Ha;ua=ua.renderGrid;ua=void 0===ua||ua;if(null===sa)return{atLeastOneVisibleElement:!1};var Ya=sa.getContext("2d");Ya.setTransform(1,0,0,1,0,0);Ya.save();Ya.scale(A,A);var ob=sa.width/A,Bb=sa.height/A;(ha.exportWithDarkMode&&(Ya.filter=yc.ZF),"string"==typeof ha.viewBackgroundColor)?
(("transparent"===ha.viewBackgroundColor||5===ha.viewBackgroundColor.length||9===ha.viewBackgroundColor.length||/(hsla|rgba)\(/.test(ha.viewBackgroundColor))&&Ya.clearRect(0,0,ob,Bb),Ya.save(),Ya.fillStyle=ha.viewBackgroundColor,Ya.fillRect(0,0,ob,Bb),Ya.restore()):Ya.clearRect(0,0,ob,Bb);Ha=ha.zoom.translation.x;var Rb=ha.zoom.translation.y;Ya.save();Ya.translate(Ha,Rb);Ya.scale(ha.zoom.value,ha.zoom.value);ua&&D.gridSize&&Kf(Ya,D.gridSize,-Math.ceil(Ha/ha.zoom.value/D.gridSize)*D.gridSize+ha.scrollX%
D.gridSize,-Math.ceil(Rb/ha.zoom.value/D.gridSize)*D.gridSize+ha.scrollY%D.gridSize,ob/ha.zoom.value,Bb/ha.zoom.value);var hc;ua=v.filter(function(kd){var qd={zoom:ha.zoom,offsetLeft:D.offsetLeft,offsetTop:D.offsetTop,scrollX:ha.scrollX,scrollY:ha.scrollY},Gd=da(gk(kd),4);kd=Gd[0];var He=Gd[1],Sg=Gd[2];Gd=Gd[3];var ni=hh({clientX:qd.offsetLeft,clientY:qd.offsetTop},qd);qd=hh({clientX:qd.offsetLeft+ob,clientY:qd.offsetTop+Bb},qd);return ni.x<=Sg&&ni.y<=Gd&&qd.x>=kd&&qd.y>=He});(ua.forEach(function(kd){try{lh(kd,
ma,Ya,Ua,ha)}catch(qd){console.error(qd)}}),D.editingLinearElement)&&(Ha=dd.getElement(D.editingLinearElement.elementId))&&Gk(Ya,D,ha,Ha);if(T)try{lh(T,ma,Ya,Ua,ha)}catch(kd){console.error(kd)}if(D.isBindingEnabled&&D.suggestedBindings.filter(function(kd){return null!=kd}).forEach(function(kd){var qd=Array.isArray(kd)?zq:Mn;Ya.save();Ya.translate(ha.scrollX,ha.scrollY);qd(Ya,kd);Ya.restore()}),Aa&&!D.multiElement&&!D.editingLinearElement){var mc,Tc=v.reduce(function(kd,qd){var Gd=[];if(D.selectedElementIds[qd.id]&&
null==dh(D,qd)&&Gd.push(mf.black),ha.remoteSelectedElementIds[qd.id]&&Gd.push.apply(Gd,N(ha.remoteSelectedElementIds[qd.id].map(function(Sg){return Dm(Sg,D).background}))),Gd.length){var He=da(Vf(qd),4);kd.push({angle:qd.angle,elementX1:He[0],elementY1:He[1],elementX2:He[2],elementY2:He[3],selectionColors:Gd})}return kd},[]);Aa=function(kd){kd=li(v,kd);kd=da(Bg(kd),4);Tc.push({angle:0,elementX1:kd[0],elementX2:kd[2],elementY1:kd[1],elementY2:kd[3],selectionColors:[mf.black]})};Ha=cb(vi(D));try{for(Ha.s();!(mc=
Ha.n()).done;)Aa(mc.value)}catch(kd){Ha.e(kd)}finally{Ha.f()}D.editingGroupId&&Aa(D.editingGroupId);Tc.forEach(function(kd){var qd=kd.angle,Gd=kd.elementX1,He=kd.elementY1,Sg=kd.selectionColors,ni=kd.elementX2-Gd;kd=kd.elementY2-He;var Ai=4/ha.zoom.value,pf=8/ha.zoom.value,ye=4/ha.zoom.value;Ya.save();Ya.translate(ha.scrollX,ha.scrollY);Ya.lineWidth=1/ha.zoom.value;for(var ah=Sg.length,Wi=0;Wi<ah;++Wi)Ya.strokeStyle=Sg[Wi],Ya.setLineDash([pf,ye+(pf+ye)*(ah-1)]),Ya.lineDashOffset=(pf+ye)*Wi,Rm(Ya,
Gd-Ai,He-Ai,ni+2*Ai,kd+2*Ai,Gd+ni/2,He+kd/2,qd);Ya.restore()});Aa=Sf(v,D);if(Ya.save(),Ya.translate(ha.scrollX,ha.scrollY),1===Aa.length)Ya.fillStyle=mf.white,mc=Tk(Aa[0],ha.zoom,"mouse"),D.viewModeEnabled||Ej(Ya,ha,mc,Aa[0].angle);else if(1<Aa.length&&!D.isRotating){mc=4/ha.zoom.value;Ya.fillStyle=mf.white;Aa=Bg(Aa);var Xc=da(Aa,4);Aa=Xc[0];Ha=Xc[1];Rb=Xc[2];Xc=Xc[3];var Pc=Ya.getLineDash();Ya.setLineDash([2/ha.zoom.value]);var Zc=Ya.lineWidth;Ya.lineWidth=1/ha.zoom.value;Rm(Ya,Aa-mc,Ha-mc,Rb-Aa+
2*mc,Xc-Ha+2*mc,(Aa+Rb)/2,(Ha+Xc)/2,0);Ya.lineWidth=Zc;Ya.setLineDash(Pc);mc=Jg([Aa,Ha,Rb,Xc],0,ha.zoom,"mouse",sj);Ej(Ya,ha,mc,0)}Ya.restore()}for(var Bd in Ya.restore(),ha.remotePointerViewportCoords){mc=ha.remotePointerViewportCoords[Bd];Ha=mc.x;Rb=mc.y;Ha-=D.offsetLeft;Rb-=D.offsetTop;Xc=0>Ha||Ha>ob-9||0>Rb||Rb>Bb-14;Ha=Math.max(Ha,0);Ha=Math.min(Ha,ob-9);Rb=Math.max(Rb,0);Rb=Math.min(Rb,Bb-14);Aa=Dm(Bd,D);mc=Aa.background;Aa=Aa.stroke;Ya.save();Ya.strokeStyle=Aa;Ya.fillStyle=mc;Pc=ha.remotePointerUserStates[Bd];
(Xc||Pc===Ji.AWAY)&&(Ya.globalAlpha=.48);ha.remotePointerButton&&"down"===ha.remotePointerButton[Bd]&&(Ya.beginPath(),Ya.arc(Ha,Rb,15,0,2*Math.PI,!1),Ya.lineWidth=3,Ya.strokeStyle="#ffffff88",Ya.stroke(),Ya.closePath(),Ya.beginPath(),Ya.arc(Ha,Rb,15,0,2*Math.PI,!1),Ya.lineWidth=1,Ya.strokeStyle=Aa,Ya.stroke(),Ya.closePath());Ya.beginPath();Ya.moveTo(Ha,Rb);Ya.lineTo(Ha+1,Rb+14);Ya.lineTo(Ha+4,Rb+9);Ya.lineTo(Ha+9,Rb+10);Ya.lineTo(Ha,Rb);Ya.fill();Ya.stroke();Zc=ha.remotePointerUsernames[Bd];var Xd=
"";Pc===Ji.AWAY?Xd=Ln?"âš«ï¸":" (".concat(Ji.AWAY,")"):Pc===Ji.IDLE?Xd=Ln?"\ud83d\udca4":" (".concat(Ji.IDLE,")"):Pc===Ji.ACTIVE&&(Xd=Ln?"\ud83d\udfe2":"");Pc="".concat(Zc?"".concat(Zc," "):"").concat(Xd);!Xc&&Pc&&(Ha+=9,Rb+=14,Xc=Ya.measureText(Pc),Zc=Xc.actualBoundingBoxDescent+Xc.actualBoundingBoxAscent,Ya.fillStyle=Aa,Ya.fillRect(Ha-1,Rb-1,Xc.width+8+2,Zc+8+2),Ya.fillStyle=mc,Ya.fillRect(Ha,Rb,Xc.width+8,Zc+8),Ya.fillStyle=mf.white,Ya.fillText(Pc,Ha+4,Rb+4+Xc.actualBoundingBoxAscent));Ya.restore();
Ya.closePath()}return za&&(hc=sh(v,ob,Bb,ha),Ya.save(),Ya.fillStyle="rgba(0,0,0,0.3)",Ya.strokeStyle="rgba(255,255,255,0.8)",[hc.horizontal,hc.vertical].forEach(function(kd){if(kd){var qd=kd.x,Gd=kd.y,He=kd.width;kd=kd.height;Ya.beginPath();Ya.moveTo(qd+3,Gd);Ya.lineTo(qd+He-3,Gd);Ya.quadraticCurveTo(qd+He,Gd,qd+He,Gd+3);Ya.lineTo(qd+He,Gd+kd-3);Ya.quadraticCurveTo(qd+He,Gd+kd,qd+He-3,Gd+kd);Ya.lineTo(qd+3,Gd+kd);Ya.quadraticCurveTo(qd,Gd+kd,qd,Gd+kd-3);Ya.lineTo(qd,Gd+3);Ya.quadraticCurveTo(qd,Gd,
qd+3,Gd);Ya.closePath();Ya.fill();Ya.stroke()}}),Ya.restore()),Ya.restore(),{atLeastOneVisibleElement:0<ua.length,scrollBars:hc}},Ej=function(v,D,T,A){Object.keys(T).forEach(function(ma){var sa=T[ma];void 0!==sa&&(v.save(),v.lineWidth=1/D.zoom.value,"rotation"===ma?on(v,sa[0]+sa[2]/2,sa[1]+sa[3]/2,sa[2]/2):Rm(v,sa[0],sa[1],sa[2],sa[3],sa[0]+sa[2]/2,sa[1]+sa[3]/2,A,!0),v.restore())})},Mn=function(v,D){var T=da(Vf(D),4),A=T[0],ma=T[1],sa=T[2]-A;T=T[3]-ma;var ha=Rh(D,sa,T);v.strokeStyle="rgba(0,0,0,.05)";
v.lineWidth=ha-4;ha=2+ha/2;switch(D.type){case "rectangle":case "text":Rm(v,A-ha,ma-ha,sa+2*ha,T+2*ha,A+sa/2,ma+T/2,D.angle);break;case "diamond":var ua=Math.hypot(sa,T);!function(za,Aa,Ha,Ua,Ya,ob){za.save();za.translate(Ua,Ya);za.rotate(ob);za.beginPath();za.moveTo(0,Ha/2);za.lineTo(Aa/2,0);za.lineTo(0,-Ha/2);za.lineTo(-Aa/2,0);za.closePath();za.stroke();za.restore()}(v,sa+ha*ua/T*2,T+ha*ua/sa*2,A+sa/2,ma+T/2,D.angle);break;case "ellipse":!function(za,Aa,Ha,Ua,Ya,ob){za.beginPath();za.ellipse(Ua,
Ya,Aa/2,Ha/2,ob,0,2*Math.PI);za.stroke()}(v,sa+2*ha,T+2*ha,A+sa/2,ma+T/2,D.angle)}},zq=function(v,D){var T=da(D,3),A=T[0];D=T[1];T=T[2];var ma=Rh(T,T.width,T.height);v.strokeStyle="rgba(0,0,0,0)";v.fillStyle="rgba(0,0,0,.05)";("both"===D?[0,-1]:"start"===D?[0]:[-1]).forEach(function(sa){sa=da(dd.getPointAtIndexGlobalCoordinates(A,sa),2);on(v,sa[0],sa[1],ma)})},Cj=function(v,D,T){var A=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},ma=A.offsetX,sa=void 0===ma?0:ma;A=A.offsetY;var ha=void 0===
A?0:A;T&&v.forEach(function(ua){if(!ua.isDeleted)try{Bf(ua,D,T,ua.x+sa,ua.y+ha)}catch(za){console.error(za)}})},nm=(()=>{if("undefined"==typeof self)return!1;if("top"in self&&self!==top)try{top.location}catch{}else if("showOpenFilePicker"in self)return"showOpenFilePicker";return!1})();const ho=nm?e.e(736).then(e.bind(e,6629)):e.e(736).then(e.bind(e,3112));nm?e.e(736).then(e.bind(e,5756)):e.e(736).then(e.bind(e,8396));const To=nm?e.e(736).then(e.bind(e,4868)):e.e(736).then(e.bind(e,6882));var mn=function(v){function D(){var A,
ma=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"Couldn't export canvas.",sa=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"CANVAS_ERROR";return k(this,D),(A=T.call(this)).name=sa,A.message=ma,A}L(D,v);var T=Ac(D);return D}(xc(Error)),yq=function(v){function D(){var A=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"Request Aborted";return k(this,D),T.call(this,A,"AbortError")}L(D,v);var T=Ac(D);return D}(xc(DOMException)),xq={jpg:"image/jpeg",png:"image/png",svg:"image/svg+xml",
json:"application/json",excalidraw:yc.LO.excalidraw,excalidrawlib:yc.LO.excalidrawlib},Bp=function(v){var D,T,A,ma=null===(D=v.extensions)||void 0===D?void 0:D.reduce(function(sa,ha){return sa.push(xq[ha]),sa},[]);D=null===(T=v.extensions)||void 0===T?void 0:T.reduce(function(sa,ha){return"jpg"===ha?sa.concat(".jpg",".jpeg"):sa.concat(".".concat(ha))},[]);return async function(...sa){return(await ho).default(...sa)}({description:v.description,extensions:D,mimeTypes:ma,multiple:null!==(A=v.multiple)&&
void 0!==A&&A,legacySetup:function(sa,ha,ua){var za=Sm(ha,500),Aa=function(){Ha();document.addEventListener(yc.Ks.KEYUP,za);document.addEventListener(yc.Ks.POINTER_UP,za);za()},Ha=function(){var Ya;null!==(Ya=ua.files)&&void 0!==Ya&&Ya.length&&(Ya=v.multiple?N(ua.files):ua.files[0],sa(Ya))};requestAnimationFrame(function(){window.addEventListener(yc.Ks.FOCUS,Aa)});var Ua=window.setInterval(function(){Ha()},500);return function(Ya){clearInterval(Ua);za.cancel();window.removeEventListener(yc.Ks.FOCUS,
Aa);document.removeEventListener(yc.Ks.KEYUP,za);document.removeEventListener(yc.Ks.POINTER_UP,za);Ya&&(console.warn("Opening the file was canceled (legacy-fs)."),Ya(new yq))}}})},go=function(v,D){return async function(...T){return(await To).default(...T)}(v,{fileName:"".concat(D.name,".").concat(D.extension),description:D.description,extensions:[".".concat(D.extension)]},D.fileHandle)},Fe={selection:!0,text:!0,rectangle:!0,diamond:!0,ellipse:!0,line:!0,arrow:!0,freedraw:!0},In=function(v,D){var T,
A,ma,sa,ha,ua,za,Aa,Ha,Ua,Ya,ob,Bb={type:D.type||v.type,version:v.version||1,versionNonce:null!==(T=v.versionNonce)&&void 0!==T?T:0,isDeleted:null!==(A=v.isDeleted)&&void 0!==A&&A,id:v.id||dk(),fillStyle:v.fillStyle||"hachure",strokeWidth:v.strokeWidth||1,strokeStyle:null!==(ma=v.strokeStyle)&&void 0!==ma?ma:"solid",roughness:null!==(sa=v.roughness)&&void 0!==sa?sa:1,opacity:null==v.opacity?100:v.opacity,angle:v.angle||0,x:null!==(ha=null!==(ua=D.x)&&void 0!==ua?ua:v.x)&&void 0!==ha?ha:0,y:null!==
(za=null!==(Aa=D.y)&&void 0!==Aa?Aa:v.y)&&void 0!==za?za:0,strokeColor:v.strokeColor,backgroundColor:v.backgroundColor,width:v.width||0,height:v.height||0,seed:null!==(Ha=v.seed)&&void 0!==Ha?Ha:1,groupIds:null!==(Ua=v.groupIds)&&void 0!==Ua?Ua:[],strokeSharpness:null!==(Ya=v.strokeSharpness)&&void 0!==Ya?Ya:oj(v.type)?"round":"sharp",boundElementIds:null!==(ob=v.boundElementIds)&&void 0!==ob?ob:[]};return Ud(Ud(Ud({},Bb),Rj(Bb)),D)},wq=function(v){var D;switch(v.type){case "text":var T=v.fontSize,
A=v.fontFamily;"font"in v&&(T=da(v.font.split(" "),2),A=T[1],T=parseInt(T[0],10),A=Object.keys(yc.ut).includes(A)?yc.ut[A]:yc.rk);return In(v,{fontSize:T,fontFamily:A,text:null!==(D=v.text)&&void 0!==D?D:"",baseline:v.baseline,textAlign:v.textAlign||yc.Hg,verticalAlign:v.verticalAlign||yc.hs});case "freedraw":return In(v,{points:v.points,lastCommittedPoint:null,simulatePressure:v.simulatePressure,pressures:v.pressures});case "line":case "draw":case "arrow":D=v.startArrowhead;D=void 0===D?null:D;T=
v.endArrowhead;T=void 0===T?"arrow"===v.type?"arrow":null:T;A=v.x;var ma=v.y,sa=!Array.isArray(v.points)||2>v.points.length?[[0,0],[v.width,v.height]]:v.points;if(0!==sa[0][0]||0!==sa[0][1])ma=dd.getNormalizedPoints(v),sa=ma.points,A=ma.x,ma=ma.y;return In(v,{type:"draw"===v.type?"line":v.type,startBinding:v.startBinding,endBinding:v.endBinding,lastCommittedPoint:null,startArrowhead:D,endArrowhead:T,points:sa,x:A,y:ma});case "ellipse":case "rectangle":case "diamond":return In(v,{})}},sl=function(v,
D){var T=D?al(D):null;return(v||[]).reduce(function(A,ma){if("selection"!==ma.type&&!Kj(ma)){var sa=wq(ma);sa&&((ma=null==T?void 0:T[ma.id])&&ma.version>sa.version&&(sa=vg(sa,ma.version)),A.push(sa))}return A},[])},Um=function(v,D){v=v||{};var T,A=Ij(),ma={},sa=Nc(Object.entries(A));try{for(sa.s();!(T=sa.n()).done;){var ha=da(T.value,2),ua=ha[0],za=ha[1],Aa=v[ua],Ha=D?D[ua]:void 0;ma[ua]=void 0!==Aa?Aa:void 0!==Ha?Ha:za}}catch(Ua){sa.e(Ua)}finally{sa.f()}return Ud(Ud({},ma),{},{elementType:Fe[ma.elementType]?
ma.elementType:"selection",zoom:"number"==typeof v.zoom?{value:v.zoom,translation:A.zoom.translation}:v.zoom||A.zoom})},Tm=function(v,D,T){return{elements:sl(null==v?void 0:v.elements,T),appState:Um(null==v?void 0:v.appState,D||null)}},ko=function(){var v=(0,ff.Z)(Yd().mark(function A(T){var ma;return Yd().wrap(function(sa){for(;;)switch(sa.prev=sa.next){case 0:if("image/png"!==T.type){sa.next=18;break}return sa.prev=1,sa.next=4,Promise.all([e.e(736),e.e(9)]).then(e.bind(e,8527));case 4:return sa.next=
6,sa.sent.decodePngMetadata(T);case 6:return sa.abrupt("return",sa.sent);case 9:if(sa.prev=9,sa.t0=sa.catch(1),"INVALID"!==sa.t0.message){sa.next=15;break}throw Error(Wb("alerts.imageDoesNotContainScene"));case 15:throw Error(Wb("alerts.cannotRestoreFromImage"));case 16:sa.next=43;break;case 18:if(!("text"in Blob)){sa.next=24;break}return sa.next=21,T.text();case 21:ma=sa.sent;sa.next=27;break;case 24:return sa.next=26,new Promise(function(ha){var ua=new FileReader;ua.readAsText(T,"utf8");ua.onloadend=
function(){ua.readyState===FileReader.DONE&&ha(ua.result)}});case 26:ma=sa.sent;case 27:if("image/svg+xml"!==T.type){sa.next=43;break}return sa.prev=28,sa.next=31,Promise.all([e.e(736),e.e(9)]).then(e.bind(e,8527));case 31:return sa.next=33,sa.sent.decodeSvgMetadata({svg:ma});case 33:return sa.abrupt("return",sa.sent);case 36:if(sa.prev=36,sa.t1=sa.catch(28),"INVALID"!==sa.t1.message){sa.next=42;break}throw Error(Wb("alerts.imageDoesNotContainScene"));case 42:throw Error(Wb("alerts.cannotRestoreFromImage"));
case 43:return sa.abrupt("return",ma);case 44:case "end":return sa.stop()}},A,null,[[1,9],[28,36]])}));return function(T){return v.apply(this,arguments)}}(),Fp=function(v){var D;return v&&(null===(D=v.name.match(/\.(json|excalidraw|png|svg)$/))||void 0===D?void 0:D[1])||null},Yo=function(v){v=Fp(v);return"png"===v||"svg"===v},vl=function(){var v=(0,ff.Z)(Yd().mark(function sa(T,A,ma){var ha,ua,za;return Yd().wrap(function(Aa){for(;;)switch(Aa.prev=Aa.next){case 0:return Aa.next=2,ko(T);case 2:ha=
Aa.sent;Aa.prev=3;var Ha=ua=JSON.parse(ha);if((null==Ha?void 0:Ha.type)===yc.r8.excalidraw&&(!Ha.elements||Array.isArray(Ha.elements)&&(!Ha.appState||"object"===F(Ha.appState)))){Aa.next=7;break}throw Error(Wb("alerts.couldNotLoadInvalidFile"));case 7:return za=Tm({elements:Ml(ua.elements||[]),appState:fe(fe({theme:null==A?void 0:A.theme,fileHandle:T.handle||null},fk(ua.appState||{},"export")),A?Fg(ua.elements||[],A):{})},A,ma),Aa.abrupt("return",za);case 11:throw Aa.prev=11,Aa.t0=Aa.catch(3),console.error(Aa.t0.message),
Error(Wb("alerts.couldNotLoadInvalidFile"));case 15:case "end":return Aa.stop()}},sa,null,[[3,11]])}));return function(T,A,ma){return v.apply(this,arguments)}}(),jo=function(){var v=(0,ff.Z)(Yd().mark(function A(T){var ma,sa;return Yd().wrap(function(ha){for(;;)switch(ha.prev=ha.next){case 0:return ha.next=2,ko(T);case 2:if(ma=ha.sent,(sa=JSON.parse(ma)).type===yc.r8.excalidrawLibrary){ha.next=6;break}throw Error(Wb("alerts.couldNotLoadInvalidFile"));case 6:return ha.abrupt("return",sa);case 7:case "end":return ha.stop()}},
A)}));return function(T){return v.apply(this,arguments)}}(),Dp=function(){var v=(0,ff.Z)(Yd().mark(function A(T){return Yd().wrap(function(ma){for(;;)switch(ma.prev=ma.next){case 0:return ma.abrupt("return",new Promise(function(sa,ha){try{T.toBlob(function(ua){if(!ua)return ha(new mn(Wb("canvasError.canvasTooBig"),"CANVAS_POSSIBLY_TOO_BIG"));sa(ua)})}catch(ua){ha(ua)}}));case 1:case "end":return ma.stop()}},A)}));return function(T){return v.apply(this,arguments)}}(),Jn=function(v,D){v={type:yc.r8.excalidraw,
version:2,source:yc.pb,elements:Ml(v),appState:fk(D,"export")};return JSON.stringify(v,null,2)},Em=function(){var v=(0,ff.Z)(Yd().mark(function ma(T,A){var sa,ha,ua;return Yd().wrap(function(za){for(;;)switch(za.prev=za.next){case 0:return sa=Jn(T,A),ha=new Blob([sa],{type:yc.LO.excalidraw}),za.next=4,go(ha,{name:A.name,extension:"excalidraw",description:"Excalidraw file",fileHandle:Yo(A.fileHandle)?null:A.fileHandle});case 4:return ua=za.sent,za.abrupt("return",{fileHandle:ua});case 6:case "end":return za.stop()}},
ma)}));return function(T,A){return v.apply(this,arguments)}}(),Cp=function(){var v=(0,ff.Z)(Yd().mark(function ma(T,A){var sa;return Yd().wrap(function(ha){for(;;)switch(ha.prev=ha.next){case 0:return ha.next=2,Bp({description:"Excalidraw files"});case 2:return sa=ha.sent,ha.abrupt("return",vl(sa,T,A));case 4:case "end":return ha.stop()}},ma)}));return function(T,A){return v.apply(this,arguments)}}(),Xo=function(){var v=(0,ff.Z)(Yd().mark(function A(T){var ma,sa,ha;return Yd().wrap(function(ua){for(;;)switch(ua.prev=
ua.next){case 0:return ua.next=2,T.loadLibrary();case 2:return ma=ua.sent,sa={type:yc.r8.excalidrawLibrary,version:1,source:yc.pb,library:ma},ha=JSON.stringify(sa,null,2),ua.next=7,go(new Blob([ha],{type:yc.LO.excalidrawlib}),{name:"library",extension:"excalidrawlib",description:"Excalidraw library file"});case 7:case "end":return ua.stop()}},A)}));return function(T){return v.apply(this,arguments)}}(),Ep=function(){var v=(0,ff.Z)(Yd().mark(function A(T){var ma;return Yd().wrap(function(sa){for(;;)switch(sa.prev=
sa.next){case 0:return sa.next=2,Bp({description:"Excalidraw library files"});case 2:return ma=sa.sent,sa.next=5,T.importLibrary(ma);case 5:case "end":return sa.stop()}},A)}));return function(T){return v.apply(this,arguments)}}(),Aq=function(v,D,T){var A=T.exportBackground,ma=T.exportPadding;ma=void 0===ma?yc.qy:ma;var sa=T.viewBackgroundColor,ha=3<arguments.length&&void 0!==arguments[3]?arguments[3]:function(Ha,Ua){var Ya=document.createElement("canvas");return Ya.width=Ha*D.exportScale,Ya.height=
Ua*D.exportScale,{canvas:Ya,scale:D.exportScale}},ua=zp(v,ma),za=da(ua,4);ua=za[0];var Aa=za[1];za=ha(za[2],za[3]);ha=za.canvas;za=za.scale;return Si(v,D,null,void 0===za?1:za,Bj.canvas(ha),ha,{viewBackgroundColor:A?sa:null,exportWithDarkMode:D.exportWithDarkMode,scrollX:-ua+ma,scrollY:-Aa+ma,zoom:Ij().zoom,remotePointerViewportCoords:{},remoteSelectedElementIds:{},shouldCacheIgnoreZoom:!1,remotePointerUsernames:{},remotePointerUserStates:{}},{renderScrollbars:!1,renderSelection:!1,renderOptimizations:!1,
renderGrid:!1}),ha},Ap=function(){var v=(0,ff.Z)(Yd().mark(function ma(T,A){var sa,ha,ua,za,Aa,Ha,Ua,Ya,ob,Bb,Rb,hc,mc,Tc,Xc,Pc;return Yd().wrap(function(Zc){for(;;)switch(Zc.prev=Zc.next){case 0:if(sa=A.exportPadding,ha=void 0===sa?yc.qy:sa,ua=A.viewBackgroundColor,za=A.exportScale,Aa=void 0===za?1:za,Ha=A.exportEmbedScene,Ua="",!Ha){Zc.next=14;break}return Zc.prev=3,Zc.next=6,Promise.all([e.e(736),e.e(9)]).then(e.bind(e,8527));case 6:return Zc.next=8,Zc.sent.encodeSvgMetadata({text:Jn(T,A)});case 8:Ua=
Zc.sent;Zc.next=14;break;case 11:Zc.prev=11,Zc.t0=Zc.catch(3),console.error(Zc.t0);case 14:return Ya=zp(T,ha),ob=da(Ya,4),Bb=ob[0],Rb=ob[1],hc=ob[2],mc=ob[3],(Tc=document.createElementNS("http://www.w3.org/2000/svg","svg")).setAttribute("version","1.1"),Tc.setAttribute("xmlns","http://www.w3.org/2000/svg"),Tc.setAttribute("viewBox","0 0 ".concat(hc," ").concat(mc)),Tc.setAttribute("width","".concat(hc*Aa)),Tc.setAttribute("height","".concat(mc*Aa)),A.exportWithDarkMode&&Tc.setAttribute("filter",yc.ZF),
Tc.innerHTML="\n  ".concat("\x3c!-- svg-source:excalidraw --\x3e","\n  ").concat(Ua,'\n  \x3cdefs\x3e\n    \x3cstyle\x3e\n      @font-face {\n        font-family: "Virgil";\n        src: url("https://excalidraw.com/Virgil.woff2");\n      }\n      @font-face {\n        font-family: "Cascadia";\n        src: url("https://excalidraw.com/Cascadia.woff2");\n      }\n    \x3c/style\x3e\n  \x3c/defs\x3e\n  '),A.exportBackground&&ua&&((Xc=Tc.ownerDocument.createElementNS("http://www.w3.org/2000/svg","rect")).setAttribute("x",
"0"),Xc.setAttribute("y","0"),Xc.setAttribute("width","".concat(hc)),Xc.setAttribute("height","".concat(mc)),Xc.setAttribute("fill",ua),Tc.appendChild(Xc)),Pc=Bj.svg(Tc),Cj(T,Pc,Tc,{offsetX:-Bb+ha,offsetY:-Rb+ha}),Zc.abrupt("return",Tc);case 27:case "end":return Zc.stop()}},ma,null,[[3,11]])}));return function(T,A){return v.apply(this,arguments)}}(),zp=function(v,D){v=da(Bg(v),4);var T=v[0],A=v[1];return[T,A,Math.abs(T-v[2])+2*D,Math.abs(A-v[3])+D+D]},So=function(v){return(v=/^[$â‚¬Â£Â¥â‚©]?([0-9,]+(\.[0-9]+)?)$/.exec(v))?
parseFloat(v[1].replace(/,/g,"")):null},vq=function(v,D){return v.slice(1).every(function(T){return null!==So(T[D])})},or=function(v){var D=v[0].length;if(2<D)return{type:"NOT_SPREADSHEET",reason:"More than 2 columns"};if(1===D){if(!vq(v,0))return{type:"NOT_SPREADSHEET",reason:"Value is not numeric"};D=null===So(v[0][0]);var T=(D?v.slice(1):v).map(function(sa){return So(sa[0])});return 2>T.length?{type:"NOT_SPREADSHEET",reason:"Less than two rows"}:{type:"VALID_SPREADSHEET",spreadsheet:{title:D?v[0][0]:
null,labels:null,values:T}}}var A=vq(v,0)?0:1;if(!vq(v,A))return{type:"NOT_SPREADSHEET",reason:"Value is not numeric"};var ma=(A+1)%2;T=(D=null===So(v[0][A]))?v.slice(1):v;return 2>T.length?{type:"NOT_SPREADSHEET",reason:"Less than 2 rows"}:{type:"VALID_SPREADSHEET",spreadsheet:{title:D?v[0][A]:null,labels:T.map(function(sa){return sa[ma]}),values:T.map(function(sa){return So(sa[A])})}}},pn=ri.elementBackground.slice(2,ri.elementBackground.length),Yl={fillStyle:"hachure",fontFamily:yc.rk,fontSize:yc.n5,
opacity:100,roughness:1,strokeColor:ri.elementStroke[0],strokeSharpness:"sharp",strokeStyle:"solid",strokeWidth:1,verticalAlign:"middle"},$o=function(v){return{chartWidth:44*v.values.length+12,chartHeight:280}},H=function(v,D,T,A,ma,sa){var ha=$o(v),ua=ha.chartWidth,za=ha.chartHeight;ha=v.title?Eg(fa(fa({backgroundColor:ma,groupIds:[A]},Yl),{},{text:v.title,x:D+ua/2,y:T-256-24-yc.n5,strokeSharpness:"sharp",strokeStyle:"solid",textAlign:"center"})):null;sa=sa?xf(fa(fa({backgroundColor:ma,groupIds:[A]},
Yl),{},{type:"rectangle",x:D,y:T-za,width:ua,height:za,strokeColor:ri.elementStroke[0],fillStyle:"solid",opacity:6})):null;return[].concat(N(sa?[sa]:[]),N(ha?[ha]:[]),N(function(Aa,Ha,Ua,Ya,ob){var Bb;return(null===(Bb=Aa.labels)||void 0===Bb?void 0:Bb.map(function(Rb,hc){return Eg(fa(fa({groupIds:[Ya],backgroundColor:ob},Yl),{},{text:8<Rb.length?"".concat(Rb.slice(0,5),"..."):Rb,x:Ha+44*hc+24,y:Ua+6,width:32,angle:5.87,fontSize:16,textAlign:"center",verticalAlign:"top"}))}))||[]}(v,D,T,A,ma)),N(function(Aa,
Ha,Ua,Ya,ob){var Bb=Eg(fa(fa({groupIds:[Ya],backgroundColor:ob},Yl),{},{x:Ha-12,y:Ua-12,text:"0",textAlign:"right"}));return[Bb,Eg(fa(fa({groupIds:[Ya],backgroundColor:ob},Yl),{},{x:Ha-12,y:Ua-256-Bb.height/2,text:Math.max.apply(Math,N(Aa.values)).toLocaleString(),textAlign:"right"}))]}(v,D,T,A,ma)),N(function(Aa,Ha,Ua,Ya,ob){var Bb=$o(Aa);Aa=Bb.chartWidth;Bb=Bb.chartHeight;return[Pg(fa(fa({backgroundColor:ob,groupIds:[Ya]},Yl),{},{type:"line",x:Ha,y:Ua,startArrowhead:null,endArrowhead:null,width:Aa,
points:[[0,0],[Aa,0]]})),Pg(fa(fa({backgroundColor:ob,groupIds:[Ya]},Yl),{},{type:"line",x:Ha,y:Ua,startArrowhead:null,endArrowhead:null,height:Bb,points:[[0,0],[0,-Bb]]})),Pg(fa(fa({backgroundColor:ob,groupIds:[Ya]},Yl),{},{type:"line",x:Ha,y:Ua-256-12,startArrowhead:null,endArrowhead:null,strokeStyle:"dotted",width:Aa,opacity:50,points:[[0,0],[Aa,0]]}))]}(v,D,T,A,ma)))},W=function(v,D,T,A){return"line"===v?function(ma,sa,ha){var ua,za=Math.max.apply(Math,N(ma.values)),Aa=dk(),Ha=pn[Math.floor(Math.random()*
pn.length)],Ua=0,Ya=[],ob=kg(ma.values);try{for(ob.s();!(ua=ob.n()).done;)Ya.push([44*Ua,-ua.value/za*256]),Ua++}catch(Rb){ob.e(Rb)}finally{ob.f()}ua=Math.max.apply(Math,N(Ya.map(function(Rb){return Rb[0]})));Ua=Math.max.apply(Math,N(Ya.map(function(Rb){return Rb[1]})));ob=Math.min.apply(Math,N(Ya.map(function(Rb){return Rb[0]})));var Bb=Math.min.apply(Math,N(Ya.map(function(Rb){return Rb[1]})));Ya=Pg(fa(fa({backgroundColor:Ha,groupIds:[Aa]},Yl),{},{type:"line",x:sa+12+16,y:ha-12,startArrowhead:null,
endArrowhead:null,height:Ua-Bb,width:ua-ob,strokeWidth:2,points:Ya}));ua=ma.values.map(function(Rb,hc){hc=44*hc+6;Rb=-Rb/za*256+6;return xf(fa(fa({backgroundColor:Ha,groupIds:[Aa]},Yl),{},{fillStyle:"solid",strokeWidth:2,type:"ellipse",x:sa+hc+16,y:ha+Rb-24,width:12,height:12}))});Ua=ma.values.map(function(Rb,hc){hc=44*hc+6;Rb=Rb/za*256+18;return Pg(fa(fa({backgroundColor:Ha,groupIds:[Aa]},Yl),{},{type:"line",x:sa+hc+16+6,y:ha-Rb,startArrowhead:null,endArrowhead:null,height:Rb,strokeStyle:"dotted",
opacity:50,points:[[0,0],[0,Rb]]}))});return[].concat(N(H(ma,sa,ha,Aa,Ha,"production"===yc.Vi.DEVELOPMENT)),[Ya],N(Ua),N(ua))}(D,T,A):function(ma,sa,ha){var ua=Math.max.apply(Math,N(ma.values)),za=dk(),Aa=pn[Math.floor(Math.random()*pn.length)],Ha=ma.values.map(function(Ua,Ya){Ua=Ua/ua*256;return xf(fa(fa({backgroundColor:Aa,groupIds:[za]},Yl),{},{type:"rectangle",x:sa+44*Ya+12,y:ha-Ua-12,width:32,height:Ua}))});return[].concat(N(Ha),N(H(ma,sa,ha,za,Aa,"production"===yc.Vi.DEVELOPMENT)))}(D,T,A)},
pa="",Ka=!1,bb="clipboard"in navigator&&"readText"in navigator.clipboard,vb="clipboard"in navigator&&"writeText"in navigator.clipboard,Mb="clipboard"in navigator&&"write"in navigator.clipboard&&"ClipboardItem"in window&&"toBlob"in HTMLCanvasElement.prototype,fc=function(){var v=(0,ff.Z)(Yd().mark(function ma(T,A){var sa,ha;return Yd().wrap(function(ua){for(;;)switch(ua.prev=ua.next){case 0:return sa={type:yc.r8.excalidrawClipboard,elements:Sf(T,A)},ha=JSON.stringify(sa),pa=ha,ua.prev=3,Ka=!1,ua.next=
7,We(ha);case 7:ua.next=13;break;case 9:ua.prev=9,ua.t0=ua.catch(3),Ka=!0,console.error(ua.t0);case 13:case "end":return ua.stop()}},ma,null,[[3,9]])}));return function(T,A){return v.apply(this,arguments)}}(),Ec=function(){if(!pa)return{};try{return JSON.parse(pa)}catch(v){return console.error(v),{}}},nd=function(v){v=function(D){var T=D.trim().split("\n").map(function(ma){return ma.trim().split("\t")});if(T.length&&2!==T[0].length&&(T=D.trim().split("\n").map(function(ma){return ma.trim().split(",")})),
0===T.length)return{type:"NOT_SPREADSHEET",reason:"No values"};var A=T[0].length;if(!T.every(function(ma){return ma.length===A}))return{type:"NOT_SPREADSHEET",reason:"All rows don't have same number of columns"};D=or(T);return"VALID_SPREADSHEET"!==D.type&&(T=or(function(ma){for(var sa=[],ha=0;ha<ma[0].length;ha++){for(var ua=[],za=0;za<ma.length;za++)ua.push(ma[za][ha]);sa.push(ua)}return sa}(T)),"VALID_SPREADSHEET"===T.type)?T:D}(v);return"VALID_SPREADSHEET"===v.type?{spreadsheet:v.spreadsheet}:
null},De=function(){var v=(0,ff.Z)(Yd().mark(function A(T){var ma,sa;return Yd().wrap(function(ha){for(;;)switch(ha.prev=ha.next){case 0:if(ha.prev=0,!T){ha.next=5;break}ha.t0=null===(ma=T.clipboardData)||void 0===ma?void 0:ma.getData("text/plain").trim();ha.next=11;break;case 5:if(ha.t1=bb,!ha.t1){ha.next=10;break}return ha.next=9,navigator.clipboard.readText();case 9:ha.t1=ha.sent;case 10:ha.t0=ha.t1;case 11:return sa=ha.t0,ha.abrupt("return",sa||"");case 15:return ha.prev=15,ha.t2=ha.catch(0),
ha.abrupt("return","");case 18:case "end":return ha.stop()}},A,null,[[0,15]])}));return function(T){return v.apply(this,arguments)}}(),Nf=function(){var v=(0,ff.Z)(Yd().mark(function A(T){var ma,sa,ha,ua;return Yd().wrap(function(za){for(;;)switch(za.prev=za.next){case 0:return za.next=2,De(T);case 2:if((ma=za.sent)&&!ma.includes("\x3c!-- svg-source:excalidraw --\x3e")){za.next=5;break}return za.abrupt("return",Ec());case 5:if(!(sa=nd(ma))){za.next=8;break}return za.abrupt("return",sa);case 8:if(ha=
Ec(),za.prev=9,ua=JSON.parse(ma),Aa=ua,![yc.r8.excalidraw,yc.r8.excalidrawClipboard].includes(null==Aa?void 0:Aa.type)||!Array.isArray(Aa.elements)){za.next=13;break}return za.abrupt("return",{elements:ua.elements});case 13:return za.abrupt("return",ha);case 16:return za.prev=16,za.t0=za.catch(9),za.abrupt("return",Ka&&ha.elements?ha:{text:ma});case 19:case "end":return za.stop()}var Aa},A,null,[[9,16]])}));return function(T){return v.apply(this,arguments)}}(),Pd=function(){var v=(0,ff.Z)(Yd().mark(function A(T){return Yd().wrap(function(ma){for(;;)switch(ma.prev=
ma.next){case 0:return ma.next=2,navigator.clipboard.write([new window.ClipboardItem({"image/png":T})]);case 2:case "end":return ma.stop()}},A)}));return function(T){return v.apply(this,arguments)}}(),We=function(){var v=(0,ff.Z)(Yd().mark(function A(T){var ma;return Yd().wrap(function(sa){for(;;)switch(sa.prev=sa.next){case 0:if(ma=!1,!vb){sa.next=11;break}return sa.prev=2,sa.next=5,navigator.clipboard.writeText(T||"");case 5:ma=!0;sa.next=11;break;case 8:sa.prev=8,sa.t0=sa.catch(2),console.error(sa.t0);
case 11:var ha;if(!(ha=ma)){var ua=T||" ",za="rtl"===document.documentElement.getAttribute("dir");ha=document.createElement("textarea");ha.style.border="0";ha.style.padding="0";ha.style.margin="0";ha.style.position="absolute";ha.style[za?"right":"left"]="-9999px";ha.style.top="".concat(window.pageYOffset||document.documentElement.scrollTop,"px");ha.style.fontSize="12pt";ha.setAttribute("readonly","");ha.value=ua;document.body.appendChild(ha);ua=!1;try{ha.select(),ha.setSelectionRange(0,ha.value.length),
ua=document.execCommand("copy")}catch(Aa){console.error(Aa)}ha=(ha.remove(),ua)}if(ha){sa.next=13;break}throw Error("couldn't copy");case 13:case "end":return sa.stop()}},A,null,[[2,8]])}));return function(T){return v.apply(this,arguments)}}(),uf=function(){var v=(0,ff.Z)(Yd().mark(function ha(T,A,ma,sa){var ua,za,Aa,Ha,Ua,Ya,ob,Bb,Rb,hc;return Yd().wrap(function(mc){for(;;)switch(mc.prev=mc.next){case 0:if(ua=sa.exportBackground,za=sa.exportPadding,Aa=void 0===za?yc.qy:za,Ha=sa.viewBackgroundColor,
Ua=sa.name,Ya=sa.fileHandle,ob=void 0===Ya?null:Ya,0!==A.length){mc.next=3;break}throw Error(Wb("alerts.cannotExportEmptyCanvas"));case 3:if("svg"!==T&&"clipboard-svg"!==T){mc.next=17;break}return mc.next=6,Ap(A,{exportBackground:ua,exportWithDarkMode:ma.exportWithDarkMode,viewBackgroundColor:Ha,exportPadding:Aa,exportScale:ma.exportScale,exportEmbedScene:ma.exportEmbedScene&&"svg"===T});case 6:if(Bb=mc.sent,"svg"!==T){mc.next=13;break}return mc.next=10,go(new Blob([Bb.outerHTML],{type:"image/svg+xml"}),
{name:Ua,extension:"svg",fileHandle:ob});case 10:return mc.abrupt("return",mc.sent);case 13:if("clipboard-svg"!==T){mc.next=17;break}return mc.next=16,We(Bb.outerHTML);case 16:return mc.abrupt("return");case 17:return(Rb=Aq(A,ma,{exportBackground:ua,viewBackgroundColor:Ha,exportPadding:Aa})).style.display="none",document.body.appendChild(Rb),mc.next=22,Dp(Rb);case 22:if(hc=mc.sent,Rb.remove(),"png"!==T){mc.next=36;break}if(!ma.exportEmbedScene){mc.next=31;break}return mc.next=28,Promise.all([e.e(736),
e.e(9)]).then(e.bind(e,8527));case 28:return mc.next=30,mc.sent.encodePngMetadata({blob:hc,metadata:Jn(A,ma)});case 30:hc=mc.sent;case 31:return mc.next=33,go(hc,{name:Ua,extension:"png",fileHandle:ob});case 33:return mc.abrupt("return",mc.sent);case 36:if("clipboard"!==T){mc.next=47;break}return mc.prev=37,mc.next=40,Pd(hc);case 40:mc.next=47;break;case 42:if(mc.prev=42,mc.t0=mc.catch(37),"CANVAS_POSSIBLY_TOO_BIG"!==mc.t0.name){mc.next=46;break}throw mc.t0;case 46:throw Error(Wb("alerts.couldNotCopyToClipboard"));
case 47:case "end":return mc.stop()}},ha,null,[[37,42]])}));return function(T,A,ma,sa){return v.apply(this,arguments)}}(),vf=function(){var v=(0,ff.Z)(Yd().mark(function ma(T,A){var sa,ha,ua,za,Aa,Ha;return Yd().wrap(function(Ua){for(;;)switch(Ua.prev=Ua.next){case 0:if(ha=(sa=A).exportBackground,ua=sa.viewBackgroundColor,za=sa.name,Aa=sa.fileHandle,Ha=Fp(Aa),Aa&&("png"===(Ya=Ha)||"svg"===Ya)){Ua.next=4;break}throw Error("fileHandle should exist and should be of type svg or png when resaving");case 4:return A=
wa(wa({},A),{},{exportEmbedScene:!0}),Ua.next=7,uf(Ha,oe(T),A,{exportBackground:ha,viewBackgroundColor:ua,name:za,fileHandle:Aa});case 7:return Ua.abrupt("return",{fileHandle:Aa});case 8:case "end":return Ua.stop()}var Ya},ma)}));return function(T,A){return v.apply(this,arguments)}}(),Wc=(e(7225),function(v){var D=v.children,T=v.checked,A=v.onChange;return(0,Ra.jsxs)("div",{className:Dc("Checkbox",{"is-checked":T}),onClick:function(ma){A(!T);ma.currentTarget.querySelector(".Checkbox-box").focus()},
children:[(0,Ra.jsx)("button",{className:"Checkbox-box",role:"checkbox","aria-checked":T,children:Jb}),(0,Ra.jsx)("div",{className:"Checkbox-label",children:D})]})});e(4623);var Gc=function(v){var D=v.children,T=v.gap,A=v.align,ma=v.justifyContent,sa=v.style;return(0,Ra.jsx)("div",{className:Dc("Stack Stack_horizontal",v.className),style:jb({"--gap":T,alignItems:A,justifyContent:ma},sa),children:D})},Sc=function(v){var D=v.children,T=v.gap,A=v.align,ma=v.justifyContent;return(0,Ra.jsx)("div",{className:Dc("Stack Stack_vertical",
v.className),style:{"--gap":T,justifyItems:A,justifyContent:ma},children:D})},Hd=(e(554),function(v){var D=v.onSave;return(0,Ra.jsxs)(Gc,{className:"ActiveFile",gap:1,align:"center",children:[(0,Ra.jsxs)("span",{className:"ActiveFile__fileName",children:[hm,(0,Ra.jsx)("span",{children:v.fileName})]}),(0,Ra.jsx)(Ga,{type:"icon",icon:Bc,title:Wb("buttons.save"),"aria-label":Wb("buttons.save"),onClick:D,"data-testid":"save-button"})]})});we({name:"changeProjectName",perform:function(v,D,T){return Lh("change",
"title"),{appState:Xb(Xb({},D),{},{name:T}),commitToHistory:!1}},PanelComponent:function(v){var D=v.appState,T=v.updateData;v=v.appProps;return(0,Ra.jsx)(Jk,{label:Wb("labels.fileTitle"),value:D.name||"Unnamed",onChange:function(A){return T(A)},isNameEditable:void 0===v.name&&!D.viewModeEnabled})}});we({name:"changeExportScale",perform:function(v,D,T){return{appState:Xb(Xb({},D),{},{exportScale:T}),commitToHistory:!1}},PanelComponent:function(v){var D=v.appState,T=v.updateData;v=oe(v.elements);var A=
vh(v,D)?Sf(v,D):v;return(0,Ra.jsx)(Ra.Fragment,{children:yc.ZB.map(function(ma){var sa=function(ua,za,Aa){ua=da(zp(ua,za).map(function(Ha){return Math.trunc(Ha*Aa)}),4);return[ua[2],ua[3]]}(A,yc.qy,ma),ha=da(sa,2);sa=ha[0];ha=ha[1];sa="".concat(Wb("buttons.scale")," ").concat(ma,"x (").concat(sa,"x").concat(ha,")");return(0,Ra.jsx)(Ga,{size:"small",type:"radio",icon:"".concat(ma,"x"),name:"export-canvas-scale",title:sa,"aria-label":sa,id:"export-canvas-scale",checked:ma===D.exportScale,onChange:function(){return T(ma)}},
ma)})})}});we({name:"changeExportBackground",perform:function(v,D,T){return{appState:Xb(Xb({},D),{},{exportBackground:T}),commitToHistory:!1}},PanelComponent:function(v){var D=v.updateData;return(0,Ra.jsx)(Wc,{checked:v.appState.exportBackground,onChange:function(T){return D(T)},children:Wb("labels.withBackground")})}});we({name:"changeExportEmbedScene",perform:function(v,D,T){return{appState:Xb(Xb({},D),{},{exportEmbedScene:T}),commitToHistory:!1}},PanelComponent:function(v){var D=v.updateData;return(0,Ra.jsxs)(Wc,
{checked:v.appState.exportEmbedScene,onChange:function(T){return D(T)},children:[Wb("labels.exportEmbedScene"),(0,Ra.jsx)(wf,{label:Wb("labels.exportEmbedScene_details"),long:!0,children:(0,Ra.jsx)("div",{className:"excalidraw-tooltip-icon",children:bg})})]})}});we({name:"saveToActiveFile",perform:(Ld=(0,ff.Z)(Yd().mark(function ma(D,T,A){var sa,ha,ua;return Yd().wrap(function(za){for(;;)switch(za.prev=za.next){case 0:if(sa=!!T.fileHandle,za.prev=1,!Yo(T.fileHandle)){za.next=8;break}return za.next=
5,vf(D,T);case 5:za.t0=za.sent;za.next=11;break;case 8:return za.next=10,Em(D,T);case 10:za.t0=za.sent;case 11:return ha=za.t0,ua=ha.fileHandle,za.abrupt("return",{commitToHistory:!1,appState:Xb(Xb({},T),{},{fileHandle:ua,toastMessage:sa?null!=ua&&ua.name?Wb("toast.fileSavedToFilename").replace("{filename}",'"'.concat(ua.name,'"')):Wb("toast.fileSaved"):null})});case 16:return za.prev=16,za.t1=za.catch(1),"AbortError"!==(null===za.t1||void 0===za.t1?void 0:za.t1.name)&&console.error(za.t1),za.abrupt("return",
{commitToHistory:!1});case 20:case "end":return za.stop()}},ma,null,[[1,16]])})),function(D,T,A){return Ld.apply(this,arguments)}),keyTest:function(D){return"s"===D.key&&D[Af]&&!D.shiftKey},PanelComponent:function(D){var T,A=D.updateData;return(0,Ra.jsx)(Hd,{onSave:function(){return A(null)},fileName:null===(T=D.appState.fileHandle)||void 0===T?void 0:T.name})}});var Ld,Qf,Oe,Rf=we({name:"saveFileToDisk",perform:(Qf=(0,ff.Z)(Yd().mark(function sa(T,A,ma){var ha,ua;return Yd().wrap(function(za){for(;;)switch(za.prev=
za.next){case 0:return za.prev=0,za.next=3,Em(T,Xb(Xb({},A),{},{fileHandle:null}));case 3:return ha=za.sent,ua=ha.fileHandle,za.abrupt("return",{commitToHistory:!1,appState:Xb(Xb({},A),{},{fileHandle:ua})});case 8:return za.prev=8,za.t0=za.catch(0),"AbortError"!==(null===za.t0||void 0===za.t0?void 0:za.t0.name)&&console.error(za.t0),za.abrupt("return",{commitToHistory:!1});case 12:case "end":return za.stop()}},sa,null,[[0,8]])})),function(T,A,ma){return Qf.apply(this,arguments)}),keyTest:function(T){return"s"===
T.key&&T.shiftKey&&T[Af]},PanelComponent:function(T){var A=T.updateData;return(0,Ra.jsx)(Ga,{type:"button",icon:Cc,title:Wb("buttons.saveAs"),"aria-label":Wb("buttons.saveAs"),showAriaLabel:om(),hidden:!nm,onClick:function(){return A(null)},"data-testid":"save-as-button"})}});we({name:"loadScene",perform:(Oe=(0,ff.Z)(Yd().mark(function sa(A,ma){var ha,ua,za;return Yd().wrap(function(Aa){for(;;)switch(Aa.prev=Aa.next){case 0:return Aa.prev=0,Aa.next=3,Cp(ma,A);case 3:return ha=Aa.sent,ua=ha.elements,
za=ha.appState,Aa.abrupt("return",{elements:ua,appState:za,commitToHistory:!0});case 9:if(Aa.prev=9,Aa.t0=Aa.catch(0),"AbortError"!==(null===Aa.t0||void 0===Aa.t0?void 0:Aa.t0.name)){Aa.next=13;break}return Aa.abrupt("return",!1);case 13:return Aa.abrupt("return",{elements:A,appState:Xb(Xb({},ma),{},{errorMessage:Aa.t0.message}),commitToHistory:!1});case 14:case "end":return Aa.stop()}},sa,null,[[0,9]])})),function(A,ma){return Oe.apply(this,arguments)}),keyTest:function(A){return A[Af]&&"o"===A.key},
PanelComponent:function(A){var ma=A.updateData;A.appState;return(0,Ra.jsx)(Ga,{type:"button",icon:pc,title:Wb("buttons.load"),"aria-label":Wb("buttons.load"),showAriaLabel:om(),onClick:ma,"data-testid":"load-button"})}});we({name:"exportWithDarkMode",perform:function(A,ma,sa){return{appState:Xb(Xb({},ma),{},{exportWithDarkMode:sa}),commitToHistory:!1}},PanelComponent:function(A){var ma=A.updateData;return(0,Ra.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"-45px",marginBottom:"10px"},
children:(0,Ra.jsx)(zd,{value:A.appState.exportWithDarkMode?"dark":"light",onChange:function(sa){ma("dark"===sa)},title:Wb("labels.toggleExportColorScheme")})})}});var pg="{}",Zf=we({name:"copyStyles",perform:function(A,ma){A=A.find(function(sa){return ma.selectedElementIds[sa.id]});return A&&(pg=JSON.stringify(A)),{appState:gd(gd({},ma),{},{toastMessage:Wb("toast.copyStyles")}),commitToHistory:!1}},contextItemLabel:"labels.copyStyles",keyTest:function(A){return A[Af]&&A.altKey&&"KeyC"===A.code}}),
jn=we({name:"pasteStyles",perform:function(A,ma){var sa=JSON.parse(pg);return"text"!==(null==sa?void 0:sa.type)&&"diamond"!==(null==sa?void 0:sa.type)&&"rectangle"!==(null==sa?void 0:sa.type)&&"ellipse"!==(null==sa?void 0:sa.type)&&"arrow"!==(null==sa?void 0:sa.type)&&"freedraw"!==(null==sa?void 0:sa.type)&&"line"!==(null==sa?void 0:sa.type)?{elements:A,commitToHistory:!1}:{elements:A.map(function(ha){return ma.selectedElementIds[ha.id]?(ha=cf(ha,{backgroundColor:null==sa?void 0:sa.backgroundColor,
strokeWidth:null==sa?void 0:sa.strokeWidth,strokeColor:null==sa?void 0:sa.strokeColor,strokeStyle:null==sa?void 0:sa.strokeStyle,fillStyle:null==sa?void 0:sa.fillStyle,opacity:null==sa?void 0:sa.opacity,roughness:null==sa?void 0:sa.roughness}),Xg(ha)&&(ke(ha,{fontSize:(null==sa?void 0:sa.fontSize)||yc.n5,fontFamily:(null==sa?void 0:sa.fontFamily)||yc.rk,textAlign:(null==sa?void 0:sa.textAlign)||yc.Hg}),Lj(ha)),ha):ha}),commitToHistory:!0}},contextItemLabel:"labels.pasteStyles",keyTest:function(A){return A[Af]&&
A.altKey&&"KeyV"===A.code}}),js=function(A){return(0,Ra.jsx)("button",{className:"help-icon",onClick:A.onClick,type:"button",title:"".concat(A.title," â€” ?"),"aria-label":A.title,children:bg})};we({name:"toggleCanvasMenu",perform:function(A,ma){return{appState:ve(ve({},ma),{},{openMenu:"canvas"===ma.openMenu?null:"canvas"}),commitToHistory:!1}},PanelComponent:function(A){var ma=A.appState;A=A.updateData;return(0,Ra.jsx)(Ga,{type:"button",icon:Ke,"aria-label":Wb("buttons.menu"),onClick:A,selected:"canvas"===
ma.openMenu})}});we({name:"toggleEditMenu",perform:function(A,ma){return{appState:ve(ve({},ma),{},{openMenu:"shape"===ma.openMenu?null:"shape"}),commitToHistory:!1}},PanelComponent:function(A){var ma=A.appState,sa=A.updateData;return(0,Ra.jsx)(Ga,{visible:wh(ma,oe(A.elements)),type:"button",icon:df,"aria-label":Wb("buttons.edit"),onClick:sa,selected:"shape"===ma.openMenu})}});we({name:"toggleFullScreen",perform:function(){return Ul()||document.documentElement.requestFullscreen(),Ul()&&document.exitFullscreen(),
{commitToHistory:!1}},keyTest:function(A){return"KeyF"===A.code&&!A[Af]}});we({name:"toggleShortcuts",perform:function(A,ma,sa,ha){A=ha.focusContainer;return ma.showHelpDialog&&A(),{appState:ve(ve({},ma),{},{showHelpDialog:!ma.showHelpDialog}),commitToHistory:!1}},PanelComponent:function(A){A=A.updateData;return(0,Ra.jsx)(js,{title:Wb("helpDialog.title"),onClick:A})},keyTest:function(A){return"?"===A.key}});var Ct=function(A,ma){A=Sf(oe(A),ma);return 2<=A.length&&!function(sa){if(2<=sa.length){var ha,
ua=je(sa[0].groupIds);try{var za=function(){var Ha=ha.value;if(sa.reduce(function(Ua,Ya){return Ua&&Ya.groupIds.includes(Ha)},!0))return{v:!0}};for(ua.s();!(ha=ua.n()).done;){var Aa=za();if("object"===F(Aa))return Aa.v}}catch(Ha){ua.e(Ha)}finally{ua.f()}}return!1}(A)},Dt=we({name:"group",perform:function(A,ma){var sa=Sf(oe(A),ma);if(2>sa.length)return{appState:ma,elements:A,commitToHistory:!1};var ha=vi(ma);if(1===ha.length&&(ha=new Set(li(A,ha[0]).map(function(Aa){return Aa.id})),sa=new Set(sa.map(function(Aa){return Aa.id})),
(new Set([].concat(N(Array.from(ha)),N(Array.from(sa))))).size===ha.size))return{appState:ma,elements:A,commitToHistory:!1};var ua=dk();ha=A.map(function(Aa){if(ma.selectedElementIds[Aa.id]){var Ha=ma.editingGroupId;var Ua=N(Aa.groupIds);Ha=Ha?Ua.indexOf(Ha):-1;Ua=(Ua.splice(-1<Ha?Ha:Ua.length,0,ua),Ua);Aa=cf(Aa,{groupIds:Ua})}return Aa});A=li(ha,ua);var za=ha.lastIndexOf(A[A.length-1]);sa=ha.slice(za+1);ha=ha.slice(0,za).filter(function(Aa){return!Aa.groupIds.includes(ua)});A=[].concat(N(ha),N(A),
N(sa));return{appState:Pf(ua,ge(ge({},ma),{},{selectedGroupIds:{}}),oe(A)),elements:A,commitToHistory:!0}},contextItemLabel:"labels.group",contextItemPredicate:function(A,ma){return Ct(A,ma)},keyTest:function(A){return!A.shiftKey&&A[Af]&&"KeyG"===A.code},PanelComponent:function(A){var ma=A.elements,sa=A.appState,ha=A.updateData;return(0,Ra.jsx)(Ga,{hidden:!Ct(ma,sa),type:"button",icon:(0,Ra.jsx)(Yi,{theme:sa.theme}),onClick:function(){return ha(null)},title:"".concat(Wb("labels.group")," â€” ").concat(Vd("CtrlOrCmd+G")),
"aria-label":Wb("labels.group"),visible:vh(oe(ma),sa)})}}),Bt=we({name:"ungroup",perform:function(A,ma){if(0===vi(ma).length)return{appState:ma,elements:A,commitToHistory:!1};A=A.map(function(sa){var ha=function(ua,za){return ua.filter(function(Aa){return!za[Aa]})}(sa.groupIds,ma.selectedGroupIds);return ha.length===sa.groupIds.length?sa:cf(sa,{groupIds:ha})});return{appState:Me(ge(ge({},ma),{},{selectedGroupIds:{}}),oe(A)),elements:A,commitToHistory:!0}},keyTest:function(A){return A.shiftKey&&A[Af]&&
"KeyG"===A.code},contextItemLabel:"labels.ungroup",contextItemPredicate:function(A,ma){return 0<vi(ma).length},PanelComponent:function(A){var ma=A.elements,sa=A.appState,ha=A.updateData;return(0,Ra.jsx)(Ga,{type:"button",hidden:0===vi(sa).length,icon:(0,Ra.jsx)(wj,{theme:sa.theme}),onClick:function(){return ha(null)},title:"".concat(Wb("labels.ungroup")," â€” ").concat(Vd("CtrlOrCmd+Shift+G")),"aria-label":Wb("labels.ungroup"),visible:vh(oe(ma),sa)})}}),Cv=(e(2789),function(A){var ma=A.children,sa=
A.onClick;return(0,Ra.jsx)("div",{className:"Avatar",style:{background:A.color,border:"1px solid ".concat(A.border)},onClick:sa,children:ma})});we({name:"goToCollaborator",perform:function(A,ma,sa){return sa?{appState:Kg(Kg(Kg({},ma),Be({scenePoint:sa,viewportDimensions:{width:ma.width,height:ma.height},zoom:ma.zoom})),{},{openMenu:"canvas"===ma.openMenu?null:ma.openMenu}),commitToHistory:!1}:{appState:ma,commitToHistory:!1}},PanelComponent:function(A){var ma=A.appState,sa=A.updateData;A=A.data;A=
null==A?void 0:A.id;if(!A)return null;var ha=ma.collaborators.get(A);if(!ha)return null;A=Dm(A,ma);ma=A.background;A=A.stroke;var ua=function(za){if(!za)return"?";za=za.trim().split(" ");return 2>za.length?za[0].substring(0,2).toUpperCase():(za[0][0]+za[za.length-1][0]).toUpperCase()}(ha.username);return(0,Ra.jsx)(Cv,{color:ma,border:A,onClick:function(){return sa(ha.pointer)},children:ua})}});var Dv=we({name:"addToLibrary",perform:function(A,ma,sa,ha){var ua=Sf(oe(A),ma);return ha.library.loadLibrary().then(function(za){ha.library.saveLibrary([].concat(N(za),
[ua.map(Wf)]))}),!1},contextItemLabel:"labels.addToLibrary"}),Av=function(A){var ma=new Map;return A.forEach(function(sa){var ha=0===sa.groupIds.length?sa.id:sa.groupIds[sa.groupIds.length-1],ua=ma.get(ha)||[];ma.set(ha,[].concat(N(ua),[sa]))}),Array.from(ma.values())},Bv=function(A,ma,sa){var ha=sa.axis;sa=sa.position;A=At(A);var ua=da("x"===ha?["minX","maxX"]:["minY","maxY"],2),za=ua[0];ua=ua[1];return Vh(Vh({},{x:0,y:0}),{},U({},ha,"start"===sa?ma[za]-A[za]:"end"===sa?ma[ua]-A[ua]:(ma[za]+ma[ua])/
2-(A[za]+A[ua])/2))},At=function(A){A=da(Bg(A),4);return{minX:A[0],minY:A[1],maxX:A[2],maxY:A[3]}},Np=function(A,ma){return 1<Sf(oe(A),ma).length},Up=function(A,ma,sa){ma=function(ua,za){var Aa=Av(ua),Ha=At(ua);return Aa.flatMap(function(Ua){var Ya=Bv(Ua,Ha,za);return Ua.map(function(ob){return cf(ob,{x:ob.x+Ya.x,y:ob.y+Ya.y})})})}(Sf(oe(A),ma),sa);var ha=al(ma);return A.map(function(ua){return ha[ua.id]||ua})};we({name:"alignTop",perform:function(A,ma){return{appState:ma,elements:Up(A,ma,{position:"start",
axis:"y"}),commitToHistory:!0}},keyTest:function(A){return A[Af]&&A.shiftKey&&"ArrowUp"===A.key},PanelComponent:function(A){var ma=A.elements,sa=A.appState,ha=A.updateData;return(0,Ra.jsx)(Ga,{hidden:!Np(ma,sa),type:"button",icon:(0,Ra.jsx)(Kk,{theme:sa.theme}),onClick:function(){return ha(null)},title:"".concat(Wb("labels.alignTop")," â€” ").concat(Vd("CtrlOrCmd+Shift+Up")),"aria-label":Wb("labels.alignTop"),visible:vh(oe(ma),sa)})}});we({name:"alignBottom",perform:function(A,ma){return{appState:ma,
elements:Up(A,ma,{position:"end",axis:"y"}),commitToHistory:!0}},keyTest:function(A){return A[Af]&&A.shiftKey&&"ArrowDown"===A.key},PanelComponent:function(A){var ma=A.elements,sa=A.appState,ha=A.updateData;return(0,Ra.jsx)(Ga,{hidden:!Np(ma,sa),type:"button",icon:(0,Ra.jsx)(wl,{theme:sa.theme}),onClick:function(){return ha(null)},title:"".concat(Wb("labels.alignBottom")," â€” ").concat(Vd("CtrlOrCmd+Shift+Down")),"aria-label":Wb("labels.alignBottom"),visible:vh(oe(ma),sa)})}});we({name:"alignLeft",
perform:function(A,ma){return{appState:ma,elements:Up(A,ma,{position:"start",axis:"x"}),commitToHistory:!0}},keyTest:function(A){return A[Af]&&A.shiftKey&&"ArrowLeft"===A.key},PanelComponent:function(A){var ma=A.elements,sa=A.appState,ha=A.updateData;return(0,Ra.jsx)(Ga,{hidden:!Np(ma,sa),type:"button",icon:(0,Ra.jsx)(Wo,{theme:sa.theme}),onClick:function(){return ha(null)},title:"".concat(Wb("labels.alignLeft")," â€” ").concat(Vd("CtrlOrCmd+Shift+Left")),"aria-label":Wb("labels.alignLeft"),visible:vh(oe(ma),
sa)})}});we({name:"alignRight",perform:function(A,ma){return{appState:ma,elements:Up(A,ma,{position:"end",axis:"x"}),commitToHistory:!0}},keyTest:function(A){return A[Af]&&A.shiftKey&&"ArrowRight"===A.key},PanelComponent:function(A){var ma=A.elements,sa=A.appState,ha=A.updateData;return(0,Ra.jsx)(Ga,{hidden:!Np(ma,sa),type:"button",icon:(0,Ra.jsx)(Fm,{theme:sa.theme}),onClick:function(){return ha(null)},title:"".concat(Wb("labels.alignRight")," â€” ").concat(Vd("CtrlOrCmd+Shift+Right")),"aria-label":Wb("labels.alignRight"),
visible:vh(oe(ma),sa)})}});we({name:"alignVerticallyCentered",perform:function(A,ma){return{appState:ma,elements:Up(A,ma,{position:"center",axis:"y"}),commitToHistory:!0}},PanelComponent:function(A){var ma=A.elements,sa=A.appState,ha=A.updateData;return(0,Ra.jsx)(Ga,{hidden:!Np(ma,sa),type:"button",icon:(0,Ra.jsx)(kj,{theme:sa.theme}),onClick:function(){return ha(null)},title:Wb("labels.centerVertically"),"aria-label":Wb("labels.centerVertically"),visible:vh(oe(ma),sa)})}});we({name:"alignHorizontallyCentered",
perform:function(A,ma){return{appState:ma,elements:Up(A,ma,{position:"center",axis:"x"}),commitToHistory:!0}},PanelComponent:function(A){var ma=A.elements,sa=A.appState,ha=A.updateData;return(0,Ra.jsx)(Ga,{hidden:!Np(ma,sa),type:"button",icon:(0,Ra.jsx)(xn,{theme:sa.theme}),onClick:function(){return ha(null)},title:Wb("labels.centerHorizontally"),"aria-label":Wb("labels.centerHorizontally"),visible:vh(oe(ma),sa)})}});var Ev=function(A){var ma=new Map;return A.forEach(function(sa){var ha=0===sa.groupIds.length?
sa.id:sa.groupIds[sa.groupIds.length-1],ua=ma.get(ha)||[];ma.set(ha,[].concat(N(ua),[sa]))}),Array.from(ma.values())},Ht=function(A){var ma=da(Bg(A),4);A=ma[0];var sa=ma[1],ha=ma[2];ma=ma[3];return{minX:A,minY:sa,maxX:ha,maxY:ma,width:ha-A,height:ma-sa,midX:(A+ha)/2,midY:(sa+ma)/2}},It=function(A,ma){return 1<Sf(oe(A),ma).length},Jt=function(A,ma,sa){ma=function(ua,za){var Aa,Ha=da("x"===za.axis?["minX","midX","maxX","width"]:["minY","midY","maxY","height"],4),Ua=Ha[0],Ya=Ha[1],ob=Ha[2],Bb=Ha[3],
Rb=Ht(ua);ua=Ev(ua).map(function(Xd){return[Xd,Ht(Xd)]}).sort(function(Xd,kd){return Xd[1][Ya]-kd[1][Ya]});Ha=0;var hc=Lg(ua);try{for(hc.s();!(Aa=hc.n()).done;)Ha+=Aa.value[1][Bb]}catch(Xd){hc.e(Xd)}finally{hc.f()}var mc=(Rb[Bb]-Ha)/(ua.length-1);if(0>mc){var Tc=ua.findIndex(function(Xd){return Xd[1][Ua]===Rb[Ua]}),Xc=ua.findIndex(function(Xd){return Xd[1][ob]===Rb[ob]}),Pc=(ua[Xc][1][Ya]-ua[Tc][1][Ya])/(ua.length-1),Zc=ua[Tc][1][Ya];return ua.flatMap(function(Xd,kd){var qd=da(Xd,2);Xd=qd[0];qd=qd[1];
var Gd={x:0,y:0};return kd!==Tc&&kd!==Xc&&(Zc+=Pc,Gd[za.axis]=Zc-qd[Ya]),Xd.map(function(He){return cf(He,{x:He.x+Gd.x,y:He.y+Gd.y})})})}var Bd=Rb[Ua];return ua.flatMap(function(Xd){var kd=da(Xd,2);Xd=kd[0];kd=kd[1];var qd={x:0,y:0};return qd[za.axis]=Bd-kd[Ua],Bd+=mc,Bd+=kd[Bb],Xd.map(function(Gd){return cf(Gd,{x:Gd.x+qd.x,y:Gd.y+qd.y})})})}(Sf(oe(A),ma),sa);var ha=al(ma);return A.map(function(ua){return ha[ua.id]||ua})},Kt=(we({name:"distributeHorizontally",perform:function(A,ma){return{appState:ma,
elements:Jt(A,ma,{space:"between",axis:"x"}),commitToHistory:!0}},keyTest:function(A){return A.altKey&&"KeyH"===A.code},PanelComponent:function(A){var ma=A.elements,sa=A.appState,ha=A.updateData;return(0,Ra.jsx)(Ga,{hidden:!It(ma,sa),type:"button",icon:(0,Ra.jsx)(Cf,{theme:sa.theme}),onClick:function(){return ha(null)},title:"".concat(Wb("labels.distributeHorizontally")," â€” ").concat(Vd("Alt+H")),"aria-label":Wb("labels.distributeHorizontally"),visible:vh(oe(ma),sa)})}}),we({name:"distributeVertically",
perform:function(A,ma){return{appState:ma,elements:Jt(A,ma,{space:"between",axis:"y"}),commitToHistory:!0}},keyTest:function(A){return A.altKey&&"KeyV"===A.code},PanelComponent:function(A){var ma=A.elements,sa=A.appState,ha=A.updateData;return(0,Ra.jsx)(Ga,{hidden:!It(ma,sa),type:"button",icon:(0,Ra.jsx)(Nn,{theme:sa.theme}),onClick:function(){return ha(null)},title:"".concat(Wb("labels.distributeVertically")," â€” ").concat(Vd("Alt+V")),"aria-label":Wb("labels.distributeVertically"),visible:vh(oe(ma),
sa)})}}),we({name:"flipHorizontal",perform:function(A,ma){return{elements:Mt(A,ma,"horizontal"),appState:ma,commitToHistory:!0}},keyTest:function(A){return A.shiftKey&&"KeyH"===A.code},contextItemLabel:"labels.flipHorizontal",contextItemPredicate:function(A,ma){A=Sf(oe(A),ma);return 1===A.length&&"text"!==A[0].type}})),Lt=we({name:"flipVertical",perform:function(A,ma){return{elements:Mt(A,ma,"vertical"),appState:ma,commitToHistory:!0}},keyTest:function(A){return A.shiftKey&&"KeyV"===A.code},contextItemLabel:"labels.flipVertical",
contextItemPredicate:function(A,ma){return 1===Sf(oe(A),ma).length}}),Mt=function(A,ma,sa){var ha=Sf(oe(A),ma);if(1<ha.length)return A;ma=Fv(ha,ma,sa);var ua=al(ma);return A.map(function(za){return ua[za.id]||za})},Fv=function(A,ma,sa){for(var ha=0;ha<A.length;ha++)if(Gv(A[ha],ma),"vertical"===sa){var ua=A[ha],za=ua.x,Aa=ua.y,Ha=ee(ua.angle+Math.PI);0>Ha&&(Ha=ee(2*Math.PI+Ha));ke(ua,{angle:Ha});ke(ua,{x:za,y:Aa})}return A},Gv=function(A,ma){var sa=A.x,ha=A.y,ua=A.width,za=A.height,Aa=ee(A.angle),
Ha=0;(Dg(A)||ki(A))&&(Ha=2*A.points.reduce(function(Bb,Rb){return Math.max(Bb,Rb[0])},0)-A.width);ke(A,{angle:ee(0)});ma=Tk(A,ma.zoom);var Ua=!0,Ya=0,ob=ma.nw;if(ob||(Ua=!1,ob=ma.ne)){if(Dg(A)){for(ua=1;ua<A.points.length;ua++)dd.movePoint(A,ua,[-A.points[ua][0],A.points[ua][1]]);dd.normalizePoints(A)}else Ya=Ua?A.x+2*ua:A.x-2*ua,Fi(A,!0,A,Ua?"nw":"ne",!1,Ya,ob[1]),ke(A,{width:ua,height:za});Aa=ee(2*Math.PI-Aa);0>Aa&&(Aa=ee(Aa+2*Math.PI));ke(A,{angle:Aa});ke(A,{x:sa+Ha,y:ha});Di(A)}else ke(A,{angle:Aa})},
ts=we({name:"copy",perform:function(A,ma){return fc(oe(A),ma),{commitToHistory:!1}},contextItemLabel:"labels.copy",keyTest:void 0}),Hv=we({name:"cut",perform:function(A,ma,sa,ha){return ts.perform(A,ma,sa,ha),hn.perform(A,ma,sa,ha)},contextItemLabel:"labels.cut",keyTest:function(A){return A[Af]&&"KeyX"===A.code}}),Nt=we({name:"copyAsSvg",perform:function(){var A=(0,ff.Z)(Yd().mark(function Aa(sa,ha,ua,za){var Ha;return Yd().wrap(function(Ua){for(;;)switch(Ua.prev=Ua.next){case 0:if(za.canvas){Ua.next=
2;break}return Ua.abrupt("return",{commitToHistory:!1});case 2:return Ha=Sf(oe(sa),ha),Ua.prev=3,Ua.next=6,uf("clipboard-svg",Ha.length?Ha:oe(sa),ha,ha);case 6:return Ua.abrupt("return",{commitToHistory:!1});case 9:return Ua.prev=9,Ua.t0=Ua.catch(3),console.error(Ua.t0),Ua.abrupt("return",{appState:Id(Id({},ha),{},{errorMessage:Ua.t0.message}),commitToHistory:!1});case 13:case "end":return Ua.stop()}},Aa,null,[[3,9]])}));return function(sa,ha,ua,za){return A.apply(this,arguments)}}(),contextItemLabel:"labels.copyAsSvg"}),
Ot=we({name:"copyAsPng",perform:function(){var A=(0,ff.Z)(Yd().mark(function Aa(sa,ha,ua,za){var Ha;return Yd().wrap(function(Ua){for(;;)switch(Ua.prev=Ua.next){case 0:if(za.canvas){Ua.next=2;break}return Ua.abrupt("return",{commitToHistory:!1});case 2:return Ha=Sf(oe(sa),ha),Ua.prev=3,Ua.next=6,uf("clipboard",Ha.length?Ha:oe(sa),ha,ha);case 6:return Ua.abrupt("return",{appState:Id(Id({},ha),{},{toastMessage:Wb("toast.copyToClipboardAsPng",{exportSelection:Ha.length?Wb("toast.selection"):Wb("toast.canvas"),
exportColorScheme:ha.exportWithDarkMode?Wb("buttons.darkMode"):Wb("buttons.lightMode")})}),commitToHistory:!1});case 9:return Ua.prev=9,Ua.t0=Ua.catch(3),console.error(Ua.t0),Ua.abrupt("return",{appState:Id(Id({},ha),{},{errorMessage:Ua.t0.message}),commitToHistory:!1});case 13:case "end":return Ua.stop()}},Aa,null,[[3,9]])}));return function(sa,ha,ua,za){return A.apply(this,arguments)}}(),contextItemLabel:"labels.copyAsPng",keyTest:function(A){return"KeyC"===A.code&&A.altKey&&A.shiftKey}}),Pt=we({name:"gridMode",
perform:function(A,ma){return Lh("view","mode","grid"),{appState:oi(oi({},ma),{},{gridSize:this.checked(ma)?null:yc.k}),commitToHistory:!1}},checked:function(A){return null!==A.gridSize},contextItemLabel:"labels.showGrid",keyTest:function(A){return A[Af]&&"Quote"===A.code}}),ss=we({name:"zenMode",perform:function(A,ma){return Lh("view","mode","zen"),{appState:Ni(Ni({},ma),{},{zenModeEnabled:!this.checked(ma)}),commitToHistory:!1}},checked:function(A){return A.zenModeEnabled},contextItemLabel:"buttons.zenMode",
keyTest:function(A){return!A[Af]&&A.altKey&&"KeyZ"===A.code}}),rs=we({name:"stats",perform:function(A,ma){return{appState:Ck(Ck({},ma),{},{showStats:!this.checked(ma)}),commitToHistory:!1}},checked:function(A){return A.showStats},contextItemLabel:"stats.title",keyTest:function(A){return!A[Af]&&A.altKey&&"Slash"===A.code}}),vt=function(A,ma,sa){if(!(ma.multiElement||ma.resizingElement||ma.editingElement||ma.draggingElement)){sa=sa();if(null===sa)return{commitToHistory:!1};var ha=al(A),ua=sa.elements,
za=al(ua);A=A.filter(function(Aa){return!za.hasOwnProperty(Aa.id)});ua=ua.map(function(Aa){return cf(ha[Aa.id]||Aa,Aa)}).concat(A.map(function(Aa){return cf(Aa,{isDeleted:!0})}));return Ll(ua,A),{elements:ua,appState:xh(xh({},ma),sa.appState),commitToHistory:!1,syncHistory:!0}}return{commitToHistory:!1}},vv=function(){function A(ma,sa,ha,ua){var za=this;k(this,A);this.actions={};this.renderAction=function(Aa,Ha){var Ua=za.app.props.UIOptions.canvasActions;if(za.actions[Aa]&&"PanelComponent"in za.actions[Aa]&&
(!(Aa in Ua)||Ua[Aa])){var Ya=za.actions[Aa];return(0,Ra.jsx)(Ya.PanelComponent,{elements:za.getElementsIncludingDeleted(),appState:za.getAppState(),updateData:function(ob){za.updater(Ya.perform(za.getElementsIncludingDeleted(),za.getAppState(),ob,za.app))},appProps:za.app.props,data:Ha})}return null};this.updater=function(Aa){if(!(Aa&&"then"in Aa))return ma(Aa);Aa.then(function(Ha){return ma(Ha)})};this.getAppState=sa;this.getElementsIncludingDeleted=ha;this.app=ua}return z(A,[{key:"registerAction",
value:function(ma){this.actions[ma.name]=ma}},{key:"registerAll",value:function(ma){var sa=this;ma.forEach(function(ha){return sa.registerAction(ha)})}},{key:"handleKeyDown",value:function(ma){var sa=this,ha=this.app.props.UIOptions.canvasActions,ua=Object.values(this.actions).sort(function(za,Aa){return(Aa.keyPriority||0)-(za.keyPriority||0)}).filter(function(za){return(!(za.name in ha)||ha[za.name])&&za.keyTest&&za.keyTest(ma,sa.getAppState(),sa.getElementsIncludingDeleted())});return 0!==ua.length&&
!(this.getAppState().viewModeEnabled&&!Object.values(yc.EH).includes(ua[0].name))&&(ma.preventDefault(),this.updater(ua[0].perform(this.getElementsIncludingDeleted(),this.getAppState(),null,this.app)),!0)}},{key:"executeAction",value:function(ma){this.updater(ma.perform(this.getElementsIncludingDeleted(),this.getAppState(),null,this.app))}}]),A}(),zv=function(){function A(sa){var ha=this;k(this,A);this.libraryCache=null;this.resetLibrary=(0,ff.Z)(Yd().mark(function za(){var Aa,Ha;return Yd().wrap(function(Ua){for(;;)switch(Ua.prev=
Ua.next){case 0:return Ua.next=2,null===(Aa=(Ha=ha.app.props).onLibraryChange)||void 0===Aa?void 0:Aa.call(Ha,[]);case 2:ha.libraryCache=[];case 3:case "end":return Ua.stop()}},za)}));this.restoreLibraryItem=function(za){za=oe(sl(za,null));return za.length?za:null};this.loadLibrary=function(){return new Promise(function(){var za=(0,ff.Z)(Yd().mark(function Ua(Ha){var Ya,ob;return Yd().wrap(function(Bb){for(;;)switch(Bb.prev=Bb.next){case 0:if(!ha.libraryCache){Bb.next=2;break}return Bb.abrupt("return",
Ha(JSON.parse(JSON.stringify(ha.libraryCache))));case 2:if(Bb.prev=2,Ya=ha.app.libraryItemsFromStorage){Bb.next=6;break}return Bb.abrupt("return",Ha([]));case 6:ob=Ya.reduce(function(Rb,hc){return ha.restoreLibraryItem(hc)&&Rb.push(hc),Rb},[]);ha.libraryCache=JSON.parse(JSON.stringify(ob));Ha(ob);Bb.next=15;break;case 11:Bb.prev=11,Bb.t0=Bb.catch(2),console.error(Bb.t0),Ha([]);case 15:case "end":return Bb.stop()}},Ua,null,[[2,11]])}));return function(Ha){return za.apply(this,arguments)}}())};this.saveLibrary=
function(){var za=(0,ff.Z)(Yd().mark(function Ua(Ha){var Ya,ob,Bb,Rb;return Yd().wrap(function(hc){for(;;)switch(hc.prev=hc.next){case 0:return Ya=ha.libraryCache,hc.prev=1,Rb=JSON.stringify(Ha),ha.libraryCache=JSON.parse(Rb),hc.next=6,null===(ob=(Bb=ha.app.props).onLibraryChange)||void 0===ob?void 0:ob.call(Bb,Ha);case 6:hc.next=12;break;case 8:throw hc.prev=8,hc.t0=hc.catch(1),ha.libraryCache=Ya,hc.t0;case 12:case "end":return hc.stop()}},Ua,null,[[1,8]])}));return function(Ha){return za.apply(this,
arguments)}}();this.app=sa}var ma;return z(A,[{key:"importLibrary",value:(ma=(0,ff.Z)(Yd().mark(function ua(ha){var za,Aa,Ha,Ua,Ya=this;return Yd().wrap(function(ob){for(;;)switch(ob.prev=ob.next){case 0:return ob.next=2,jo(ha);case 2:if((za=ob.sent)&&za.library){ob.next=5;break}return ob.abrupt("return");case 5:return Aa=function(Bb,Rb){return!Bb.find(function(hc){return hc.length===Rb.length&&hc.every(function(mc,Tc){return mc.id===Rb[Tc].id&&mc.versionNonce===Rb[Tc].versionNonce})})},ob.next=8,
this.loadLibrary();case 8:return Ha=ob.sent,Ua=za.library.reduce(function(Bb,Rb){Rb=Ya.restoreLibraryItem(Rb);return Rb&&Aa(Ha,Rb)&&Bb.push(Rb),Bb},[]),ob.next=12,this.saveLibrary([].concat(N(Ha),N(Ua)));case 12:case "end":return ob.stop()}},ua,this)})),function(ha){return ma.apply(this,arguments)})}]),A}(),yt=function(A){A=Array.from(A.values());return{x:Ft(A,function(ma){return ma.x})/A.length,y:Ft(A,function(ma){return ma.y})/A.length}},zt=function(A){var ma=da(A,2);A=ma[0];ma=ma[1];return Math.hypot(A.x-
ma.x,A.y-ma.y)},Ft=function(A,ma){return A.reduce(function(sa,ha){return sa+ma(ha)},0)},wv=function(){function A(){var ma=this;k(this,A);this.elementCache=new Map;this.recording=!0;this.stateHistory=[];this.redoStack=[];this.lastEntry=null;this.generateEntry=function(sa,ha){return ma.dehydrateHistoryEntry({appState:{selectedElementIds:sa.selectedElementIds,selectedGroupIds:sa.selectedGroupIds,viewBackgroundColor:sa.viewBackgroundColor,editingLinearElement:sa.editingLinearElement,editingGroupId:sa.editingGroupId,
name:sa.name},elements:ha.reduce(function(ua,za){if(Dg(za)&&sa.multiElement&&sa.multiElement.id===za.id){if(sa.multiElement&&sa.multiElement.id===za.id&&2>za.points.length)return ua;ua.push(Ol(Ol({},za),{},{points:za.lastCommittedPoint!==za.points[za.points.length-1]?za.points.slice(0,-1):za.points}))}else ua.push(za);return ua},[])})}}return z(A,[{key:"hydrateHistoryEntry",value:function(ma){var sa=this,ha=ma.elements;return{appState:JSON.parse(ma.appState),elements:ha.map(function(ua){var za,Aa=
null===(za=sa.elementCache.get(ua.id))||void 0===za?void 0:za.get(ua.versionNonce);if(!Aa)throw Error("Element not found: ".concat(ua.id,":").concat(ua.versionNonce));return Aa})}}},{key:"dehydrateHistoryEntry",value:function(ma){var sa=this,ha=ma.elements;return{appState:JSON.stringify(ma.appState),elements:ha.map(function(ua){sa.elementCache.has(ua.id)||sa.elementCache.set(ua.id,new Map);var za=sa.elementCache.get(ua.id);return za.has(ua.versionNonce)||za.set(ua.versionNonce,Wf(ua)),{id:ua.id,versionNonce:ua.versionNonce}})}}},
{key:"getSnapshotForTest",value:function(){var ma=this;return{recording:this.recording,stateHistory:this.stateHistory.map(function(sa){return ma.hydrateHistoryEntry(sa)}),redoStack:this.redoStack.map(function(sa){return ma.hydrateHistoryEntry(sa)})}}},{key:"clear",value:function(){this.stateHistory.length=0;this.redoStack.length=0;this.lastEntry=null;this.elementCache.clear()}},{key:"shouldCreateEntry",value:function(ma){var sa,ha=this.lastEntry;if(!ha||ma.elements.length!==ha.elements.length)return!0;
for(var ua=ma.elements.length-1;-1<ua;ua--){var za=ma.elements[ua],Aa=ha.elements[ua];if(!za||!Aa||za.id!==Aa.id||za.versionNonce!==Aa.versionNonce)return!0}for(sa in ma.appState){var Ha,Ua;if(("editingLinearElement"!==sa||(null===(Ha=ma.appState[sa])||void 0===Ha?void 0:Ha.elementId)!==(null===(Ua=ha.appState[sa])||void 0===Ua?void 0:Ua.elementId))&&"selectedElementIds"!==sa&&"selectedGroupIds"!==sa&&ma.appState[sa]!==ha.appState[sa])return!0}return!1}},{key:"pushEntry",value:function(ma,sa){ma=
this.generateEntry(ma,sa);(sa=this.hydrateHistoryEntry(ma))&&this.shouldCreateEntry(sa)&&(this.stateHistory.push(ma),this.lastEntry=sa,this.clearRedoStack())}},{key:"clearRedoStack",value:function(){this.redoStack.splice(0,this.redoStack.length)}},{key:"redoOnce",value:function(){if(0===this.redoStack.length)return null;var ma=this.redoStack.pop();return void 0!==ma?(this.stateHistory.push(ma),this.hydrateHistoryEntry(ma)):null}},{key:"undoOnce",value:function(){if(1===this.stateHistory.length)return null;
var ma=this.stateHistory.pop(),sa=this.stateHistory[this.stateHistory.length-1];return void 0!==ma?(this.redoStack.push(ma),this.hydrateHistoryEntry(sa)):null}},{key:"setCurrentState",value:function(ma,sa){this.lastEntry=this.hydrateHistoryEntry(this.generateEntry(ma,sa))}},{key:"resumeRecording",value:function(){this.recording=!0}},{key:"record",value:function(ma,sa){this.recording&&(this.pushEntry(ma,sa),this.recording=!1)}}]),A}(),xt=[{icon:(0,Ra.jsx)("svg",{viewBox:"0 0 320 512",className:"",
children:(0,Ra.jsx)("path",{d:"M302.189 329.126H196.105l55.831 135.993c3.889 9.428-.555 19.999-9.444 23.999l-49.165 21.427c-9.165 4-19.443-.571-23.332-9.714l-53.053-129.136-86.664 89.138C18.729 472.71 0 463.554 0 447.977V18.299C0 1.899 19.921-6.096 30.277 5.443l284.412 292.542c11.472 11.179 3.007 31.141-12.5 31.141z"})}),value:"selection",key:"v"},{icon:(0,Ra.jsx)("svg",{viewBox:"0 0 448 512",children:(0,Ra.jsx)("path",{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"})}),
value:"rectangle",key:"r"},{icon:(0,Ra.jsx)("svg",{viewBox:"0 0 223.646 223.646",children:(0,Ra.jsx)("path",{d:"M111.823 0L16.622 111.823 111.823 223.646 207.025 111.823z"})}),value:"diamond",key:"d"},{icon:(0,Ra.jsx)("svg",{viewBox:"0 0 512 512",children:(0,Ra.jsx)("path",{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"})}),value:"ellipse",key:"e"},{icon:(0,Ra.jsx)("svg",{viewBox:"0 0 448 512",className:"rtl-mirror",children:(0,Ra.jsx)("path",{d:"M313.941 216H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12h301.941v46.059c0 21.382 25.851 32.09 40.971 16.971l86.059-86.059c9.373-9.373 9.373-24.569 0-33.941l-86.059-86.059c-15.119-15.119-40.971-4.411-40.971 16.971V216z"})}),
value:"arrow",key:"a"},{icon:(0,Ra.jsx)("svg",{viewBox:"0 0 6 6",children:(0,Ra.jsx)("line",{x1:"0",y1:"3",x2:"6",y2:"3",stroke:"currentColor",strokeLinecap:"round"})}),value:"line",key:["p","l"]},{icon:(0,Ra.jsx)("svg",{viewBox:"0 0 512 512",children:(0,Ra.jsx)("path",{fill:"currentColor",d:"M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"})}),
value:"freedraw",key:"x"},{icon:(0,Ra.jsx)("svg",{viewBox:"0 0 448 512",children:(0,Ra.jsx)("path",{d:"M432 416h-23.41L277.88 53.69A32 32 0 0 0 247.58 32h-47.16a32 32 0 0 0-30.3 21.69L39.41 416H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-19.58l23.3-64h152.56l23.3 64H304a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM176.85 272L224 142.51 271.15 272z"})}),value:"text",key:"t"}],xv=(e(1292),{cut:[Vd("CtrlOrCmd+X")],copy:[Vd("CtrlOrCmd+C")],
paste:[Vd("CtrlOrCmd+V")],copyStyles:[Vd("CtrlOrCmd+Alt+C")],pasteStyles:[Vd("CtrlOrCmd+Alt+V")],selectAll:[Vd("CtrlOrCmd+A")],deleteSelectedElements:[Vd("Del")],duplicateSelection:[Vd("CtrlOrCmd+D"),Vd("Alt+".concat(Wb("helpDialog.drag")))],sendBackward:[Vd("CtrlOrCmd+[")],bringForward:[Vd("CtrlOrCmd+]")],sendToBack:[Vd(xi?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+[")],bringToFront:[Vd(xi?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]")],copyAsPng:[Vd("Shift+Alt+C")],copyAsSvg:[],group:[Vd("CtrlOrCmd+G")],ungroup:[Vd("CtrlOrCmd+Shift+G")],
gridMode:[Vd("CtrlOrCmd+'")],zenMode:[Vd("Alt+Z")],stats:[Vd("Alt+/")],addToLibrary:[],flipHorizontal:[Vd("Shift+H")],flipVertical:[Vd("Shift+V")],viewMode:[Vd("Alt+R")]}),yv=function(A){var ma=A.onCloseRequest,sa=A.actionManager,ha=A.appState;return(0,Ra.jsx)(Fa,{onCloseRequest:ma,top:A.top,left:A.left,fitInViewport:!0,children:(0,Ra.jsx)("ul",{className:"context-menu",onContextMenu:function(ua){return ua.preventDefault()},children:A.options.map(function(ua,za){var Aa;if("separator"===ua)return(0,Ra.jsx)("hr",
{className:"context-menu-option-separator"},za);var Ha,Ua=ua.name,Ya=ua.contextItemLabel?Wb(ua.contextItemLabel):"";return(0,Ra.jsx)("li",{"data-testid":Ua,onClick:ma,children:(0,Ra.jsxs)("button",{className:Dc("context-menu-option",{dangerous:"deleteSelectedElements"===Ua,checkmark:null===(Aa=ua.checked)||void 0===Aa?void 0:Aa.call(ua,ha)}),onClick:function(){return sa.executeAction(ua)},children:[(0,Ra.jsx)("div",{className:"context-menu-option__label",children:Ya}),(0,Ra.jsx)("kbd",{className:"context-menu-option__shortcut",
children:Ua?(Ha=xv[Ua],Ha&&0<Ha.length?Ha[0]:""):""})]})},za)})})})},rr=new WeakMap,sr=function(A){var ma,sa,ha=[];A.options.forEach(function(ua){ua&&ha.push(ua)});ha.length&&(0,rh.render)((0,Ra.jsx)(yv,{top:A.top,left:A.left,options:ha,onCloseRequest:function(){return ua=A.container,void((za=rr.get(ua))&&((0,rh.unmountComponentAtNode)(za),za.remove(),rr.delete(ua)));var ua,za},actionManager:A.actionManager,appState:A.appState}),(ma=A.container,(sa=rr.get(ma))||(sa=document.createElement("div"),ma.querySelector(".excalidraw-contextMenuContainer").appendChild(sa),
rr.set(ma,sa),sa)))},Gt=function(A){var ma=A.appState,sa=A.renderAction,ha=A.elementType;A=Kh(oe(A.elements),ma);ma=!!ma.editingElement;var ua=om(),za="rtl"===document.documentElement.getAttribute("dir"),Aa=Pk(ha)||A.some(function(Ua){return Pk(Ua.type)&&!Ri(Ua.backgroundColor)}),Ha=Pk(ha)||A.some(function(Ua){return Pk(Ua.type)});return(0,Ra.jsxs)("div",{className:"panelColumn",children:[sa("changeStrokeColor"),Ha&&sa("changeBackgroundColor"),Aa&&sa("changeFillStyle"),(Vk(ha)||A.some(function(Ua){return Vk(Ua.type)}))&&
sa("changeStrokeWidth"),("freedraw"===ha||A.some(function(Ua){return"freedraw"===Ua.type}))&&sa("changeStrokeShape"),(p(ha)||A.some(function(Ua){return p(Ua.type)}))&&(0,Ra.jsxs)(Ra.Fragment,{children:[sa("changeStrokeStyle"),sa("changeSloppiness")]}),(I(ha)||A.some(function(Ua){return I(Ua.type)}))&&(0,Ra.jsx)(Ra.Fragment,{children:sa("changeSharpness")}),("text"===ha||A.some(function(Ua){return"text"===Ua.type}))&&(0,Ra.jsxs)(Ra.Fragment,{children:[sa("changeFontSize"),sa("changeFontFamily"),sa("changeTextAlign")]}),
("arrow"===ha||A.some(function(Ua){return"arrow"===Ua.type}))&&(0,Ra.jsx)(Ra.Fragment,{children:sa("changeArrowhead")}),sa("changeOpacity"),(0,Ra.jsxs)("fieldset",{children:[(0,Ra.jsx)("legend",{children:Wb("labels.layers")}),(0,Ra.jsxs)("div",{className:"buttonList",children:[sa("sendToBack"),sa("sendBackward"),sa("bringToFront"),sa("bringForward")]})]}),1<A.length&&(0,Ra.jsxs)("fieldset",{children:[(0,Ra.jsx)("legend",{children:Wb("labels.align")}),(0,Ra.jsxs)("div",{className:"buttonList",children:[za?
(0,Ra.jsxs)(Ra.Fragment,{children:[sa("alignRight"),sa("alignHorizontallyCentered"),sa("alignLeft")]}):(0,Ra.jsxs)(Ra.Fragment,{children:[sa("alignLeft"),sa("alignHorizontallyCentered"),sa("alignRight")]}),2<A.length&&sa("distributeHorizontally"),(0,Ra.jsxs)("div",{className:"iconRow",children:[sa("alignTop"),sa("alignVerticallyCentered"),sa("alignBottom"),2<A.length&&sa("distributeVertically")]})]})]}),!ua&&!ma&&0<A.length&&(0,Ra.jsxs)("fieldset",{children:[(0,Ra.jsx)("legend",{children:Wb("labels.actions")}),
(0,Ra.jsxs)("div",{className:"buttonList",children:[sa("duplicateSelection"),sa("deleteSelectedElements"),sa("group"),sa("ungroup")]})]})]})},wt=function(A){var ma=A.canvas,sa=A.elementType,ha=A.setAppState;return(0,Ra.jsx)(Ra.Fragment,{children:xt.map(function(ua,za){var Aa=ua.value,Ha=ua.icon,Ua=ua.key;ua=Wb("toolBar.".concat(Aa));Ua="".concat(Nh("string"==typeof Ua?Ua:Ua[0])," ").concat(Wb("helpDialog.or")," ").concat(za+1);return(0,Ra.jsx)(Ga,{className:"Shape",type:"radio",icon:Ha,checked:sa===
Aa,name:"editor-current-shape",title:"".concat(Nh(ua)," â€” ").concat(Ua),keyBindingLabel:"".concat(za+1),"aria-label":Nh(ua),"aria-keyshortcuts":Ua,"data-testid":Aa,onChange:function(){ha({elementType:Aa,multiElement:null,selectedElementIds:{}});si(ma,Aa);ha({})}},Aa)})})},uv=function(A){var ma=A.renderAction;A.zoom;return(0,Ra.jsx)(Sc,{gap:1,children:(0,Ra.jsxs)(Gc,{gap:1,align:"center",children:[ma("zoomOut"),ma("zoomIn"),ma("resetZoom")]})})},ut=function(A){A.appState;A.setAppState;var ma=A.actionManager;
A=A.showThemeBtn;return(0,Ra.jsxs)("div",{style:{display:"flex"},children:[ma.renderAction("changeViewBackgroundColor"),A&&ma.renderAction("toggleTheme")]})},Et=(e(778),function(A){var ma=A.collaboratorCount,sa=A.onClick;return(0,Ra.jsx)(Ra.Fragment,{children:(0,Ra.jsx)(Ga,{className:Dc("CollabButton",{"is-collaborating":A.isCollaborating}),onClick:sa,icon:ym,type:"button",title:Wb("labels.liveCollaboration"),"aria-label":Wb("labels.liveCollaboration"),showAriaLabel:om(),children:0<ma&&(0,Ra.jsx)("div",
{className:"CollabButton-collaborators",children:ma})})})});e(196);e(1106);var qn=ce().forwardRef(function(A,ma){var sa=A.children,ha=A.padding,ua=A.style;return(0,Ra.jsx)("div",{className:Dc("Island",A.className),style:sg({"--padding":ha},ua),ref:ma,children:sa})}),tv=(e(8328),function(A){var ma=A.theme;return(ma=rv(void 0===ma?"light":ma))?(0,rh.createPortal)((0,Ra.jsxs)("div",{className:Dc("Modal",A.className),role:"dialog","aria-modal":"true",onKeyDown:function(sa){"Escape"===sa.key&&(sa.nativeEvent.stopImmediatePropagation(),
sa.stopPropagation(),A.onCloseRequest())},"aria-labelledby":A.labelledBy,children:[(0,Ra.jsx)("div",{className:"Modal__background",onClick:A.onCloseRequest}),(0,Ra.jsx)("div",{className:"Modal__content",style:{"--max-width":"".concat(A.maxWidth,"px")},tabIndex:0,children:A.children})]}),ma):null}),rv=function(A){var ma=da((0,ue.useState)(null),2),sa=ma[0],ha=ma[1],ua=om(),za=(0,ue.useRef)(ua);za.current=ua;var Aa=Ip().container;return(0,ue.useLayoutEffect)(function(){sa&&sa.classList.toggle("excalidraw--mobile",
ua)},[sa,ua]),(0,ue.useLayoutEffect)(function(){var Ha=!(null==Aa||!Aa.classList.contains("theme--dark"))||"dark"===A,Ua=document.createElement("div");return Ua.classList.add("excalidraw","excalidraw-modal-container"),Ua.classList.toggle("excalidraw--mobile",za.current),Ha&&(Ua.classList.add("theme--dark"),Ua.classList.add("theme--dark-background-none")),document.body.appendChild(Ua),ha(Ua),function(){document.body.removeChild(Ua)}},[Aa,A]),sa},Eq=function(A){var ma=function(){var Ha=da((0,ue.useState)(null),
2),Ua=Ha[1];return[Ha[0],(0,ue.useCallback)(function(Ya){return Ua(Ya)},[])]}();ma=da(ma,2);var sa=ma[0];ma=ma[1];var ha=da((0,ue.useState)(document.activeElement),1)[0],ua=Ip().id;(0,ue.useEffect)(function(){if(sa){var Ha=za(sa);0<Ha.length&&!1!==A.autofocus&&(Ha[1]||Ha[0]).focus();var Ua=function(Ya){if("Tab"===Ya.key){var ob=za(sa),Bb=document.activeElement,Rb=ob.findIndex(function(hc){return hc===Bb});0===Rb&&Ya.shiftKey?(ob[ob.length-1].focus(),Ya.preventDefault()):Rb!==ob.length-1||Ya.shiftKey||
(ob[0].focus(),Ya.preventDefault())}};return sa.addEventListener("keydown",Ua),function(){return sa.removeEventListener("keydown",Ua)}}},[sa,A.autofocus]);var za=function(Ha){return(Ha=Ha.querySelectorAll("button, a, input, select, textarea, div[tabindex]"))?Array.from(Ha):[]},Aa=function(){ha.focus();A.onCloseRequest()};return(0,Ra.jsx)(tv,{className:Dc("Dialog",A.className),labelledBy:"dialog-title",maxWidth:A.small?550:800,onCloseRequest:Aa,theme:A.theme,children:(0,Ra.jsxs)(qn,{ref:ma,children:[(0,Ra.jsxs)("h2",
{id:"".concat(ua,"-dialog-title"),className:"Dialog__title",children:[(0,Ra.jsx)("span",{className:"Dialog__titleContent",children:A.title}),(0,Ra.jsx)("button",{className:"Modal__close",onClick:Aa,"aria-label":Wb("buttons.close"),children:om()?yn:Om})]}),(0,Ra.jsx)("div",{className:"Dialog__content",children:A.children})]})})},qv=function(A){var ma=A.message,sa=A.onClose,ha=da((0,ue.useState)(!!ma),2);A=ha[0];var ua=ha[1],za=Ip().container;ha=ce().useCallback(function(){ua(!1);sa&&sa();null==za||
za.focus()},[sa,za]);return(0,Ra.jsx)(Ra.Fragment,{children:A&&(0,Ra.jsx)(Eq,{small:!0,onCloseRequest:ha,title:Wb("errorDialog.title"),children:(0,Ra.jsx)("div",{style:{whiteSpace:"pre-wrap"},children:ma})})})},sv=(e(2205),"filter"in document.createElement("canvas").getContext("2d")),Zu=function(){return(0,Ra.jsxs)("div",{children:[(0,Ra.jsx)("h3",{children:Wb("canvasError.cannotShowPreview")}),(0,Ra.jsx)("p",{children:(0,Ra.jsx)("span",{children:Wb("canvasError.canvasTooBig")})}),(0,Ra.jsxs)("em",
{children:["(",Wb("canvasError.canvasTooBigTip"),")"]})]})},ps=function(A,ma){(0,rh.unmountComponentAtNode)(ma);ma.innerHTML="";A instanceof HTMLCanvasElement?ma.appendChild(A):(0,rh.render)((0,Ra.jsx)(Zu,{}),ma)},qs=function(A){var ma,sa=A.children,ha=A.title,ua=A.onClick,za=A.color;A=A.shade;A=void 0===A?6:A;return(0,Ra.jsx)("button",{className:"ExportDialog-imageExportButton",style:(ma={},U(ma,"--button-color",mf[za][A]),U(ma,"--button-color-darker",mf[za][A+1]),U(ma,"--button-color-darkest",mf[za][A+
2]),ma),title:ha,"aria-label":ha,onClick:ua,children:sa})},$u=function(A){var ma=A.elements,sa=A.appState,ha=A.exportPadding,ua=void 0===ha?yc.qy:ha;ha=A.actionManager;var za=A.onExportToPng,Aa=A.onExportToSvg,Ha=A.onExportToClipboard,Ua=vh(ma,sa);A=da((0,ue.useState)(Ua),2);var Ya=A[0],ob=A[1],Bb=(0,ue.useRef)(null),Rb=sa.exportBackground,hc=sa.viewBackgroundColor,mc=Ya?Sf(ma,sa):ma;return(0,ue.useEffect)(function(){ob(Ua)},[Ua]),(0,ue.useEffect)(function(){var Tc=Bb.current;if(Tc)try{var Xc=Aq(mc,
sa,{exportBackground:Rb,viewBackgroundColor:hc,exportPadding:ua});Dp(Xc).then(function(){ps(Xc,Tc)}).catch(function(Pc){console.error(Pc);ps(new mn,Tc)})}catch(Pc){console.error(Pc),ps(new mn,Tc)}},[sa,mc,Rb,ua,hc]),(0,Ra.jsxs)("div",{className:"ExportDialog",children:[(0,Ra.jsx)("div",{className:"ExportDialog__preview",ref:Bb}),sv&&ha.renderAction("exportWithDarkMode"),(0,Ra.jsx)("div",{style:{display:"grid",gridTemplateColumns:"1fr"},children:(0,Ra.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(190px, 1fr))",
overflow:"hidden"},children:[ha.renderAction("changeExportBackground"),Ua&&(0,Ra.jsx)(Wc,{checked:Ya,onChange:function(Tc){return ob(Tc)},children:Wb("labels.onlySelected")}),ha.renderAction("changeExportEmbedScene")]})}),(0,Ra.jsxs)("div",{style:{display:"flex",alignItems:"center",marginTop:".6em"},children:[(0,Ra.jsx)(Gc,{gap:2,children:ha.renderAction("changeExportScale")}),(0,Ra.jsx)("p",{style:{marginLeft:"1em",userSelect:"none"},children:"Scale"})]}),(0,Ra.jsx)("div",{style:{display:"flex",
alignItems:"center",justifyContent:"center",margin:".6em 0"},children:!nm&&ha.renderAction("changeProjectName")}),(0,Ra.jsxs)(Gc,{gap:2,justifyContent:"center",style:{margin:"2em 0"},children:[(0,Ra.jsx)(qs,{color:"indigo",title:Wb("buttons.exportToPng"),"aria-label":Wb("buttons.exportToPng"),onClick:function(){return za(mc)},children:"PNG"}),(0,Ra.jsx)(qs,{color:"red",title:Wb("buttons.exportToSvg"),"aria-label":Wb("buttons.exportToSvg"),onClick:function(){return Aa(mc)},children:"SVG"}),Mb&&(0,Ra.jsx)(qs,
{title:Wb("buttons.copyPngToClipboard"),onClick:function(){return Ha(mc)},color:"gray",shade:7,children:ld})]})]})},av=function(A){var ma=A.elements,sa=A.appState,ha=A.exportPadding;ha=void 0===ha?yc.qy:ha;var ua=A.actionManager,za=A.onExportToPng,Aa=A.onExportToSvg;A=A.onExportToClipboard;var Ha=da((0,ue.useState)(!1),2),Ua=Ha[0],Ya=Ha[1];Ha=ce().useCallback(function(){Ya(!1)},[]);return(0,Ra.jsxs)(Ra.Fragment,{children:[(0,Ra.jsx)(Ga,{onClick:function(){Ya(!0)},"data-testid":"image-export-button",
icon:Le,type:"button","aria-label":Wb("buttons.exportImage"),showAriaLabel:om(),title:Wb("buttons.exportImage")}),Ua&&(0,Ra.jsx)(Eq,{onCloseRequest:Ha,title:Wb("buttons.exportImage"),children:(0,Ra.jsx)($u,{elements:ma,appState:sa,exportPadding:ha,actionManager:ua,onExportToPng:za,onExportToSvg:Aa,onExportToClipboard:A,onCloseRequest:Ha})})]})},ot=(e(1310),function(A){var ma=A.children,sa=A.className;return(0,Ra.jsx)("div",{className:Dc("FixedSideContainer","FixedSideContainer_side_".concat(A.side),
sa),children:ma})}),pt=(e(7096),function(A){return(A=function(ma){var sa=ma.appState,ha=ma.elements,ua=sa.elementType;ma=sa.isResizing;var za=sa.isRotating,Aa=sa.lastPointerDownWith,Ha=null!==sa.multiElement;if("arrow"===ua||"line"===ua)return Wb(Ha?"hints.linearElementMulti":"hints.linearElement");if("freedraw"===ua)return Wb("hints.freeDraw");if("text"===ua)return Wb("hints.text");ha=Sf(ha,sa);return ma&&"mouse"===Aa&&1===ha.length?(sa=ha[0],Dg(sa)&&2===sa.points.length?Wb("hints.lockAngle"):Wb("hints.resize")):
za&&"mouse"===Aa?Wb("hints.rotate"):1===ha.length&&Dg(ha[0])?sa.editingLinearElement?sa.editingLinearElement.activePointIndex?Wb("hints.lineEditor_pointSelected"):Wb("hints.lineEditor_nothingSelected"):Wb("hints.lineEditor_info"):1===ha.length&&Xg(ha[0])?Wb("hints.text_selected"):sa.editingElement&&Xg(sa.editingElement)?Wb("hints.text_editing"):null}({appState:A.appState,elements:A.elements}))?(A=Vd(A),(0,Ra.jsx)("div",{className:"HintViewer",children:(0,Ra.jsx)("span",{children:A})})):null});e(3336);
e(694);var bv=(0,Ra.jsx)("svg",{viewBox:"0 0 1792 1792",children:(0,Ra.jsx)("path",{fill:"currentColor",d:"M1600 736v192q0 40-28 68t-68 28h-416v416q0 40-28 68t-68 28h-192q-40 0-68-28t-28-68v-416h-416q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h416v-416q0-40 28-68t68-28h192q40 0 68 28t28 68v416h416q40 0 68 28t28 68z"})}),cv=function(A){var ma=A.elements,sa=A.pendingElements,ha=A.onRemoveFromLibrary;A=A.onClick;var ua=(0,ue.useRef)(null);(0,ue.useEffect)(function(){var Ya=ma||sa;if(Ya){var ob,Bb=ua.current;
return(0,ff.Z)(Yd().mark(function hc(){var mc,Tc,Xc;return Yd().wrap(function(Pc){for(;;)switch(Pc.prev=Pc.next){case 0:return Pc.next=2,Ap(Ya,{exportBackground:!1,viewBackgroundColor:mf.white});case 2:ob=Pc.sent,mc=yj(ua.current.children),Pc.prev=4,mc.s();case 6:if((Tc=mc.n()).done){Pc.next=13;break}if("svg"===(Xc=Tc.value).tagName){Pc.next=10;break}return Pc.abrupt("continue",11);case 10:Bb.removeChild(Xc);case 11:Pc.next=6;break;case 13:Pc.next=18;break;case 15:Pc.prev=15,Pc.t0=Pc.catch(4),mc.e(Pc.t0);
case 18:return Pc.prev=18,mc.f(),Pc.finish(18);case 21:Bb.appendChild(ob);case 22:case "end":return Pc.stop()}},hc,null,[[4,15,18,21]])}))(),function(){ob&&Bb.removeChild(ob)}}},[ma,sa]);var za=da((0,ue.useState)(!1),2),Aa=za[0],Ha=za[1];za=om();var Ua=(Aa||za)&&sa&&(0,Ra.jsx)("div",{className:"library-unit__adder",children:bv});return(0,Ra.jsxs)("div",{className:Dc("library-unit",{"library-unit__active":ma||sa}),onMouseEnter:function(){return Ha(!0)},onMouseLeave:function(){return Ha(!1)},children:[(0,Ra.jsx)("div",
{className:Dc("library-unit__dragger",{"library-unit__pulse":!!sa}),ref:ua,draggable:!!ma,onClick:ma||sa?A:void 0,onDragStart:function(Ya){Ha(!1);Ya.dataTransfer.setData(yc.LO.excalidrawlib,JSON.stringify(ma))}}),Ua,ma&&(Aa||za)&&(0,Ra.jsx)("button",{className:"library-unit__removeFromLibrary","aria-label":Wb("labels.removeFromLibrary"),onClick:ha,children:Om})]})},dv=(0,Ra.jsx)("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg",children:(0,Ra.jsx)("path",
{d:"M640 768h512v-192q0-106-75-181t-181-75-181 75-75 181v192zm832 96v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h32v-192q0-184 132-316t316-132 316 132 132 316v192h32q40 0 68 28t28 68z"})}),ev=(0,Ra.jsx)("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg",className:"unlocked-icon rtl-mirror",children:(0,Ra.jsx)("path",{d:"M1728 576v256q0 26-19 45t-45 19h-64q-26 0-45-19t-19-45v-256q0-106-75-181t-181-75-181 75-75 181v192h96q40 0 68 28t28 68v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h672v-192q0-185 131.5-316.5t316.5-131.5 316.5 131.5 131.5 316.5z"})}),
qt=function(A){return(0,Ra.jsxs)("label",{className:Dc("ToolIcon ToolIcon__lock ToolIcon_type_floating zen-mode-visibility","ToolIcon_size_".concat("medium"),{"zen-mode-visibility--hidden":A.zenModeEnabled}),title:"".concat(A.title," â€” Q"),children:[(0,Ra.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:A.name,onChange:A.onChange,checked:A.checked,"aria-label":A.title}),(0,Ra.jsx)("div",{className:"ToolIcon__icon",children:A.checked?dv:ev})]})},fv=["heading","children"],oo=function(A){var ma=
A.heading,sa=A.children;A=Za(A,fv);var ha=Ip().id,ua=(0,Ra.jsx)("h2",{className:"visually-hidden",id:"".concat(ha,"-").concat(ma,"-title"),children:Wb("headings.".concat(ma))});return(0,Ra.jsx)("section",Wj(Wj({},A),{},{"aria-labelledby":"".concat(ha,"-").concat(ma,"-title"),children:"function"==typeof sa?sa(ua):(0,Ra.jsxs)(Ra.Fragment,{children:[ua,sa]})}))},kt=(e(580),function(A){var ma=A.children;return(0,Ra.jsx)("div",{className:Dc("UserList",A.className,{UserList_mobile:A.mobile}),children:ma})}),
Tu=(0,Ra.jsx)("svg",{viewBox:"0 0 576 512",children:(0,Ra.jsx)("path",{fill:"currentColor",d:"M542.22 32.05c-54.8 3.11-163.72 14.43-230.96 55.59-4.64 2.84-7.27 7.89-7.27 13.17v363.87c0 11.55 12.63 18.85 23.28 13.49 69.18-34.82 169.23-44.32 218.7-46.92 16.89-.89 30.02-14.43 30.02-30.66V62.75c.01-17.71-15.35-31.74-33.77-30.7zM264.73 87.64C197.5 46.48 88.58 35.17 33.78 32.05 15.36 31.01 0 45.04 0 62.75V400.6c0 16.24 13.13 29.78 30.02 30.66 49.49 2.6 149.59 12.11 218.77 46.95 10.62 5.35 23.21-1.94 23.21-13.46V100.63c0-5.29-2.62-10.14-7.27-12.99z"})}),
lt=function(A){var ma=A.appState,sa=A.setAppState;return(0,Ra.jsxs)("label",{className:Dc("ToolIcon ToolIcon_type_floating ToolIcon__library zen-mode-visibility","ToolIcon_size_medium",{"zen-mode-visibility--hidden":ma.zenModeEnabled}),title:"".concat(Nh(Wb("toolBar.library"))," â€” 9"),style:{marginInlineStart:"var(--space-factor)"},children:[(0,Ra.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:"editor-library",onChange:function(ha){sa({isLibraryOpen:ha.target.checked})},checked:ma.isLibraryOpen,
"aria-label":Nh(Wb("toolBar.library")),"aria-keyshortcuts":"9"}),(0,Ra.jsx)("div",{className:"ToolIcon__icon",children:Tu})]})},Uu=function(A){var ma=A.appState,sa=A.elements,ha=A.libraryMenu,ua=A.actionManager,za=A.renderJSONExportDialog,Aa=A.renderImageExportDialog,Ha=A.setAppState,Ua=A.onCollabButtonClick,Ya=A.onLockToggle,ob=A.canvas,Bb=A.isCollaborating,Rb=A.renderCustomFooter,hc=A.viewModeEnabled;A=A.showThemeBtn;return(0,Ra.jsxs)(Ra.Fragment,{children:[!hc&&(0,Ra.jsxs)(ot,{side:"top",className:"App-top-bar",
children:[(0,Ra.jsx)(oo,{heading:"shapes",children:function(mc){return(0,Ra.jsxs)(Sc,{gap:4,align:"center",children:[(0,Ra.jsxs)(Gc,{gap:1,children:[(0,Ra.jsxs)(qn,{padding:1,children:[mc,(0,Ra.jsx)(Gc,{gap:1,children:(0,Ra.jsx)(wt,{canvas:ob,elementType:ma.elementType,setAppState:Ha})})]}),(0,Ra.jsx)(qt,{checked:ma.elementLocked,onChange:Ya,title:Wb("toolBar.lock")}),(0,Ra.jsx)(lt,{appState:ma,setAppState:Ha})]}),ha]})}}),(0,Ra.jsx)(pt,{appState:ma,elements:sa})]}),(0,Ra.jsx)("div",{className:"App-bottom-bar",
style:{marginBottom:14,marginLeft:14,marginRight:14},children:(0,Ra.jsxs)(qn,{padding:0,children:["canvas"===ma.openMenu?(0,Ra.jsx)(oo,{className:"App-mobile-menu",heading:"canvasActions",children:(0,Ra.jsx)("div",{className:"panelColumn",children:(0,Ra.jsxs)(Sc,{gap:4,children:[hc?(0,Ra.jsxs)(Ra.Fragment,{children:[za(),Aa()]}):(0,Ra.jsxs)(Ra.Fragment,{children:[ua.renderAction("clearCanvas"),ua.renderAction("loadScene"),za(),Aa(),Ua&&(0,Ra.jsx)(Et,{isCollaborating:Bb,collaboratorCount:ma.collaborators.size,
onClick:Ua}),(0,Ra.jsx)(ut,{actionManager:ua,appState:ma,setAppState:Ha,showThemeBtn:A})]}),null==Rb?void 0:Rb(!0,ma),0<ma.collaborators.size&&(0,Ra.jsxs)("fieldset",{children:[(0,Ra.jsx)("legend",{children:Wb("labels.collaborators")}),(0,Ra.jsx)(kt,{mobile:!0,children:Array.from(ma.collaborators).filter(function(mc){mc=da(mc,2);mc=(mc[0],mc[1]);return 0!==Object.keys(mc).length}).map(function(mc){mc=da(mc,2);var Tc=mc[0];mc[1];return(0,Ra.jsx)(ce().Fragment,{children:ua.renderAction("goToCollaborator",
{id:Tc})},Tc)})})]})]})})}):"shape"===ma.openMenu&&!hc&&wh(ma,sa)?(0,Ra.jsx)(oo,{className:"App-mobile-menu",heading:"selectedShapeActions",children:(0,Ra.jsx)(Gt,{appState:ma,elements:sa,renderAction:ua.renderAction,elementType:ma.elementType})}):null,(0,Ra.jsxs)("footer",{className:"App-toolbar",children:[hc?(0,Ra.jsx)("div",{className:"App-toolbar-content",children:ua.renderAction("toggleCanvasMenu")}):(0,Ra.jsxs)("div",{className:"App-toolbar-content",children:[ua.renderAction("toggleCanvasMenu"),
ua.renderAction("toggleEditMenu"),ua.renderAction("undo"),ua.renderAction("redo"),ua.renderAction(ma.multiElement?"finalize":"duplicateSelection"),ua.renderAction("deleteSelectedElements")]}),ma.scrolledOutside&&!ma.openMenu&&(0,Ra.jsx)("button",{className:"scroll-back-to-content",onClick:function(){Ha(function(mc){for(var Tc=1;Tc<arguments.length;Tc++){var Xc=null!=arguments[Tc]?arguments[Tc]:{};Tc%2?Yk(Object(Xc),!0).forEach(function(Pc){U(mc,Pc,Xc[Pc])}):Object.getOwnPropertyDescriptors?Object.defineProperties(mc,
Object.getOwnPropertyDescriptors(Xc)):Yk(Object(Xc)).forEach(function(Pc){Object.defineProperty(mc,Pc,Object.getOwnPropertyDescriptor(Xc,Pc))})}return mc}({},Fg(sa,ma)))},children:Wb("buttons.scrollBackToContent")})]})]})})]})},mt=(e(8051),function(A){var ma=(0,ue.useRef)(null),sa=da((0,ue.useState)(null),2),ha=sa[0],ua=sa[1];return(0,ue.useLayoutEffect)(function(){if(A.spreadsheet){var za,Aa=W(A.chartType,A.spreadsheet,0,0);ua(Aa);var Ha=ma.current;return(0,ff.Z)(Yd().mark(function Ya(){return Yd().wrap(function(ob){for(;;)switch(ob.prev=
ob.next){case 0:return ob.next=2,Ap(Aa,{exportBackground:!1,viewBackgroundColor:mf.white});case 2:za=ob.sent,Ha.appendChild(za),A.selected&&Ha.parentNode.focus();case 5:case "end":return ob.stop()}},Ya)}))(),function(){Ha.removeChild(za)}}},[A.spreadsheet,A.chartType,A.selected]),(0,Ra.jsx)("button",{className:"ChartPreview",onClick:function(){ha&&A.onClick(A.chartType,ha)},children:(0,Ra.jsx)("div",{ref:ma})})}),Vu=function(A){var ma=A.setAppState,sa=A.appState,ha=A.onClose,ua=A.onInsertChart;A=
ce().useCallback(function(){ha&&ha()},[ha]);var za=function(Aa,Ha){ua(Ha);Lh("magic","chart",Aa);ma({currentChartType:Aa,pasteDialog:{shown:!1,data:null}})};return(0,Ra.jsx)(Eq,{small:!0,onCloseRequest:A,title:Wb("labels.pasteCharts"),className:"PasteChartDialog",autofocus:!1,children:(0,Ra.jsxs)("div",{className:"container",children:[(0,Ra.jsx)(mt,{chartType:"bar",spreadsheet:sa.pasteDialog.data,selected:"bar"===sa.currentChartType,onClick:za}),(0,Ra.jsx)(mt,{chartType:"line",spreadsheet:sa.pasteDialog.data,
selected:"line"===sa.currentChartType,onClick:za})]})})};e(3922);var Wu=function(){return(0,Ra.jsxs)("div",{className:"HelpDialog--header",children:[(0,Ra.jsx)("a",{className:"HelpDialog--btn",href:"https://github.com/excalidraw/excalidraw#documentation",target:"_blank",rel:"noopener noreferrer",children:Wb("helpDialog.documentation")}),(0,Ra.jsx)("a",{className:"HelpDialog--btn",href:"https://blog.excalidraw.com",target:"_blank",rel:"noopener noreferrer",children:Wb("helpDialog.blog")}),(0,Ra.jsx)("a",
{className:"HelpDialog--btn",href:"https://github.com/excalidraw/excalidraw/issues",target:"_blank",rel:"noopener noreferrer",children:Wb("helpDialog.github")})]})},Xu=function(A){return(0,Ra.jsxs)(Ra.Fragment,{children:[(0,Ra.jsx)("h3",{children:A.title}),A.children]})},Yu=function(A){return(0,Ra.jsx)("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between"},children:A.children})},nt=function(A){return(0,Ra.jsx)("div",{style:{width:"49%"},children:A.children})},
os=function(A){return(0,Ra.jsxs)("div",{className:"HelpDialog--island",children:[(0,Ra.jsx)("h3",{className:"HelpDialog--island-title",children:A.caption}),A.children]})},nf=function(A){return(0,Ra.jsx)("div",{className:"HelpDialog--shortcut",children:(0,Ra.jsxs)("div",{style:{display:"flex",margin:"0",padding:"4px 8px",alignItems:"center"},children:[(0,Ra.jsx)("div",{style:{lineHeight:1.4},children:A.label}),(0,Ra.jsx)("div",{style:{display:"flex",flex:"0 0 auto",justifyContent:"flex-end",marginInlineStart:"auto",
minWidth:"30%"},children:A.shortcuts.map(function(ma,sa){return(0,Ra.jsxs)(ce().Fragment,{children:[(0,Ra.jsx)(gv,{children:ma}),A.isOr&&sa!==A.shortcuts.length-1&&Wb("helpDialog.or")]},sa)})})]})})};nf.defaultProps={isOr:!0};var gv=function(A){return(0,Ra.jsx)("kbd",function(ma){for(var sa=1;sa<arguments.length;sa++){var ha=null!=arguments[sa]?arguments[sa]:{};sa%2?Zi(Object(ha),!0).forEach(function(ua){U(ma,ua,ha[ua])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ma,Object.getOwnPropertyDescriptors(ha)):
Zi(Object(ha)).forEach(function(ua){Object.defineProperty(ma,ua,Object.getOwnPropertyDescriptor(ha,ua))})}return ma}({className:"HelpDialog--key"},A))},hv=function(A){var ma=A.onClose;A=ce().useCallback(function(){ma&&ma()},[ma]);return(0,Ra.jsx)(Ra.Fragment,{children:(0,Ra.jsxs)(Eq,{onCloseRequest:A,title:Wb("helpDialog.title"),className:"HelpDialog",children:[(0,Ra.jsx)(Wu,{}),(0,Ra.jsx)(Xu,{title:Wb("helpDialog.shortcuts"),children:(0,Ra.jsxs)(Yu,{children:[(0,Ra.jsxs)(nt,{children:[(0,Ra.jsxs)(os,
{caption:Wb("helpDialog.shapes"),children:[(0,Ra.jsx)(nf,{label:Wb("toolBar.selection"),shortcuts:["V","1"]}),(0,Ra.jsx)(nf,{label:Wb("toolBar.rectangle"),shortcuts:["R","2"]}),(0,Ra.jsx)(nf,{label:Wb("toolBar.diamond"),shortcuts:["D","3"]}),(0,Ra.jsx)(nf,{label:Wb("toolBar.ellipse"),shortcuts:["E","4"]}),(0,Ra.jsx)(nf,{label:Wb("toolBar.arrow"),shortcuts:["A","5"]}),(0,Ra.jsx)(nf,{label:Wb("toolBar.line"),shortcuts:["P","6"]}),(0,Ra.jsx)(nf,{label:Wb("toolBar.freedraw"),shortcuts:["Shift+P","7"]}),
(0,Ra.jsx)(nf,{label:Wb("toolBar.text"),shortcuts:["T","8"]}),(0,Ra.jsx)(nf,{label:Wb("helpDialog.editSelectedShape"),shortcuts:[Vd("Enter"),Wb("helpDialog.doubleClick")]}),(0,Ra.jsx)(nf,{label:Wb("helpDialog.textNewLine"),shortcuts:[Vd("Enter"),Vd("Shift+Enter")]}),(0,Ra.jsx)(nf,{label:Wb("helpDialog.textFinish"),shortcuts:[Vd("Esc"),Vd("CtrlOrCmd+Enter")]}),(0,Ra.jsx)(nf,{label:Wb("helpDialog.curvedArrow"),shortcuts:["A",Wb("helpDialog.click"),Wb("helpDialog.click"),Wb("helpDialog.click")],isOr:!1}),
(0,Ra.jsx)(nf,{label:Wb("helpDialog.curvedLine"),shortcuts:["L",Wb("helpDialog.click"),Wb("helpDialog.click"),Wb("helpDialog.click")],isOr:!1}),(0,Ra.jsx)(nf,{label:Wb("toolBar.lock"),shortcuts:["Q"]}),(0,Ra.jsx)(nf,{label:Wb("helpDialog.preventBinding"),shortcuts:[Vd("CtrlOrCmd")]})]}),(0,Ra.jsxs)(os,{caption:Wb("helpDialog.view"),children:[(0,Ra.jsx)(nf,{label:Wb("buttons.zoomIn"),shortcuts:[Vd("CtrlOrCmd++")]}),(0,Ra.jsx)(nf,{label:Wb("buttons.zoomOut"),shortcuts:[Vd("CtrlOrCmd+-")]}),(0,Ra.jsx)(nf,
{label:Wb("buttons.resetZoom"),shortcuts:[Vd("CtrlOrCmd+0")]}),(0,Ra.jsx)(nf,{label:Wb("helpDialog.zoomToFit"),shortcuts:["Shift+1"]}),(0,Ra.jsx)(nf,{label:Wb("helpDialog.zoomToSelection"),shortcuts:["Shift+2"]}),(0,Ra.jsx)(nf,{label:Wb("buttons.fullScreen"),shortcuts:["F"]}),(0,Ra.jsx)(nf,{label:Wb("buttons.zenMode"),shortcuts:[Vd("Alt+Z")]}),(0,Ra.jsx)(nf,{label:Wb("labels.showGrid"),shortcuts:[Vd("CtrlOrCmd+'")]}),(0,Ra.jsx)(nf,{label:Wb("labels.viewMode"),shortcuts:[Vd("Alt+R")]}),(0,Ra.jsx)(nf,
{label:Wb("labels.toggleTheme"),shortcuts:[Vd("Alt+Shift+D")]}),(0,Ra.jsx)(nf,{label:Wb("stats.title"),shortcuts:[Vd("Alt+/")]})]})]}),(0,Ra.jsx)(nt,{children:(0,Ra.jsxs)(os,{caption:Wb("helpDialog.editor"),children:[(0,Ra.jsx)(nf,{label:Wb("labels.selectAll"),shortcuts:[Vd("CtrlOrCmd+A")]}),(0,Ra.jsx)(nf,{label:Wb("labels.multiSelect"),shortcuts:[Vd("Shift+".concat(Wb("helpDialog.click")))]}),(0,Ra.jsx)(nf,{label:Wb("labels.moveCanvas"),shortcuts:[Vd("Space+".concat(Wb("helpDialog.drag"))),Vd("Wheel+".concat(Wb("helpDialog.drag")))],
isOr:!0}),(0,Ra.jsx)(nf,{label:Wb("labels.cut"),shortcuts:[Vd("CtrlOrCmd+X")]}),(0,Ra.jsx)(nf,{label:Wb("labels.copy"),shortcuts:[Vd("CtrlOrCmd+C")]}),(0,Ra.jsx)(nf,{label:Wb("labels.paste"),shortcuts:[Vd("CtrlOrCmd+V")]}),(0,Ra.jsx)(nf,{label:Wb("labels.copyAsPng"),shortcuts:[Vd("Shift+Alt+C")]}),(0,Ra.jsx)(nf,{label:Wb("labels.copyStyles"),shortcuts:[Vd("CtrlOrCmd+Alt+C")]}),(0,Ra.jsx)(nf,{label:Wb("labels.pasteStyles"),shortcuts:[Vd("CtrlOrCmd+Alt+V")]}),(0,Ra.jsx)(nf,{label:Wb("labels.delete"),
shortcuts:[Vd("Del")]}),(0,Ra.jsx)(nf,{label:Wb("labels.sendToBack"),shortcuts:[Vd(xi?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+[")]}),(0,Ra.jsx)(nf,{label:Wb("labels.bringToFront"),shortcuts:[Vd(xi?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]")]}),(0,Ra.jsx)(nf,{label:Wb("labels.sendBackward"),shortcuts:[Vd("CtrlOrCmd+[")]}),(0,Ra.jsx)(nf,{label:Wb("labels.bringForward"),shortcuts:[Vd("CtrlOrCmd+]")]}),(0,Ra.jsx)(nf,{label:Wb("labels.alignTop"),shortcuts:[Vd("CtrlOrCmd+Shift+Up")]}),(0,Ra.jsx)(nf,{label:Wb("labels.alignBottom"),
shortcuts:[Vd("CtrlOrCmd+Shift+Down")]}),(0,Ra.jsx)(nf,{label:Wb("labels.alignLeft"),shortcuts:[Vd("CtrlOrCmd+Shift+Left")]}),(0,Ra.jsx)(nf,{label:Wb("labels.alignRight"),shortcuts:[Vd("CtrlOrCmd+Shift+Right")]}),(0,Ra.jsx)(nf,{label:Wb("labels.duplicateSelection"),shortcuts:[Vd("CtrlOrCmd+D"),Vd("Alt+".concat(Wb("helpDialog.drag")))]}),(0,Ra.jsx)(nf,{label:Wb("buttons.undo"),shortcuts:[Vd("CtrlOrCmd+Z")]}),(0,Ra.jsx)(nf,{label:Wb("buttons.redo"),shortcuts:nj?[Vd("CtrlOrCmd+Y"),Vd("CtrlOrCmd+Shift+Z")]:
[Vd("CtrlOrCmd+Shift+Z")]}),(0,Ra.jsx)(nf,{label:Wb("labels.group"),shortcuts:[Vd("CtrlOrCmd+G")]}),(0,Ra.jsx)(nf,{label:Wb("labels.ungroup"),shortcuts:[Vd("CtrlOrCmd+Shift+G")]}),(0,Ra.jsx)(nf,{label:Wb("labels.flipHorizontal"),shortcuts:[Vd("Shift+H")]}),(0,Ra.jsx)(nf,{label:Wb("labels.flipVertical"),shortcuts:[Vd("Shift+V")]}),(0,Ra.jsx)(nf,{label:Wb("labels.showStroke"),shortcuts:[Vd("S")]}),(0,Ra.jsx)(nf,{label:Wb("labels.showBackground"),shortcuts:[Vd("G")]})]})})]})})]})})},rt=(e(5080),function(A){var ma,
sa=A.children;A=A.color;return(0,Ra.jsx)("div",{className:"Card",style:(ma={},U(ma,"--card-color",mf[A][7]),U(ma,"--card-color-darker",mf[A][8]),U(ma,"--card-color-darkest",mf[A][9]),ma),children:sa})}),iv=function(A){var ma=A.elements,sa=A.appState,ha=A.actionManager,ua=A.exportOpts,za=A.canvas,Aa=ua.onExportToBackend;return(0,Ra.jsx)("div",{className:"ExportDialog ExportDialog--json",children:(0,Ra.jsxs)("div",{className:"ExportDialog-cards",children:[ua.saveFileToDisk&&(0,Ra.jsxs)(rt,{color:"lime",
children:[(0,Ra.jsx)("div",{className:"Card-icon",children:Hf}),(0,Ra.jsx)("h2",{children:Wb("exportDialog.disk_title")}),(0,Ra.jsxs)("div",{className:"Card-details",children:[Wb("exportDialog.disk_details"),!nm&&ha.renderAction("changeProjectName")]}),(0,Ra.jsx)(Ga,{className:"Card-button",type:"button",title:Wb("exportDialog.disk_button"),"aria-label":Wb("exportDialog.disk_button"),showAriaLabel:!0,onClick:function(){ha.executeAction(Rf)}})]}),Aa&&(0,Ra.jsxs)(rt,{color:"pink",children:[(0,Ra.jsx)("div",
{className:"Card-icon",children:Kb}),(0,Ra.jsx)("h2",{children:Wb("exportDialog.link_title")}),(0,Ra.jsx)("div",{className:"Card-details",children:Wb("exportDialog.link_details")}),(0,Ra.jsx)(Ga,{className:"Card-button",type:"button",title:Wb("exportDialog.link_button"),"aria-label":Wb("exportDialog.link_button"),showAriaLabel:!0,onClick:function(){return Aa(ma,sa,za)}})]}),ua.renderCustomUI&&ua.renderCustomUI(ma,sa,za)]})})},jv=function(A){var ma=A.elements,sa=A.appState,ha=A.actionManager,ua=A.exportOpts;
A=A.canvas;var za=da((0,ue.useState)(!1),2),Aa=za[0],Ha=za[1];za=ce().useCallback(function(){Ha(!1)},[]);return(0,Ra.jsxs)(Ra.Fragment,{children:[(0,Ra.jsx)(Ga,{onClick:function(){Ha(!0)},"data-testid":"json-export-button",icon:Dh,type:"button","aria-label":Wb("buttons.export"),showAriaLabel:om(),title:Wb("buttons.export")}),Aa&&(0,Ra.jsx)(Eq,{onCloseRequest:za,title:Wb("buttons.export"),children:(0,Ra.jsx)(iv,{elements:ma,appState:sa,actionManager:ha,onCloseRequest:za,exportOpts:ua,canvas:A})})]})},
kv=["suggestedBindings","startBoundElement"],lv=function(A){var ma=A.libraryItems,sa=A.onRemoveFromLibrary,ha=A.onAddToLibrary,ua=A.onInsertShape,za=A.pendingElements,Aa=A.theme,Ha=A.setAppState,Ua=A.setLibraryItems,Ya=A.libraryReturnUrl,ob=A.focusContainer,Bb=A.library,Rb=A.id;A=om()?4:6;var hc=Math.max(1,Math.ceil((ma.length+(0<za.length?1:0))/A)),mc=[],Tc=!1;Ya=Ya||window.location.origin+window.location.pathname;mc.push((0,Ra.jsxs)("div",{className:"layer-ui__library-header",children:[(0,Ra.jsx)(Ga,
{type:"button",title:Wb("buttons.load"),"aria-label":Wb("buttons.load"),icon:pc,onClick:function(){Ep(Bb).then(function(){Ha({isLibraryOpen:!1});Ha({isLibraryOpen:!0})}).catch(kk).catch(function(Zc){Ha({errorMessage:Zc.message})})}},"import"),!!ma.length&&(0,Ra.jsxs)(Ra.Fragment,{children:[(0,Ra.jsx)(Ga,{type:"button",title:Wb("buttons.export"),"aria-label":Wb("buttons.export"),icon:Dh,onClick:function(){Xo(Bb).catch(kk).catch(function(Zc){Ha({errorMessage:Zc.message})})}},"export"),(0,Ra.jsx)(Ga,
{type:"button",title:Wb("buttons.resetLibrary"),"aria-label":Wb("buttons.resetLibrary"),icon:be,onClick:function(){window.confirm(Wb("alerts.resetLibrary"))&&(Bb.resetLibrary(),Ua([]),ob())}},"reset")]}),(0,Ra.jsx)("a",{href:"https://libraries.excalidraw.com?target\x3d".concat(window.name||"_blank","\x26referrer\x3d").concat(Ya,"\x26useHash\x3dtrue\x26token\x3d").concat(Rb,"\x26theme\x3d").concat(Aa),target:"_excalidraw_libraries",children:Wb("labels.libraries")})]},"library-header"));for(Aa=0;Aa<
hc;Aa++){Ya=A*Aa;Rb=[];for(var Xc=0;Xc<A;Xc++){var Pc=0<za.length&&!Tc&&Ya+Xc>=ma.length;Tc=Tc||Pc;Rb.push((0,Ra.jsx)(Sc,{children:(0,Ra.jsx)(cv,{elements:ma[Ya+Xc],pendingElements:Pc?za:void 0,onRemoveFromLibrary:sa.bind(null,Ya+Xc),onClick:Pc?ha.bind(null,za):ua.bind(null,ma[Ya+Xc])})},Xc))}mc.push((0,Ra.jsx)(Gc,{align:"center",gap:1,children:Rb},Aa))}return(0,Ra.jsx)(Sc,{align:"start",gap:1,className:"layer-ui__library-items",children:mc})},mv=function(A){var ma=A.onClickOutside,sa=A.onInsertShape,
ha=A.pendingElements,ua=A.onAddToLibrary,za=A.theme,Aa=A.setAppState,Ha=A.libraryReturnUrl,Ua=A.focusContainer,Ya=A.library;A=A.id;var ob=(0,ue.useRef)(null);!function(Zc,Bd){(0,ue.useEffect)(function(){var Xd=function(kd){Zc.current&&(kd.target instanceof Element&&(Zc.current.contains(kd.target)||!document.body.contains(kd.target))||Bd(kd))};return document.addEventListener("pointerdown",Xd,!1),function(){document.removeEventListener("pointerdown",Xd)}},[Zc,Bd])}(ob,function(Zc){Zc.target.closest(".ToolIcon_type_button__library")||
ma(Zc)});var Bb=da((0,ue.useState)([]),2),Rb=Bb[0],hc=Bb[1],mc=da((0,ue.useState)("preloading"),2);Bb=mc[0];var Tc=mc[1],Xc=(0,ue.useRef)(null);(0,ue.useEffect)(function(){return Promise.race([new Promise(function(Zc){Xc.current=setTimeout(function(){Zc("loading")},100)}),Ya.loadLibrary().then(function(Zc){hc(Zc);Tc("ready")})]).then(function(Zc){"loading"===Zc&&Tc("loading")}),function(){clearTimeout(Xc.current)}},[Ya]);mc=(0,ue.useCallback)(function(){var Zc=(0,ff.Z)(Yd().mark(function kd(Xd){var qd,
Gd;return Yd().wrap(function(He){for(;;)switch(He.prev=He.next){case 0:return He.next=2,Ya.loadLibrary();case 2:qd=He.sent,Gd=qd.filter(function(Sg,ni){return ni!==Xd}),Ya.saveLibrary(Gd).catch(function(Sg){hc(qd);Aa({errorMessage:Wb("alerts.errorRemovingFromLibrary")})}),hc(Gd);case 6:case "end":return He.stop()}},kd)}));return function(Xd){return Zc.apply(this,arguments)}}(),[Ya,Aa]);var Pc=(0,ue.useCallback)(function(){var Zc=(0,ff.Z)(Yd().mark(function kd(Xd){var qd,Gd;return Yd().wrap(function(He){for(;;)switch(He.prev=
He.next){case 0:return He.next=2,Ya.loadLibrary();case 2:qd=He.sent,Gd=[].concat(N(qd),[Xd]),ua(),Ya.saveLibrary(Gd).catch(function(Sg){hc(qd);Aa({errorMessage:Wb("alerts.errorAddingToLibrary")})}),hc(Gd);case 7:case "end":return He.stop()}},kd)}));return function(Xd){return Zc.apply(this,arguments)}}(),[ua,Ya,Aa]);return"preloading"===Bb?null:(0,Ra.jsx)(qn,{padding:1,ref:ob,className:"layer-ui__library",children:"loading"===Bb?(0,Ra.jsx)("div",{className:"layer-ui__library-message",children:Wb("labels.libraryLoadingMessage")}):
(0,Ra.jsx)(lv,{libraryItems:Rb,onRemoveFromLibrary:mc,onAddToLibrary:Pc,onInsertShape:sa,pendingElements:ha,setAppState:Aa,setLibraryItems:hc,libraryReturnUrl:Ha,focusContainer:Ua,library:Ya,theme:za,id:A})})},nv=ce().memo(function(A){var ma,sa=A.actionManager,ha=A.appState,ua=A.setAppState,za=A.canvas,Aa=A.elements,Ha=A.onCollabButtonClick,Ua=A.onLockToggle,Ya=A.onInsertElements,ob=A.zenModeEnabled,Bb=A.showExitZenModeBtn,Rb=A.showThemeBtn,hc=A.toggleZenMode,mc=A.isCollaborating,Tc=A.renderTopRightUI,
Xc=A.renderCustomFooter,Pc=A.viewModeEnabled,Zc=A.libraryReturnUrl,Bd=A.UIOptions,Xd=A.focusContainer,kd=A.library,qd=A.id;A=om();var Gd=function(){return Bd.canvasActions.export?(0,Ra.jsx)(jv,{elements:Aa,appState:ha,actionManager:sa,exportOpts:Bd.canvasActions.export,canvas:za}):null},He=function(){if(!Bd.canvasActions.saveAsImage)return null;var ye=function(ah){return function(){var Wi=(0,ff.Z)(Yd().mark(function Fl(El){var Mf;return Yd().wrap(function(wg){for(;;)switch(wg.prev=wg.next){case 0:return wg.next=
2,uf(ah,El,ha,{exportBackground:ha.exportBackground,name:ha.name,viewBackgroundColor:ha.viewBackgroundColor}).catch(kk).catch(function(Gl){console.error(Gl);ua({errorMessage:Gl.message})});case 2:Mf=wg.sent,ha.exportEmbedScene&&Mf&&Yo(Mf)&&ua({fileHandle:Mf});case 4:case "end":return wg.stop()}},Fl)}));return function(El){return Wi.apply(this,arguments)}}()};return(0,Ra.jsx)(av,{elements:Aa,appState:ha,actionManager:sa,onExportToPng:ye("png"),onExportToSvg:ye("svg"),onExportToClipboard:ye("clipboard")})},
Sg=function(){return(0,Ra.jsx)("div",{style:{width:".625em"}})},ni=(0,ue.useCallback)(function(ye){ua({isLibraryOpen:!1})},[ua]),Ai=(0,ue.useCallback)(function(){ua({selectedElementIds:{},selectedGroupIds:{}})},[ua]),pf=ha.isLibraryOpen?(0,Ra.jsx)(mv,{pendingElements:Sf(Aa,ha),onClickOutside:ni,onInsertShape:Ya,onAddToLibrary:Ai,setAppState:ua,libraryReturnUrl:Zc,focusContainer:Xd,library:kd,theme:ha.theme,id:qd}):null;Ya=(0,Ra.jsxs)(Ra.Fragment,{children:[ha.isLoading&&(0,Ra.jsx)(Aj,{}),ha.errorMessage&&
(0,Ra.jsx)(qv,{message:ha.errorMessage,onClose:function(){return ua({errorMessage:null})}}),ha.showHelpDialog&&(0,Ra.jsx)(hv,{onClose:function(){ua({showHelpDialog:!1})}}),ha.pasteDialog.shown&&(0,Ra.jsx)(Vu,{setAppState:ua,appState:ha,onInsertChart:Ya,onClose:function(){return ua({pasteDialog:{shown:!1,data:null}})}})]});return A?(0,Ra.jsxs)(Ra.Fragment,{children:[Ya,(0,Ra.jsx)(Uu,{appState:ha,elements:Aa,actionManager:sa,libraryMenu:pf,renderJSONExportDialog:Gd,renderImageExportDialog:He,setAppState:ua,
onCollabButtonClick:Ha,onLockToggle:Ua,canvas:za,isCollaborating:mc,renderCustomFooter:Xc,viewModeEnabled:Pc,showThemeBtn:Rb})]}):(0,Ra.jsxs)("div",{className:Dc("layer-ui__wrapper",{"disable-pointerEvents":ha.draggingElement||ha.resizingElement||ha.editingElement&&!Xg(ha.editingElement)}),children:[Ya,(ma=wh(ha,Aa),(0,Ra.jsx)(ot,{side:"top",children:(0,Ra.jsxs)("div",{className:"App-menu App-menu_top",children:[(0,Ra.jsxs)(Sc,{gap:4,className:Dc({"disable-pointerEvents":ob}),children:[Pc?(0,Ra.jsx)(oo,
{heading:"canvasActions",className:Dc("zen-mode-transition",{"transition-left":ob}),children:(0,Ra.jsx)(qn,{padding:2,style:{zIndex:1},children:(0,Ra.jsx)(Sc,{gap:4,children:(0,Ra.jsxs)(Gc,{gap:1,justifyContent:"space-between",children:[Gd(),He()]})})})}):(0,Ra.jsx)(oo,{heading:"canvasActions",className:Dc("zen-mode-transition",{"transition-left":ob}),children:(0,Ra.jsx)(qn,{padding:2,style:{zIndex:1},children:(0,Ra.jsxs)(Sc,{gap:4,children:[(0,Ra.jsxs)(Gc,{gap:1,justifyContent:"space-between",children:[sa.renderAction("clearCanvas"),
(0,Ra.jsx)(Sg,{}),sa.renderAction("loadScene"),Gd(),He(),(0,Ra.jsx)(Sg,{}),Ha&&(0,Ra.jsx)(Et,{isCollaborating:mc,collaboratorCount:ha.collaborators.size,onClick:Ha})]}),(0,Ra.jsx)(ut,{actionManager:sa,appState:ha,setAppState:ua,showThemeBtn:Rb}),ha.fileHandle&&(0,Ra.jsx)(Ra.Fragment,{children:sa.renderAction("saveToActiveFile")})]})})}),ma&&(0,Ra.jsx)(oo,{heading:"selectedShapeActions",className:Dc("zen-mode-transition",{"transition-left":ob}),children:(0,Ra.jsx)(qn,{className:yc.$C.SHAPE_ACTIONS_MENU,
padding:2,style:{maxHeight:"".concat(ha.height-(ha.fileHandle?248:200),"px")},children:(0,Ra.jsx)(Gt,{appState:ha,elements:Aa,renderAction:sa.renderAction,elementType:ha.elementType})})})]}),!Pc&&(0,Ra.jsx)(oo,{heading:"shapes",children:function(ye){return(0,Ra.jsxs)(Sc,{gap:4,align:"start",children:[(0,Ra.jsxs)(Gc,{gap:1,children:[(0,Ra.jsx)(qt,{zenModeEnabled:ob,checked:ha.elementLocked,onChange:Ua,title:Wb("toolBar.lock")}),(0,Ra.jsxs)(qn,{padding:1,className:Dc({"zen-mode":ob}),children:[(0,Ra.jsx)(pt,
{appState:ha,elements:Aa}),ye,(0,Ra.jsx)(Gc,{gap:1,children:(0,Ra.jsx)(wt,{canvas:za,elementType:ha.elementType,setAppState:ua})})]}),(0,Ra.jsx)(lt,{appState:ha,setAppState:ua})]}),pf]})}}),(0,Ra.jsxs)("div",{className:Dc("layer-ui__wrapper__top-right zen-mode-transition",{"transition-right":ob}),children:[(0,Ra.jsx)(kt,{children:0<ha.collaborators.size&&Array.from(ha.collaborators).filter(function(ye){ye=da(ye,2);ye=(ye[0],ye[1]);return 0!==Object.keys(ye).length}).map(function(ye){ye=da(ye,2);var ah=
ye[0];return(0,Ra.jsx)(wf,{label:ye[1].username||"Unknown user",children:sa.renderAction("goToCollaborator",{id:ah})},ah)})}),null==Tc?void 0:Tc(A,ha)]})]})})),(0,Ra.jsxs)("footer",{role:"contentinfo",className:"layer-ui__wrapper__footer App-menu App-menu_bottom",children:[(0,Ra.jsx)("div",{className:Dc("layer-ui__wrapper__footer-left zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-left":ob}),children:(0,Ra.jsx)(Sc,{gap:2,children:(0,Ra.jsxs)(oo,{heading:"canvasActions",children:[(0,Ra.jsx)(qn,
{padding:1,children:(0,Ra.jsx)(uv,{renderAction:sa.renderAction,zoom:ha.zoom})}),!Pc&&(0,Ra.jsxs)("div",{className:Dc("undo-redo-buttons zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-bottom":ob}),children:[sa.renderAction("undo",{size:"small"}),sa.renderAction("redo",{size:"small"})]})]})})}),(0,Ra.jsx)("div",{className:Dc("layer-ui__wrapper__footer-center zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-bottom":ob}),children:null==Xc?void 0:Xc(!1,ha)}),(0,Ra.jsx)("div",
{className:Dc("layer-ui__wrapper__footer-right zen-mode-transition",{"transition-right disable-pointerEvents":ob}),children:sa.renderAction("toggleShortcuts")}),(0,Ra.jsx)("button",{className:Dc("disable-zen-mode",{"disable-zen-mode--visible":Bb}),onClick:hc,children:Wb("buttons.exitZenMode")})]}),ha.scrolledOutside&&(0,Ra.jsx)("button",{className:"scroll-back-to-content",onClick:function(){ua(function(ye){for(var ah=1;ah<arguments.length;ah++){var Wi=null!=arguments[ah]?arguments[ah]:{};ah%2?Ek(Object(Wi),
!0).forEach(function(rk){U(ye,rk,Wi[rk])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ye,Object.getOwnPropertyDescriptors(Wi)):Ek(Object(Wi)).forEach(function(rk){Object.defineProperty(ye,rk,Object.getOwnPropertyDescriptor(Wi,rk))})}return ye}({},Fg(Aa,ha)))},children:Wb("buttons.scrollBackToContent")})]})},function(A,ma){var sa=function(za){za.suggestedBindings;za.startBoundElement;return Za(za,kv)},ha=sa(A.appState),ua=sa(ma.appState);sa=Object.keys(ha);return A.renderCustomFooter===
ma.renderCustomFooter&&A.langCode===ma.langCode&&A.elements===ma.elements&&sa.every(function(za){return ha[za]===ua[za]})}),ov=(e(1528),function(A){var ma,sa=om(),ha=Bg(A.elements),ua=Kh(A.elements,A.appState),za=Bg(ua);return sa&&A.appState.openMenu?null:(0,Ra.jsx)("div",{className:"Stats",children:(0,Ra.jsxs)(qn,{padding:2,children:[(0,Ra.jsx)("div",{className:"close",onClick:A.onClose,children:Om}),(0,Ra.jsx)("h3",{children:Wb("stats.title")}),(0,Ra.jsx)("table",{children:(0,Ra.jsxs)("tbody",{children:[(0,Ra.jsx)("tr",
{children:(0,Ra.jsx)("th",{colSpan:2,children:Wb("stats.scene")})}),(0,Ra.jsxs)("tr",{children:[(0,Ra.jsx)("td",{children:Wb("stats.elements")}),(0,Ra.jsx)("td",{children:A.elements.length})]}),(0,Ra.jsxs)("tr",{children:[(0,Ra.jsx)("td",{children:Wb("stats.width")}),(0,Ra.jsx)("td",{children:Math.round(ha[2])-Math.round(ha[0])})]}),(0,Ra.jsxs)("tr",{children:[(0,Ra.jsx)("td",{children:Wb("stats.height")}),(0,Ra.jsx)("td",{children:Math.round(ha[3])-Math.round(ha[1])})]}),1===ua.length&&(0,Ra.jsx)("tr",
{children:(0,Ra.jsx)("th",{colSpan:2,children:Wb("stats.element")})}),1<ua.length&&(0,Ra.jsxs)(Ra.Fragment,{children:[(0,Ra.jsx)("tr",{children:(0,Ra.jsx)("th",{colSpan:2,children:Wb("stats.selected")})}),(0,Ra.jsxs)("tr",{children:[(0,Ra.jsx)("td",{children:Wb("stats.elements")}),(0,Ra.jsx)("td",{children:ua.length})]})]}),0<ua.length&&(0,Ra.jsxs)(Ra.Fragment,{children:[(0,Ra.jsxs)("tr",{children:[(0,Ra.jsx)("td",{children:"x"}),(0,Ra.jsx)("td",{children:Math.round(za[0])})]}),(0,Ra.jsxs)("tr",{children:[(0,Ra.jsx)("td",
{children:"y"}),(0,Ra.jsx)("td",{children:Math.round(za[1])})]}),(0,Ra.jsxs)("tr",{children:[(0,Ra.jsx)("td",{children:Wb("stats.width")}),(0,Ra.jsx)("td",{children:Math.round(za[2]-za[0])})]}),(0,Ra.jsxs)("tr",{children:[(0,Ra.jsx)("td",{children:Wb("stats.height")}),(0,Ra.jsx)("td",{children:Math.round(za[3]-za[1])})]})]}),1===ua.length&&(0,Ra.jsxs)("tr",{children:[(0,Ra.jsx)("td",{children:Wb("stats.angle")}),(0,Ra.jsx)("td",{children:"".concat(Math.round(180*ua[0].angle/Math.PI),"Â°")})]}),null===
(ma=A.renderCustomStats)||void 0===ma?void 0:ma.call(A,A.elements,A.appState)]})})]})})}),pv=(e(9757),function(A){var ma=A.message,sa=A.clearToast,ha=(0,ue.useRef)(0),ua=(0,ue.useCallback)(function(){return ha.current=window.setTimeout(function(){return sa()},yc.Lg)},[sa]);return(0,ue.useEffect)(function(){return ua(),function(){return clearTimeout(ha.current)}},[ua,ma]),(0,Ra.jsx)("div",{className:"Toast",onMouseEnter:function(){return clearTimeout(null==ha?void 0:ha.current)},onMouseLeave:ua,children:(0,Ra.jsx)("p",
{className:"Toast__message",children:ma})})}),st=we({name:"viewMode",perform:function(A,ma){return Lh("view","mode","view"),{appState:ql(ql({},ma),{},{viewModeEnabled:!this.checked(ma)}),commitToHistory:!1}},checked:function(A){return A.viewModeEnabled},contextItemLabel:"labels.viewMode",keyTest:function(A){return!A[Af]&&A.altKey&&"KeyR"===A.code}}),tt=ce().createContext(!1),om=function(){return(0,ue.useContext)(tt)},jt=ce().createContext({container:null,id:null}),Ip=function(){return(0,ue.useContext)(jt)},
Bq=!1,ls=0,Jp=0,Kp=0,ap=!1,Cq=!1,ms=!1,ns={horizontal:null,vertical:null},no=0,Dq=!1,mo=null,zl=new Map,Gp=null,pr=null,Hp=null,ks=function(A){function ma(za){k(this,ma);var Aa=ua.call(this,za);Su.call(y(Aa));var Ha,Ua,Ya,ob,Bb=Ij(),Rb=za.excalidrawRef,hc=za.viewModeEnabled;hc=void 0!==hc&&hc;var mc=za.zenModeEnabled;mc=void 0!==mc&&mc;var Tc=za.gridModeEnabled;Tc=void 0!==Tc&&Tc;var Xc=za.theme;Xc=void 0===Xc?Bb.theme:Xc;za=za.name;za=void 0===za?Bb.name:za;if(Aa.state=Wd(Wd(Wd({},Bb),{},{theme:Xc,
isLoading:!0},Aa.getCanvasOffsets()),{},{viewModeEnabled:hc,zenModeEnabled:mc,gridSize:Tc?yc.k:null,name:za,width:window.innerWidth,height:window.innerHeight}),Aa.id=dk(),Rb){var Pc;Bb="current"in Rb&&(null===(Pc=Rb.current)||void 0===Pc?void 0:Pc.readyPromise)||((Ya=new Promise(function(Zc,Bd){Ha=Zc;Ua=Bd})).resolve=Ha,Ya.reject=Ua,Ya);Ya={ready:!0,readyPromise:Bb,updateScene:Aa.updateScene,resetScene:Aa.resetScene,getSceneElementsIncludingDeleted:Aa.getSceneElementsIncludingDeleted,history:{clear:Aa.resetHistory},
scrollToContent:Aa.scrollToContent,getSceneElements:Aa.getSceneElements,getAppState:function(){return Aa.state},refresh:Aa.refresh,importLibrary:Aa.importLibraryFromUrl,setToastMessage:Aa.setToastMessage,id:Aa.id};"function"==typeof Rb?Rb(Ya):Rb.current=Ya;Bb.resolve(Ya)}return Aa.excalidrawContainerValue={container:Aa.excalidrawContainerRef.current,id:Aa.id},Aa.scene=new Ph,Aa.library=new zv(y(Aa)),Aa.history=new wv,Aa.actionManager=new vv(Aa.syncActionResult,function(){return Aa.state},function(){return Aa.scene.getElementsIncludingDeleted()},
y(Aa)),Aa.actionManager.registerAll(zm),Aa.actionManager.registerAction((ob=Aa.history,{name:"undo",perform:function(Zc,Bd){return vt(Zc,Bd,function(){return ob.undoOnce()})},keyTest:function(Zc){return Zc[Af]&&"z"===Zc.key.toLowerCase()&&!Zc.shiftKey},PanelComponent:function(Zc){var Bd=Zc.updateData;Zc=Zc.data;return(0,Ra.jsx)(Ga,{type:"button",icon:ig,"aria-label":Wb("buttons.undo"),onClick:Bd,size:(null==Zc?void 0:Zc.size)||"medium"})},commitToHistory:function(){return!1}})),Aa.actionManager.registerAction(function(Zc){return{name:"redo",
perform:function(Bd,Xd){return vt(Bd,Xd,function(){return Zc.redoOnce()})},keyTest:function(Bd){return Bd[Af]&&Bd.shiftKey&&"z"===Bd.key.toLowerCase()||nj&&Bd.ctrlKey&&!Bd.shiftKey&&"y"===Bd.key},PanelComponent:function(Bd){var Xd=Bd.updateData;Bd=Bd.data;return(0,Ra.jsx)(Ga,{type:"button",icon:Xf,"aria-label":Wb("buttons.redo"),onClick:Xd,size:(null==Bd?void 0:Bd.size)||"medium"})},commitToHistory:function(){return!1}}}(Aa.history)),Aa}L(ma,A);var sa,ha,ua=Pe(ma);return z(ma,[{key:"renderCanvas",
value:function(){var za=window.devicePixelRatio,Aa=this.state,Ha=Aa.width,Ua=Aa.height,Ya=Ha*za;za*=Ua;return Aa.viewModeEnabled?(0,Ra.jsx)("canvas",{className:"excalidraw__canvas",style:{width:Ha,height:Ua,cursor:yc.oc.GRAB},width:Ya,height:za,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.removePointer,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,onPointerDown:this.handleCanvasPointerDown,children:Wb("labels.drawingCanvas")}):
(0,Ra.jsx)("canvas",{className:"excalidraw__canvas",style:{width:Ha,height:Ua},width:Ya,height:za,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerDown:this.handleCanvasPointerDown,onDoubleClick:this.handleCanvasDoubleClick,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.removePointer,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,children:Wb("labels.drawingCanvas")})}},{key:"render",value:function(){var za,Aa,Ha=this,Ua=this.state,Ya=Ua.zenModeEnabled;
Ua=Ua.viewModeEnabled;var ob=this.props,Bb=ob.onCollabButtonClick,Rb=ob.renderTopRightUI,hc=ob.renderFooter;ob=ob.renderCustomStats;return(0,Ra.jsx)("div",{className:Dc("excalidraw excalidraw-container",{"excalidraw--view-mode":Ua,"excalidraw--mobile":this.isMobile}),ref:this.excalidrawContainerRef,onDrop:this.handleAppOnDrop,tabIndex:0,onKeyDown:this.props.handleKeyboardGlobally?void 0:this.onKeyDown,children:(0,Ra.jsx)(jt.Provider,{value:this.excalidrawContainerValue,children:(0,Ra.jsxs)(tt.Provider,
{value:this.isMobile,children:[(0,Ra.jsx)(nv,{canvas:this.canvas,appState:this.state,setAppState:this.setAppState,actionManager:this.actionManager,elements:this.scene.getElements(),onCollabButtonClick:Bb,onLockToggle:this.toggleLock,onInsertElements:function(mc){return Ha.addElementsFromPasteOrLibrary({elements:mc,position:"center"})},zenModeEnabled:Ya,toggleZenMode:this.toggleZenMode,langCode:Cg.code,isCollaborating:this.props.isCollaborating||!1,renderTopRightUI:Rb,renderCustomFooter:hc,viewModeEnabled:Ua,
showExitZenModeBtn:void 0===(null===(za=this.props)||void 0===za?void 0:za.zenModeEnabled)&&Ya,showThemeBtn:void 0===(null===(Aa=this.props)||void 0===Aa?void 0:Aa.theme)&&this.props.UIOptions.canvasActions.theme,libraryReturnUrl:this.props.libraryReturnUrl,UIOptions:this.props.UIOptions,focusContainer:this.focusContainer,library:this.library,id:this.id}),(0,Ra.jsx)("div",{className:"excalidraw-textEditorContainer"}),(0,Ra.jsx)("div",{className:"excalidraw-contextMenuContainer"}),this.state.showStats&&
(0,Ra.jsx)(ov,{appState:this.state,setAppState:this.setAppState,elements:this.scene.getElements(),onClose:this.toggleStats,renderCustomStats:ob}),null!==this.state.toastMessage&&(0,Ra.jsx)(pv,{message:this.state.toastMessage,clearToast:this.clearToast}),(0,Ra.jsx)("main",{children:this.renderCanvas()})]})})})}},{key:"componentDidMount",value:(ha=(0,ff.Z)(Yd().mark(function Aa(){var Ha,Ua,Ya,ob,Bb=this;return Yd().wrap(function(Rb){for(;;)switch(Rb.prev=Rb.next){case 0:this.excalidrawContainerValue.container=
this.excalidrawContainerRef.current,"production"!==yc.Vi.TEST&&"production"!==yc.Vi.DEVELOPMENT||(this.setState.bind(this),Object.defineProperties(window.h,{state:{configurable:!0,get:function(){return Bb.state}},setState:{configurable:!0,value:function(){return Bb.setState.apply(Bb,arguments)}},app:{configurable:!0,value:this},history:{configurable:!0,value:this.history}})),this.scene.addCallback(this.onSceneUpdated),this.addEventListeners(),this.excalidrawContainerRef.current&&this.focusContainer(),
"ResizeObserver"in window&&null!==(Ha=this.excalidrawContainerRef)&&void 0!==Ha&&Ha.current?(this.resizeObserver=new ResizeObserver(function(){var hc=Bb.excalidrawContainerRef.current.getBoundingClientRect(),mc=hc.width;hc=hc.height;Bb.isMobile=mc<yc.kV||hc<yc.Yx&&mc<yc.sS;Bb.updateDOMRect()}),null===(Ua=this.resizeObserver)||void 0===Ua||Ua.observe(this.excalidrawContainerRef.current)):window.matchMedia&&(Ya=window.matchMedia("(max-width: ".concat(yc.kV,"px), (max-height: ").concat(yc.Yx,"px) and (max-width: ").concat(yc.sS,
"px)")),ob=function(){return Bb.isMobile=Ya.matches},Ya.addListener(ob),this.detachIsMobileMqHandler=function(){return Ya.removeListener(ob)}),(new URLSearchParams(window.location.search.slice(1))).has("web-share-target")?this.restoreFileFromShare():this.updateDOMRect(this.initializeScene);case 8:case "end":return Rb.stop()}},Aa,this)})),function(){return ha.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){var Aa;null===(Aa=this.resizeObserver)||void 0===Aa||Aa.disconnect();this.unmounted=
!0;this.removeEventListeners();this.scene.destroy();clearTimeout(no);no=0}},{key:"removeEventListeners",value:function(){var Aa,Ha;document.removeEventListener(yc.Ks.POINTER_UP,this.removePointer);document.removeEventListener(yc.Ks.COPY,this.onCopy);document.removeEventListener(yc.Ks.PASTE,this.pasteFromClipboard);document.removeEventListener(yc.Ks.CUT,this.onCut);null===(Aa=this.nearestScrollableContainer)||void 0===Aa||Aa.removeEventListener(yc.Ks.SCROLL,this.onScroll);document.removeEventListener(yc.Ks.KEYDOWN,
this.onKeyDown,!1);document.removeEventListener(yc.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition,!1);document.removeEventListener(yc.Ks.KEYUP,this.onKeyUp);window.removeEventListener(yc.Ks.RESIZE,this.onResize,!1);window.removeEventListener(yc.Ks.UNLOAD,this.onUnload,!1);window.removeEventListener(yc.Ks.BLUR,this.onBlur,!1);window.removeEventListener(yc.Ks.DRAG_OVER,this.disableEvent,!1);window.removeEventListener(yc.Ks.DROP,this.disableEvent,!1);document.removeEventListener(yc.Ks.GESTURE_START,
this.onGestureStart,!1);document.removeEventListener(yc.Ks.GESTURE_CHANGE,this.onGestureChange,!1);document.removeEventListener(yc.Ks.GESTURE_END,this.onGestureEnd,!1);null===(Ha=this.detachIsMobileMqHandler)||void 0===Ha||Ha.call(this)}},{key:"addEventListeners",value:function(){var Aa,Ha;this.removeEventListeners();document.addEventListener(yc.Ks.POINTER_UP,this.removePointer);document.addEventListener(yc.Ks.COPY,this.onCopy);this.props.handleKeyboardGlobally&&document.addEventListener(yc.Ks.KEYDOWN,
this.onKeyDown,!1);document.addEventListener(yc.Ks.KEYUP,this.onKeyUp,{passive:!0});document.addEventListener(yc.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition);null===(Aa=document.fonts)||void 0===Aa||null===(Ha=Aa.addEventListener)||void 0===Ha||Ha.call(Aa,"loadingdone",this.onFontLoaded);document.addEventListener(yc.Ks.GESTURE_START,this.onGestureStart,!1);document.addEventListener(yc.Ks.GESTURE_CHANGE,this.onGestureChange,!1);document.addEventListener(yc.Ks.GESTURE_END,this.onGestureEnd,!1);if(!this.state.viewModeEnabled){document.addEventListener(yc.Ks.PASTE,
this.pasteFromClipboard);document.addEventListener(yc.Ks.CUT,this.onCut);if(this.props.detectScroll){a:{for(Aa=this.excalidrawContainerRef.current.parentElement;Aa;){if(Aa===document.body){Aa=document;break a}Ha=window.getComputedStyle(Aa).overflowY;if(Aa.scrollHeight>Aa.clientHeight&&("auto"===Ha||"scroll"===Ha))break a;Aa=Aa.parentElement}Aa=document}this.nearestScrollableContainer=Aa;this.nearestScrollableContainer.addEventListener(yc.Ks.SCROLL,this.onScroll)}window.addEventListener(yc.Ks.RESIZE,
this.onResize,!1);window.addEventListener(yc.Ks.UNLOAD,this.onUnload,!1);window.addEventListener(yc.Ks.BLUR,this.onBlur,!1);window.addEventListener(yc.Ks.DRAG_OVER,this.disableEvent,!1);window.addEventListener(yc.Ks.DROP,this.disableEvent,!1)}}},{key:"componentDidUpdate",value:function(Aa,Ha){var Ua,Ya,ob=this;Aa.langCode!==this.props.langCode&&this.updateLanguage();Aa.viewModeEnabled!==this.props.viewModeEnabled&&this.setState({viewModeEnabled:!!this.props.viewModeEnabled});Ha.viewModeEnabled!==
this.state.viewModeEnabled&&(this.addEventListeners(),this.deselectElements());Aa.zenModeEnabled!==this.props.zenModeEnabled&&this.setState({zenModeEnabled:!!this.props.zenModeEnabled});Aa.theme!==this.props.theme&&this.props.theme&&this.setState({theme:this.props.theme});Aa.gridModeEnabled!==this.props.gridModeEnabled&&this.setState({gridSize:this.props.gridModeEnabled?yc.k:null});this.props.name&&Aa.name!==this.props.name&&this.setState({name:this.props.name});null===(Ua=this.excalidrawContainerRef.current)||
void 0===Ua||Ua.classList.toggle("theme--dark","dark"===this.state.theme);this.state.editingLinearElement&&!this.state.selectedElementIds[this.state.editingLinearElement.elementId]&&setTimeout(function(){ob.actionManager.executeAction($f)});Aa=Ha.multiElement;Ha.elementType!==this.state.elementType&&null!=Aa&&this.state.isBindingEnabled&&Wg(Aa)&&ng(Aa,this.state,this.scene,Hj(dd.getPointAtIndexGlobalCoordinates(Aa,-1)));var Bb={},Rb={},hc={},mc={},Tc={};this.state.collaborators.forEach(function(Zc,
Bd){if(Zc.selectedElementIds)for(var Xd=0,kd=Object.keys(Zc.selectedElementIds);Xd<kd.length;Xd++){var qd=kd[Xd];qd in hc||(hc[qd]=[]);hc[qd].push(Bd)}Zc.pointer&&(Zc.username&&(mc[Bd]=Zc.username),Zc.userState&&(Tc[Bd]=Zc.userState),Rb[Bd]=hk({sceneX:Zc.pointer.x,sceneY:Zc.pointer.y},ob.state),Bb[Bd]=Zc.button)});Ha=this.scene.getElements();Ua=Si(Ha.filter(function(Zc){return!ob.state.editingElement||"text"!==ob.state.editingElement.type||Zc.id!==ob.state.editingElement.id}),this.state,this.state.selectionElement,
window.devicePixelRatio,this.rc,this.canvas,{scrollX:this.state.scrollX,scrollY:this.state.scrollY,viewBackgroundColor:this.state.viewBackgroundColor,zoom:this.state.zoom,remotePointerViewportCoords:Rb,remotePointerButton:Bb,remoteSelectedElementIds:hc,remotePointerUsernames:mc,remotePointerUserStates:Tc,shouldCacheIgnoreZoom:this.state.shouldCacheIgnoreZoom},{renderOptimizations:!0,renderScrollbars:!this.isMobile});Aa=Ua.atLeastOneVisibleElement;(Ua=Ua.scrollBars)&&(ns=Ua);var Xc,Pc;Ua="text"!==
(null===(Ya=this.state.editingElement)||void 0===Ya?void 0:Ya.type)&&!Aa&&0<Ha.length;(this.state.scrolledOutside!==Ua&&this.setState({scrolledOutside:Ua}),this.history.record(this.state,this.scene.getElementsIncludingDeleted()),this.state.isLoading)||null===(Xc=(Pc=this.props).onChange)||void 0===Xc||Xc.call(Pc,this.scene.getElementsIncludingDeleted(),this.state)}},{key:"addTextFromPaste",value:function(Aa){var Ha=hh({clientX:Jp,clientY:Kp},this.state);Aa=Eg({x:Ha.x,y:Ha.y,strokeColor:this.state.currentItemStrokeColor,
backgroundColor:this.state.currentItemBackgroundColor,fillStyle:this.state.currentItemFillStyle,strokeWidth:this.state.currentItemStrokeWidth,strokeStyle:this.state.currentItemStrokeStyle,roughness:this.state.currentItemRoughness,opacity:this.state.currentItemOpacity,strokeSharpness:this.state.currentItemStrokeSharpness,text:Aa,fontSize:this.state.currentItemFontSize,fontFamily:this.state.currentItemFontFamily,textAlign:this.state.currentItemTextAlign,verticalAlign:yc.hs});this.scene.replaceAllElements([].concat(N(this.scene.getElementsIncludingDeleted()),
[Aa]));this.setState({selectedElementIds:U({},Aa.id,!0)});this.history.resumeRecording()}},{key:"selectShapeTool",value:function(Aa){var Ha;ap||si(this.canvas,Aa);(Ha=document.activeElement)instanceof HTMLElement&&Ha.className.includes("ToolIcon")&&this.focusContainer();oj(Aa)||this.setState({suggestedBindings:[]});"selection"!==Aa?this.setState({elementType:Aa,selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}):this.setState({elementType:Aa})}},{key:"handleTextWysiwyg",value:function(Aa,
Ha){var Ua=this;Ha=Ha.isExistingElement;var Ya=void 0!==Ha&&Ha,ob=function(Bb){var Rb=1<arguments.length&&void 0!==arguments[1]&&arguments[1];Ua.scene.replaceAllElements(N(Ua.scene.getElementsIncludingDeleted().map(function(hc){if(hc.id===Aa.id&&Xg(hc)){var mc={text:Bb,isDeleted:null!=Rb?Rb:hc.isDeleted},Tc=Vl(Bb,jk(hc));var Xc=Tc.width;var Pc=Tc.height;Tc=Tc.baseline;var Zc=hc.textAlign;var Bd=hc.verticalAlign;if("center"===Zc&&"middle"===Bd)Zc=Vl(hc.text,jk(hc)),Bd=kl(hc,{width:Xc-Zc.width,height:Pc-
Zc.height}),Zc=hc.x-Bd.x,Bd=hc.y-Bd.y;else{var Xd=da(Vf(hc),4);Bd=Xd[0];var kd=Xd[1],qd=Xd[2];Xd=Xd[3];var Gd=da(Re(hc,Xc,Pc),4);Bd=da(qi({s:!0,e:"center"===Zc||"left"===Zc,w:"center"===Zc||"right"===Zc},hc.x,hc.y,hc.angle,(Bd-Gd[0])/2,(kd-Gd[1])/2,(qd-Gd[2])/2,(Xd-Gd[3])/2),2);Zc=Bd[0];Bd=Bd[1]}Xc={width:Xc,height:Pc,x:Number.isFinite(Zc)?Zc:hc.x,y:Number.isFinite(Bd)?Bd:hc.y,baseline:Tc};hc=cf(hc,Rc(mc,Xc))}return hc})))};!function(Bb){var Rb=Bb.id,hc=Bb.appState,mc=Bb.onChange,Tc=Bb.onSubmit,Xc=
Bb.getViewportCoords,Pc=Bb.element,Zc=Bb.canvas,Bd=Bb.excalidrawContainer,Xd=function(){var Mf,wg=null===(Mf=Ph.getScene(Pc))||void 0===Mf?void 0:Mf.getElement(Rb);if(wg&&Xg(wg)){Mf=da(Xc(wg.x,wg.y),2);var Gl=Mf[0],sk=Mf[1];Mf=wg.textAlign;var Sk=wg.angle;kd.value=wg.text;var bm=wg.text.replace(/\r\n?/g,"\n").split("\n"),Lm=wg.height/bm.length;bm=(hc.offsetLeft+hc.width-Gl-8)/hc.zoom.value-Number(getComputedStyle(null==Bd?void 0:Bd.parentNode).marginRight.slice(0,-2));var Yp=Object,Wv=Yp.assign,Vv=
kd.style,Tv=jk(wg);Lm="".concat(Lm,"px");var Uv="".concat(wg.width,"px"),Rv="".concat(wg.height,"px");Gl="".concat(Gl,"px");sk="".concat(sk,"px");var wr=wg.width;var Pq=hc.zoom;Sk=180*Sk/Math.PI;var Rt=(wr-2*hc.offsetLeft)*(Pq.value-1)/2,Qv=(wg.height-2*hc.offsetTop)*(Pq.value-1)/2;wr=(wr>bm&&1!==Pq.value&&(Rt=bm/2*(Pq.value-1)),"translate(".concat(Rt,"px, ").concat(Qv,"px) scale(").concat(Pq.value,") rotate(").concat(Sk,"deg)"));Wv.call(Yp,Vv,{font:Tv,lineHeight:Lm,width:Uv,height:Rv,left:Gl,top:sk,
transform:wr,textAlign:Mf,color:wg.strokeColor,opacity:wg.opacity/100,filter:"var(--theme-filter)",maxWidth:"".concat(bm,"px")})}},kd=document.createElement("textarea");kd.dir="auto";kd.tabIndex=0;kd.dataset.type="wysiwyg";kd.wrap="off";Object.assign(kd.style,{position:"absolute",display:"inline-block",minHeight:"1em",backfaceVisibility:"hidden",margin:0,padding:0,border:0,outline:0,resize:"none",background:"transparent",overflow:"hidden",whiteSpace:"pre",zIndex:"var(--zIndex-wysiwyg)"});Xd();mc&&
(kd.oninput=function(){mc(Ak(kd.value))});kd.onkeydown=function(Mf){(Mf.stopPropagation(),"Escape"===Mf.key)?(Mf.preventDefault(),pf=!0,ye()):"Enter"===Mf.key&&Mf[Af]?(Mf.preventDefault(),Mf.isComposing||229===Mf.keyCode)||(pf=!0,ye()):("Tab"===Mf.key||Mf[Af]&&("BracketLeft"===Mf.code||"BracketRight"===Mf.code))&&(Mf.preventDefault(),Mf.shiftKey||"BracketLeft"===Mf.code?Sg():He(),kd.dispatchEvent(new Event("input")))};var qd=" ".repeat(4),Gd=new RegExp("^ {1,".concat(4,"}")),He=function(){var Mf=
kd.selectionStart,wg=kd.selectionEnd,Gl=ni(),sk=kd.value;Gl.forEach(function(Sk){var bm=sk.slice(0,Sk);Sk=sk.slice(Sk);sk="".concat(bm).concat(qd).concat(Sk)});kd.value=sk;kd.selectionStart=Mf+4;kd.selectionEnd=wg+4*Gl.length},Sg=function(){var Mf=kd.selectionStart,wg=kd.selectionEnd,Gl=ni(),sk=[],Sk=kd.value;Gl.forEach(function(bm){var Lm=Sk.slice(bm,bm+4).match(Gd);if(Lm){var Yp=Sk.slice(0,bm);Lm=Sk.slice(bm+Lm[0].length);Sk="".concat(Yp).concat(Lm);sk.push(bm)}});kd.value=Sk;sk.length&&(Mf>sk[sk.length-
1]?kd.selectionStart=Math.max(Mf-4,sk[sk.length-1]):kd.selectionStart=Mf,kd.selectionEnd=Math.max(kd.selectionStart,wg-4*sk.length))},ni=function(){var Mf=kd.selectionStart,wg=kd.selectionEnd,Gl=kd.value,sk=Gl.slice(0,Mf).match(/[^\n]*$/)[0].length;return Mf-=sk,Gl.slice(Mf,wg).split("\n").reduce(function(Sk,bm,Lm,Yp){return Sk.concat(Lm?Sk[Lm-1]+Yp[Lm-1].length+1:Mf)},[]).reverse()},Ai=function(Mf){Mf.preventDefault();Mf.stopPropagation()},pf=!1,ye=function(){El||(El=!0,kd.onblur=null,kd.oninput=
null,kd.onkeydown=null,Fl&&Fl.disconnect(),window.removeEventListener("resize",Xd),window.removeEventListener("wheel",Ai,!0),window.removeEventListener("pointerdown",Wi),window.removeEventListener("pointerup",ah),window.removeEventListener("blur",ye),rk(),kd.remove());Tc({text:Ak(kd.value),viaKeyboard:pf})},ah=function wg(){window.removeEventListener("pointerup",wg);setTimeout(function(){kd.onblur=ye;kd.focus()})},Wi=function(wg){(wg.target instanceof HTMLElement||wg.target instanceof SVGElement)&&
wg.target.closest(".".concat(yc.$C.SHAPE_ACTIONS_MENU))&&!Dj(wg.target)&&(kd.onblur=null,window.addEventListener("pointerup",ah),window.addEventListener("blur",ye))},rk=Ph.getScene(Pc).addCallback(function(){Xd();kd.focus()}),El=!1;kd.select();ah();var Fl=null;Zc&&"ResizeObserver"in window?(Fl=new window.ResizeObserver(function(){Xd()})).observe(Zc):window.addEventListener("resize",Xd);window.addEventListener("pointerdown",Wi);window.addEventListener("wheel",Ai,{passive:!1,capture:!0});null==Bd||
Bd.querySelector(".excalidraw-textEditorContainer").appendChild(kd)}({id:Aa.id,appState:this.state,canvas:this.canvas,getViewportCoords:function(Bb,Rb){Bb=hk({sceneX:Bb,sceneY:Rb},Ua.state);return[Bb.x-Ua.state.offsetLeft,Bb.y-Ua.state.offsetTop]},onChange:ag(function(Bb){ob(Bb);!Aa.isDeleted&&Di(Aa)}),onSubmit:ag(function(Bb){var Rb=Bb.text;Bb=Bb.viaKeyboard;var hc=!Rb.trim();ob(Rb,hc);!hc&&Bb&&Ua.setState(function(mc){return{selectedElementIds:Wd(Wd({},mc.selectedElementIds),{},U({},Aa.id,!0))}});
hc&&Ll(Ua.scene.getElements(),[Aa]);hc&&!Ya||Ua.history.resumeRecording();Ua.setState({draggingElement:null,editingElement:null});Ua.state.elementLocked&&si(Ua.canvas,Ua.state.elementType);Ua.focusContainer()}),element:Aa,excalidrawContainer:this.excalidrawContainerRef.current});this.deselectElements();ob(Aa.text)}},{key:"deselectElements",value:function(){this.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})}},{key:"getTextElementAtPosition",value:function(Aa,Ha){return(Aa=
this.getElementAtPosition(Aa,Ha))&&Xg(Aa)&&!Aa.isDeleted?Aa:null}},{key:"getElementAtPosition",value:function(Aa,Ha,Ua){var Ya=this.getElementsAtPosition(Aa,Ha);if(1<Ya.length){if(null!=Ua&&Ua.preferSelected)for(Ua=Ya.length-1;-1<Ua;Ua--)if(this.state.selectedElementIds[Ya[Ua].id])return Ya[Ua];Ua=Ya[Ya.length-1];return Xi(Ua,this.state,Aa,Ha)?Ya[Ya.length-2]:Ua}return 1===Ya.length?Ya[0]:null}},{key:"getElementsAtPosition",value:function(Aa,Ha){var Ua,Ya,ob=this;return Ua=this.scene.getElements(),
Ya=function(Bb){var Rb=ob.state,hc=10/Rb.zoom.value,mc=[Aa,Ha];return Rb.selectedElementIds[Bb.id]?eg(Bb,mc,hc):Nk(Bb,Rb,mc)},Ua.filter(function(Bb){return!Bb.isDeleted&&Ya(Bb)})}},{key:"maybeCleanupAfterMissingPointerUp",value:function(Aa){null!==mo&&mo(Aa)}},{key:"updateGestureOnPointerDown",value:function(Aa){zl.set(Aa.pointerId,{x:Aa.clientX,y:Aa.clientY});2===zl.size&&(Gp=yt(zl),Hp=this.state.zoom.value,pr=zt(Array.from(zl.values())))}},{key:"initialPointerDownState",value:function(Aa){var Ha=
hh(Aa,this.state),Ua=Sf(this.scene.getElements(),this.state),Ya=da(Bg(Ua),4),ob=Ya[0],Bb=Ya[1],Rb=Ya[2];Ya=Ya[3];return{origin:Ha,withCmdOrCtrl:Aa[Af],originInGrid:Hj(Ch(Ha.x,Ha.y,this.state.gridSize)),scrollbars:Yg(ns,Aa.clientX-this.state.offsetLeft,Aa.clientY-this.state.offsetTop),lastCoords:Wd({},Ha),originalElements:this.scene.getElements().reduce(function(hc,mc){return hc.set(mc.id,Wf(mc)),hc},new Map),resize:{handleType:!1,isResizing:!1,offset:{x:0,y:0},arrowDirection:"origin",center:{x:(Rb+
ob)/2,y:(Ya+Bb)/2}},hit:{element:null,allHitElements:[],wasAddedToSelection:!1,hasBeenDuplicated:!1,hasHitCommonBoundingBoxOfSelectedElements:this.isHittingCommonBoundingBoxOfSelectedElements(Ha,Ua)},drag:{hasOccurred:!1,offset:null},eventListeners:{onMove:null,onUp:null,onKeyUp:null,onKeyDown:null}}}},{key:"handleDraggingScrollBar",value:function(Aa,Ha){var Ua=this;if(!Ha.scrollbars.isOverEither||this.state.multiElement)return!1;ms=!0;Ha.lastCoords.x=Aa.clientX;Ha.lastCoords.y=Aa.clientY;var Ya=
ag(function(Bb){Bb.target instanceof HTMLElement&&Ua.handlePointerMoveOverScrollbars(Bb,Ha)}),ob=ag(function(){ms=!1;si(Ua.canvas,Ua.state.elementType);mo=null;Ua.setState({cursorButton:"up"});Ua.savePointer(Aa.clientX,Aa.clientY,"up");window.removeEventListener(yc.Ks.POINTER_MOVE,Ya);window.removeEventListener(yc.Ks.POINTER_UP,ob)});return mo=ob,window.addEventListener(yc.Ks.POINTER_MOVE,Ya),window.addEventListener(yc.Ks.POINTER_UP,ob),!0}},{key:"isASelectedElement",value:function(Aa){return null!=
Aa&&this.state.selectedElementIds[Aa.id]}},{key:"isHittingCommonBoundingBoxOfSelectedElements",value:function(Aa,Ha){if(2>Ha.length)return!1;var Ua=10/this.state.zoom.value;Ha=da(Bg(Ha),4);var Ya=Ha[1],ob=Ha[2],Bb=Ha[3];return Aa.x>Ha[0]-Ua&&Aa.x<ob+Ua&&Aa.y>Ya-Ua&&Aa.y<Bb+Ua}},{key:"onKeyDownFromPointerDownHandler",value:function(Aa){var Ha=this;return ag(function(Ua){Ha.maybeHandleResize(Aa,Ua)||Ha.maybeDragNewGenericElement(Aa,Ua)})}},{key:"onKeyUpFromPointerDownHandler",value:function(Aa){var Ha=
this;return ag(function(Ua){"Alt"===Ua.key&&Ua.preventDefault();Ha.maybeHandleResize(Aa,Ua)||Ha.maybeDragNewGenericElement(Aa,Ua)})}},{key:"onPointerMoveFromPointerDownHandler",value:function(Aa){var Ha=this;return ag(function(Ua){if(null===Aa.drag.offset&&(Aa.drag.offset=Hj(function(qd,Gd,He){qd=da(Bg(qd),2);return[Gd-qd[0],He-qd[1]]}(Sf(Ha.scene.getElements(),Ha.state),Aa.origin.x,Aa.origin.y))),Ua.target instanceof HTMLElement&&!Ha.handlePointerMoveOverScrollbars(Ua,Aa)){var Ya=hh(Ua,Ha.state),
ob=da(Ch(Ya.x,Ya.y,Ha.state.gridSize),2),Bb=ob[0];ob=ob[1];if(Aa.drag.hasOccurred||"arrow"!==Ha.state.elementType&&"line"!==Ha.state.elementType||!(Math.hypot(Aa.origin.x-Ya.x,Aa.origin.y-Ya.y)<yc.f)){if(Aa.resize.isResizing&&(Aa.lastCoords.x=Ya.x,Aa.lastCoords.y=Ya.y,Ha.maybeHandleResize(Aa,Ua)))return!0;if(Ha.state.editingLinearElement&&dd.handlePointDragging(Ha.state,function(qd){return Ha.setState(qd)},Ya.x,Ya.y,function(qd,Gd){Ha.maybeSuggestBindingForLinearElementAtCursor(qd,Gd,Ya)}))return Aa.lastCoords.x=
Ya.x,void(Aa.lastCoords.y=Ya.y);if(Aa.hit.allHitElements.some(function(qd){return Ha.isASelectedElement(qd)})||Aa.hit.hasHitCommonBoundingBoxOfSelectedElements){Aa.drag.hasOccurred=!0;var Rb=Sf(Ha.scene.getElements(),Ha.state);if(0<Rb.length&&!Aa.withCmdOrCtrl){ob=da(Ch(Ya.x-Aa.drag.offset.x,Ya.y-Aa.drag.offset.y,Ha.state.gridSize),2);Bb=ob[0];ob=ob[1];var hc=[Math.abs(Ya.x-Aa.origin.x),Math.abs(Ya.y-Aa.origin.y)];if(function(qd,Gd,He,Sg,ni){var Ai=5<arguments.length&&void 0!==arguments[5]&&arguments[5],
pf=6<arguments.length&&void 0!==arguments[6]?arguments[6]:0,ye=7<arguments.length&&void 0!==arguments[7]?arguments[7]:0,ah=da(Bg(Gd),2),Wi=He-ah[0],rk=Sg-ah[1];Gd.forEach(function(El){if(Ai){var Fl=Ai&&pf<ye;var Mf=Ai&&pf>ye;var wg=qd.originalElements.get(El.id);Fl=Fl&&wg?wg.x:El.x+Wi;Mf=Mf&&wg?wg.y:El.y+rk}else Fl=El.x+Wi,Mf=El.y+rk;ke(El,{x:Fl,y:Mf});Di(El,{simultaneouslyUpdated:Gd})})}(Aa,Rb,Bb,ob,Ha.scene,Ua.shiftKey,hc[0],hc[1]),Ha.maybeSuggestBindingForAll(Rb),Ua.altKey&&!Aa.hit.hasBeenDuplicated){Aa.hit.hasBeenDuplicated=
!0;var mc;hc=[];Ua=[];var Tc=new Map;Rb=new Map;var Xc=Aa.hit.element,Pc=lj(Ha.scene.getElementsIncludingDeleted());try{for(Pc.s();!(mc=Pc.n()).done;){var Zc=mc.value;if(Ha.state.selectedElementIds[Zc.id]||Zc.id===(null==Xc?void 0:Xc.id)&&Aa.hit.wasAddedToSelection){var Bd=Xj(Ha.state.editingGroupId,Tc,Zc),Xd=da(Ch(Aa.origin.x-Aa.drag.offset.x,Aa.origin.y-Aa.drag.offset.y,Ha.state.gridSize),2);ke(Bd,{x:Bd.x+(Xd[0]-Bb),y:Bd.y+(Xd[1]-ob)});hc.push(Bd);Ua.push(Zc);Rb.set(Zc.id,Bd.id)}else hc.push(Zc)}}catch(qd){Pc.e(qd)}finally{Pc.f()}mc=
[].concat(hc,Ua);Tj(mc,Ua,Rb,"duplicatesServeAsOld");Ha.scene.replaceAllElements(mc)}return}}if(mc=Ha.state.draggingElement)if("freedraw"===mc.type?(Zc=mc.points,Bd=Ya.x-mc.x,Xd=Ya.y-mc.y,Bb=mc.simulatePressure?mc.pressures:[].concat(N(mc.pressures),[Ua.pressure]),ke(mc,{points:[].concat(N(Zc),[[Bd,Xd]]),pressures:Bb})):Dg(mc)?(Aa.drag.hasOccurred=!0,Zc=mc.points,Bd=Bb-mc.x,Xd=ob-mc.y,Ua.shiftKey&&2===Zc.length&&(Xd=mk(Ha.state.elementType,Bd,Xd),Bd=Xd.width,Xd=Xd.height),1===Zc.length?ke(mc,{points:[].concat(N(Zc),
[[Bd,Xd]])}):1<Zc.length&&ke(mc,{points:[].concat(N(Zc.slice(0,-1)),[[Bd,Xd]])}),Wg(mc)&&Ha.maybeSuggestBindingForLinearElementAtCursor(mc,"end",Ya,Ha.state.startBoundElement)):(Aa.lastCoords.x=Ya.x,Aa.lastCoords.y=Ya.y,Ha.maybeDragNewGenericElement(Aa,Ua)),"selection"===Ha.state.elementType){Zc=Ha.scene.getElements();!Ua.shiftKey&&vh(Zc,Ha.state)&&(Aa.withCmdOrCtrl&&Aa.hit.element?Ha.setState(function(qd){return Me(Wd(Wd({},qd),{},{selectedElementIds:U({},Aa.hit.element.id,!0)}),Ha.scene.getElements())}):
Ha.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}));var kd=function(qd,Gd){Gd=da(Vf(Gd),4);var He=Gd[0],Sg=Gd[1],ni=Gd[2],Ai=Gd[3];return qd.filter(function(pf){var ye=da(gk(pf),4),ah=ye[0],Wi=ye[1],rk=ye[2];ye=ye[3];return"selection"!==pf.type&&He<=ah&&Sg<=Wi&&ni>=rk&&Ai>=ye})}(Zc,mc);Ha.setState(function(qd){return Me(Wd(Wd({},qd),{},{selectedElementIds:Wd(Wd(Wd({},qd.selectedElementIds),kd.reduce(function(Gd,He){return Gd[He.id]=!0,Gd},{})),Aa.hit.element?U({},Aa.hit.element.id,
!kd.length):null)}),Ha.scene.getElements())})}}}})}},{key:"handlePointerMoveOverScrollbars",value:function(Aa,Ha){return Ha.scrollbars.isOverHorizontal?(Aa=Aa.clientX,this.setState({scrollX:this.state.scrollX-(Aa-Ha.lastCoords.x)/this.state.zoom.value}),Ha.lastCoords.x=Aa,!0):Ha.scrollbars.isOverVertical?(Aa=Aa.clientY,this.setState({scrollY:this.state.scrollY-(Aa-Ha.lastCoords.y)/this.state.zoom.value}),Ha.lastCoords.y=Aa,!0):!1}},{key:"onPointerUpFromPointerDownHandler",value:function(Aa){var Ha=
this;return ag(function(Ua){var Ya=Ha.state,ob=Ya.draggingElement,Bb=Ya.resizingElement,Rb=Ya.multiElement,hc=Ya.elementType,mc=Ya.elementLocked,Tc=Ya.isResizing;Ya=Ya.isRotating;if(Ha.setState({isResizing:!1,isRotating:!1,resizingElement:null,selectionElement:null,cursorButton:"up",editingElement:Rb||Xg(Ha.state.editingElement)?Ha.state.editingElement:null}),Ha.savePointer(Ua.clientX,Ua.clientY,"up"),Ha.state.editingLinearElement){var Xc=dd.handlePointerUp(Ua,Ha.state.editingLinearElement,Ha.state);
Xc!==Ha.state.editingLinearElement&&Ha.setState({editingLinearElement:Xc,suggestedBindings:[]})}if(mo=null,window.removeEventListener(yc.Ks.POINTER_MOVE,Aa.eventListeners.onMove),window.removeEventListener(yc.Ks.POINTER_UP,Aa.eventListeners.onUp),window.removeEventListener(yc.Ks.KEYDOWN,Aa.eventListeners.onKeyDown),window.removeEventListener(yc.Ks.KEYUP,Aa.eventListeners.onKeyUp),"freedraw"===(null==ob?void 0:ob.type))return hc=hh(Ua,Ha.state),Rb=ob.points,mc=hc.x-ob.x,hc=hc.y-ob.y,mc===Rb[0][0]&&
hc===Rb[0][1]&&(hc+=1E-4,mc+=1E-4),Ua=ob.simulatePressure?[]:[].concat(N(ob.pressures),[Ua.pressure]),ke(ob,{points:[].concat(N(Rb),[[mc,hc]]),pressures:Ua}),void Ha.actionManager.executeAction($f);if(Dg(ob))1<ob.points.length&&Ha.history.resumeRecording(),Ua=hh(Ua,Ha.state),Aa.drag.hasOccurred||!ob||Rb?Aa.drag.hasOccurred&&!Rb&&(Ha.state.isBindingEnabled&&Wg(ob)&&ng(ob,Ha.state,Ha.scene,Ua),Ha.setState({suggestedBindings:[],startBoundElement:null}),mc?Ha.setState(function(Bd){return{draggingElement:null,
selectedElementIds:Wd(Wd({},Bd.selectedElementIds),{},U({},Ha.state.draggingElement.id,!0))}}):(Pi(Ha.canvas),Ha.setState(function(Bd){return{draggingElement:null,elementType:"selection",selectedElementIds:Wd(Wd({},Bd.selectedElementIds),{},U({},Ha.state.draggingElement.id,!0))}}))):(ke(ob,{points:[].concat(N(ob.points),[[Ua.x-ob.x,Ua.y-ob.y]])}),Ha.setState({multiElement:ob,editingElement:Ha.state.draggingElement}));else{if("selection"!==hc&&ob&&Kj(ob))return Ha.scene.replaceAllElements(Ha.scene.getElementsIncludingDeleted().slice(0,
-1)),void Ha.setState({draggingElement:null});ob&&ke(ob,Rj(ob));Bb&&Ha.history.resumeRecording();Bb&&Kj(Bb)&&Ha.scene.replaceAllElements(Ha.scene.getElementsIncludingDeleted().filter(function(Bd){return Bd.id!==Bb.id}));var Pc=Aa.hit.element;if(Pc&&!Aa.drag.hasOccurred&&!Aa.hit.wasAddedToSelection)if(Ua.shiftKey)if(Ha.state.selectedElementIds[Pc.id])if(null!=dh(Ha.state,Pc)){var Zc=Pc.groupIds.flatMap(function(Bd){return li(Ha.scene.getElements(),Bd)}).map(function(Bd){return U({},Bd.id,!1)}).reduce(function(Bd,
Xd){return Wd(Wd({},Bd),Xd)},{});Ha.setState(function(Bd){return{selectedGroupIds:Wd(Wd({},Bd.selectedElementIds),Pc.groupIds.map(function(Xd){return U({},Xd,!1)}).reduce(function(Xd,kd){return Wd(Wd({},Xd),kd)},{})),selectedElementIds:Wd(Wd({},Bd.selectedElementIds),Zc)}})}else Ha.setState(function(Bd){return Me(Wd(Wd({},Bd),{},{selectedElementIds:Wd(Wd({},Bd.selectedElementIds),{},U({},Pc.id,!1))}),Ha.scene.getElements())});else Ha.setState(function(Bd){return{selectedElementIds:Wd(Wd({},Bd.selectedElementIds),
{},U({},Pc.id,!0))}});else Ha.setState(function(Bd){return Wd({},Me(Wd(Wd({},Bd),{},{selectedElementIds:U({},Pc.id,!0)}),Ha.scene.getElements()))});Ha.state.editingLinearElement||Aa.drag.hasOccurred||Ha.state.isResizing||!(Pc&&Xi(Pc,Ha.state,Aa.origin.x,Aa.origin.y)||!Pc&&Aa.hit.hasHitCommonBoundingBoxOfSelectedElements)?(!mc&&"freedraw"!==hc&&ob&&Ha.setState(function(Bd){return{selectedElementIds:Wd(Wd({},Bd.selectedElementIds),{},U({},ob.id,!0))}}),("selection"!==hc||vh(Ha.scene.getElements(),Ha.state))&&
Ha.history.resumeRecording(),(Aa.drag.hasOccurred||Tc||Ya)&&(Ha.state.isBindingEnabled?If:yd)(Sf(Ha.scene.getElements(),Ha.state)),mc||"freedraw"===hc?Ha.setState({draggingElement:null,suggestedBindings:[]}):(Pi(Ha.canvas),Ha.setState({draggingElement:null,suggestedBindings:[],elementType:"selection"}))):Ha.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})}})}},{key:"maybeSuggestBindingForAll",value:function(Aa){var Ha,Ua=(Ha=new Set(Aa.map(function(Ya){return Ya.id})),Aa.flatMap(function(Ya){return Wg(Ya)?
zg(Ya).filter(function(ob){return!Ha.has(ob.id)}):Ze(Ya)?zf(Ya).filter(function(ob){return!Ha.has(ob[0].id)}):[]}));this.setState({suggestedBindings:Ua})}},{key:"clearSelection",value:function(Aa){this.setState(function(Ha){return{selectedElementIds:{},selectedGroupIds:{},editingGroupId:Ha.editingGroupId&&null!=Aa&&Aa.groupIds.includes(Ha.editingGroupId)?Ha.editingGroupId:null}});this.setState({selectedElementIds:{},previousSelectedElementIds:this.state.selectedElementIds})}},{key:"getTextWysiwygSnappedToCenterPosition",
value:function(Aa,Ha,Ua,Ya,ob){if(ob=function(Bb,Rb,hc){for(var mc=null,Tc=Bb.length-1;0<=Tc;--Tc)if(!Bb[Tc].isDeleted){var Xc=da(Vf(Bb[Tc]),4),Pc=Xc[1],Zc=Xc[2],Bd=Xc[3];if(Xc[0]<Rb&&Rb<Zc&&Pc<hc&&hc<Bd){mc=Bb[Tc];break}}return mc}(this.scene.getElementsIncludingDeleted().filter(function(Bb){return!Xg(Bb)}),Aa,Ha))if(Ya=ob.x+ob.width/2,ob=ob.y+ob.height/2,Math.hypot(Aa-Ya,Ha-ob)<yc.wZ)return Aa=hk({sceneX:Ya,sceneY:ob},Ua),{viewportX:Aa.x,viewportY:Aa.y,elementCenterX:Ya,elementCenterY:ob}}},{key:"getCanvasOffsets",
value:function(){var Aa;return null!==(Aa=this.excalidrawContainerRef)&&void 0!==Aa&&Aa.current?(Aa=this.excalidrawContainerRef.current.getBoundingClientRect(),{offsetLeft:Aa.left,offsetTop:Aa.top}):{offsetLeft:0,offsetTop:0}}},{key:"updateLanguage",value:(sa=(0,ff.Z)(Yd().mark(function Ha(){var Ua,Ya=this;return Yd().wrap(function(ob){for(;;)switch(ob.prev=ob.next){case 0:return Ua=bk.find(function(Bb){return Bb.code===Ya.props.langCode})||Vg,ob.next=3,tg(Ua);case 3:this.setAppState({});case 4:case "end":return ob.stop()}},
Ha,this)})),function(){return sa.apply(this,arguments)})}],[{key:"resetTapTwice",value:function(){Bq=!1}}]),ma}(ce().Component);ks.defaultProps={UIOptions:yc.cW};var Su=function(){var A=this;this.rc=this.canvas=null;this.isMobile=this.unmounted=!1;this.excalidrawContainerRef=ce().createRef();this.focusContainer=function(){var ma;A.props.autoFocus&&(null===(ma=A.excalidrawContainerRef.current)||void 0===ma||ma.focus())};this.getSceneElementsIncludingDeleted=function(){return A.scene.getElementsIncludingDeleted()};
this.getSceneElements=function(){return A.scene.getElements()};this.syncActionResult=ag(function(ma){if(!A.unmounted&&!1!==ma){var sa=null;if(ma.elements&&(ma.elements.forEach(function(mc){var Tc;(null===(Tc=A.state.editingElement)||void 0===Tc?void 0:Tc.id)===mc.id&&A.state.editingElement!==mc&&!mc.isDeleted&&(sa=mc)}),A.scene.replaceAllElements(ma.elements),ma.commitToHistory&&A.history.resumeRecording()),ma.appState||sa){var ha,ua,za,Aa,Ha,Ua;ma.commitToHistory&&A.history.resumeRecording();var Ya=
(null==ma||null===(ha=ma.appState)||void 0===ha?void 0:ha.viewModeEnabled)||!1,ob=(null==ma||null===(ua=ma.appState)||void 0===ua?void 0:ua.zenModeEnabled)||!1,Bb=(null==ma||null===(za=ma.appState)||void 0===za?void 0:za.gridSize)||null,Rb=(null==ma||null===(Aa=ma.appState)||void 0===Aa?void 0:Aa.theme)||"light",hc=null!==(Ha=null==ma||null===(Ua=ma.appState)||void 0===Ua?void 0:Ua.name)&&void 0!==Ha?Ha:A.state.name;void 0!==A.props.viewModeEnabled&&(Ya=A.props.viewModeEnabled);void 0!==A.props.zenModeEnabled&&
(ob=A.props.zenModeEnabled);void 0!==A.props.gridModeEnabled&&(Bb=A.props.gridModeEnabled?yc.k:null);void 0!==A.props.theme&&(Rb=A.props.theme);void 0!==A.props.name&&(hc=A.props.name);A.setState(function(mc){var Tc;return Object.assign(ma.appState||{},{editingElement:sa||(null===(Tc=ma.appState)||void 0===Tc?void 0:Tc.editingElement)||null,viewModeEnabled:Ya,zenModeEnabled:ob,gridSize:Bb,theme:Rb,name:hc})},function(){ma.syncHistory&&A.history.setCurrentState(A.state,A.scene.getElementsIncludingDeleted())})}}});
this.onBlur=ag(function(){ap=!1;A.setState({isBindingEnabled:!0})});this.onUnload=function(){A.onBlur()};this.disableEvent=function(ma){ma.preventDefault()};this.onFontLoaded=function(){A.scene.getElementsIncludingDeleted().forEach(function(ma){Xg(ma)&&kh.delete(ma)});A.onSceneUpdated()};this.importLibraryFromUrl=function(){var ma=(0,ff.Z)(Yd().mark(function za(ha,ua){var Aa,Ha,Ua,Ya,ob;return Yd().wrap(function(Bb){for(;;)switch(Bb.prev=Bb.next){case 0:return window.location.hash.includes(yc.ah.addLibrary)?
((Aa=new URLSearchParams(window.location.hash.slice(1))).delete(yc.ah.addLibrary),window.history.replaceState({},yc.iC,"#".concat(Aa.toString()))):window.location.search.includes(yc.UO.addLibrary)&&((Ha=new URLSearchParams(window.location.search)).delete(yc.UO.addLibrary),window.history.replaceState({},yc.iC,"?".concat(Ha.toString()))),Bb.prev=1,Bb.next=4,fetch(decodeURIComponent(ha));case 4:return Ua=Bb.sent,Bb.next=7,Ua.blob();case 7:return Ya=Bb.sent,Bb.t0=JSON,Bb.next=11,Ya.text();case 11:Bb.t1=
Bb.sent;var Rb=ob=Bb.t0.parse.call(Bb.t0,Bb.t1);if("object"===F(Rb)&&Rb&&Rb.type===yc.r8.excalidrawLibrary&&1===Rb.version){Bb.next=15;break}throw Error();case 15:if(ua!==A.id&&!window.confirm(Wb("alerts.confirmAddLibrary",{numShapes:ob.library.length}))){Bb.next=20;break}return Bb.next=18,A.library.importLibrary(Ya);case 18:A.state.isLibraryOpen&&A.setState({isLibraryOpen:!1}),A.setState({isLibraryOpen:!0});case 20:Bb.next=26;break;case 22:Bb.prev=22,Bb.t2=Bb.catch(1),window.alert(Wb("alerts.errorLoadingLibrary")),
console.error(Bb.t2);case 26:return Bb.prev=26,A.focusContainer(),Bb.finish(26);case 29:case "end":return Bb.stop()}},za,null,[[1,22,26,29]])}));return function(ha,ua){return ma.apply(this,arguments)}}();this.resetHistory=function(){A.history.clear()};this.resetScene=ag(function(ma){A.scene.replaceAllElements([]);A.setState(function(sa){return Wd(Wd({},Ij()),{},{isLoading:(null==ma||!ma.resetLoadingState)&&sa.isLoading,theme:A.state.theme})});A.resetHistory()});this.initializeScene=(0,ff.Z)(Yd().mark(function sa(){var ha,
ua,za,Aa,Ha;return Yd().wrap(function(Ua){for(;;)switch(Ua.prev=Ua.next){case 0:return"launchQueue"in window&&"LaunchParams"in window&&window.launchQueue.setConsumer(function(){var Ya=(0,ff.Z)(Yd().mark(function Rb(Bb){var hc,mc;return Yd().wrap(function(Tc){for(;;)switch(Tc.prev=Tc.next){case 0:if(Bb.files.length){Tc.next=2;break}return Tc.abrupt("return");case 2:return hc=Bb.files[0],Tc.next=5,hc.getFile();case 5:(mc=Tc.sent).handle=hc,vl(mc,A.state,A.scene.getElementsIncludingDeleted()).then(function(Xc){return A.syncActionResult({elements:Xc.elements,
appState:Wd(Wd({},Xc.appState||A.state),{},{isLoading:!1}),commitToHistory:!0})}).catch(function(Xc){A.setState({isLoading:!1,errorMessage:Xc.message})});case 8:case "end":return Tc.stop()}},Rb)}));return function(Bb){return Ya.apply(this,arguments)}}()),A.state.isLoading||A.setState({isLoading:!0}),ua=null,Ua.prev=3,Ua.next=6,A.props.initialData;case 6:if(Ua.t0=Ua.sent,Ua.t0){Ua.next=9;break}Ua.t0=null;case 9:ua=Ua.t0;null!==(za=ua)&&void 0!==za&&za.libraryItems&&(A.libraryItemsFromStorage=ua.libraryItems);
Ua.next=17;break;case 13:Ua.prev=13,Ua.t1=Ua.catch(3),console.error(Ua.t1),ua={appState:{errorMessage:Ua.t1.message||"Encountered an error during importing or restoring scene data"}};case 17:if((Aa=Tm(ua,null,null)).appState=Wd(Wd({},Aa.appState),{},{isLoading:!1}),null!==(ha=ua)&&void 0!==ha&&ha.scrollToContent&&(Aa.appState=Wd(Wd({},Aa.appState),Fg(Aa.elements,Wd(Wd({},Aa.appState),{},{width:A.state.width,height:A.state.height,offsetTop:A.state.offsetTop,offsetLeft:A.state.offsetLeft})))),A.resetHistory(),
A.syncActionResult(Wd(Wd({},Aa),{},{commitToHistory:!0})),!(Ha=(new URLSearchParams(window.location.hash.slice(1))).get(yc.ah.addLibrary)||(new URLSearchParams(window.location.search)).get(yc.UO.addLibrary))){Ua.next=26;break}return Ua.next=26,A.importLibraryFromUrl(Ha);case 26:case "end":return Ua.stop()}},sa,null,[[3,13]])}));this.onResize=ag(function(){A.scene.getElementsIncludingDeleted().forEach(function(sa){return kh.delete(sa)});A.setState({})});this.onScroll=Sm(function(){var sa=A.getCanvasOffsets(),
ha=sa.offsetTop,ua=sa.offsetLeft;A.setState(function(za){return za.offsetLeft===ua&&za.offsetTop===ha?null:{offsetTop:ha,offsetLeft:ua}})},yc.HM);this.onCut=ag(function(sa){var ha;(null===(ha=A.excalidrawContainerRef.current)||void 0===ha?0:ha.contains(document.activeElement))&&!Dj(sa.target)&&(A.cutAll(),sa.preventDefault())});this.onCopy=ag(function(sa){var ha;(null===(ha=A.excalidrawContainerRef.current)||void 0===ha?0:ha.contains(document.activeElement))&&!Dj(sa.target)&&(A.copyAll(),sa.preventDefault())});
this.cutAll=function(){A.copyAll();A.actionManager.executeAction(hn)};this.copyAll=function(){fc(A.scene.getElements(),A.state)};this.onTapStart=function(sa){if(!Bq)return Bq=!0,clearTimeout(ls),void(ls=window.setTimeout(ks.resetTapTwice,yc.Gj));if(Bq&&1===sa.touches.length){var ha=da(sa.touches,1)[0];A.handleCanvasDoubleClick({clientX:ha.clientX,clientY:ha.clientY});Bq=!1;clearTimeout(ls)}sa.preventDefault();2===sa.touches.length&&A.setState({selectedElementIds:{}})};this.onTapEnd=function(sa){0<
sa.touches.length&&A.setState({previousSelectedElementIds:{},selectedElementIds:A.state.previousSelectedElementIds})};this.pasteFromClipboard=ag(function(){var sa=(0,ff.Z)(Yd().mark(function za(ua){var Aa,Ha,Ua,Ya;return Yd().wrap(function(ob){for(;;)switch(ob.prev=ob.next){case 0:if(Ha=document.activeElement,null===(Aa=A.excalidrawContainerRef.current)||void 0===Aa?void 0:Aa.contains(Ha)){ob.next=4;break}return ob.abrupt("return");case 4:if(Ua=document.elementFromPoint(Jp,Kp),!ua||Ua instanceof HTMLCanvasElement&&
!Dj(Ha)){ob.next=7;break}return ob.abrupt("return");case 7:return ob.next=9,Nf(ua);case 9:if(Ya=ob.sent,!A.props.onPaste){ob.next=22;break}return ob.prev=11,ob.next=14,A.props.onPaste(Ya,ua);case 14:if(ob.t0=ob.sent,!1!==ob.t0){ob.next=17;break}return ob.abrupt("return");case 17:ob.next=22;break;case 19:ob.prev=19,ob.t1=ob.catch(11),console.error(ob.t1);case 22:Ya.errorMessage?A.setState({errorMessage:Ya.errorMessage}):Ya.spreadsheet?A.setState({pasteDialog:{data:Ya.spreadsheet,shown:!0}}):Ya.elements?
A.addElementsFromPasteOrLibrary({elements:Ya.elements,position:"cursor"}):Ya.text&&A.addTextFromPaste(Ya.text),A.selectShapeTool("selection"),null==ua||ua.preventDefault();case 25:case "end":return ob.stop()}},za,null,[[11,19]])}));return function(ua){return sa.apply(this,arguments)}}());this.addElementsFromPasteOrLibrary=function(sa){var ha=sl(sa.elements,null),ua=da(Bg(ha),4),za=ua[0],Aa=ua[1],Ha=Math.abs(za-ua[2])/2;ua=Math.abs(Aa-ua[3])/2;var Ua="object"===F(sa.position)?sa.position.clientX:"cursor"===
sa.position?Jp:A.state.width/2+A.state.offsetLeft;sa="object"===F(sa.position)?sa.position.clientY:"cursor"===sa.position?Kp:A.state.height/2+A.state.offsetTop;sa=hh({clientX:Ua,clientY:sa},A.state);Ha=sa.x-Ha;ua=sa.y-ua;var Ya=new Map;Ha=da(Ch(Ha,ua,A.state.gridSize),2);var ob=Ha[0],Bb=Ha[1],Rb=new Map;Ha=ha.map(function(hc){var mc=Xj(A.state.editingGroupId,Ya,hc,{x:hc.x+ob-za,y:hc.y+Bb-Aa});return Rb.set(hc.id,mc.id),mc});ua=[].concat(N(A.scene.getElementsIncludingDeleted()),N(Ha));Tj(ua,ha,Rb);
A.scene.replaceAllElements(ua);A.history.resumeRecording();A.setState(Me(Wd(Wd({},A.state),{},{isLibraryOpen:!1,selectedElementIds:Ha.reduce(function(hc,mc){return hc[mc.id]=!0,hc},{}),selectedGroupIds:{}}),A.scene.getElements()));A.selectShapeTool("selection")};this.setAppState=function(sa){A.setState(sa)};this.removePointer=function(sa){"touch"===sa.pointerType&&no&&(clearTimeout(no),no=0,Dq=!1);zl.delete(sa.pointerId)};this.toggleLock=function(){A.setState(function(sa){return{elementLocked:!sa.elementLocked,
elementType:sa.elementLocked?"selection":sa.elementType}})};this.toggleZenMode=function(){A.actionManager.executeAction(ss)};this.toggleStats=function(){A.state.showStats||Lh("dialog","stats");A.actionManager.executeAction(rs)};this.scrollToContent=function(){var sa=0<arguments.length&&void 0!==arguments[0]?arguments[0]:A.scene.getElements();A.setState(Wd({},Fg(Array.isArray(sa)?sa:[sa],A.state,A.canvas)))};this.clearToast=function(){A.setState({toastMessage:null})};this.setToastMessage=function(sa){A.setState({toastMessage:sa})};
this.restoreFileFromShare=(0,ff.Z)(Yd().mark(function ha(){var ua,za,Aa;return Yd().wrap(function(Ha){for(;;)switch(Ha.prev=Ha.next){case 0:return Ha.prev=0,Ha.next=3,caches.open("web-share-target");case 3:return ua=Ha.sent,Ha.next=6,ua.match("shared-file");case 6:if(!(za=Ha.sent)){Ha.next=15;break}return Ha.next=10,za.blob();case 10:return Aa=Ha.sent,A.loadFileToCanvas(Aa),Ha.next=14,ua.delete("shared-file");case 14:window.history.replaceState(null,yc.iC,window.location.pathname);case 15:Ha.next=
20;break;case 17:Ha.prev=17,Ha.t0=Ha.catch(0),A.setState({errorMessage:Ha.t0.message});case 20:case "end":return Ha.stop()}},ha,null,[[0,17]])}));this.updateScene=ag(function(ha){ha.commitToHistory&&A.history.resumeRecording();ha.appState&&A.setState(ha.appState);ha.elements&&A.scene.replaceAllElements(ha.elements);ha.collaborators&&A.setState({collaborators:ha.collaborators})});this.onSceneUpdated=function(){A.setState({})};this.updateCurrentCursorPosition=ag(function(ha){Jp=ha.clientX;Kp=ha.clientY});
this.onKeyDown=ag(function(ha){var ua;if(!(("Proxy"in window&&(!ha.shiftKey&&/^[A-Z]$/.test(ha.key)||ha.shiftKey&&/^[a-z]$/.test(ha.key))&&(ha=new Proxy(ha,{get:function(Ua,Ya){var ob=Ua[Ya];return"function"==typeof ob?ob.bind(Ua):"key"===Ya?ha.shiftKey?Ua.key.toUpperCase():Ua.key.toLowerCase():ob}})),Dj(ha.target)&&"Escape"!==ha.key||oh(ha.key)&&(ua=ha.target,ua instanceof HTMLElement&&"wysiwyg"===ua.dataset.type||ua instanceof HTMLBRElement||ua instanceof HTMLInputElement||ua instanceof HTMLTextAreaElement||
ua instanceof HTMLSelectElement))||("?"===ha.key&&A.setState({showHelpDialog:!0}),A.actionManager.handleKeyDown(ha)||A.state.viewModeEnabled))){if(ha[Af]&&A.state.isBindingEnabled&&A.setState({isBindingEnabled:!1}),"Digit9"===ha.code&&A.setState({isLibraryOpen:!A.state.isLibraryOpen}),oh(ha.key)){ua=A.state.gridSize&&(ha.shiftKey?yc.$e:A.state.gridSize)||(ha.shiftKey?yc.Iw:yc.$e);var za=A.scene.getElements().filter(function(Ua){return A.state.selectedElementIds[Ua.id]}),Aa=0,Ha=0;"ArrowLeft"===ha.key?
Aa=-ua:"ArrowRight"===ha.key?Aa=ua:"ArrowUp"===ha.key?Ha=-ua:"ArrowDown"===ha.key&&(Ha=ua);za.forEach(function(Ua){ke(Ua,{x:Ua.x+Aa,y:Ua.y+Ha});Di(Ua,{simultaneouslyUpdated:za})});A.maybeSuggestBindingForAll(za);ha.preventDefault()}else if("Enter"===ha.key)if(ua=Sf(A.scene.getElements(),A.state),1===ua.length&&Dg(ua[0]))A.state.editingLinearElement&&A.state.editingLinearElement.elementId===ua[0].id||(A.history.resumeRecording(),A.setState({editingLinearElement:new dd(ua[0],A.scene)}));else{if(1===
ua.length&&!Dg(ua[0]))return ua=ua[0],A.startTextEditing({sceneX:ua.x+ua.width/2,sceneY:ua.y+ua.height/2}),void ha.preventDefault()}else ha.ctrlKey||ha.altKey||ha.metaKey||null!==A.state.draggingElement||((ua=function(Ua){var Ya=xt.find(function(ob,Bb){return Ua===(Bb+1).toString()||("string"==typeof ob.key?ob.key===Ua:ob.key.includes(Ua))});return(null==Ya?void 0:Ya.value)||null}(ha.key))?A.selectShapeTool(ua):"q"===ha.key&&A.toggleLock());if(" "===ha.key&&0===zl.size&&(ap=!0,yi(A.canvas,yc.oc.GRABBING)),
"g"===ha.key||"s"===ha.key)if(ua=Sf(A.scene.getElements(),A.state),"selection"!==A.state.elementType||ua.length)"g"===ha.key&&(Pk(A.state.elementType)||ua.some(function(Ua){return Pk(Ua.type)}))&&A.setState({openPopup:"backgroundColorPicker"}),"s"===ha.key&&A.setState({openPopup:"strokeColorPicker"})}});this.onKeyUp=ag(function(ha){if(" "===ha.key&&(A.state.viewModeEnabled?yi(A.canvas,yc.oc.GRAB):"selection"===A.state.elementType?Pi(A.canvas):(si(A.canvas,A.state.elementType),A.setState({selectedElementIds:{},
selectedGroupIds:{},editingGroupId:null})),ap=!1),ha[Af]||A.state.isBindingEnabled||A.setState({isBindingEnabled:!0}),oh(ha.key))ha=Sf(A.scene.getElements(),A.state),A.state.isBindingEnabled?If(ha):yd(ha),A.setState({suggestedBindings:[]})});this.onGestureStart=ag(function(ha){ha.preventDefault();A.setState({selectedElementIds:{}});Hp=A.state.zoom.value});this.onGestureChange=ag(function(ha){if(ha.preventDefault(),2!==zl.size){var ua=Hp;ua&&A.setState(function(za){var Aa=za.zoom,Ha=za.offsetLeft;
za=za.offsetTop;return{zoom:ea(ra(ua*ha.scale),Aa,{left:Ha,top:za},{x:Jp,y:Kp})}})}});this.onGestureEnd=ag(function(ha){ha.preventDefault();A.setState({previousSelectedElementIds:{},selectedElementIds:A.state.previousSelectedElementIds});Hp=null});this.startTextEditing=function(ha){var ua=ha.sceneX,za=ha.sceneY;ha=ha.insertAtParentCenter;var Aa=void 0===ha||ha;ha=A.getTextElementAtPosition(ua,za);Aa=Aa&&A.getTextWysiwygSnappedToCenterPosition(ua,za,A.state,A.canvas,window.devicePixelRatio);ua=ha||
Eg({x:Aa?Aa.elementCenterX:ua,y:Aa?Aa.elementCenterY:za,strokeColor:A.state.currentItemStrokeColor,backgroundColor:A.state.currentItemBackgroundColor,fillStyle:A.state.currentItemFillStyle,strokeWidth:A.state.currentItemStrokeWidth,strokeStyle:A.state.currentItemStrokeStyle,roughness:A.state.currentItemRoughness,opacity:A.state.currentItemOpacity,strokeSharpness:A.state.currentItemStrokeSharpness,text:"",fontSize:A.state.currentItemFontSize,fontFamily:A.state.currentItemFontFamily,textAlign:Aa?"center":
A.state.currentItemTextAlign,verticalAlign:Aa?"middle":yc.hs});A.setState({editingElement:ua});ha?Aa&&"center"===ua.textAlign||ke(ua,{verticalAlign:yc.hs}):(A.scene.replaceAllElements([].concat(N(A.scene.getElementsIncludingDeleted()),[ua])),Aa||ke(ua,{y:ua.y-ua.baseline/2}));A.setState({editingElement:ua});A.handleTextWysiwyg(ua,{isExistingElement:!!ha})};this.handleCanvasDoubleClick=function(ha){if(!A.state.multiElement&&"selection"===A.state.elementType){var ua=Sf(A.scene.getElements(),A.state);
if(1===ua.length&&Dg(ua[0]))A.state.editingLinearElement&&A.state.editingLinearElement.elementId===ua[0].id||(A.history.resumeRecording(),A.setState({editingLinearElement:new dd(ua[0],A.scene)}));else{Pi(A.canvas);var za=hh(ha,A.state);ua=za.x;za=za.y;if(0<vi(A.state).length){var Aa=A.getElementAtPosition(ua,za),Ha=Aa&&function(Ua,Ya){return Ua.groupIds.find(function(ob){return Ya[ob]})}(Aa,A.state.selectedGroupIds);if(Ha)return void A.setState(function(Ua){return Me(Wd(Wd({},Ua),{},{editingGroupId:Ha,
selectedElementIds:U({},Aa.id,!0),selectedGroupIds:{}}),A.scene.getElements())})}Pi(A.canvas);ha[Af]||A.state.viewModeEnabled||A.startTextEditing({sceneX:ua,sceneY:za,insertAtParentCenter:!ha.altKey})}}};this.handleCanvasPointerMove=function(ha){A.savePointer(ha.clientX,ha.clientY,A.state.cursorButton);zl.has(ha.pointerId)&&zl.set(ha.pointerId,{x:ha.clientX,y:ha.clientY});var ua=Hp;if(2===zl.size&&Gp&&ua&&pr){var za=yt(zl),Aa=za.x-Gp.x,Ha=za.y-Gp.y;Gp=za;var Ua=zt(Array.from(zl.values()))/pr;A.setState(function(Xc){var Pc=
Xc.zoom,Zc=Xc.offsetLeft,Bd=Xc.offsetTop;return{scrollX:Xc.scrollX+Aa/Pc.value,scrollY:Xc.scrollY+Ha/Pc.value,zoom:ea(ra(ua*Ua),Pc,{left:Zc,top:Bd},za),shouldCacheIgnoreZoom:!0}});A.resetShouldCacheIgnoreZoomDebounced()}else Gp=pr=Hp=null;if(!(ap||Cq||ms)){var Ya=Yg(ns,ha.clientX-A.state.offsetLeft,ha.clientY-A.state.offsetTop).isOverEither;A.state.draggingElement||A.state.multiElement||(Ya?Pi(A.canvas):si(A.canvas,A.state.elementType));var ob=hh(ha,A.state),Bb=ob.x,Rb=ob.y;if(A.state.editingLinearElement&&
!A.state.editingLinearElement.isDragging){var hc=dd.handlePointerMove(ha,Bb,Rb,A.state.editingLinearElement,A.state.gridSize);hc!==A.state.editingLinearElement&&A.setState({editingLinearElement:hc});null!=hc.lastUncommittedPoint?A.maybeSuggestBindingAtCursor(ob):A.setState({suggestedBindings:[]})}"arrow"===A.state.elementType&&(hc=A.state.draggingElement,Wg(hc)?A.maybeSuggestBindingForLinearElementAtCursor(hc,"end",ob,A.state.startBoundElement):A.maybeSuggestBindingAtCursor(ob));if(A.state.multiElement){ha=
A.state.multiElement;Ya=ha.x;ob=ha.y;hc=ha.points;var mc=ha.lastCommittedPoint,Tc=hc[hc.length-1];return si(A.canvas,A.state.elementType),void(Tc===mc?Math.hypot(Tc[0]-(Bb-Ya),Tc[1]-(Rb-ob))>=yc.qx?ke(ha,{points:[].concat(N(hc),[[Bb-Ya,Rb-ob]])}):yi(A.canvas,yc.oc.POINTER):2<hc.length&&mc&&Math.hypot(mc[0]-(Bb-Ya),mc[1]-(Rb-ob))<yc.qx?(yi(A.canvas,yc.oc.POINTER),ke(ha,{points:hc.slice(0,-1)})):(qj(hc,A.state.zoom.value)&&yi(A.canvas,yc.oc.POINTER),ke(ha,{points:[].concat(N(hc.slice(0,-1)),[[Bb-Ya,
Rb-ob]])})))}if(!(ha.buttons||"selection"!==A.state.elementType&&"text"!==A.state.elementType)){mc=A.scene.getElements();hc=Sf(mc,A.state);if(1!==hc.length||Ya||A.state.editingLinearElement){if(1<hc.length&&!Ya&&(Bb=jj(Bg(hc),Bb,Rb,A.state.zoom,ha.pointerType)))return void yi(A.canvas,le({transformHandleType:Bb}))}else if((Bb=fh(mc,A.state,Bb,Rb,A.state.zoom,ha.pointerType))&&Bb.transformHandleType)return void yi(A.canvas,le(Bb));Bb=A.getElementAtPosition(ob.x,ob.y);"text"===A.state.elementType?yi(A.canvas,
Xg(Bb)?yc.oc.TEXT:yc.oc.CROSSHAIR):A.state.viewModeEnabled?yi(A.canvas,yc.oc.GRAB):Ya||ha[Af]||!Bb&&!A.isHittingCommonBoundingBoxOfSelectedElements(ob,hc)?yi(A.canvas,yc.oc.AUTO):yi(A.canvas,yc.oc.MOVE)}}};this.handleTouchMove=function(ha){Dq=!0};this.handleCanvasPointerDown=function(ha){var ua=document.getSelection();if(null!=ua&&ua.anchorNode&&ua.removeAllRanges(),A.maybeOpenContextMenuAfterPointerDownOnTouchDevices(ha),A.maybeCleanupAfterMissingPointerUp(ha),!(Cq||(A.setState({lastPointerDownWith:ha.pointerType,
cursorButton:"down"}),A.savePointer(ha.clientX,ha.clientY,"down"),A.handleCanvasPanUsingWheelOrSpaceDrag(ha)||ha.button!==yc.Oh.MAIN&&ha.button!==yc.Oh.TOUCH||(A.updateGestureOnPointerDown(ha),1<zl.size))))if(ua=A.initialPointerDownState(ha),!A.handleDraggingScrollBar(ha,ua)&&(A.clearSelectionIfNotUsingSelection(),A.updateBindingEnabledOnPointerMove(ha),!A.handleSelectionOnPointerDown(ha,ua)))if("text"!==A.state.elementType){"arrow"===A.state.elementType||"line"===A.state.elementType?A.handleLinearElementOnPointerDown(ha,
A.state.elementType,ua):"freedraw"===A.state.elementType?A.handleFreeDrawElementOnPointerDown(ha,A.state.elementType,ua):A.createGenericElementOnPointerDown(A.state.elementType,ua);ha=A.onPointerMoveFromPointerDownHandler(ua);var za=A.onPointerUpFromPointerDownHandler(ua),Aa=A.onKeyDownFromPointerDownHandler(ua),Ha=A.onKeyUpFromPointerDownHandler(ua);mo=za;A.state.viewModeEnabled||(window.addEventListener(yc.Ks.POINTER_MOVE,ha),window.addEventListener(yc.Ks.POINTER_UP,za),window.addEventListener(yc.Ks.KEYDOWN,
Aa),window.addEventListener(yc.Ks.KEYUP,Ha),ua.eventListeners.onMove=ha,ua.eventListeners.onUp=za,ua.eventListeners.onKeyUp=Ha,ua.eventListeners.onKeyDown=Aa)}else A.handleTextOnPointerDown(ha,ua)};this.maybeOpenContextMenuAfterPointerDownOnTouchDevices=function(ha){"touch"===ha.pointerType&&(Dq=!1,no?Dq=!0:no=window.setTimeout(function(){no=0;Dq||A.handleCanvasContextMenu(ha)},yc.nM))};this.handleCanvasPanUsingWheelOrSpaceDrag=function(ha){if(0!==zl.size||!(ha.button===yc.Oh.WHEEL||ha.button===yc.Oh.MAIN&&
ap||A.state.viewModeEnabled))return!1;Cq=!0;var ua=!1,za=/Linux/.test(window.navigator.platform);yi(A.canvas,yc.oc.GRABBING);var Aa=ha.clientX,Ha=ha.clientY,Ua=ag(function(ob){var Bb=Aa-ob.clientX,Rb=Ha-ob.clientY;if(Aa=ob.clientX,Ha=ob.clientY,za&&!ua&&(1<Math.abs(Bb)||1<Math.abs(Rb))){ua=!0;var hc=function Xc(Tc){document.body.removeEventListener(yc.Ks.PASTE,Xc);Tc.stopPropagation()};document.body.addEventListener(yc.Ks.PASTE,hc);window.addEventListener(yc.Ks.POINTER_UP,function Xc(){setTimeout(function(){document.body.removeEventListener(yc.Ks.PASTE,
hc);window.removeEventListener(yc.Ks.POINTER_UP,Xc)},100)})}A.setState({scrollX:A.state.scrollX-Bb/A.state.zoom.value,scrollY:A.state.scrollY-Rb/A.state.zoom.value})}),Ya=ag(mo=function(){mo=null;Cq=!1;ap||(A.state.viewModeEnabled?yi(A.canvas,yc.oc.GRAB):si(A.canvas,A.state.elementType));A.setState({cursorButton:"up"});A.savePointer(ha.clientX,ha.clientY,"up");window.removeEventListener(yc.Ks.POINTER_MOVE,Ua);window.removeEventListener(yc.Ks.POINTER_UP,Ya);window.removeEventListener(yc.Ks.BLUR,Ya)});
return window.addEventListener(yc.Ks.BLUR,Ya),window.addEventListener(yc.Ks.POINTER_MOVE,Ua,{passive:!0}),window.addEventListener(yc.Ks.POINTER_UP,Ya),!0};this.clearSelectionIfNotUsingSelection=function(){"selection"!==A.state.elementType&&A.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})};this.handleSelectionOnPointerDown=function(ha,ua){if("selection"===A.state.elementType){var za=A.scene.getElements(),Aa=Sf(za,A.state);1!==Aa.length||A.state.editingLinearElement?1<Aa.length&&
(ua.resize.handleType=jj(Bg(Aa),ua.origin.x,ua.origin.y,A.state.zoom,ha.pointerType)):(za=fh(za,A.state,ua.origin.x,ua.origin.y,A.state.zoom,ha.pointerType),null!=za&&(A.setState({resizingElement:za.element}),ua.resize.handleType=za.transformHandleType));if(ua.resize.handleType)yi(A.canvas,le({transformHandleType:ua.resize.handleType})),ua.resize.isResizing=!0,ua.resize.offset=Hj(function(Tc,Xc,Pc,Zc){var Bd=da(1===Xc.length?Vf(Xc[0]):Bg(Xc),4),Xd=Bd[0],kd=Bd[1],qd=Bd[2];Bd=Bd[3];Xc=1===Xc.length?
Xc[0].angle:0;var Gd=da(Jf(Pc,Zc,(Xd+qd)/2,(kd+Bd)/2,-Xc),2);switch(Pc=Gd[0],Zc=Gd[1],Tc){case "n":return Jf(Pc-(Xd+qd)/2,Zc-kd,0,0,Xc);case "s":return Jf(Pc-(Xd+qd)/2,Zc-Bd,0,0,Xc);case "w":return Jf(Pc-Xd,Zc-(kd+Bd)/2,0,0,Xc);case "e":return Jf(Pc-qd,Zc-(kd+Bd)/2,0,0,Xc);case "nw":return Jf(Pc-Xd,Zc-kd,0,0,Xc);case "ne":return Jf(Pc-qd,Zc-kd,0,0,Xc);case "sw":return Jf(Pc-Xd,Zc-Bd,0,0,Xc);case "se":return Jf(Pc-qd,Zc-Bd,0,0,Xc);default:return[0,0]}}(ua.resize.handleType,Aa,ua.origin.x,ua.origin.y)),
1===Aa.length&&Dg(Aa[0])&&2===Aa[0].points.length&&(ua.resize.arrowDirection=(Ya=ua.resize.handleType,ob=Aa[0],Bb=da(ob.points,2),Rb=da(Bb[1],2),hc=Rb[0],mc=Rb[1],"nw"===Ya&&(0>hc||0>mc)||"ne"===Ya&&0<=hc||"sw"===Ya&&0>=hc||"se"===Ya&&(0<hc||0<mc)?"end":"origin"));else{var Ha;if(A.state.editingLinearElement&&(Aa=dd.handlePointerDown(ha,A.state,function(Tc){return A.setState(Tc)},A.history,ua.origin),Aa.hitElement&&(ua.hit.element=Aa.hitElement),Aa.didAddPoint))return!0;ua.hit.element=null!==(Ha=ua.hit.element)&&
void 0!==Ha?Ha:A.getElementAtPosition(ua.origin.x,ua.origin.y);ua.hit.allHitElements=A.getElementsAtPosition(ua.origin.x,ua.origin.y);var Ua=ua.hit.element;Ha=ua.hit.allHitElements.some(function(Tc){return A.isASelectedElement(Tc)});if(null!==Ua&&Ha||ha.shiftKey||ua.hit.hasHitCommonBoundingBoxOfSelectedElements||A.clearSelection(Ua),null!=Ua){if(ha[Af])return A.state.selectedElementIds[Ua.id]||(ua.hit.wasAddedToSelection=!0),A.setState(function(Tc){Tc=rc(rc({},Tc),{},{editingGroupId:Ua.groupIds.length?
Ua.groupIds[0]:null,selectedGroupIds:{},selectedElementIds:U({},Ua.id,!0)});return Wd(Wd({},Tc),{},{previousSelectedElementIds:A.state.selectedElementIds})}),!1;A.state.selectedElementIds[Ua.id]||(A.state.editingGroupId&&!Ua.groupIds.includes(A.state.editingGroupId)&&A.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}),Ha||ua.hit.hasHitCommonBoundingBoxOfSelectedElements||(A.setState(function(Tc){return Me(Wd(Wd({},Tc),{},{selectedElementIds:Wd(Wd({},Tc.selectedElementIds),
{},U({},Ua.id,!0))}),A.scene.getElements())}),ua.hit.wasAddedToSelection=!0))}A.setState({previousSelectedElementIds:A.state.selectedElementIds})}}var Ya,ob,Bb,Rb,hc,mc;return!1};this.handleTextOnPointerDown=function(ha,ua){var za;"text"!==(null===(za=A.state.editingElement)||void 0===za?void 0:za.type)&&(A.startTextEditing({sceneX:ua.origin.x,sceneY:ua.origin.y,insertAtParentCenter:!ha.altKey}),Pi(A.canvas),A.state.elementLocked||A.setState({elementType:"selection"}))};this.handleFreeDrawElementOnPointerDown=
function(ha,ua,za){var Aa,Ha=da(Ch(za.origin.x,za.origin.y,null),2),Ua=(Aa={type:ua,x:Ha[0],y:Ha[1],strokeColor:A.state.currentItemStrokeColor,backgroundColor:A.state.currentItemBackgroundColor,fillStyle:A.state.currentItemFillStyle,strokeWidth:A.state.currentItemStrokeWidth,strokeStyle:A.state.currentItemStrokeStyle,roughness:A.state.currentItemRoughness,opacity:A.state.currentItemOpacity,strokeSharpness:A.state.currentItemLinearStrokeSharpness,simulatePressure:.5===ha.pressure},Rc(Rc({},xm(Aa.type,
Aa)),{},{points:Aa.points||[],pressures:[],simulatePressure:Aa.simulatePressure,lastCommittedPoint:null}));A.setState(function(Ya){return{selectedElementIds:Wd(Wd({},Ya.selectedElementIds),{},U({},Ua.id,!1))}});ha=Ua.simulatePressure?Ua.pressures:[].concat(N(Ua.pressures),[ha.pressure]);ke(Ua,{points:[[0,0]],pressures:ha});za=hg(za.origin,A.scene);A.scene.replaceAllElements([].concat(N(A.scene.getElementsIncludingDeleted()),[Ua]));A.setState({draggingElement:Ua,editingElement:Ua,startBoundElement:za,
suggestedBindings:[]})};this.handleLinearElementOnPointerDown=function(ha,ua,za){if(A.state.multiElement){var Aa=A.state.multiElement;if("line"===Aa.type&&qj(Aa.points,A.state.zoom.value))return ke(Aa,{lastCommittedPoint:Aa.points[Aa.points.length-1]}),void A.actionManager.executeAction($f);ua=Aa.x;ha=Aa.y;var Ha=Aa.lastCommittedPoint;if(1<Aa.points.length&&Ha&&Math.hypot(Ha[0]-(za.origin.x-ua),Ha[1]-(za.origin.y-ha))<yc.qx)return void A.actionManager.executeAction($f);A.setState(function(Bb){return{selectedElementIds:Wd(Wd({},
Bb.selectedElementIds),{},U({},Aa.id,!0))}});ke(Aa,{lastCommittedPoint:Aa.points[Aa.points.length-1]});yi(A.canvas,yc.oc.POINTER)}else{Ha=da(Ch(za.origin.x,za.origin.y,A.state.gridSize),2);ha=Ha[0];Ha=Ha[1];var Ua=A.state,Ya=Ua.currentItemStartArrowhead;Ua=Ua.currentItemEndArrowhead;Ya=da("arrow"===ua?[Ya,Ua]:[null,null],2);var ob=Pg({type:ua,x:ha,y:Ha,strokeColor:A.state.currentItemStrokeColor,backgroundColor:A.state.currentItemBackgroundColor,fillStyle:A.state.currentItemFillStyle,strokeWidth:A.state.currentItemStrokeWidth,
strokeStyle:A.state.currentItemStrokeStyle,roughness:A.state.currentItemRoughness,opacity:A.state.currentItemOpacity,strokeSharpness:A.state.currentItemLinearStrokeSharpness,startArrowhead:Ya[0],endArrowhead:Ya[1]});A.setState(function(Bb){return{selectedElementIds:Wd(Wd({},Bb.selectedElementIds),{},U({},ob.id,!1))}});ke(ob,{points:[].concat(N(ob.points),[[0,0]])});za=hg(za.origin,A.scene);A.scene.replaceAllElements([].concat(N(A.scene.getElementsIncludingDeleted()),[ob]));A.setState({draggingElement:ob,
editingElement:ob,startBoundElement:za,suggestedBindings:[]})}};this.createGenericElementOnPointerDown=function(ha,ua){ua=da(Ch(ua.origin.x,ua.origin.y,A.state.gridSize),2);ha=xf({type:ha,x:ua[0],y:ua[1],strokeColor:A.state.currentItemStrokeColor,backgroundColor:A.state.currentItemBackgroundColor,fillStyle:A.state.currentItemFillStyle,strokeWidth:A.state.currentItemStrokeWidth,strokeStyle:A.state.currentItemStrokeStyle,roughness:A.state.currentItemRoughness,opacity:A.state.currentItemOpacity,strokeSharpness:A.state.currentItemStrokeSharpness});
"selection"===ha.type?A.setState({selectionElement:ha,draggingElement:ha}):(A.scene.replaceAllElements([].concat(N(A.scene.getElementsIncludingDeleted()),[ha])),A.setState({multiElement:null,draggingElement:ha,editingElement:ha}))};this.updateBindingEnabledOnPointerMove=function(ha){ha=!ha[Af];A.state.isBindingEnabled!==ha&&A.setState({isBindingEnabled:ha})};this.maybeSuggestBindingAtCursor=function(ha){ha=hg(ha,A.scene);A.setState({suggestedBindings:null!=ha?[ha]:[]})};this.maybeSuggestBindingForLinearElementAtCursor=
function(ha,ua,za,Aa){ua=hg(za,A.scene);A.setState({suggestedBindings:null==ua||(null==Aa?void 0:Aa.id)===ua.id&&3>ha.points.length?[]:[ua]})};this.handleCanvasRef=function(ha){var ua,za,Aa;null!==ha?(A.canvas=ha,A.rc=Bj.canvas(A.canvas),A.canvas.addEventListener(yc.Ks.WHEEL,A.handleWheel,{passive:!1}),A.canvas.addEventListener(yc.Ks.TOUCH_START,A.onTapStart),A.canvas.addEventListener(yc.Ks.TOUCH_END,A.onTapEnd)):(null===(ua=A.canvas)||void 0===ua||ua.removeEventListener(yc.Ks.WHEEL,A.handleWheel),
null===(za=A.canvas)||void 0===za||za.removeEventListener(yc.Ks.TOUCH_START,A.onTapStart),null===(Aa=A.canvas)||void 0===Aa||Aa.removeEventListener(yc.Ks.TOUCH_END,A.onTapEnd))};this.handleAppOnDrop=function(){var ha=(0,ff.Z)(Yd().mark(function Aa(za){var Ha,Ua,Ya,ob,Bb,Rb,hc,mc,Tc,Xc;return Yd().wrap(function(Pc){for(;;)switch(Pc.prev=Pc.next){case 0:if(Pc.prev=0,"image/png"!==(null==(Ya=za.dataTransfer.files[0])?void 0:Ya.type)&&"image/svg+xml"!==(null==Ya?void 0:Ya.type)){Pc.next=21;break}if(!nm){Pc.next=
14;break}return Pc.prev=4,ob=za.dataTransfer.items[0],Pc.next=8,ob.getAsFileSystemHandle();case 8:Ya.handle=Pc.sent;Pc.next=14;break;case 11:Pc.prev=11,Pc.t0=Pc.catch(4),console.warn(Pc.t0.name,Pc.t0.message);case 14:return Pc.next=16,vl(Ya,A.state,A.scene.getElementsIncludingDeleted());case 16:return Bb=Pc.sent,Rb=Bb.elements,hc=Bb.appState,A.syncActionResult({elements:Rb,appState:Wd(Wd({},hc||A.state),{},{isLoading:!1}),commitToHistory:!0}),Pc.abrupt("return");case 21:Pc.next=26;break;case 23:return Pc.prev=
23,Pc.t1=Pc.catch(0),Pc.abrupt("return",A.setState({isLoading:!1,errorMessage:Pc.t1.message}));case 26:if(""===(mc=za.dataTransfer.getData(yc.LO.excalidrawlib))){Pc.next=30;break}return A.addElementsFromPasteOrLibrary({elements:JSON.parse(mc),position:za}),Pc.abrupt("return");case 30:if(!((null==(Tc=null===(Ha=za.dataTransfer)||void 0===Ha?void 0:Ha.files[0])?void 0:Tc.type)===yc.LO.excalidrawlib||null!=Tc&&null!==(Ua=Tc.name)&&void 0!==Ua&&Ua.endsWith(".excalidrawlib"))){Pc.next=35;break}A.library.importLibrary(Tc).then(function(){A.setState({isLibraryOpen:!1});
A.setState({isLibraryOpen:!0})}).catch(function(Zc){return A.setState({isLoading:!1,errorMessage:Zc.message})});Pc.next=49;break;case 35:if(A.setState({isLoading:!0}),!nm){Pc.next=47;break}return Pc.prev=37,Xc=za.dataTransfer.items[0],Pc.next=41,Xc.getAsFileSystemHandle();case 41:Tc.handle=Pc.sent;Pc.next=47;break;case 44:Pc.prev=44,Pc.t2=Pc.catch(37),console.warn(Pc.t2.name,Pc.t2.message);case 47:return Pc.next=49,A.loadFileToCanvas(Tc);case 49:case "end":return Pc.stop()}},Aa,null,[[0,23],[4,11],
[37,44]])}));return function(za){return ha.apply(this,arguments)}}();this.loadFileToCanvas=function(ha){vl(ha,A.state,A.scene.getElementsIncludingDeleted()).then(function(ua){return A.syncActionResult({elements:ua.elements,appState:Wd(Wd({},ua.appState||A.state),{},{isLoading:!1}),commitToHistory:!0})}).catch(function(ua){A.setState({isLoading:!1,errorMessage:ua.message})})};this.handleCanvasContextMenu=function(ha){ha.preventDefault();var ua=hh(ha,A.state),za=(ua=A.getElementAtPosition(ua.x,ua.y,
{preferSelected:!0}))?"element":"canvas",Aa=A.excalidrawContainerRef.current.getBoundingClientRect(),Ha=ha.clientX-Aa.left,Ua=ha.clientY-Aa.top;ua&&!A.state.selectedElementIds[ua.id]?A.setState({selectedElementIds:U({},ua.id,!0)},function(){A._openContextMenu({top:Ua,left:Ha},za)}):A._openContextMenu({top:Ua,left:Ha},za)};this.maybeDragNewGenericElement=function(ha,ua){var za=A.state.draggingElement,Aa=ha.lastCoords;if(za)if("selection"===za.type)Ok(za,A.state.elementType,ha.origin.x,ha.origin.y,
Aa.x,Aa.y,Math.abs(ha.origin.x-Aa.x),Math.abs(ha.origin.y-Aa.y),ua.shiftKey,ua.altKey);else{var Ha=da(Ch(Aa.x,Aa.y,A.state.gridSize),2);Aa=Ha[0];Ha=Ha[1];Ok(za,A.state.elementType,ha.originInGrid.x,ha.originInGrid.y,Aa,Ha,Math.abs(ha.originInGrid.x-Aa),Math.abs(ha.originInGrid.y-Ha),ua.shiftKey,ua.altKey);A.maybeSuggestBindingForAll([za])}};this.maybeHandleResize=function(ha,ua){var za=Sf(A.scene.getElements(),A.state),Aa=ha.resize.handleType;A.setState({isResizing:Aa&&"rotation"!==Aa,isRotating:"rotation"===
Aa});var Ha=ha.lastCoords;Ha=da(Ch(Ha.x-ha.resize.offset.x,Ha.y-ha.resize.offset.y,A.state.gridSize),2);a:{var Ua=ha.resize.arrowDirection,Ya=ua.shiftKey,ob=ua.altKey,Bb=ua.shiftKey;ua=Ha[0];var Rb=Ha[1];Ha=ha.resize.center.x;var hc=ha.resize.center.y;if(1===za.length){Ha=da(za,1)[0];if("rotation"===Aa)Aa=da(Vf(Ha),4),Aa=5*Math.PI/2+Math.atan2(Rb-(Aa[1]+Aa[3])/2,ua-(Aa[0]+Aa[2])/2),Ya&&(Aa+=yc.ay/2,Aa-=Aa%yc.ay),Aa=ee(Aa),ke(Ha,{angle:Aa}),Di(Ha);else if(!Dg(Ha)||2!==Ha.points.length||"nw"!==Aa&&
"ne"!==Aa&&"sw"!==Aa&&"se"!==Aa)if(!Xg(Ha)||"nw"!==Aa&&"ne"!==Aa&&"sw"!==Aa&&"se"!==Aa)Aa&&Fi(ha.originalElements.get(Ha.id),Bb,Ha,Aa,ob,ua,Rb);else{Ya=da(Vf(Ha),4);Bb=Ya[0];ha=Ya[1];Ua=Ya[2];Ya=Ya[3];Rb=da(Jf(ua,Rb,(Bb+Ua)/2,(ha+Ya)/2,-Ha.angle),2);ua=Rb[0];Rb=Rb[1];switch(Aa){case "se":var mc=Math.max((ua-Bb)/(Ua-Bb),(Rb-ha)/(Ya-ha));break;case "nw":mc=Math.max((Ua-ua)/(Ua-Bb),(Ya-Rb)/(Ya-ha));break;case "ne":mc=Math.max((ua-Bb)/(Ua-Bb),(Ya-Rb)/(Ya-ha));break;case "sw":mc=Math.max((Ua-ua)/(Ua-Bb),
(Rb-ha)/(Ya-ha))}0<mc&&(ua=Ha.width*mc,mc*=Ha.height,Rb=fg(Ha,ua,mc),null!==Rb&&(hc=da(Re(Ha,ua,mc),4),Bb=(Bb-hc[0])/2,ha=(ha-hc[1])/2,Ua=(Ua-hc[2])/2,Ya=(Ya-hc[3])/2,Aa={n:/^(n|ne|nw)$/.test(Aa)||ob&&/^(s|se|sw)$/.test(Aa),s:/^(s|se|sw)$/.test(Aa)||ob&&/^(n|ne|nw)$/.test(Aa),w:/^(w|nw|sw)$/.test(Aa)||ob&&/^(e|ne|se)$/.test(Aa),e:/^(e|ne|se)$/.test(Aa)||ob&&/^(w|nw|sw)$/.test(Aa)},Aa=da(qi(Aa,Ha.x,Ha.y,Ha.angle,Bb,ha,Ua,Ya),2),ke(Ha,{fontSize:Rb.size,width:ua,height:mc,baseline:Rb.baseline,x:Aa[0],
y:Aa[1]})));Di(Ha)}else Aa=da(Vf(Ha),4),ob=da(Jf(ua,Rb,(Aa[0]+Aa[2])/2,(Aa[1]+Aa[3])/2,-Ha.angle),2),Aa=ob[0],ob=ob[1],ob=da("end"===Ua?[Aa-Ha.x,ob-Ha.y]:[Ha.x+Ha.points[1][0]-Aa,Ha.y+Ha.points[1][1]-ob],2),Aa=ob[0],ob=ob[1],Ya&&(mc=Ha.angle,Aa=mk.apply(void 0,[Ha.type].concat(N(Jf(Aa,ob,0,0,mc)))),Aa=Jf(Aa.width,Aa.height,0,0,-mc),ob=da(Aa,2),Aa=ob[0],ob=ob[1]),Ua=da(qi("end"===Ua?{s:!0,e:!0}:{n:!0,w:!0},Ha.x,Ha.y,Ha.angle,0,0,(Ha.points[1][0]-Aa)/2,(Ha.points[1][1]-ob)/2),2),ke(Ha,{x:Ua[0],y:Ua[1],
points:[[0,0],[Aa,ob]]});Ha=!0}else{if(1<za.length){if("rotation"===Aa){Ha=(Bk(ha,za,ua,Rb,Ya,Ha,hc),!0);break a}if("nw"===Aa||"ne"===Aa||"sw"===Aa||"se"===Aa){Ha=(Hm(za,Aa,ua,Rb),!0);break a}}Ha=!1}}return!!Ha&&(A.maybeSuggestBindingForAll(za),!0)};this._openContextMenu=function(ha,ua){var za=ha.left;ha=ha.top;var Aa=Dt.contextItemPredicate(A.actionManager.getElementsIncludingDeleted(),A.actionManager.getAppState()),Ha=Bt.contextItemPredicate(A.actionManager.getElementsIncludingDeleted(),A.actionManager.getAppState()),
Ua=Kt.contextItemPredicate(A.actionManager.getElementsIncludingDeleted(),A.actionManager.getAppState()),Ya=Lt.contextItemPredicate(A.actionManager.getElementsIncludingDeleted(),A.actionManager.getAppState()),ob=A.scene.getElements(),Bb=[];(Mb&&0<ob.length&&Bb.push(Ot),vb&&0<ob.length&&Bb.push(Nt),"canvas"===ua)?(ua=[].concat(Bb,[void 0===A.props.gridModeEnabled&&Pt,void 0===A.props.zenModeEnabled&&ss,void 0===A.props.viewModeEnabled&&st,rs]),A.state.viewModeEnabled?sr({options:ua,top:ha,left:za,actionManager:A.actionManager,
appState:A.state,container:A.excalidrawContainerRef.current}):sr({options:[A.isMobile&&navigator.clipboard&&{name:"paste",perform:function(Rb,hc){return A.pasteFromClipboard(null),{commitToHistory:!1}},contextItemLabel:"labels.paste"},A.isMobile&&navigator.clipboard&&"separator",Mb&&0<ob.length&&Ot,vb&&0<ob.length&&Nt,(Mb&&0<ob.length||vb&&0<ob.length)&&"separator",Ql,"separator",void 0===A.props.gridModeEnabled&&Pt,void 0===A.props.zenModeEnabled&&ss,void 0===A.props.viewModeEnabled&&st,rs],top:ha,
left:za,actionManager:A.actionManager,appState:A.state,container:A.excalidrawContainerRef.current})):"element"===ua&&(A.state.viewModeEnabled?sr({options:[navigator.clipboard&&ts].concat(Bb),top:ha,left:za,actionManager:A.actionManager,appState:A.state,container:A.excalidrawContainerRef.current}):sr({options:[A.isMobile&&Hv,A.isMobile&&navigator.clipboard&&ts,A.isMobile&&navigator.clipboard&&{name:"paste",perform:function(Rb,hc){return A.pasteFromClipboard(null),{commitToHistory:!1}},contextItemLabel:"labels.paste"},
A.isMobile&&"separator"].concat(Bb,["separator",Zf,jn,"separator",Aa&&Dt,Ha&&Bt,(Aa||Ha)&&"separator",Dv,"separator",Gn,Fn,ji,rl,"separator",Ua&&Kt,Ya&&Lt,(Ua||Ya)&&"separator",Zk,hn]),top:ha,left:za,actionManager:A.actionManager,appState:A.state,container:A.excalidrawContainerRef.current}))};this.handleWheel=ag(function(ha){if(ha.preventDefault(),!Cq){var ua=ha.deltaX,za=ha.deltaY,Aa=A.state,Ha=Aa.selectedElementIds,Ua=Aa.previousSelectedElementIds;if(ha.metaKey||ha.ctrlKey){ha=Math.sign(za);Aa=
Math.abs(za);10<Aa&&(Aa=10);Aa*=ha;0!==Object.keys(Ua).length&&setTimeout(function(){A.setState({selectedElementIds:Ua,previousSelectedElementIds:{}})},1E3);var Ya=A.state.zoom.value-Aa/100;return Ya+=Math.log10(Math.max(1,A.state.zoom.value))*-ha,Ya=Math.round(Ya*yc.V4*100)/(100*yc.V4),A.setState(function(ob){var Bb=ob.zoom,Rb=ob.offsetLeft;ob=ob.offsetTop;return{zoom:ea(ra(Ya),Bb,{left:Rb,top:ob},{x:Jp,y:Kp}),selectedElementIds:{},previousSelectedElementIds:0!==Object.keys(Ha).length?Ha:Ua,shouldCacheIgnoreZoom:!0}}),
void A.resetShouldCacheIgnoreZoomDebounced()}ha.shiftKey?A.setState(function(ob){return{scrollX:ob.scrollX-(za||ua)/ob.zoom.value}}):A.setState(function(ob){var Bb=ob.zoom;return{scrollX:ob.scrollX-ua/Bb.value,scrollY:ob.scrollY-za/Bb.value}})}});this.savePointer=function(ha,ua,za){var Aa,Ha;ha&&ua&&(ha=hh({clientX:ha,clientY:ua},A.state),isNaN(ha.x)||isNaN(ha.y),null===(Aa=(Ha=A.props).onPointerUpdate)||void 0===Aa||Aa.call(Ha,{pointer:ha,button:za,pointersMap:zl}))};this.resetShouldCacheIgnoreZoomDebounced=
Sm(function(){A.unmounted||A.setState({shouldCacheIgnoreZoom:!1})},300);this.updateDOMRect=function(ha){var ua;if(null!==(ua=A.excalidrawContainerRef)&&void 0!==ua&&ua.current){var za=A.excalidrawContainerRef.current.getBoundingClientRect();ua=za.width;var Aa=za.height,Ha=za.left;za=za.top;var Ua=A.state,Ya=Ua.height,ob=Ua.offsetTop,Bb=Ua.offsetLeft;if(ua===Ua.width&&Aa===Ya&&Ha===Bb&&za===ob)return void(ha&&ha());A.setState({width:ua,height:Aa,offsetLeft:Ha,offsetTop:za},function(){ha&&ha()})}};
this.refresh=function(){A.setState(Wd({},A.getCanvasOffsets()))}};"production"!==yc.Vi.TEST&&"production"!==yc.Vi.DEVELOPMENT||(window.h=window.h||{},Object.defineProperties(window.h,{elements:{configurable:!0,get:function(){return this.app.scene.getElementsIncludingDeleted()},set:function(A){return this.app.scene.replaceAllElements(A)}}}));e(4285);e(3313);var it=function(A){var ma=A.getDimensions,sa=void 0===ma?function(za,Aa){return{width:za,height:Aa,scale:1}}:ma;A=Tm({elements:A.elements,appState:A.appState},
null,null);ma=A.appState;var ha=ma.exportBackground,ua=ma.viewBackgroundColor;return Aq(oe(A.elements),qh(qh({},ma),{},{offsetTop:0,offsetLeft:0,width:0,height:0}),{exportBackground:ha,viewBackgroundColor:ua},function(za,Aa){var Ha=document.createElement("canvas");za=sa(za,Aa);return Ha.width=za.width,Ha.height=za.height,{canvas:Ha,scale:za.scale}})},Ru=function(A){var ma=it(A),sa=A.mimeType,ha=void 0===sa?"image/png":sa,ua=A.quality;return"image/png"===ha&&"number"==typeof ua&&console.warn('"quality" will be ignored for "image/png" mimeType'),
"image/jpg"===ha&&(ha="image/jpeg"),ua=ua||(/image\/jpe?g/.test(ha)?.92:.8),new Promise(function(za){ma.toBlob(function(Aa){za(Aa)},ha,ua)})},Yv=function(){var A=(0,ff.Z)(Yd().mark(function ha(sa){var ua,za,Aa,Ha,Ua,Ya,ob;return Yd().wrap(function(Bb){for(;;)switch(Bb.prev=Bb.next){case 0:return ua=sa.elements,za=sa.appState,Aa=void 0===za?Ij():za,Ha=sa.exportPadding,Ua=Tm({elements:ua,appState:Aa},null,null),Ya=Ua.elements,ob=Ua.appState,Bb.abrupt("return",Ap(oe(Ya),qh(qh({},ob),{},{exportPadding:Ha})));
case 3:case "end":return Bb.stop()}},ha)}));return function(sa){return A.apply(this,arguments)}}(),Iv=["initialData","UIOptions"],Jv=["initialData","UIOptions"],Lv=function(A){var ma,sa,ha=A.onChange,ua=A.initialData,za=A.excalidrawRef,Aa=A.onCollabButtonClick,Ha=A.isCollaborating,Ua=A.onPointerUpdate,Ya=A.renderTopRightUI,ob=A.renderFooter,Bb=A.langCode;Bb=void 0===Bb?Vg.code:Bb;var Rb=A.viewModeEnabled,hc=A.zenModeEnabled,mc=A.gridModeEnabled,Tc=A.libraryReturnUrl,Xc=A.theme,Pc=A.name,Zc=A.renderCustomStats,
Bd=A.onPaste,Xd=A.detectScroll;Xd=void 0===Xd||Xd;var kd=A.handleKeyboardGlobally;kd=void 0!==kd&&kd;var qd=A.onLibraryChange,Gd=A.autoFocus;Gd=void 0!==Gd&&Gd;A=null===(ma=A.UIOptions)||void 0===ma?void 0:ma.canvasActions;ma={canvasActions:km(km({},yc.cW.canvasActions),A)};null!=A&&A.export&&(ma.canvasActions.export.saveFileToDisk=(null===(sa=A.export)||void 0===sa?void 0:sa.saveFileToDisk)||yc.cW.canvasActions.export.saveFileToDisk);return(0,ue.useEffect)(function(){var He=function(Sg){"number"==
typeof Sg.scale&&1!==Sg.scale&&Sg.preventDefault()};return document.addEventListener("touchmove",He,{passive:!1}),function(){document.removeEventListener("touchmove",He)}},[]),(0,Ra.jsx)(Rl,{langCode:Bb,children:(0,Ra.jsx)(ks,{onChange:ha,initialData:ua,excalidrawRef:za,onCollabButtonClick:Aa,isCollaborating:Ha,onPointerUpdate:Ua,renderTopRightUI:Ya,renderFooter:ob,langCode:Bb,viewModeEnabled:Rb,zenModeEnabled:hc,gridModeEnabled:mc,libraryReturnUrl:Tc,theme:Xc,name:Pc,renderCustomStats:Zc,UIOptions:ma,
onPaste:Bd,detectScroll:Xd,handleKeyboardGlobally:kd,onLibraryChange:qd,autoFocus:Gd})})},Mv=(0,ue.forwardRef)(function(A,ma){return(0,Ra.jsx)(Lv,km(km({},A),{},{excalidrawRef:ma}))}),Nv=ce().memo(Mv,function(A,ma){A.initialData;var sa=A.UIOptions,ha=void 0===sa?{}:sa,ua=Xh()(A,Iv);sa=(ma.initialData,ma.UIOptions);var za=void 0===sa?{}:sa,Aa=Xh()(ma,Jv);sa=Object.keys(ha);var Ha=Object.keys(za);if(sa.length!==Ha.length)return!1;sa=sa.every(function(Ua){"canvasActions"===Ua&&Object.keys(ha.canvasActions).every(function(Ya){var ob,
Bb,Rb,hc;return"export"===Ya&&null!=ha&&null!==(ob=ha.canvasActions)&&void 0!==ob&&ob.export&&null!=za&&null!==(Bb=za.canvasActions)&&void 0!==Bb&&Bb.export?ha.canvasActions.export.saveFileToDisk===za.canvasActions.export.saveFileToDisk:(null==ha||null===(Rb=ha.canvasActions)||void 0===Rb?void 0:Rb[Ya])===(null==za||null===(hc=za.canvasActions)||void 0===hc?void 0:hc[Ya])});return!0});A=Object.keys(A);ma=Object.keys(ma);return sa&&A.length===ma.length&&A.every(function(Ua){return ua[Ua]===Aa[Ua]})}),
Ov=(e(8336),Nv)},4698:function(u){u.exports=G},6207:function(u){u.exports=q},8950:function(u,h,e){function k(z,B,L,F,y,E,r){try{var Y=z[E](r),ia=Y.value}catch(R){return void L(R)}Y.done?B(ia):Promise.resolve(ia).then(F,y)}function x(z){return function(){var B=this,L=arguments;return new Promise(function(F,y){function E(ia){k(Y,F,y,E,r,"next",ia)}function r(ia){k(Y,F,y,E,r,"throw",ia)}var Y=z.apply(B,L);E(void 0)})}}e.d(h,{Z:function(){return x}})},1463:function(u){u.exports=JSON.parse('{"labels":{"paste":"Paste","pasteCharts":"Paste charts","selectAll":"Select all","multiSelect":"Add element to selection","moveCanvas":"Move canvas","cut":"Cut","copy":"Copy","copyAsPng":"Copy to clipboard as PNG","copyAsSvg":"Copy to clipboard as SVG","bringForward":"Bring forward","sendToBack":"Send to back","bringToFront":"Bring to front","sendBackward":"Send backward","delete":"Delete","copyStyles":"Copy styles","pasteStyles":"Paste styles","stroke":"Stroke","background":"Background","fill":"Fill","strokeWidth":"Stroke width","strokeShape":"Stroke shape","strokeShape_gel":"Gel pen","strokeShape_fountain":"Fountain pen","strokeShape_brush":"Brush pen","strokeStyle":"Stroke style","strokeStyle_solid":"Solid","strokeStyle_dashed":"Dashed","strokeStyle_dotted":"Dotted","sloppiness":"Sloppiness","opacity":"Opacity","textAlign":"Text align","edges":"Edges","sharp":"Sharp","round":"Round","arrowheads":"Arrowheads","arrowhead_none":"None","arrowhead_arrow":"Arrow","arrowhead_bar":"Bar","arrowhead_dot":"Dot","fontSize":"Font size","fontFamily":"Font family","onlySelected":"Only selected","withBackground":"Background","exportEmbedScene":"Embed scene","exportEmbedScene_details":"Scene data will be saved into the exported PNG/SVG file so that the scene can be restored from it.\\nWill increase exported file size.","addWatermark":"Add \\"Made with Excalidraw\\"","handDrawn":"Hand-drawn","normal":"Normal","code":"Code","small":"Small","medium":"Medium","large":"Large","veryLarge":"Very large","solid":"Solid","hachure":"Hachure","crossHatch":"Cross-hatch","thin":"Thin","bold":"Bold","left":"Left","center":"Center","right":"Right","extraBold":"Extra bold","architect":"Architect","artist":"Artist","cartoonist":"Cartoonist","fileTitle":"File name","colorPicker":"Color picker","canvasBackground":"Canvas background","drawingCanvas":"Drawing canvas","layers":"Layers","actions":"Actions","language":"Language","liveCollaboration":"Live collaboration","duplicateSelection":"Duplicate","untitled":"Untitled","name":"Name","yourName":"Your name","madeWithExcalidraw":"Made with Excalidraw","group":"Group selection","ungroup":"Ungroup selection","collaborators":"Collaborators","showGrid":"Show grid","addToLibrary":"Add to library","removeFromLibrary":"Remove from library","libraryLoadingMessage":"Loading libraryâ€¦","libraries":"Browse libraries","loadingScene":"Loading sceneâ€¦","align":"Align","alignTop":"Align top","alignBottom":"Align bottom","alignLeft":"Align left","alignRight":"Align right","centerVertically":"Center vertically","centerHorizontally":"Center horizontally","distributeHorizontally":"Distribute horizontally","distributeVertically":"Distribute vertically","flipHorizontal":"Flip horizontal","flipVertical":"Flip vertical","viewMode":"View mode","toggleExportColorScheme":"Toggle export color scheme","share":"Share","showStroke":"Show stroke color picker","showBackground":"Show background color picker","toggleTheme":"Toggle theme"},"buttons":{"clearReset":"Reset the canvas","exportJSON":"Export to file","exportImage":"Save as image","export":"Export","exportToPng":"Export to PNG","exportToSvg":"Export to SVG","copyToClipboard":"Copy to clipboard","copyPngToClipboard":"Copy PNG to clipboard","scale":"Scale","save":"Save to current file","saveAs":"Save as","load":"Load","getShareableLink":"Get shareable link","close":"Close","selectLanguage":"Select language","scrollBackToContent":"Scroll back to content","zoomIn":"Zoom in","zoomOut":"Zoom out","resetZoom":"Reset zoom","menu":"Menu","done":"Done","edit":"Edit","undo":"Undo","redo":"Redo","resetLibrary":"Reset library","createNewRoom":"Create new room","fullScreen":"Full screen","darkMode":"Dark mode","lightMode":"Light mode","zenMode":"Zen mode","exitZenMode":"Exit zen mode"},"alerts":{"clearReset":"This will clear the whole canvas. Are you sure?","couldNotCreateShareableLink":"Couldn\'t create shareable link.","couldNotCreateShareableLinkTooBig":"Couldn\'t create shareable link: the scene is too big","couldNotLoadInvalidFile":"Couldn\'t load invalid file","importBackendFailed":"Importing from backend failed.","cannotExportEmptyCanvas":"Cannot export empty canvas.","couldNotCopyToClipboard":"Couldn\'t copy to clipboard. Try using Chrome browser.","decryptFailed":"Couldn\'t decrypt data.","uploadedSecurly":"The upload has been secured with end-to-end encryption, which means that Excalidraw server and third parties can\'t read the content.","loadSceneOverridePrompt":"Loading external drawing will replace your existing content. Do you wish to continue?","collabStopOverridePrompt":"Stopping the session will overwrite your previous, locally stored drawing. Are you sure?\\n\\n(If you want to keep your local drawing, simply close the browser tab instead.)","errorLoadingLibrary":"There was an error loading the third party library.","errorAddingToLibrary":"Couldn\'t add item to the library","errorRemovingFromLibrary":"Couldn\'t remove item from the library","confirmAddLibrary":"This will add {{numShapes}} shape(s) to your library. Are you sure?","imageDoesNotContainScene":"Importing images isn\'t supported at the moment.\\n\\nDid you want to import a scene? This image does not seem to contain any scene data. Have you enabled this during export?","cannotRestoreFromImage":"Scene couldn\'t be restored from this image file","invalidSceneUrl":"Couldn\'t import scene from the supplied URL. It\'s either malformed, or doesn\'t contain valid Excalidraw JSON data.","resetLibrary":"This will clear your library. Are you sure?","invalidEncryptionKey":"Encryption key must be of 22 characters. Live collaboration is disabled."},"toolBar":{"selection":"Selection","rectangle":"Rectangle","diamond":"Diamond","ellipse":"Ellipse","arrow":"Arrow","line":"Line","freedraw":"Draw","text":"Text","library":"Library","lock":"Keep selected tool active after drawing"},"headings":{"canvasActions":"Canvas actions","selectedShapeActions":"Selected shape actions","shapes":"Shapes"},"hints":{"linearElement":"Click to start multiple points, drag for single line","freeDraw":"Click and drag, release when you\'re finished","text":"Tip: you can also add text by double-clicking anywhere with the selection tool","text_selected":"Double-click or press ENTER to edit text","text_editing":"Press Escape or CtrlOrCmd+ENTER to finish editing","linearElementMulti":"Click on last point or press Escape or Enter to finish","lockAngle":"You can constrain angle by holding SHIFT","resize":"You can constrain proportions by holding SHIFT while resizing,\\nhold ALT to resize from the center","rotate":"You can constrain angles by holding SHIFT while rotating","lineEditor_info":"Double-click or press Enter to edit points","lineEditor_pointSelected":"Press Delete to remove point, CtrlOrCmd+D to duplicate, or drag to move","lineEditor_nothingSelected":"Select a point to move or remove, or hold Alt and click to add new points"},"canvasError":{"cannotShowPreview":"Cannot show preview","canvasTooBig":"The canvas may be too big.","canvasTooBigTip":"Tip: try moving the farthest elements a bit closer together."},"errorSplash":{"headingMain_pre":"Encountered an error. Try ","headingMain_button":"reloading the page.","clearCanvasMessage":"If reloading doesn\'t work, try ","clearCanvasMessage_button":"clearing the canvas.","clearCanvasCaveat":" This will result in loss of work ","trackedToSentry_pre":"The error with identifier ","trackedToSentry_post":" was tracked on our system.","openIssueMessage_pre":"We were very cautious not to include your scene information on the error. If your scene is not private, please consider following up on our ","openIssueMessage_button":"bug tracker.","openIssueMessage_post":" Please include information below by copying and pasting into the GitHub issue.","sceneContent":"Scene content:"},"roomDialog":{"desc_intro":"You can invite people to your current scene to collaborate with you.","desc_privacy":"Don\'t worry, the session uses end-to-end encryption, so whatever you draw will stay private. Not even our server will be able to see what you come up with.","button_startSession":"Start session","button_stopSession":"Stop session","desc_inProgressIntro":"Live-collaboration session is now in progress.","desc_shareLink":"Share this link with anyone you want to collaborate with:","desc_exitSession":"Stopping the session will disconnect you from the room, but you\'ll be able to continue working with the scene, locally. Note that this won\'t affect other people, and they\'ll still be able to collaborate on their version.","shareTitle":"Join a live collaboration session on Excalidraw"},"errorDialog":{"title":"Error"},"exportDialog":{"disk_title":"Save to disk","disk_details":"Export the scene data to a file from which you can import later.","disk_button":"Save to file","link_title":"Shareable link","link_details":"Export as a read-only link.","link_button":"Export to Link","excalidrawplus_description":"Save the scene to your Excalidraw+ workspace.","excalidrawplus_button":"Export","excalidrawplus_exportError":"Couldn\'t export to Excalidraw+ at this moment..."},"helpDialog":{"blog":"Read our blog","click":"click","curvedArrow":"Curved arrow","curvedLine":"Curved line","documentation":"Documentation","doubleClick":"double-click","drag":"drag","editor":"Editor","editSelectedShape":"Edit selected shape (text/arrow/line)","github":"Found an issue? Submit","howto":"Follow our guides","or":"or","preventBinding":"Prevent arrow binding","shapes":"Shapes","shortcuts":"Keyboard shortcuts","textFinish":"Finish editing (text editor)","textNewLine":"Add new line (text editor)","title":"Help","view":"View","zoomToFit":"Zoom to fit all elements","zoomToSelection":"Zoom to selection"},"encrypted":{"tooltip":"Your drawings are end-to-end encrypted so Excalidraw\'s servers will never see them.","link":"Blog post on end-to-end encryption in Excalidraw"},"stats":{"angle":"Angle","element":"Element","elements":"Elements","height":"Height","scene":"Scene","selected":"Selected","storage":"Storage","title":"Stats for nerds","total":"Total","version":"Version","versionCopy":"Click to copy","versionNotAvailable":"Version not available","width":"Width"},"toast":{"copyStyles":"Copied styles.","copyToClipboard":"Copied to clipboard.","copyToClipboardAsPng":"Copied {{exportSelection}} to clipboard as PNG\\n({{exportColorScheme}})","fileSaved":"File saved.","fileSavedToFilename":"Saved to {filename}","canvas":"canvas","selection":"selection"},"colors":{"495057":"Gray 7","ffffff":"White","f8f9fa":"Gray 0","f1f3f5":"Gray 1","fff5f5":"Red 0","fff0f6":"Pink 0","f8f0fc":"Grape 0","f3f0ff":"Violet 0","edf2ff":"Indigo 0","e7f5ff":"Blue 0","e3fafc":"Cyan 0","e6fcf5":"Teal 0","ebfbee":"Green 0","f4fce3":"Lime 0","fff9db":"Yellow 0","fff4e6":"Orange 0","transparent":"Transparent","ced4da":"Gray 4","868e96":"Gray 6","fa5252":"Red 6","e64980":"Pink 6","be4bdb":"Grape 6","7950f2":"Violet 6","4c6ef5":"Indigo 6","228be6":"Blue 6","15aabf":"Cyan 6","12b886":"Teal 6","40c057":"Green 6","82c91e":"Lime 6","fab005":"Yellow 6","fd7e14":"Orange 6","000000":"Black","343a40":"Gray 8","c92a2a":"Red 9","a61e4d":"Pink 9","862e9c":"Grape 9","5f3dc4":"Violet 9","364fc7":"Indigo 9","1864ab":"Blue 9","0b7285":"Cyan 9","087f5b":"Teal 9","2b8a3e":"Green 9","5c940d":"Lime 9","e67700":"Yellow 9","d9480f":"Orange 9"}}')},
4451:function(u){u.exports=JSON.parse('{"ar-SA":100,"bg-BG":68,"ca-ES":84,"cs-CZ":29,"da-DK":20,"de-DE":100,"el-GR":74,"en":100,"es-ES":100,"fa-IR":77,"fi-FI":100,"fr-FR":100,"he-IL":99,"hi-IN":67,"hu-HU":60,"id-ID":100,"it-IT":100,"ja-JP":100,"kab-KAB":93,"kk-KZ":26,"ko-KR":68,"lv-LV":14,"my-MM":56,"nb-NO":100,"nl-NL":100,"nn-NO":74,"oc-FR":100,"pa-IN":99,"pl-PL":70,"pt-BR":100,"pt-PT":99,"ro-RO":100,"ru-RU":99,"sk-SK":100,"sv-SE":100,"tr-TR":78,"uk-UA":80,"zh-CN":100,"zh-TW":100}')}},a={};return m.m=
t,m.n=function(u){var h=u&&u.__esModule?function(){return u.default}:function(){return u};return m.d(h,{a:h}),h},g=Object.getPrototypeOf?function(u){return Object.getPrototypeOf(u)}:function(u){return u.__proto__},m.t=function(u,h){if((1&h&&(u=this(u)),8&h)||"object"==typeof u&&u&&(4&h&&u.__esModule||16&h&&"function"==typeof u.then))return u;var e=Object.create(null);m.r(e);var k={};c=c||[null,g({}),g([]),g(g)];for(h=2&h&&u;"object"==typeof h&&!~c.indexOf(h);h=g(h))Object.getOwnPropertyNames(h).forEach(function(x){k[x]=
function(){return u[x]}});return k.default=function(){return u},m.d(e,k),e},m.d=function(u,h){for(var e in h)m.o(h,e)&&!m.o(u,e)&&Object.defineProperty(u,e,{enumerable:!0,get:h[e]})},m.f={},m.e=function(u){return Promise.all(Object.keys(m.f).reduce(function(h,e){return m.f[e](u,h),h},[]))},m.u=function(u){return"excalidraw-assets/"+{9:"image",43:"i18n-de-DE-json",60:"i18n-ko-KR-json",62:"i18n-zh-TW-json",137:"i18n-ja-JP-json",149:"i18n-pt-PT-json",164:"i18n-kab-KAB-json",196:"i18n-nl-NL-json",213:"i18n-tr-TR-json",
242:"i18n-my-MM-json",246:"i18n-nb-NO-json",262:"i18n-he-IL-json",280:"i18n-pa-IN-json",304:"i18n-zh-CN-json",317:"i18n-es-ES-json",351:"i18n-ca-ES-json",364:"i18n-fr-FR-json",381:"i18n-pt-BR-json",384:"i18n-bg-BG-json",387:"i18n-cs-CZ-json",401:"i18n-sk-SK-json",465:"i18n-it-IT-json",472:"i18n-fi-FI-json",491:"i18n-id-ID-json",526:"i18n-el-GR-json",558:"i18n-ar-SA-json",565:"i18n-oc-FR-json",583:"i18n-uk-UA-json",617:"i18n-da-DK-json",649:"i18n-kk-KZ-json",661:"i18n-hu-HU-json",698:"i18n-sv-SE-json",
710:"i18n-fa-IR-json",736:"vendor",752:"i18n-ro-RO-json",852:"i18n-pl-PL-json",869:"i18n-ru-RU-json",899:"i18n-lv-LV-json",920:"i18n-nn-NO-json",933:"i18n-hi-IN-json"}[u]+"-"+{9:"02a1f3ecd6baf42daaa6",43:"2984c3ea70efb6a7673c",60:"530261d88e915f413822",62:"93a8203eb30054101fcc",137:"10da607a92dd9ee4b6b1",149:"fb8bc9b15f2d232ce452",164:"72dfe5e520fb843a911e",196:"220f20ddbd7092a3a948",213:"60da00067a54eacae6ea",242:"9c8f0251105b94363a8f",246:"102950eb1c0d17b2be82",262:"c22c852f5d1007b76cfd",280:"b7ad703689a54409b91a",
304:"9b20d01d442a9938174a",317:"770832e8199e76bcea31",351:"6f613ec62c184eed761c",364:"7e2c395dc072fbeb4dc8",381:"5eb00d985874b4016992",384:"63af3f6053ca50d0c1a3",387:"c485bdbc1ad44e51f1f1",401:"4fc55e97187d84b3e35f",465:"55de4a420bc2799d63ac",472:"1856fe5f0aa5f6733c71",491:"36ef4139fdc39bd473e9",526:"ef1babaff2ea7b0ca48c",558:"a98b3a07a69a56aa6ddc",565:"3fb584025bb45201012f",583:"3398bd8076ace43903a4",617:"fdc74fe43abb7f09253d",649:"72a00814a5ea1bc1bd4d",661:"2173dae4a84d3f943a3d",698:"5fd1ff062cab18b6c3ec",
710:"5d17bed42e8aa3e26778",736:"881ef50682618d9bd3d3",752:"dc651de2037f6a904212",852:"589514e9da02be71829e",869:"1620932d8cf3b49dbac7",899:"efdf3550b88b63639a73",920:"5b64fbe09ec2fdc5c686",933:"3577c3ff017e2af147ee"}[u]+".js"},m.o=function(u,h){return Object.prototype.hasOwnProperty.call(u,h)},n={},m.l=function(u,h,e,k){if(n[u])n[u].push(h);else{var x;if(void 0!==e){k=document.getElementsByTagName("script");for(var z=0;z<k.length;z++){var B=k[z];if(B.getAttribute("src")==u||B.getAttribute("data-webpack")==
"Excalidraw:"+e){var L=B;break}}}L||(x=!0,(L=document.createElement("script")).charset="utf-8",L.timeout=120,m.nc&&L.setAttribute("nonce",m.nc),L.setAttribute("data-webpack","Excalidraw:"+e),L.src=u);n[u]=[h];h=function(y,E){L.onerror=L.onload=null;clearTimeout(F);var r=n[u];if(delete n[u],L.parentNode&&L.parentNode.removeChild(L),r&&r.forEach(function(Y){return Y(E)}),y)return y(E)};var F=setTimeout(h.bind(null,void 0,{type:"timeout",target:L}),12E4);L.onerror=h.bind(null,L.onerror);L.onload=h.bind(null,
L.onload);x&&document.head.appendChild(L)}},m.r=function(u){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"});Object.defineProperty(u,"__esModule",{value:!0})},m.p="",function(){var u={388:0};m.f.j=function(k,x){var z=m.o(u,k)?u[k]:void 0;if(0!==z)if(z)x.push(z[2]);else{var B=new Promise(function(F,y){z=u[k]=[F,y]});x.push(z[2]=B);x=m.p+m.u(k);var L=Error();m.l(x,function(F){if(m.o(u,k)&&(0!==(z=u[k])&&(u[k]=void 0),z)){var y=F&&("load"===
F.type?"missing":F.type);F=F&&F.target&&F.target.src;L.message="Loading chunk "+k+" failed.\n("+y+": "+F+")";L.name="ChunkLoadError";L.type=y;L.request=F;z[1](L)}},"chunk-"+k,k)}};var h=function(k,x){var z,B=x[0],L=x[1],F=x[2],y=0;for(z in L)m.o(L,z)&&(m.m[z]=L[z]);F&&F(m);for(k&&k(x);y<B.length;y++)k=B[y],m.o(u,k)&&u[k]&&u[k][0](),u[B[y]]=0},e=self.webpackChunkExcalidraw=self.webpackChunkExcalidraw||[];e.forEach(h.bind(null,0));e.push=h.bind(null,e.push.bind(e))}(),m(21)}()})};
'use strict';
var $frontend$handler$draw$load_excalidraw_file$$ = function($file$jscomp$51$$, $ok_handler$jscomp$20$$) {
  var $temp__5720__auto__$jscomp$409$$ = $APP.$frontend$state$get_current_repo$$();
  $APP.$cljs$core$truth_$$($temp__5720__auto__$jscomp$409$$) && $APP.$frontend$util$p_handle$cljs$0core$0IFn$0_invoke$0arity$03$$($APP.$frontend$handler$file$load_file$$($temp__5720__auto__$jscomp$409$$, $file$jscomp$51$$), function($content$jscomp$135$$) {
    return $ok_handler$jscomp$20$$.$cljs$core$IFn$_invoke$arity$1$ ? $ok_handler$jscomp$20$$.$cljs$core$IFn$_invoke$arity$1$($content$jscomp$135$$) : $ok_handler$jscomp$20$$.call(null, $content$jscomp$135$$);
  }, function($error$jscomp$63$$) {
    return $APP.$cljs$core$println$$.$cljs$core$IFn$_invoke$arity$variadic$($APP.$cljs$core$prim_seq$cljs$0core$0IFn$0_invoke$0arity$02$$(["Error loading ", $file$jscomp$51$$, ": ", $error$jscomp$63$$]));
  });
}, $frontend$extensions$excalidraw$update_draw_content_width$$ = function($state$jscomp$277$$) {
  for (var $el_104277__$1_width_104278$$ = $APP.$rum$core$dom_node$$($state$jscomp$277$$).querySelector(".draw-wrap");;) {
    if (null != $el_104277__$1_width_104278$$ && void 0 !== $el_104277__$1_width_104278$$ && void 0 !== $el_104277__$1_width_104278$$.classList) {
      if ($APP.$cljs$core$truth_$$($el_104277__$1_width_104278$$.classList.contains("block-content"))) {
        $el_104277__$1_width_104278$$ = $el_104277__$1_width_104278$$.clientWidth, $APP.$cljs$core$reset_BANG_$$($cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_draw_DASH_width$$.$cljs$core$IFn$_invoke$arity$1$($state$jscomp$277$$), $el_104277__$1_width_104278$$);
      } else {
        $el_104277__$1_width_104278$$ = $el_104277__$1_width_104278$$.parentNode;
        continue;
      }
    }
    break;
  }
  return $state$jscomp$277$$;
}, $cljs$cst$keyword$view_DASH_mode_DASH_enabled$$ = new $APP.$cljs$core$Keyword$$(null, "view-mode-enabled", "view-mode-enabled", -588220561), $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_grid_DASH_mode_QMARK_$$ = new $APP.$cljs$core$Keyword$$("frontend.extensions.excalidraw", "grid-mode?", "frontend.extensions.excalidraw/grid-mode?", -1189627787), $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_view_DASH_mode_QMARK_$$ = new $APP.$cljs$core$Keyword$$("frontend.extensions.excalidraw", 
"view-mode?", "frontend.extensions.excalidraw/view-mode?", 525380621), $cljs$cst$keyword$grid_DASH_mode_DASH_enabled$$ = new $APP.$cljs$core$Keyword$$(null, "grid-mode-enabled", "grid-mode-enabled", 584978327), $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_elements$$ = new $APP.$cljs$core$Keyword$$("frontend.extensions.excalidraw", "elements", "frontend.extensions.excalidraw/elements", 1745667967), $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_loading_QMARK_$$ = 
new $APP.$cljs$core$Keyword$$("frontend.extensions.excalidraw", "loading?", "frontend.extensions.excalidraw/loading?", -1335058663), $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_data$$ = new $APP.$cljs$core$Keyword$$("frontend.extensions.excalidraw", "data", "frontend.extensions.excalidraw/data", -1371036113), $cljs$cst$keyword$zen_DASH_mode_DASH_enabled$$ = new $APP.$cljs$core$Keyword$$(null, "zen-mode-enabled", "zen-mode-enabled", -955634269), $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_zen_DASH_mode_QMARK_$$ = 
new $APP.$cljs$core$Keyword$$("frontend.extensions.excalidraw", "zen-mode?", "frontend.extensions.excalidraw/zen-mode?", 1559773511), $cljs$cst$keyword$initial_DASH_data$$ = new $APP.$cljs$core$Keyword$$(null, "initial-data", "initial-data", -1315709804), $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_draw_DASH_width$$ = new $APP.$cljs$core$Keyword$$("frontend.extensions.excalidraw", "draw-width", "frontend.extensions.excalidraw/draw-width", -681100043);
$APP.$JSCompiler_StaticMethods_beforeLoadModuleCode$$("excalidraw");
var $module$node_modules$$excalidraw$excalidraw$dist$excalidraw_production_min$$ = $APP.$shadow$js$require$$(582);
var $frontend$extensions$excalidraw$excalidraw$$, $frontend$extensions$excalidraw$serialize_as_json$$, $frontend$extensions$excalidraw$draw_inner$$, $frontend$extensions$excalidraw$draw_container$$;
$APP.$frontend$extensions$excalidraw$$ = {};
$frontend$extensions$excalidraw$excalidraw$$ = $APP.$frontend$rum$adapt_class$cljs$0core$0IFn$0_invoke$0arity$02$$($APP.$module$contents$goog$object_get$$($module$node_modules$$excalidraw$excalidraw$dist$excalidraw_production_min$$, "default"));
$frontend$extensions$excalidraw$serialize_as_json$$ = $APP.$module$contents$goog$object_get$$($module$node_modules$$excalidraw$excalidraw$dist$excalidraw_production_min$$, "serializeAsJSON");
$frontend$extensions$excalidraw$draw_inner$$ = $APP.$rum$core$lazy_build$$($APP.$rum$core$build_defcs$$, function($map__104258__$1_state$jscomp$278$$, $data$jscomp$199$$, $option$jscomp$21$$) {
  var $_STAR_draw_width$$ = $APP.$cljs$core$get$$.$cljs$core$IFn$_invoke$arity$2$($map__104258__$1_state$jscomp$278$$, $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_draw_DASH_width$$), $_STAR_zen_mode_QMARK_$$ = $APP.$cljs$core$get$$.$cljs$core$IFn$_invoke$arity$2$($map__104258__$1_state$jscomp$278$$, $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_zen_DASH_mode_QMARK_$$), $_STAR_view_mode_QMARK_$$ = $APP.$cljs$core$get$$.$cljs$core$IFn$_invoke$arity$2$($map__104258__$1_state$jscomp$278$$, 
  $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_view_DASH_mode_QMARK_$$), $_STAR_grid_mode_QMARK_$$ = $APP.$cljs$core$get$$.$cljs$core$IFn$_invoke$arity$2$($map__104258__$1_state$jscomp$278$$, $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_grid_DASH_mode_QMARK_$$), $wide_mode_QMARK_$jscomp$1$$ = $APP.$frontend$state$sub$$($APP.$cljs$cst$keyword$ui_SLASH_wide_DASH_mode_QMARK_$$), $_STAR_elements$$ = $APP.$cljs$core$get$$.$cljs$core$IFn$_invoke$arity$2$($map__104258__$1_state$jscomp$278$$, 
  $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_elements$$);
  $map__104258__$1_state$jscomp$278$$ = $APP.$cljs$core$__destructure_map$$($option$jscomp$21$$);
  var $file$jscomp$95$$ = $APP.$cljs$core$get$$.$cljs$core$IFn$_invoke$arity$2$($map__104258__$1_state$jscomp$278$$, $APP.$cljs$cst$keyword$file$$), $block_uuid$jscomp$27$$ = $APP.$cljs$core$get$$.$cljs$core$IFn$_invoke$arity$2$($map__104258__$1_state$jscomp$278$$, $APP.$cljs$cst$keyword$block_DASH_uuid$$);
  return $APP.$cljs$core$truth_$$($data$jscomp$199$$) ? $APP.$daiquiri$core$create_element$$("div", {onMouseDown:function($e$jscomp$661$$) {
    return $APP.$frontend$util$stop$$($e$jscomp$661$$);
  }, className:"overflow-hidden"}, [$APP.$daiquiri$core$create_element$$("div", {style:{fontSize:10}, className:"my-1"}, [$APP.$daiquiri$core$create_element$$("a", {onClick:$APP.$frontend$handler$ui$toggle_wide_mode_BANG_$$, className:"mr-2"}, [$APP.$daiquiri$interpreter$interpret$$($APP.$frontend$util$format$cljs$0core$0IFn$0_invoke$0arity$0variadic$$("Wide Mode (%s)", $APP.$cljs$core$prim_seq$cljs$0core$0IFn$0_invoke$0arity$02$$([$APP.$cljs$core$truth_$$($wide_mode_QMARK_$jscomp$1$$) ? "ON" : "OFF"])))]), 
  $APP.$daiquiri$core$create_element$$("a", {onClick:function() {
    return $APP.$cljs$core$swap_BANG_$$.$cljs$core$IFn$_invoke$arity$2$($_STAR_zen_mode_QMARK_$$, $APP.$cljs$core$not$$);
  }, className:"mr-2"}, [$APP.$daiquiri$interpreter$interpret$$($APP.$frontend$util$format$cljs$0core$0IFn$0_invoke$0arity$0variadic$$("Zen Mode (%s)", $APP.$cljs$core$prim_seq$cljs$0core$0IFn$0_invoke$0arity$02$$([$APP.$cljs$core$truth_$$($APP.$cljs$core$_deref$$($_STAR_zen_mode_QMARK_$$)) ? "ON" : "OFF"])))]), $APP.$daiquiri$core$create_element$$("a", {onClick:function() {
    return $APP.$cljs$core$swap_BANG_$$.$cljs$core$IFn$_invoke$arity$2$($_STAR_view_mode_QMARK_$$, $APP.$cljs$core$not$$);
  }, className:"mr-2"}, [$APP.$daiquiri$interpreter$interpret$$($APP.$frontend$util$format$cljs$0core$0IFn$0_invoke$0arity$0variadic$$("View Mode (%s)", $APP.$cljs$core$prim_seq$cljs$0core$0IFn$0_invoke$0arity$02$$([$APP.$cljs$core$truth_$$($APP.$cljs$core$_deref$$($_STAR_view_mode_QMARK_$$)) ? "ON" : "OFF"])))]), $APP.$daiquiri$core$create_element$$("a", {onClick:function() {
    return $APP.$cljs$core$swap_BANG_$$.$cljs$core$IFn$_invoke$arity$2$($_STAR_grid_mode_QMARK_$$, $APP.$cljs$core$not$$);
  }, className:"mr-2"}, [$APP.$daiquiri$interpreter$interpret$$($APP.$frontend$util$format$cljs$0core$0IFn$0_invoke$0arity$0variadic$$("Grid Mode (%s)", $APP.$cljs$core$prim_seq$cljs$0core$0IFn$0_invoke$0arity$02$$([$APP.$cljs$core$truth_$$($APP.$cljs$core$_deref$$($_STAR_view_mode_QMARK_$$)) ? "ON" : "OFF"])))]), $APP.$daiquiri$core$create_element$$("a", {onClick:function() {
    var $G__104262$jscomp$inline_7311_temp__5720__auto__$jscomp$918$$ = new $APP.$cljs$core$PersistentVector$$(null, 2, 5, $APP.$cljs$core$PersistentVector$EMPTY_NODE$$, [$APP.$cljs$cst$keyword$block_SLASH_uuid$$, $block_uuid$jscomp$27$$], null);
    $G__104262$jscomp$inline_7311_temp__5720__auto__$jscomp$918$$ = $APP.$frontend$db$utils$pull$cljs$0core$0IFn$0_invoke$0arity$01$$ ? $APP.$frontend$db$utils$pull$cljs$0core$0IFn$0_invoke$0arity$01$$($G__104262$jscomp$inline_7311_temp__5720__auto__$jscomp$918$$) : $APP.$frontend$db$utils$pull$$.call(null, $G__104262$jscomp$inline_7311_temp__5720__auto__$jscomp$918$$);
    return $APP.$cljs$core$truth_$$($G__104262$jscomp$inline_7311_temp__5720__auto__$jscomp$918$$) ? $APP.$frontend$handler$editor$edit_block_BANG_$cljs$0core$0IFn$0_invoke$0arity$04$$(0, null) : null;
  }, className:"mr-2"}, ["Edit Block"])]), $APP.$daiquiri$core$create_element$$("div", {onMouseDown:function($e$jscomp$662$$) {
    $APP.$frontend$util$stop$$($e$jscomp$662$$);
    return $APP.$frontend$state$set_state_BANG_$$($APP.$cljs$cst$keyword$block_SLASH_component_DASH_editing_DASH_mode_QMARK_$$, !0);
  }, onBlur:function() {
    return $APP.$frontend$state$set_state_BANG_$$($APP.$cljs$cst$keyword$block_SLASH_component_DASH_editing_DASH_mode_QMARK_$$, !1);
  }, style:{width:$APP.$cljs$core$_deref$$($_STAR_draw_width$$), height:$APP.$cljs$core$truth_$$($wide_mode_QMARK_$jscomp$1$$) ? 650 : 500}, className:"draw-wrap"}, [$APP.$daiquiri$interpreter$interpret$$(function() {
    var $G__104268$$ = $APP.$cljs$core$merge$$.$cljs$core$IFn$_invoke$arity$variadic$($APP.$cljs$core$prim_seq$cljs$0core$0IFn$0_invoke$0arity$02$$([new $APP.$cljs$core$PersistentArrayMap$$(null, 5, [$APP.$cljs$cst$keyword$on_DASH_change$$, function($elements$jscomp$12$$, $app_state$jscomp$1$$) {
      if ($APP.$cljs$core$truth_$$(function() {
        var $or__4253__auto__$jscomp$901_or__4253__auto____$1$jscomp$127_or__4253__auto____$2$jscomp$50_or__4253__auto____$3$jscomp$32$$ = $APP.$cljs$core$_EQ_$$.$cljs$core$IFn$_invoke$arity$2$("down", $APP.$module$contents$goog$object_get$$($app_state$jscomp$1$$, "cursorButton"));
        if ($or__4253__auto__$jscomp$901_or__4253__auto____$1$jscomp$127_or__4253__auto____$2$jscomp$50_or__4253__auto____$3$jscomp$32$$) {
          return $or__4253__auto__$jscomp$901_or__4253__auto____$1$jscomp$127_or__4253__auto____$2$jscomp$50_or__4253__auto____$3$jscomp$32$$;
        }
        $or__4253__auto__$jscomp$901_or__4253__auto____$1$jscomp$127_or__4253__auto____$2$jscomp$50_or__4253__auto____$3$jscomp$32$$ = $APP.$module$contents$goog$object_get$$($app_state$jscomp$1$$, "draggingElement");
        if ($APP.$cljs$core$truth_$$($or__4253__auto__$jscomp$901_or__4253__auto____$1$jscomp$127_or__4253__auto____$2$jscomp$50_or__4253__auto____$3$jscomp$32$$)) {
          return $or__4253__auto__$jscomp$901_or__4253__auto____$1$jscomp$127_or__4253__auto____$2$jscomp$50_or__4253__auto____$3$jscomp$32$$;
        }
        $or__4253__auto__$jscomp$901_or__4253__auto____$1$jscomp$127_or__4253__auto____$2$jscomp$50_or__4253__auto____$3$jscomp$32$$ = $APP.$module$contents$goog$object_get$$($app_state$jscomp$1$$, "editingElement");
        if ($APP.$cljs$core$truth_$$($or__4253__auto__$jscomp$901_or__4253__auto____$1$jscomp$127_or__4253__auto____$2$jscomp$50_or__4253__auto____$3$jscomp$32$$)) {
          return $or__4253__auto__$jscomp$901_or__4253__auto____$1$jscomp$127_or__4253__auto____$2$jscomp$50_or__4253__auto____$3$jscomp$32$$;
        }
        $or__4253__auto__$jscomp$901_or__4253__auto____$1$jscomp$127_or__4253__auto____$2$jscomp$50_or__4253__auto____$3$jscomp$32$$ = $APP.$module$contents$goog$object_get$$($app_state$jscomp$1$$, "editingGroupId");
        return $APP.$cljs$core$truth_$$($or__4253__auto__$jscomp$901_or__4253__auto____$1$jscomp$127_or__4253__auto____$2$jscomp$50_or__4253__auto____$3$jscomp$32$$) ? $or__4253__auto__$jscomp$901_or__4253__auto____$1$jscomp$127_or__4253__auto____$2$jscomp$50_or__4253__auto____$3$jscomp$32$$ : $APP.$module$contents$goog$object_get$$($app_state$jscomp$1$$, "editingLinearElement");
      }())) {
        return null;
      }
      var $elements__GT_clj$$ = $APP.$cljs_bean$core$__GT_clj$$($elements$jscomp$12$$);
      return $APP.$cljs$core$seq$$($elements__GT_clj$$) && $APP.$cljs$core$not_EQ_$$.$cljs$core$IFn$_invoke$arity$2$($elements__GT_clj$$, $APP.$cljs$core$_deref$$($_STAR_elements$$)) ? ($APP.$cljs$core$reset_BANG_$$($_STAR_elements$$, $elements__GT_clj$$), $APP.$frontend$handler$draw$save_excalidraw_BANG_$$($file$jscomp$95$$, $frontend$extensions$excalidraw$serialize_as_json$$.$cljs$core$IFn$_invoke$arity$2$ ? $frontend$extensions$excalidraw$serialize_as_json$$.$cljs$core$IFn$_invoke$arity$2$($elements$jscomp$12$$, 
      $app_state$jscomp$1$$) : $frontend$extensions$excalidraw$serialize_as_json$$.call(null, $elements$jscomp$12$$, $app_state$jscomp$1$$))) : null;
    }, $cljs$cst$keyword$zen_DASH_mode_DASH_enabled$$, $APP.$cljs$core$_deref$$($_STAR_zen_mode_QMARK_$$), $cljs$cst$keyword$view_DASH_mode_DASH_enabled$$, $APP.$cljs$core$_deref$$($_STAR_view_mode_QMARK_$$), $cljs$cst$keyword$grid_DASH_mode_DASH_enabled$$, $APP.$cljs$core$_deref$$($_STAR_grid_mode_QMARK_$$), $cljs$cst$keyword$initial_DASH_data$$, $data$jscomp$199$$], null)]));
    return $frontend$extensions$excalidraw$excalidraw$$.$cljs$core$IFn$_invoke$arity$1$ ? $frontend$extensions$excalidraw$excalidraw$$.$cljs$core$IFn$_invoke$arity$1$($G__104268$$) : $frontend$extensions$excalidraw$excalidraw$$.call(null, $G__104268$$);
  }())])]) : null;
}, new $APP.$cljs$core$PersistentVector$$(null, 7, 5, $APP.$cljs$core$PersistentVector$EMPTY_NODE$$, [$APP.$rum$core$reactive$$, $APP.$rum$core$local$cljs$0core$0IFn$0_invoke$0arity$02$$(800, $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_draw_DASH_width$$), $APP.$rum$core$local$cljs$0core$0IFn$0_invoke$0arity$02$$(!0, $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_zen_DASH_mode_QMARK_$$), $APP.$rum$core$local$cljs$0core$0IFn$0_invoke$0arity$02$$(!1, $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_view_DASH_mode_QMARK_$$), 
$APP.$rum$core$local$cljs$0core$0IFn$0_invoke$0arity$02$$(!1, $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_grid_DASH_mode_QMARK_$$), $APP.$rum$core$local$cljs$0core$0IFn$0_invoke$0arity$02$$(null, $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_elements$$), new $APP.$cljs$core$PersistentArrayMap$$(null, 2, [$APP.$cljs$cst$keyword$did_DASH_mount$$, $frontend$extensions$excalidraw$update_draw_content_width$$, $APP.$cljs$cst$keyword$did_DASH_update$$, $frontend$extensions$excalidraw$update_draw_content_width$$], 
null)], null), "frontend.extensions.excalidraw/draw-inner");
$frontend$extensions$excalidraw$draw_container$$ = $APP.$rum$core$lazy_build$$($APP.$rum$core$build_defcs$$, function($_STAR_loading_QMARK_$jscomp$1_loading_QMARK_$jscomp$5_state$jscomp$279$$, $attrs104272_option$jscomp$22$$) {
  var $_STAR_data_data$jscomp$200$$ = $APP.$cljs$core$get$$.$cljs$core$IFn$_invoke$arity$2$($_STAR_loading_QMARK_$jscomp$1_loading_QMARK_$jscomp$5_state$jscomp$279$$, $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_data$$);
  $_STAR_loading_QMARK_$jscomp$1_loading_QMARK_$jscomp$5_state$jscomp$279$$ = $APP.$cljs$core$get$$.$cljs$core$IFn$_invoke$arity$2$($_STAR_loading_QMARK_$jscomp$1_loading_QMARK_$jscomp$5_state$jscomp$279$$, $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_loading_QMARK_$$);
  $_STAR_loading_QMARK_$jscomp$1_loading_QMARK_$jscomp$5_state$jscomp$279$$ = $APP.$rum$core$react$$($_STAR_loading_QMARK_$jscomp$1_loading_QMARK_$jscomp$5_state$jscomp$279$$);
  $_STAR_data_data$jscomp$200$$ = $APP.$rum$core$react$$($_STAR_data_data$jscomp$200$$);
  var $db_restoring_QMARK_$jscomp$4$$ = $APP.$frontend$state$sub$$($APP.$cljs$cst$keyword$db_SLASH_restoring_QMARK_$$);
  return $APP.$cljs$core$truth_$$($APP.$cljs$cst$keyword$file$$.$cljs$core$IFn$_invoke$arity$1$($attrs104272_option$jscomp$22$$)) ? $APP.$cljs$core$truth_$$($db_restoring_QMARK_$jscomp$4$$) ? ($attrs104272_option$jscomp$22$$ = $APP.$frontend$ui$loading$$("Loading"), $APP.$daiquiri$core$create_element$$("div", $APP.$cljs$core$map_QMARK_$$($attrs104272_option$jscomp$22$$) ? $APP.$daiquiri$interpreter$attributes$$($APP.$daiquiri$normalize$merge_with_class$cljs$0core$0IFn$0_invoke$0arity$0variadic$$($APP.$cljs$core$prim_seq$cljs$0core$0IFn$0_invoke$0arity$02$$([new $APP.$cljs$core$PersistentArrayMap$$(null, 
  1, [$APP.$cljs$cst$keyword$class$$, new $APP.$cljs$core$PersistentVector$$(null, 1, 5, $APP.$cljs$core$PersistentVector$EMPTY_NODE$$, ["ls-center"], null)], null), $attrs104272_option$jscomp$22$$]))) : {className:"ls-center"}, $APP.$cljs$core$map_QMARK_$$($attrs104272_option$jscomp$22$$) ? null : [$APP.$daiquiri$interpreter$interpret$$($attrs104272_option$jscomp$22$$)])) : !1 === $_STAR_loading_QMARK_$jscomp$1_loading_QMARK_$jscomp$5_state$jscomp$279$$ ? $frontend$extensions$excalidraw$draw_inner$$($_STAR_data_data$jscomp$200$$, 
  $attrs104272_option$jscomp$22$$) : null : null;
}, new $APP.$cljs$core$PersistentVector$$(null, 2, 5, $APP.$cljs$core$PersistentVector$EMPTY_NODE$$, [$APP.$rum$core$reactive$$, new $APP.$cljs$core$PersistentArrayMap$$(null, 1, [$APP.$cljs$cst$keyword$init$$, function($state$jscomp$280$$) {
  var $file$jscomp$96_option$jscomp$23_vec__104273$$ = $APP.$cljs$cst$keyword$rum_SLASH_args$$.$cljs$core$IFn$_invoke$arity$1$($state$jscomp$280$$);
  $file$jscomp$96_option$jscomp$23_vec__104273$$ = $APP.$cljs$core$nth$$.$cljs$core$IFn$_invoke$arity$3$($file$jscomp$96_option$jscomp$23_vec__104273$$, 0, null);
  $file$jscomp$96_option$jscomp$23_vec__104273$$ = $APP.$cljs$cst$keyword$file$$.$cljs$core$IFn$_invoke$arity$1$($file$jscomp$96_option$jscomp$23_vec__104273$$);
  var $_STAR_data$jscomp$1$$ = $APP.$cljs$core$atom$$.$cljs$core$IFn$_invoke$arity$1$(null), $_STAR_loading_QMARK_$jscomp$2$$ = $APP.$cljs$core$atom$$.$cljs$core$IFn$_invoke$arity$1$(!0);
  $APP.$cljs$core$truth_$$($file$jscomp$96_option$jscomp$23_vec__104273$$) && $frontend$handler$draw$load_excalidraw_file$$($file$jscomp$96_option$jscomp$23_vec__104273$$, function($data$jscomp$201_e$jscomp$inline_7314$$) {
    if ($APP.$clojure$string$blank_QMARK_$$($data$jscomp$201_e$jscomp$inline_7314$$)) {
      var $data__$1$jscomp$10$$ = null;
    } else {
      try {
        $data__$1$jscomp$10$$ = JSON.parse($data$jscomp$201_e$jscomp$inline_7314$$);
      } catch ($e104251$jscomp$inline_7315$$) {
        if ($e104251$jscomp$inline_7315$$ instanceof Error) {
          $data$jscomp$201_e$jscomp$inline_7314$$ = $e104251$jscomp$inline_7315$$, $APP.$cljs$core$println$$.$cljs$core$IFn$_invoke$arity$variadic$($APP.$cljs$core$prim_seq$cljs$0core$0IFn$0_invoke$0arity$02$$(["from json error:"])), console.dir($data$jscomp$201_e$jscomp$inline_7314$$), $data__$1$jscomp$10$$ = $APP.$frontend$handler$notification$show_BANG_$cljs$0core$0IFn$0_invoke$0arity$02$$($APP.$frontend$util$format$$("Could not load this invalid excalidraw file"), $APP.$cljs$cst$keyword$error$$);
        } else {
          throw $e104251$jscomp$inline_7315$$;
        }
      }
    }
    $APP.$cljs$core$reset_BANG_$$($_STAR_data$jscomp$1$$, $data__$1$jscomp$10$$);
    return $APP.$cljs$core$reset_BANG_$$($_STAR_loading_QMARK_$jscomp$2$$, !1);
  });
  return $APP.$cljs$core$assoc$$.$cljs$core$IFn$_invoke$arity$variadic$($state$jscomp$280$$, $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_data$$, $_STAR_data$jscomp$1$$, $APP.$cljs$core$prim_seq$cljs$0core$0IFn$0_invoke$0arity$02$$([$cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_loading_QMARK_$$, $_STAR_loading_QMARK_$jscomp$2$$]));
}], null)], null), "frontend.extensions.excalidraw/draw-container");
$APP.$frontend$extensions$excalidraw$draw$$ = $APP.$rum$core$lazy_build$$($APP.$rum$core$build_defc$$, function($option$jscomp$24$$) {
  var $repo$jscomp$391$$ = $APP.$frontend$state$get_current_repo$$(), $granted_QMARK_$jscomp$2$$ = $APP.$frontend$state$sub$$(new $APP.$cljs$core$PersistentVector$$(null, 2, 5, $APP.$cljs$core$PersistentVector$EMPTY_NODE$$, [$APP.$cljs$cst$keyword$nfs_SLASH_user_DASH_granted_QMARK_$$, $repo$jscomp$391$$], null));
  return $APP.$frontend$config$local_db_QMARK_$$($repo$jscomp$391$$) && $APP.$cljs$core$not$$($granted_QMARK_$jscomp$2$$) && $APP.$cljs$core$not$$($APP.$frontend$util$electron_QMARK_$$()) && $APP.$cljs$core$not$$($APP.$frontend$mobile$util$is_native_platform_QMARK_$$()) ? null : $frontend$extensions$excalidraw$draw_container$$($option$jscomp$24$$);
}, new $APP.$cljs$core$PersistentVector$$(null, 1, 5, $APP.$cljs$core$PersistentVector$EMPTY_NODE$$, [$APP.$rum$core$reactive$$], null), "frontend.extensions.excalidraw/draw");
$APP.$module$contents$shadow$loader_mm$$.$setLoaded$();

}).call(this);
//# sourceMappingURL=excalidraw.js.map
