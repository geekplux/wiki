const Fs=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function o(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerpolicy&&(c.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?c.credentials="include":l.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=o(l);fetch(l.href,c)}};Fs();var tn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ki={exports:{}};/*! For license information please see lsplugin.user.js.LICENSE.txt */(function(i,r){(function(o,a){i.exports=a()})(self,()=>(()=>{var o={227:(f,g,d)=>{var $=d(155);g.formatArgs=function(w){if(w[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+w[0]+(this.useColors?"%c ":" ")+"+"+f.exports.humanize(this.diff),!this.useColors)return;const U="color: "+this.color;w.splice(1,0,U,"color: inherit");let b=0,S=0;w[0].replace(/%[a-zA-Z%]/g,C=>{C!=="%%"&&(b++,C==="%c"&&(S=b))}),w.splice(S,0,U)},g.save=function(w){try{w?g.storage.setItem("debug",w):g.storage.removeItem("debug")}catch{}},g.load=function(){let w;try{w=g.storage.getItem("debug")}catch{}return!w&&$!==void 0&&"env"in $&&(w=$.env.DEBUG),w},g.useColors=function(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},g.storage=function(){try{return localStorage}catch{}}(),g.destroy=(()=>{let w=!1;return()=>{w||(w=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),g.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],g.log=console.debug||console.log||(()=>{}),f.exports=d(447)(g);const{formatters:O}=f.exports;O.j=function(w){try{return JSON.stringify(w)}catch(U){return"[UnexpectedJSONParseError]: "+U.message}}},447:(f,g,d)=>{f.exports=function($){function O(b){let S,C,T,B=null;function z(...W){if(!z.enabled)return;const J=z,F=Number(new Date),G=F-(S||F);J.diff=G,J.prev=S,J.curr=F,S=F,W[0]=O.coerce(W[0]),typeof W[0]!="string"&&W.unshift("%O");let p=0;W[0]=W[0].replace(/%([a-zA-Z%])/g,(v,x)=>{if(v==="%%")return"%";p++;const j=O.formatters[x];if(typeof j=="function"){const Z=W[p];v=j.call(J,Z),W.splice(p,1),p--}return v}),O.formatArgs.call(J,W),(J.log||O.log).apply(J,W)}return z.namespace=b,z.useColors=O.useColors(),z.color=O.selectColor(b),z.extend=w,z.destroy=O.destroy,Object.defineProperty(z,"enabled",{enumerable:!0,configurable:!1,get:()=>B!==null?B:(C!==O.namespaces&&(C=O.namespaces,T=O.enabled(b)),T),set:W=>{B=W}}),typeof O.init=="function"&&O.init(z),z}function w(b,S){const C=O(this.namespace+(S===void 0?":":S)+b);return C.log=this.log,C}function U(b){return b.toString().substring(2,b.toString().length-2).replace(/\.\*\?$/,"*")}return O.debug=O,O.default=O,O.coerce=function(b){return b instanceof Error?b.stack||b.message:b},O.disable=function(){const b=[...O.names.map(U),...O.skips.map(U).map(S=>"-"+S)].join(",");return O.enable(""),b},O.enable=function(b){let S;O.save(b),O.namespaces=b,O.names=[],O.skips=[];const C=(typeof b=="string"?b:"").split(/[\s,]+/),T=C.length;for(S=0;S<T;S++)C[S]&&((b=C[S].replace(/\*/g,".*?"))[0]==="-"?O.skips.push(new RegExp("^"+b.slice(1)+"$")):O.names.push(new RegExp("^"+b+"$")))},O.enabled=function(b){if(b[b.length-1]==="*")return!0;let S,C;for(S=0,C=O.skips.length;S<C;S++)if(O.skips[S].test(b))return!1;for(S=0,C=O.names.length;S<C;S++)if(O.names[S].test(b))return!0;return!1},O.humanize=d(824),O.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys($).forEach(b=>{O[b]=$[b]}),O.names=[],O.skips=[],O.formatters={},O.selectColor=function(b){let S=0;for(let C=0;C<b.length;C++)S=(S<<5)-S+b.charCodeAt(C),S|=0;return O.colors[Math.abs(S)%O.colors.length]},O.enable(O.load()),O}},856:function(f){f.exports=function(){function g(N){return g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},g(N)}function d(N,k){return d=Object.setPrototypeOf||function(V,ee){return V.__proto__=ee,V},d(N,k)}function $(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function O(N,k,V){return O=$()?Reflect.construct:function(ee,ce,ze){var ot=[null];ot.push.apply(ot,ce);var Ge=new(Function.bind.apply(ee,ot));return ze&&d(Ge,ze.prototype),Ge},O.apply(null,arguments)}function w(N){return U(N)||b(N)||S(N)||T()}function U(N){if(Array.isArray(N))return C(N)}function b(N){if(typeof Symbol<"u"&&N[Symbol.iterator]!=null||N["@@iterator"]!=null)return Array.from(N)}function S(N,k){if(N){if(typeof N=="string")return C(N,k);var V=Object.prototype.toString.call(N).slice(8,-1);return V==="Object"&&N.constructor&&(V=N.constructor.name),V==="Map"||V==="Set"?Array.from(N):V==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(V)?C(N,k):void 0}}function C(N,k){(k==null||k>N.length)&&(k=N.length);for(var V=0,ee=new Array(k);V<k;V++)ee[V]=N[V];return ee}function T(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var B=Object.hasOwnProperty,z=Object.setPrototypeOf,W=Object.isFrozen,J=Object.getPrototypeOf,F=Object.getOwnPropertyDescriptor,G=Object.freeze,p=Object.seal,v=Object.create,x=typeof Reflect<"u"&&Reflect,j=x.apply,Z=x.construct;j||(j=function(N,k,V){return N.apply(k,V)}),G||(G=function(N){return N}),p||(p=function(N){return N}),Z||(Z=function(N,k){return O(N,w(k))});var re=ie(Array.prototype.forEach),le=ie(Array.prototype.pop),ye=ie(Array.prototype.push),$e=ie(String.prototype.toLowerCase),Ae=ie(String.prototype.match),me=ie(String.prototype.replace),Me=ie(String.prototype.indexOf),E=ie(String.prototype.trim),I=ie(RegExp.prototype.test),H=xe(TypeError);function ie(N){return function(k){for(var V=arguments.length,ee=new Array(V>1?V-1:0),ce=1;ce<V;ce++)ee[ce-1]=arguments[ce];return j(N,k,ee)}}function xe(N){return function(){for(var k=arguments.length,V=new Array(k),ee=0;ee<k;ee++)V[ee]=arguments[ee];return Z(N,V)}}function q(N,k){z&&z(N,null);for(var V=k.length;V--;){var ee=k[V];if(typeof ee=="string"){var ce=$e(ee);ce!==ee&&(W(k)||(k[V]=ce),ee=ce)}N[ee]=!0}return N}function K(N){var k,V=v(null);for(k in N)j(B,N,[k])&&(V[k]=N[k]);return V}function he(N,k){for(;N!==null;){var V=F(N,k);if(V){if(V.get)return ie(V.get);if(typeof V.value=="function")return ie(V.value)}N=J(N)}function ee(ce){return console.warn("fallback value for",ce),null}return ee}var Re=G(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Ie=G(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Ke=G(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),pt=G(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ge=G(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),fe=G(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Ce=G(["#text"]),Te=G(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Pe=G(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Ue=G(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),He=G(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Qt=p(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Dt=p(/<%[\w\W]*|[\w\W]*%>/gm),dn=p(/^data-[\-\w.\u00B7-\uFFFF]/),mn=p(/^aria-[\-\w]+$/),gn=p(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),vn=p(/^(?:\w+script|data):/i),dt=p(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Rr=p(/^html$/i),yn=function(){return typeof window>"u"?null:window},bn=function(N,k){if(g(N)!=="object"||typeof N.createPolicy!="function")return null;var V=null,ee="data-tt-policy-suffix";k.currentScript&&k.currentScript.hasAttribute(ee)&&(V=k.currentScript.getAttribute(ee));var ce="dompurify"+(V?"#"+V:"");try{return N.createPolicy(ce,{createHTML:function(ze){return ze}})}catch{return console.warn("TrustedTypes policy "+ce+" could not be created."),null}};function wt(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:yn(),k=function(u){return wt(u)};if(k.version="2.3.8",k.removed=[],!N||!N.document||N.document.nodeType!==9)return k.isSupported=!1,k;var V=N.document,ee=N.document,ce=N.DocumentFragment,ze=N.HTMLTemplateElement,ot=N.Node,Ge=N.Element,st=N.NodeFilter,Ot=N.NamedNodeMap,Mt=Ot===void 0?N.NamedNodeMap||N.MozNamedAttrMap:Ot,er=N.HTMLFormElement,Nr=N.DOMParser,Lr=N.trustedTypes,St=Ge.prototype,jr=he(St,"cloneNode"),kr=he(St,"nextSibling"),_n=he(St,"childNodes"),mt=he(St,"parentNode");if(typeof ze=="function"){var tr=ee.createElement("template");tr.content&&tr.content.ownerDocument&&(ee=tr.content.ownerDocument)}var Qe=bn(Lr,V),Pr=Qe?Qe.createHTML(""):"",$t=ee,rr=$t.implementation,Fr=$t.createNodeIterator,Dr=$t.createDocumentFragment,En=$t.getElementsByTagName,nr=V.importNode,Mr={};try{Mr=K(ee).documentMode?ee.documentMode:{}}catch{}var Ee={};k.isSupported=typeof mt=="function"&&rr&&rr.createHTMLDocument!==void 0&&Mr!==9;var gt,et,ir=Qt,or=Dt,Ut=dn,Fe=mn,sr=vn,At=dt,ar=gn,be=null,lr=q({},[].concat(w(Re),w(Ie),w(Ke),w(ge),w(Ce))),_e=null,cr=q({},[].concat(w(Te),w(Pe),w(Ue),w(He))),ue=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),xt=null,ur=null,hr=!0,fr=!0,Ur=!1,vt=!1,ne=!1,pr=!1,dr=!1,at=!1,tt=!1,yt=!1,mr=!0,zt=!0,lt=!1,rt={},bt=null,zr=q({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Gr=null,Hr=q({},["audio","video","img","source","image","track"]),gr=null,Gt=q({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),vr="http://www.w3.org/1998/Math/MathML",Ht="http://www.w3.org/2000/svg",nt="http://www.w3.org/1999/xhtml",qt=nt,qr=!1,Br=["application/xhtml+xml","text/html"],wn="text/html",_t=null,On=ee.createElement("form"),Bt=function(u){return u instanceof RegExp||u instanceof Function},yr=function(u){_t&&_t===u||(u&&g(u)==="object"||(u={}),u=K(u),be="ALLOWED_TAGS"in u?q({},u.ALLOWED_TAGS):lr,_e="ALLOWED_ATTR"in u?q({},u.ALLOWED_ATTR):cr,gr="ADD_URI_SAFE_ATTR"in u?q(K(Gt),u.ADD_URI_SAFE_ATTR):Gt,Gr="ADD_DATA_URI_TAGS"in u?q(K(Hr),u.ADD_DATA_URI_TAGS):Hr,bt="FORBID_CONTENTS"in u?q({},u.FORBID_CONTENTS):zr,xt="FORBID_TAGS"in u?q({},u.FORBID_TAGS):{},ur="FORBID_ATTR"in u?q({},u.FORBID_ATTR):{},rt="USE_PROFILES"in u&&u.USE_PROFILES,hr=u.ALLOW_ARIA_ATTR!==!1,fr=u.ALLOW_DATA_ATTR!==!1,Ur=u.ALLOW_UNKNOWN_PROTOCOLS||!1,vt=u.SAFE_FOR_TEMPLATES||!1,ne=u.WHOLE_DOCUMENT||!1,at=u.RETURN_DOM||!1,tt=u.RETURN_DOM_FRAGMENT||!1,yt=u.RETURN_TRUSTED_TYPE||!1,dr=u.FORCE_BODY||!1,mr=u.SANITIZE_DOM!==!1,zt=u.KEEP_CONTENT!==!1,lt=u.IN_PLACE||!1,ar=u.ALLOWED_URI_REGEXP||ar,qt=u.NAMESPACE||nt,u.CUSTOM_ELEMENT_HANDLING&&Bt(u.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ue.tagNameCheck=u.CUSTOM_ELEMENT_HANDLING.tagNameCheck),u.CUSTOM_ELEMENT_HANDLING&&Bt(u.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ue.attributeNameCheck=u.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),u.CUSTOM_ELEMENT_HANDLING&&typeof u.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ue.allowCustomizedBuiltInElements=u.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),gt=gt=Br.indexOf(u.PARSER_MEDIA_TYPE)===-1?wn:u.PARSER_MEDIA_TYPE,et=gt==="application/xhtml+xml"?function(L){return L}:$e,vt&&(fr=!1),tt&&(at=!0),rt&&(be=q({},w(Ce)),_e=[],rt.html===!0&&(q(be,Re),q(_e,Te)),rt.svg===!0&&(q(be,Ie),q(_e,Pe),q(_e,He)),rt.svgFilters===!0&&(q(be,Ke),q(_e,Pe),q(_e,He)),rt.mathMl===!0&&(q(be,ge),q(_e,Ue),q(_e,He))),u.ADD_TAGS&&(be===lr&&(be=K(be)),q(be,u.ADD_TAGS)),u.ADD_ATTR&&(_e===cr&&(_e=K(_e)),q(_e,u.ADD_ATTR)),u.ADD_URI_SAFE_ATTR&&q(gr,u.ADD_URI_SAFE_ATTR),u.FORBID_CONTENTS&&(bt===zr&&(bt=K(bt)),q(bt,u.FORBID_CONTENTS)),zt&&(be["#text"]=!0),ne&&q(be,["html","head","body"]),be.table&&(q(be,["tbody"]),delete xt.tbody),G&&G(u),_t=u)},br=q({},["mi","mo","mn","ms","mtext"]),Wr=q({},["foreignobject","desc","title","annotation-xml"]),Sn=q({},["title","style","font","a","script"]),Wt=q({},Ie);q(Wt,Ke),q(Wt,pt);var _r=q({},ge);q(_r,fe);var $n=function(u){var L=mt(u);L&&L.tagName||(L={namespaceURI:nt,tagName:"template"});var R=$e(u.tagName),se=$e(L.tagName);return u.namespaceURI===Ht?L.namespaceURI===nt?R==="svg":L.namespaceURI===vr?R==="svg"&&(se==="annotation-xml"||br[se]):Boolean(Wt[R]):u.namespaceURI===vr?L.namespaceURI===nt?R==="math":L.namespaceURI===Ht?R==="math"&&Wr[se]:Boolean(_r[R]):u.namespaceURI===nt&&!(L.namespaceURI===Ht&&!Wr[se])&&!(L.namespaceURI===vr&&!br[se])&&!_r[R]&&(Sn[R]||!Wt[R])},qe=function(u){ye(k.removed,{element:u});try{u.parentNode.removeChild(u)}catch{try{u.outerHTML=Pr}catch{u.remove()}}},Xr=function(u,L){try{ye(k.removed,{attribute:L.getAttributeNode(u),from:L})}catch{ye(k.removed,{attribute:null,from:L})}if(L.removeAttribute(u),u==="is"&&!_e[u])if(at||tt)try{qe(L)}catch{}else try{L.setAttribute(u,"")}catch{}},Vr=function(u){var L,R;if(dr)u="<remove></remove>"+u;else{var se=Ae(u,/^[\r\n\t ]+/);R=se&&se[0]}gt==="application/xhtml+xml"&&(u='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+u+"</body></html>");var pe=Qe?Qe.createHTML(u):u;if(qt===nt)try{L=new Nr().parseFromString(pe,gt)}catch{}if(!L||!L.documentElement){L=rr.createDocument(qt,"template",null);try{L.documentElement.innerHTML=qr?"":pe}catch{}}var we=L.body||L.documentElement;return u&&R&&we.insertBefore(ee.createTextNode(R),we.childNodes[0]||null),qt===nt?En.call(L,ne?"html":"body")[0]:ne?L.documentElement:we},It=function(u){return Fr.call(u.ownerDocument||u,u,st.SHOW_ELEMENT|st.SHOW_COMMENT|st.SHOW_TEXT,null,!1)},An=function(u){return u instanceof er&&(typeof u.nodeName!="string"||typeof u.textContent!="string"||typeof u.removeChild!="function"||!(u.attributes instanceof Mt)||typeof u.removeAttribute!="function"||typeof u.setAttribute!="function"||typeof u.namespaceURI!="string"||typeof u.insertBefore!="function")},Ct=function(u){return g(ot)==="object"?u instanceof ot:u&&g(u)==="object"&&typeof u.nodeType=="number"&&typeof u.nodeName=="string"},Be=function(u,L,R){Ee[u]&&re(Ee[u],function(se){se.call(k,L,R,_t)})},Er=function(u){var L;if(Be("beforeSanitizeElements",u,null),An(u)||I(/[\u0080-\uFFFF]/,u.nodeName))return qe(u),!0;var R=et(u.nodeName);if(Be("uponSanitizeElement",u,{tagName:R,allowedTags:be}),u.hasChildNodes()&&!Ct(u.firstElementChild)&&(!Ct(u.content)||!Ct(u.content.firstElementChild))&&I(/<[/\w]/g,u.innerHTML)&&I(/<[/\w]/g,u.textContent)||R==="select"&&I(/<template/i,u.innerHTML))return qe(u),!0;if(!be[R]||xt[R]){if(!xt[R]&&wr(R)&&(ue.tagNameCheck instanceof RegExp&&I(ue.tagNameCheck,R)||ue.tagNameCheck instanceof Function&&ue.tagNameCheck(R)))return!1;if(zt&&!bt[R]){var se=mt(u)||u.parentNode,pe=_n(u)||u.childNodes;if(pe&&se)for(var we=pe.length-1;we>=0;--we)se.insertBefore(jr(pe[we],!0),kr(u))}return qe(u),!0}return u instanceof Ge&&!$n(u)?(qe(u),!0):R!=="noscript"&&R!=="noembed"||!I(/<\/no(script|embed)/i,u.innerHTML)?(vt&&u.nodeType===3&&(L=u.textContent,L=me(L,ir," "),L=me(L,or," "),u.textContent!==L&&(ye(k.removed,{element:u.cloneNode()}),u.textContent=L)),Be("afterSanitizeElements",u,null),!1):(qe(u),!0)},Yr=function(u,L,R){if(mr&&(L==="id"||L==="name")&&(R in ee||R in On))return!1;if(!(fr&&!ur[L]&&I(Ut,L))){if(!(hr&&I(Fe,L))){if(!_e[L]||ur[L]){if(!(wr(u)&&(ue.tagNameCheck instanceof RegExp&&I(ue.tagNameCheck,u)||ue.tagNameCheck instanceof Function&&ue.tagNameCheck(u))&&(ue.attributeNameCheck instanceof RegExp&&I(ue.attributeNameCheck,L)||ue.attributeNameCheck instanceof Function&&ue.attributeNameCheck(L))||L==="is"&&ue.allowCustomizedBuiltInElements&&(ue.tagNameCheck instanceof RegExp&&I(ue.tagNameCheck,R)||ue.tagNameCheck instanceof Function&&ue.tagNameCheck(R))))return!1}else if(!gr[L]){if(!I(ar,me(R,At,""))){if((L!=="src"&&L!=="xlink:href"&&L!=="href"||u==="script"||Me(R,"data:")!==0||!Gr[u])&&!(Ur&&!I(sr,me(R,At,"")))){if(R)return!1}}}}}return!0},wr=function(u){return u.indexOf("-")>0},Tt=function(u){var L,R,se,pe;Be("beforeSanitizeAttributes",u,null);var we=u.attributes;if(we){var Oe={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:_e};for(pe=we.length;pe--;){var Rt=L=we[pe],We=Rt.name,te=Rt.namespaceURI;if(R=We==="value"?L.value:E(L.value),se=et(We),Oe.attrName=se,Oe.attrValue=R,Oe.keepAttr=!0,Oe.forceKeepAttr=void 0,Be("uponSanitizeAttribute",u,Oe),R=Oe.attrValue,!Oe.forceKeepAttr&&(Xr(We,u),Oe.keepAttr))if(I(/\/>/i,R))Xr(We,u);else{vt&&(R=me(R,ir," "),R=me(R,or," "));var ct=et(u.nodeName);if(Yr(ct,se,R))try{te?u.setAttributeNS(te,We,R):u.setAttribute(We,R),le(k.removed)}catch{}}}Be("afterSanitizeAttributes",u,null)}},Or=function u(L){var R,se=It(L);for(Be("beforeSanitizeShadowDOM",L,null);R=se.nextNode();)Be("uponSanitizeShadowNode",R,null),Er(R)||(R.content instanceof ce&&u(R.content),Tt(R));Be("afterSanitizeShadowDOM",L,null)};return k.sanitize=function(u,L){var R,se,pe,we,Oe;if((qr=!u)&&(u="<!-->"),typeof u!="string"&&!Ct(u)){if(typeof u.toString!="function")throw H("toString is not a function");if(typeof(u=u.toString())!="string")throw H("dirty is not a string, aborting")}if(!k.isSupported){if(g(N.toStaticHTML)==="object"||typeof N.toStaticHTML=="function"){if(typeof u=="string")return N.toStaticHTML(u);if(Ct(u))return N.toStaticHTML(u.outerHTML)}return u}if(pr||yr(L),k.removed=[],typeof u=="string"&&(lt=!1),lt){if(u.nodeName){var Rt=et(u.nodeName);if(!be[Rt]||xt[Rt])throw H("root node is forbidden and cannot be sanitized in-place")}}else if(u instanceof ot)(se=(R=Vr("<!---->")).ownerDocument.importNode(u,!0)).nodeType===1&&se.nodeName==="BODY"||se.nodeName==="HTML"?R=se:R.appendChild(se);else{if(!at&&!vt&&!ne&&u.indexOf("<")===-1)return Qe&&yt?Qe.createHTML(u):u;if(!(R=Vr(u)))return at?null:yt?Pr:""}R&&dr&&qe(R.firstChild);for(var We=It(lt?u:R);pe=We.nextNode();)pe.nodeType===3&&pe===we||Er(pe)||(pe.content instanceof ce&&Or(pe.content),Tt(pe),we=pe);if(we=null,lt)return u;if(at){if(tt)for(Oe=Dr.call(R.ownerDocument);R.firstChild;)Oe.appendChild(R.firstChild);else Oe=R;return _e.shadowroot&&(Oe=nr.call(V,Oe,!0)),Oe}var te=ne?R.outerHTML:R.innerHTML;return ne&&be["!doctype"]&&R.ownerDocument&&R.ownerDocument.doctype&&R.ownerDocument.doctype.name&&I(Rr,R.ownerDocument.doctype.name)&&(te="<!DOCTYPE "+R.ownerDocument.doctype.name+`>
`+te),vt&&(te=me(te,ir," "),te=me(te,or," ")),Qe&&yt?Qe.createHTML(te):te},k.setConfig=function(u){yr(u),pr=!0},k.clearConfig=function(){_t=null,pr=!1},k.isValidAttribute=function(u,L,R){_t||yr({});var se=et(u),pe=et(L);return Yr(se,pe,R)},k.addHook=function(u,L){typeof L=="function"&&(Ee[u]=Ee[u]||[],ye(Ee[u],L))},k.removeHook=function(u){if(Ee[u])return le(Ee[u])},k.removeHooks=function(u){Ee[u]&&(Ee[u]=[])},k.removeAllHooks=function(){Ee={}},k}return wt()}()},729:f=>{var g=Object.prototype.hasOwnProperty,d="~";function $(){}function O(S,C,T){this.fn=S,this.context=C,this.once=T||!1}function w(S,C,T,B,z){if(typeof T!="function")throw new TypeError("The listener must be a function");var W=new O(T,B||S,z),J=d?d+C:C;return S._events[J]?S._events[J].fn?S._events[J]=[S._events[J],W]:S._events[J].push(W):(S._events[J]=W,S._eventsCount++),S}function U(S,C){--S._eventsCount==0?S._events=new $:delete S._events[C]}function b(){this._events=new $,this._eventsCount=0}Object.create&&($.prototype=Object.create(null),new $().__proto__||(d=!1)),b.prototype.eventNames=function(){var S,C,T=[];if(this._eventsCount===0)return T;for(C in S=this._events)g.call(S,C)&&T.push(d?C.slice(1):C);return Object.getOwnPropertySymbols?T.concat(Object.getOwnPropertySymbols(S)):T},b.prototype.listeners=function(S){var C=d?d+S:S,T=this._events[C];if(!T)return[];if(T.fn)return[T.fn];for(var B=0,z=T.length,W=new Array(z);B<z;B++)W[B]=T[B].fn;return W},b.prototype.listenerCount=function(S){var C=d?d+S:S,T=this._events[C];return T?T.fn?1:T.length:0},b.prototype.emit=function(S,C,T,B,z,W){var J=d?d+S:S;if(!this._events[J])return!1;var F,G,p=this._events[J],v=arguments.length;if(p.fn){switch(p.once&&this.removeListener(S,p.fn,void 0,!0),v){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,C),!0;case 3:return p.fn.call(p.context,C,T),!0;case 4:return p.fn.call(p.context,C,T,B),!0;case 5:return p.fn.call(p.context,C,T,B,z),!0;case 6:return p.fn.call(p.context,C,T,B,z,W),!0}for(G=1,F=new Array(v-1);G<v;G++)F[G-1]=arguments[G];p.fn.apply(p.context,F)}else{var x,j=p.length;for(G=0;G<j;G++)switch(p[G].once&&this.removeListener(S,p[G].fn,void 0,!0),v){case 1:p[G].fn.call(p[G].context);break;case 2:p[G].fn.call(p[G].context,C);break;case 3:p[G].fn.call(p[G].context,C,T);break;case 4:p[G].fn.call(p[G].context,C,T,B);break;default:if(!F)for(x=1,F=new Array(v-1);x<v;x++)F[x-1]=arguments[x];p[G].fn.apply(p[G].context,F)}}return!0},b.prototype.on=function(S,C,T){return w(this,S,C,T,!1)},b.prototype.once=function(S,C,T){return w(this,S,C,T,!0)},b.prototype.removeListener=function(S,C,T,B){var z=d?d+S:S;if(!this._events[z])return this;if(!C)return U(this,z),this;var W=this._events[z];if(W.fn)W.fn!==C||B&&!W.once||T&&W.context!==T||U(this,z);else{for(var J=0,F=[],G=W.length;J<G;J++)(W[J].fn!==C||B&&!W[J].once||T&&W[J].context!==T)&&F.push(W[J]);F.length?this._events[z]=F.length===1?F[0]:F:U(this,z)}return this},b.prototype.removeAllListeners=function(S){var C;return S?(C=d?d+S:S,this._events[C]&&U(this,C)):(this._events=new $,this._eventsCount=0),this},b.prototype.off=b.prototype.removeListener,b.prototype.addListener=b.prototype.on,b.prefixed=d,b.EventEmitter=b,f.exports=b},717:f=>{typeof Object.create=="function"?f.exports=function(g,d){g.super_=d,g.prototype=Object.create(d.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}})}:f.exports=function(g,d){g.super_=d;var $=function(){};$.prototype=d.prototype,g.prototype=new $,g.prototype.constructor=g}},824:f=>{var g=1e3,d=60*g,$=60*d,O=24*$,w=7*O,U=365.25*O;function b(S,C,T,B){var z=C>=1.5*T;return Math.round(S/T)+" "+B+(z?"s":"")}f.exports=function(S,C){C=C||{};var T=typeof S;if(T==="string"&&S.length>0)return function(B){if(!((B=String(B)).length>100)){var z=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(B);if(!!z){var W=parseFloat(z[1]);switch((z[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return W*U;case"weeks":case"week":case"w":return W*w;case"days":case"day":case"d":return W*O;case"hours":case"hour":case"hrs":case"hr":case"h":return W*$;case"minutes":case"minute":case"mins":case"min":case"m":return W*d;case"seconds":case"second":case"secs":case"sec":case"s":return W*g;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return W;default:return}}}}(S);if(T==="number"&&isFinite(S))return C.long?function(B){var z=Math.abs(B);return z>=O?b(B,z,O,"day"):z>=$?b(B,z,$,"hour"):z>=d?b(B,z,d,"minute"):z>=g?b(B,z,g,"second"):B+" ms"}(S):function(B){var z=Math.abs(B);return z>=O?Math.round(B/O)+"d":z>=$?Math.round(B/$)+"h":z>=d?Math.round(B/d)+"m":z>=g?Math.round(B/g)+"s":B+"ms"}(S);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(S))}},520:(f,g,d)=>{var $=d(155),O=$.platform==="win32",w=d(539);function U(p,v){for(var x=[],j=0;j<p.length;j++){var Z=p[j];Z&&Z!=="."&&(Z===".."?x.length&&x[x.length-1]!==".."?x.pop():v&&x.push(".."):x.push(Z))}return x}function b(p){for(var v=p.length-1,x=0;x<=v&&!p[x];x++);for(var j=v;j>=0&&!p[j];j--);return x===0&&j===v?p:x>j?[]:p.slice(x,j+1)}var S=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,C=/^([\s\S]*?)((?:\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))(?:[\\\/]*)$/,T={};function B(p){var v=S.exec(p),x=(v[1]||"")+(v[2]||""),j=v[3]||"",Z=C.exec(j);return[x,Z[1],Z[2],Z[3]]}function z(p){var v=S.exec(p),x=v[1]||"",j=!!x&&x[1]!==":";return{device:x,isUnc:j,isAbsolute:j||!!v[2],tail:v[3]}}function W(p){return"\\\\"+p.replace(/^[\\\/]+/,"").replace(/[\\\/]+/g,"\\")}T.resolve=function(){for(var p="",v="",x=!1,j=arguments.length-1;j>=-1;j--){var Z;if(j>=0?Z=arguments[j]:p?(Z=$.env["="+p])&&Z.substr(0,3).toLowerCase()===p.toLowerCase()+"\\"||(Z=p+"\\"):Z=$.cwd(),!w.isString(Z))throw new TypeError("Arguments to path.resolve must be strings");if(Z){var re=z(Z),le=re.device,ye=re.isUnc,$e=re.isAbsolute,Ae=re.tail;if((!le||!p||le.toLowerCase()===p.toLowerCase())&&(p||(p=le),x||(v=Ae+"\\"+v,x=$e),p&&x))break}}return ye&&(p=W(p)),p+(x?"\\":"")+(v=U(v.split(/[\\\/]+/),!x).join("\\"))||"."},T.normalize=function(p){var v=z(p),x=v.device,j=v.isUnc,Z=v.isAbsolute,re=v.tail,le=/[\\\/]$/.test(re);return(re=U(re.split(/[\\\/]+/),!Z).join("\\"))||Z||(re="."),re&&le&&(re+="\\"),j&&(x=W(x)),x+(Z?"\\":"")+re},T.isAbsolute=function(p){return z(p).isAbsolute},T.join=function(){for(var p=[],v=0;v<arguments.length;v++){var x=arguments[v];if(!w.isString(x))throw new TypeError("Arguments to path.join must be strings");x&&p.push(x)}var j=p.join("\\");return/^[\\\/]{2}[^\\\/]/.test(p[0])||(j=j.replace(/^[\\\/]{2,}/,"\\")),T.normalize(j)},T.relative=function(p,v){p=T.resolve(p),v=T.resolve(v);for(var x=p.toLowerCase(),j=v.toLowerCase(),Z=b(v.split("\\")),re=b(x.split("\\")),le=b(j.split("\\")),ye=Math.min(re.length,le.length),$e=ye,Ae=0;Ae<ye;Ae++)if(re[Ae]!==le[Ae]){$e=Ae;break}if($e==0)return v;var me=[];for(Ae=$e;Ae<re.length;Ae++)me.push("..");return(me=me.concat(Z.slice($e))).join("\\")},T._makeLong=function(p){if(!w.isString(p))return p;if(!p)return"";var v=T.resolve(p);return/^[a-zA-Z]\:\\/.test(v)?"\\\\?\\"+v:/^\\\\[^?.]/.test(v)?"\\\\?\\UNC\\"+v.substring(2):p},T.dirname=function(p){var v=B(p),x=v[0],j=v[1];return x||j?(j&&(j=j.substr(0,j.length-1)),x+j):"."},T.basename=function(p,v){var x=B(p)[2];return v&&x.substr(-1*v.length)===v&&(x=x.substr(0,x.length-v.length)),x},T.extname=function(p){return B(p)[3]},T.format=function(p){if(!w.isObject(p))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof p);var v=p.root||"";if(!w.isString(v))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof p.root);var x=p.dir,j=p.base||"";return x?x[x.length-1]===T.sep?x+j:x+T.sep+j:j},T.parse=function(p){if(!w.isString(p))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof p);var v=B(p);if(!v||v.length!==4)throw new TypeError("Invalid path '"+p+"'");return{root:v[0],dir:v[0]+v[1].slice(0,-1),base:v[2],ext:v[3],name:v[2].slice(0,v[2].length-v[3].length)}},T.sep="\\",T.delimiter=";";var J=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,F={};function G(p){return J.exec(p).slice(1)}F.resolve=function(){for(var p="",v=!1,x=arguments.length-1;x>=-1&&!v;x--){var j=x>=0?arguments[x]:$.cwd();if(!w.isString(j))throw new TypeError("Arguments to path.resolve must be strings");j&&(p=j+"/"+p,v=j[0]==="/")}return(v?"/":"")+(p=U(p.split("/"),!v).join("/"))||"."},F.normalize=function(p){var v=F.isAbsolute(p),x=p&&p[p.length-1]==="/";return(p=U(p.split("/"),!v).join("/"))||v||(p="."),p&&x&&(p+="/"),(v?"/":"")+p},F.isAbsolute=function(p){return p.charAt(0)==="/"},F.join=function(){for(var p="",v=0;v<arguments.length;v++){var x=arguments[v];if(!w.isString(x))throw new TypeError("Arguments to path.join must be strings");x&&(p+=p?"/"+x:x)}return F.normalize(p)},F.relative=function(p,v){p=F.resolve(p).substr(1),v=F.resolve(v).substr(1);for(var x=b(p.split("/")),j=b(v.split("/")),Z=Math.min(x.length,j.length),re=Z,le=0;le<Z;le++)if(x[le]!==j[le]){re=le;break}var ye=[];for(le=re;le<x.length;le++)ye.push("..");return(ye=ye.concat(j.slice(re))).join("/")},F._makeLong=function(p){return p},F.dirname=function(p){var v=G(p),x=v[0],j=v[1];return x||j?(j&&(j=j.substr(0,j.length-1)),x+j):"."},F.basename=function(p,v){var x=G(p)[2];return v&&x.substr(-1*v.length)===v&&(x=x.substr(0,x.length-v.length)),x},F.extname=function(p){return G(p)[3]},F.format=function(p){if(!w.isObject(p))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof p);var v=p.root||"";if(!w.isString(v))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof p.root);return(p.dir?p.dir+F.sep:"")+(p.base||"")},F.parse=function(p){if(!w.isString(p))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof p);var v=G(p);if(!v||v.length!==4)throw new TypeError("Invalid path '"+p+"'");return v[1]=v[1]||"",v[2]=v[2]||"",v[3]=v[3]||"",{root:v[0],dir:v[0]+v[1].slice(0,-1),base:v[2],ext:v[3],name:v[2].slice(0,v[2].length-v[3].length)}},F.sep="/",F.delimiter=":",f.exports=O?T:F,f.exports.posix=F,f.exports.win32=T},155:f=>{var g,d,$=f.exports={};function O(){throw new Error("setTimeout has not been defined")}function w(){throw new Error("clearTimeout has not been defined")}function U(F){if(g===setTimeout)return setTimeout(F,0);if((g===O||!g)&&setTimeout)return g=setTimeout,setTimeout(F,0);try{return g(F,0)}catch{try{return g.call(null,F,0)}catch{return g.call(this,F,0)}}}(function(){try{g=typeof setTimeout=="function"?setTimeout:O}catch{g=O}try{d=typeof clearTimeout=="function"?clearTimeout:w}catch{d=w}})();var b,S=[],C=!1,T=-1;function B(){C&&b&&(C=!1,b.length?S=b.concat(S):T=-1,S.length&&z())}function z(){if(!C){var F=U(B);C=!0;for(var G=S.length;G;){for(b=S,S=[];++T<G;)b&&b[T].run();T=-1,G=S.length}b=null,C=!1,function(p){if(d===clearTimeout)return clearTimeout(p);if((d===w||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(p);try{d(p)}catch{try{return d.call(null,p)}catch{return d.call(this,p)}}}(F)}}function W(F,G){this.fun=F,this.array=G}function J(){}$.nextTick=function(F){var G=new Array(arguments.length-1);if(arguments.length>1)for(var p=1;p<arguments.length;p++)G[p-1]=arguments[p];S.push(new W(F,G)),S.length!==1||C||U(z)},W.prototype.run=function(){this.fun.apply(null,this.array)},$.title="browser",$.browser=!0,$.env={},$.argv=[],$.version="",$.versions={},$.on=J,$.addListener=J,$.once=J,$.off=J,$.removeListener=J,$.removeAllListeners=J,$.emit=J,$.prependListener=J,$.prependOnceListener=J,$.listeners=function(F){return[]},$.binding=function(F){throw new Error("process.binding is not supported")},$.cwd=function(){return"/"},$.chdir=function(F){throw new Error("process.chdir is not supported")},$.umask=function(){return 0}},384:f=>{f.exports=function(g){return g&&typeof g=="object"&&typeof g.copy=="function"&&typeof g.fill=="function"&&typeof g.readUInt8=="function"}},539:(f,g,d)=>{var $=d(155),O=/%[sdj%]/g;g.format=function(E){if(!p(E)){for(var I=[],H=0;H<arguments.length;H++)I.push(b(arguments[H]));return I.join(" ")}H=1;for(var ie=arguments,xe=ie.length,q=String(E).replace(O,function(he){if(he==="%%")return"%";if(H>=xe)return he;switch(he){case"%s":return String(ie[H++]);case"%d":return Number(ie[H++]);case"%j":try{return JSON.stringify(ie[H++])}catch{return"[Circular]"}default:return he}}),K=ie[H];H<xe;K=ie[++H])F(K)||!j(K)?q+=" "+K:q+=" "+b(K);return q},g.deprecate=function(E,I){if(v(d.g.process))return function(){return g.deprecate(E,I).apply(this,arguments)};if($.noDeprecation===!0)return E;var H=!1;return function(){if(!H){if($.throwDeprecation)throw new Error(I);$.traceDeprecation?console.trace(I):console.error(I),H=!0}return E.apply(this,arguments)}};var w,U={};function b(E,I){var H={seen:[],stylize:C};return arguments.length>=3&&(H.depth=arguments[2]),arguments.length>=4&&(H.colors=arguments[3]),J(I)?H.showHidden=I:I&&g._extend(H,I),v(H.showHidden)&&(H.showHidden=!1),v(H.depth)&&(H.depth=2),v(H.colors)&&(H.colors=!1),v(H.customInspect)&&(H.customInspect=!0),H.colors&&(H.stylize=S),T(H,E,H.depth)}function S(E,I){var H=b.styles[I];return H?"\x1B["+b.colors[H][0]+"m"+E+"\x1B["+b.colors[H][1]+"m":E}function C(E,I){return E}function T(E,I,H){if(E.customInspect&&I&&le(I.inspect)&&I.inspect!==g.inspect&&(!I.constructor||I.constructor.prototype!==I)){var ie=I.inspect(H,E);return p(ie)||(ie=T(E,ie,H)),ie}var xe=function(ge,fe){if(v(fe))return ge.stylize("undefined","undefined");if(p(fe)){var Ce="'"+JSON.stringify(fe).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ge.stylize(Ce,"string")}if(G(fe))return ge.stylize(""+fe,"number");if(J(fe))return ge.stylize(""+fe,"boolean");if(F(fe))return ge.stylize("null","null")}(E,I);if(xe)return xe;var q=Object.keys(I),K=function(ge){var fe={};return ge.forEach(function(Ce,Te){fe[Ce]=!0}),fe}(q);if(E.showHidden&&(q=Object.getOwnPropertyNames(I)),re(I)&&(q.indexOf("message")>=0||q.indexOf("description")>=0))return B(I);if(q.length===0){if(le(I)){var he=I.name?": "+I.name:"";return E.stylize("[Function"+he+"]","special")}if(x(I))return E.stylize(RegExp.prototype.toString.call(I),"regexp");if(Z(I))return E.stylize(Date.prototype.toString.call(I),"date");if(re(I))return B(I)}var Re,Ie="",Ke=!1,pt=["{","}"];return W(I)&&(Ke=!0,pt=["[","]"]),le(I)&&(Ie=" [Function"+(I.name?": "+I.name:"")+"]"),x(I)&&(Ie=" "+RegExp.prototype.toString.call(I)),Z(I)&&(Ie=" "+Date.prototype.toUTCString.call(I)),re(I)&&(Ie=" "+B(I)),q.length!==0||Ke&&I.length!=0?H<0?x(I)?E.stylize(RegExp.prototype.toString.call(I),"regexp"):E.stylize("[Object]","special"):(E.seen.push(I),Re=Ke?function(ge,fe,Ce,Te,Pe){for(var Ue=[],He=0,Qt=fe.length;He<Qt;++He)Me(fe,String(He))?Ue.push(z(ge,fe,Ce,Te,String(He),!0)):Ue.push("");return Pe.forEach(function(Dt){Dt.match(/^\d+$/)||Ue.push(z(ge,fe,Ce,Te,Dt,!0))}),Ue}(E,I,H,K,q):q.map(function(ge){return z(E,I,H,K,ge,Ke)}),E.seen.pop(),function(ge,fe,Ce){return ge.reduce(function(Te,Pe){return Pe.indexOf(`
`)>=0,Te+Pe.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?Ce[0]+(fe===""?"":fe+`
 `)+" "+ge.join(`,
  `)+" "+Ce[1]:Ce[0]+fe+" "+ge.join(", ")+" "+Ce[1]}(Re,Ie,pt)):pt[0]+Ie+pt[1]}function B(E){return"["+Error.prototype.toString.call(E)+"]"}function z(E,I,H,ie,xe,q){var K,he,Re;if((Re=Object.getOwnPropertyDescriptor(I,xe)||{value:I[xe]}).get?he=Re.set?E.stylize("[Getter/Setter]","special"):E.stylize("[Getter]","special"):Re.set&&(he=E.stylize("[Setter]","special")),Me(ie,xe)||(K="["+xe+"]"),he||(E.seen.indexOf(Re.value)<0?(he=F(H)?T(E,Re.value,null):T(E,Re.value,H-1)).indexOf(`
`)>-1&&(he=q?he.split(`
`).map(function(Ie){return"  "+Ie}).join(`
`).substr(2):`
`+he.split(`
`).map(function(Ie){return"   "+Ie}).join(`
`)):he=E.stylize("[Circular]","special")),v(K)){if(q&&xe.match(/^\d+$/))return he;(K=JSON.stringify(""+xe)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(K=K.substr(1,K.length-2),K=E.stylize(K,"name")):(K=K.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),K=E.stylize(K,"string"))}return K+": "+he}function W(E){return Array.isArray(E)}function J(E){return typeof E=="boolean"}function F(E){return E===null}function G(E){return typeof E=="number"}function p(E){return typeof E=="string"}function v(E){return E===void 0}function x(E){return j(E)&&ye(E)==="[object RegExp]"}function j(E){return typeof E=="object"&&E!==null}function Z(E){return j(E)&&ye(E)==="[object Date]"}function re(E){return j(E)&&(ye(E)==="[object Error]"||E instanceof Error)}function le(E){return typeof E=="function"}function ye(E){return Object.prototype.toString.call(E)}function $e(E){return E<10?"0"+E.toString(10):E.toString(10)}g.debuglog=function(E){if(v(w)&&(w=$.env.NODE_DEBUG||""),E=E.toUpperCase(),!U[E])if(new RegExp("\\b"+E+"\\b","i").test(w)){var I=$.pid;U[E]=function(){var H=g.format.apply(g,arguments);console.error("%s %d: %s",E,I,H)}}else U[E]=function(){};return U[E]},g.inspect=b,b.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},b.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},g.isArray=W,g.isBoolean=J,g.isNull=F,g.isNullOrUndefined=function(E){return E==null},g.isNumber=G,g.isString=p,g.isSymbol=function(E){return typeof E=="symbol"},g.isUndefined=v,g.isRegExp=x,g.isObject=j,g.isDate=Z,g.isError=re,g.isFunction=le,g.isPrimitive=function(E){return E===null||typeof E=="boolean"||typeof E=="number"||typeof E=="string"||typeof E=="symbol"||E===void 0},g.isBuffer=d(384);var Ae=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function me(){var E=new Date,I=[$e(E.getHours()),$e(E.getMinutes()),$e(E.getSeconds())].join(":");return[E.getDate(),Ae[E.getMonth()],I].join(" ")}function Me(E,I){return Object.prototype.hasOwnProperty.call(E,I)}g.log=function(){console.log("%s - %s",me(),g.format.apply(g,arguments))},g.inherits=d(717),g._extend=function(E,I){if(!I||!j(I))return E;for(var H=Object.keys(I),ie=H.length;ie--;)E[H[ie]]=I[H[ie]];return E}}},a={};function l(f){var g=a[f];if(g!==void 0)return g.exports;var d=a[f]={exports:{}};return o[f].call(d.exports,d,d.exports,l),d.exports}l.n=f=>{var g=f&&f.__esModule?()=>f.default:()=>f;return l.d(g,{a:g}),g},l.d=(f,g)=>{for(var d in g)l.o(g,d)&&!l.o(f,d)&&Object.defineProperty(f,d,{enumerable:!0,get:g[d]})},l.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),l.o=(f,g)=>Object.prototype.hasOwnProperty.call(f,g),l.r=f=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(f,"__esModule",{value:!0})};var c={};return(()=>{l.r(c),l.d(c,{LSPluginUser:()=>Mn,setupPluginUserInstance:()=>ji});var f=l(520);l(856);const g=function(){this.__data__=[],this.size=0},d=function(t,e){return t===e||t!=t&&e!=e},$=function(t,e){for(var n=t.length;n--;)if(d(t[n][0],e))return n;return-1};var O=Array.prototype.splice;const w=function(t){var e=this.__data__,n=$(e,t);return!(n<0)&&(n==e.length-1?e.pop():O.call(e,n,1),--this.size,!0)},U=function(t){var e=this.__data__,n=$(e,t);return n<0?void 0:e[n][1]},b=function(t){return $(this.__data__,t)>-1},S=function(t,e){var n=this.__data__,s=$(n,t);return s<0?(++this.size,n.push([t,e])):n[s][1]=e,this};function C(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var s=t[e];this.set(s[0],s[1])}}C.prototype.clear=g,C.prototype.delete=w,C.prototype.get=U,C.prototype.has=b,C.prototype.set=S;const T=C,B=function(){this.__data__=new T,this.size=0},z=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},W=function(t){return this.__data__.get(t)},J=function(t){return this.__data__.has(t)},F=typeof tn=="object"&&tn&&tn.Object===Object&&tn;var G=typeof self=="object"&&self&&self.Object===Object&&self;const p=F||G||Function("return this")(),v=p.Symbol;var x=Object.prototype,j=x.hasOwnProperty,Z=x.toString,re=v?v.toStringTag:void 0;const le=function(t){var e=j.call(t,re),n=t[re];try{t[re]=void 0;var s=!0}catch{}var h=Z.call(t);return s&&(e?t[re]=n:delete t[re]),h};var ye=Object.prototype.toString;const $e=function(t){return ye.call(t)};var Ae=v?v.toStringTag:void 0;const me=function(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Ae&&Ae in Object(t)?le(t):$e(t)},Me=function(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")},E=function(t){if(!Me(t))return!1;var e=me(t);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},I=p["__core-js_shared__"];var H,ie=(H=/[^.]+$/.exec(I&&I.keys&&I.keys.IE_PROTO||""))?"Symbol(src)_1."+H:"";const xe=function(t){return!!ie&&ie in t};var q=Function.prototype.toString;const K=function(t){if(t!=null){try{return q.call(t)}catch{}try{return t+""}catch{}}return""};var he=/^\[object .+?Constructor\]$/,Re=Function.prototype,Ie=Object.prototype,Ke=Re.toString,pt=Ie.hasOwnProperty,ge=RegExp("^"+Ke.call(pt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const fe=function(t){return!(!Me(t)||xe(t))&&(E(t)?ge:he).test(K(t))},Ce=function(t,e){return t?.[e]},Te=function(t,e){var n=Ce(t,e);return fe(n)?n:void 0},Pe=Te(p,"Map"),Ue=Te(Object,"create"),He=function(){this.__data__=Ue?Ue(null):{},this.size=0},Qt=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e};var Dt=Object.prototype.hasOwnProperty;const dn=function(t){var e=this.__data__;if(Ue){var n=e[t];return n==="__lodash_hash_undefined__"?void 0:n}return Dt.call(e,t)?e[t]:void 0};var mn=Object.prototype.hasOwnProperty;const gn=function(t){var e=this.__data__;return Ue?e[t]!==void 0:mn.call(e,t)},vn=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Ue&&e===void 0?"__lodash_hash_undefined__":e,this};function dt(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var s=t[e];this.set(s[0],s[1])}}dt.prototype.clear=He,dt.prototype.delete=Qt,dt.prototype.get=dn,dt.prototype.has=gn,dt.prototype.set=vn;const Rr=dt,yn=function(){this.size=0,this.__data__={hash:new Rr,map:new(Pe||T),string:new Rr}},bn=function(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null},wt=function(t,e){var n=t.__data__;return bn(e)?n[typeof e=="string"?"string":"hash"]:n.map},N=function(t){var e=wt(this,t).delete(t);return this.size-=e?1:0,e},k=function(t){return wt(this,t).get(t)},V=function(t){return wt(this,t).has(t)},ee=function(t,e){var n=wt(this,t),s=n.size;return n.set(t,e),this.size+=n.size==s?0:1,this};function ce(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var s=t[e];this.set(s[0],s[1])}}ce.prototype.clear=yn,ce.prototype.delete=N,ce.prototype.get=k,ce.prototype.has=V,ce.prototype.set=ee;const ze=ce,ot=function(t,e){var n=this.__data__;if(n instanceof T){var s=n.__data__;if(!Pe||s.length<199)return s.push([t,e]),this.size=++n.size,this;n=this.__data__=new ze(s)}return n.set(t,e),this.size=n.size,this};function Ge(t){var e=this.__data__=new T(t);this.size=e.size}Ge.prototype.clear=B,Ge.prototype.delete=z,Ge.prototype.get=W,Ge.prototype.has=J,Ge.prototype.set=ot;const st=Ge,Ot=function(){try{var t=Te(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Mt=function(t,e,n){e=="__proto__"&&Ot?Ot(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},er=function(t,e,n){(n!==void 0&&!d(t[e],n)||n===void 0&&!(e in t))&&Mt(t,e,n)},Nr=function(t){return function(e,n,s){for(var h=-1,m=Object(e),y=s(e),_=y.length;_--;){var A=y[t?_:++h];if(n(m[A],A,m)===!1)break}return e}}();var Lr=r&&!r.nodeType&&r,St=Lr&&!0&&i&&!i.nodeType&&i,jr=St&&St.exports===Lr?p.Buffer:void 0,kr=jr?jr.allocUnsafe:void 0;const _n=function(t,e){if(e)return t.slice();var n=t.length,s=kr?kr(n):new t.constructor(n);return t.copy(s),s},mt=p.Uint8Array,tr=function(t){var e=new t.constructor(t.byteLength);return new mt(e).set(new mt(t)),e},Qe=function(t,e){var n=e?tr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},Pr=function(t,e){var n=-1,s=t.length;for(e||(e=Array(s));++n<s;)e[n]=t[n];return e};var $t=Object.create;const rr=function(){function t(){}return function(e){if(!Me(e))return{};if($t)return $t(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),Fr=function(t,e){return function(n){return t(e(n))}},Dr=Fr(Object.getPrototypeOf,Object);var En=Object.prototype;const nr=function(t){var e=t&&t.constructor;return t===(typeof e=="function"&&e.prototype||En)},Mr=function(t){return typeof t.constructor!="function"||nr(t)?{}:rr(Dr(t))},Ee=function(t){return t!=null&&typeof t=="object"},gt=function(t){return Ee(t)&&me(t)=="[object Arguments]"};var et=Object.prototype,ir=et.hasOwnProperty,or=et.propertyIsEnumerable;const Ut=gt(function(){return arguments}())?gt:function(t){return Ee(t)&&ir.call(t,"callee")&&!or.call(t,"callee")},Fe=Array.isArray,sr=function(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=9007199254740991},At=function(t){return t!=null&&sr(t.length)&&!E(t)},ar=function(t){return Ee(t)&&At(t)},be=function(){return!1};var lr=r&&!r.nodeType&&r,_e=lr&&!0&&i&&!i.nodeType&&i,cr=_e&&_e.exports===lr?p.Buffer:void 0;const ue=(cr?cr.isBuffer:void 0)||be;var xt=Function.prototype,ur=Object.prototype,hr=xt.toString,fr=ur.hasOwnProperty,Ur=hr.call(Object);const vt=function(t){if(!Ee(t)||me(t)!="[object Object]")return!1;var e=Dr(t);if(e===null)return!0;var n=fr.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&hr.call(n)==Ur};var ne={};ne["[object Float32Array]"]=ne["[object Float64Array]"]=ne["[object Int8Array]"]=ne["[object Int16Array]"]=ne["[object Int32Array]"]=ne["[object Uint8Array]"]=ne["[object Uint8ClampedArray]"]=ne["[object Uint16Array]"]=ne["[object Uint32Array]"]=!0,ne["[object Arguments]"]=ne["[object Array]"]=ne["[object ArrayBuffer]"]=ne["[object Boolean]"]=ne["[object DataView]"]=ne["[object Date]"]=ne["[object Error]"]=ne["[object Function]"]=ne["[object Map]"]=ne["[object Number]"]=ne["[object Object]"]=ne["[object RegExp]"]=ne["[object Set]"]=ne["[object String]"]=ne["[object WeakMap]"]=!1;const pr=function(t){return Ee(t)&&sr(t.length)&&!!ne[me(t)]},dr=function(t){return function(e){return t(e)}};var at=r&&!r.nodeType&&r,tt=at&&!0&&i&&!i.nodeType&&i,yt=tt&&tt.exports===at&&F.process,mr=function(){try{var t=tt&&tt.require&&tt.require("util").types;return t||yt&&yt.binding&&yt.binding("util")}catch{}}(),zt=mr&&mr.isTypedArray;const lt=zt?dr(zt):pr,rt=function(t,e){if((e!=="constructor"||typeof t[e]!="function")&&e!="__proto__")return t[e]};var bt=Object.prototype.hasOwnProperty;const zr=function(t,e,n){var s=t[e];bt.call(t,e)&&d(s,n)&&(n!==void 0||e in t)||Mt(t,e,n)},Gr=function(t,e,n,s){var h=!n;n||(n={});for(var m=-1,y=e.length;++m<y;){var _=e[m],A=s?s(n[_],t[_],_,n,t):void 0;A===void 0&&(A=t[_]),h?Mt(n,_,A):zr(n,_,A)}return n},Hr=function(t,e){for(var n=-1,s=Array(t);++n<t;)s[n]=e(n);return s};var gr=/^(?:0|[1-9]\d*)$/;const Gt=function(t,e){var n=typeof t;return!!(e=e??9007199254740991)&&(n=="number"||n!="symbol"&&gr.test(t))&&t>-1&&t%1==0&&t<e};var vr=Object.prototype.hasOwnProperty;const Ht=function(t,e){var n=Fe(t),s=!n&&Ut(t),h=!n&&!s&&ue(t),m=!n&&!s&&!h&&lt(t),y=n||s||h||m,_=y?Hr(t.length,String):[],A=_.length;for(var P in t)!e&&!vr.call(t,P)||y&&(P=="length"||h&&(P=="offset"||P=="parent")||m&&(P=="buffer"||P=="byteLength"||P=="byteOffset")||Gt(P,A))||_.push(P);return _},nt=function(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e};var qt=Object.prototype.hasOwnProperty;const qr=function(t){if(!Me(t))return nt(t);var e=nr(t),n=[];for(var s in t)(s!="constructor"||!e&&qt.call(t,s))&&n.push(s);return n},Br=function(t){return At(t)?Ht(t,!0):qr(t)},wn=function(t){return Gr(t,Br(t))},_t=function(t,e,n,s,h,m,y){var _=rt(t,n),A=rt(e,n),P=y.get(A);if(P)er(t,n,P);else{var D=m?m(_,A,n+"",t,e,y):void 0,M=D===void 0;if(M){var X=Fe(A),Q=!X&&ue(A),Y=!X&&!Q&&lt(A);D=A,X||Q||Y?Fe(_)?D=_:ar(_)?D=Pr(_):Q?(M=!1,D=_n(A,!0)):Y?(M=!1,D=Qe(A,!0)):D=[]:vt(A)||Ut(A)?(D=_,Ut(_)?D=wn(_):Me(_)&&!E(_)||(D=Mr(A))):M=!1}M&&(y.set(A,D),h(D,A,s,m,y),y.delete(A)),er(t,n,D)}},On=function t(e,n,s,h,m){e!==n&&Nr(n,function(y,_){if(m||(m=new st),Me(y))_t(e,n,_,s,t,h,m);else{var A=h?h(rt(e,_),y,_+"",e,n,m):void 0;A===void 0&&(A=y),er(e,_,A)}},Br)},Bt=function(t){return t},yr=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)};var br=Math.max;const Wr=function(t,e,n){return e=br(e===void 0?t.length-1:e,0),function(){for(var s=arguments,h=-1,m=br(s.length-e,0),y=Array(m);++h<m;)y[h]=s[e+h];h=-1;for(var _=Array(e+1);++h<e;)_[h]=s[h];return _[e]=n(y),yr(t,this,_)}},Sn=function(t){return function(){return t}},Wt=Ot?function(t,e){return Ot(t,"toString",{configurable:!0,enumerable:!1,value:Sn(e),writable:!0})}:Bt;var _r=Date.now;const $n=function(t){var e=0,n=0;return function(){var s=_r(),h=16-(s-n);if(n=s,h>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(Wt),qe=function(t,e){return $n(Wr(t,e,Bt),t+"")},Xr=function(t,e,n){if(!Me(n))return!1;var s=typeof e;return!!(s=="number"?At(n)&&Gt(e,n.length):s=="string"&&e in n)&&d(n[e],t)},Vr=function(t){return qe(function(e,n){var s=-1,h=n.length,m=h>1?n[h-1]:void 0,y=h>2?n[2]:void 0;for(m=t.length>3&&typeof m=="function"?(h--,m):void 0,y&&Xr(n[0],n[1],y)&&(m=h<3?void 0:m,h=1),e=Object(e);++s<h;){var _=n[s];_&&t(e,_,s,m)}return e})}(function(t,e,n){On(t,e,n)});var It=function(){return It=Object.assign||function(t){for(var e,n=1,s=arguments.length;n<s;n++)for(var h in e=arguments[n])Object.prototype.hasOwnProperty.call(e,h)&&(t[h]=e[h]);return t},It.apply(this,arguments)};function An(t){return t.toLowerCase()}var Ct=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],Be=/[^A-Z0-9]+/gi;function Er(t,e,n){return e instanceof RegExp?t.replace(e,n):e.reduce(function(s,h){return s.replace(h,n)},t)}function Yr(t,e){return e===void 0&&(e={}),function(n,s){s===void 0&&(s={});for(var h=s.splitRegexp,m=h===void 0?Ct:h,y=s.stripRegexp,_=y===void 0?Be:y,A=s.transform,P=A===void 0?An:A,D=s.delimiter,M=D===void 0?" ":D,X=Er(Er(n,m,"$1\0$2"),_,"\0"),Q=0,Y=X.length;X.charAt(Q)==="\0";)Q++;for(;X.charAt(Y-1)==="\0";)Y--;return X.slice(Q,Y).split("\0").map(P).join(M)}(t,It({delimiter:"."},e))}var wr=l(729),Tt=l.n(wr);function Or(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const u=navigator.platform.toLowerCase()==="win32"?f.win32:f.posix,L=function(t,e){return e===void 0&&(e={}),Yr(t,It({delimiter:"_"},e))},R=Vr;class se extends Tt(){constructor(e,n){super(),Or(this,"_tag",void 0),Or(this,"_opts",void 0),Or(this,"_logs",[]),this._tag=e,this._opts=n}write(e,n,s){var h;n!=null&&n.length&&n[n.length-1]===!0&&(s=!0,n.pop());const m=n.reduce((_,A)=>(A&&A instanceof Error?_+=`${A.message} ${A.stack}`:_+=A.toString(),_),`[${this._tag}][${new Date().toLocaleTimeString()}] `);var y;this._logs.push([e,m]),(s||(h=this._opts)!==null&&h!==void 0&&h.console)&&((y=console)===null||y===void 0||y[e==="ERROR"?"error":"debug"](`${e}: ${m}`)),this.emit("change")}clear(){this._logs=[],this.emit("change")}info(...e){this.write("INFO",e)}error(...e){this.write("ERROR",e)}warn(...e){this.write("WARN",e)}setTag(e){this._tag=e}toJSON(){return this._logs}}function pe(t,...e){try{const n=new URL(t);if(!n.origin)throw new Error(null);const s=u.join(t.substr(n.origin.length),...e);return n.origin+s}catch{return u.join(t,...e)}}function we(t,e){let n,s,h=!1;const m=_=>A=>{t&&clearTimeout(t),_(A),h=!0},y=new Promise((_,A)=>{n=m(_),s=m(A),t&&(t=setTimeout(()=>s(new Error(`[deferred timeout] ${e}`)),t))});return{created:Date.now(),setTag:_=>e=_,resolve:n,reject:s,promise:y,get settled(){return h}}}const Oe=new Map;window.__injectedUIEffects=Oe;var Rt=l(227),We=l.n(Rt);function te(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const ct="application/x-postmate-v1+json";let ii=0;const wo={handshake:1,"handshake-reply":1,call:1,emit:1,reply:1,request:1},xn=(t,e)=>(typeof e!="string"||t.origin===e)&&!!t.data&&(typeof t.data!="object"||"postmate"in t.data)&&t.data.type===ct&&!!wo[t.data.postmate];class Oo{constructor(e){te(this,"parent",void 0),te(this,"frame",void 0),te(this,"child",void 0),te(this,"events",{}),te(this,"childOrigin",void 0),te(this,"listener",void 0),this.parent=e.parent,this.frame=e.frame,this.child=e.child,this.childOrigin=e.childOrigin,this.listener=n=>{if(!xn(n,this.childOrigin))return!1;const{data:s,name:h}=((n||{}).data||{}).value||{};n.data.postmate==="emit"&&h in this.events&&this.events[h].forEach(m=>{m.call(this,s)})},this.parent.addEventListener("message",this.listener,!1)}get(e,...n){return new Promise(s=>{const h=++ii,m=y=>{y.data.uid===h&&y.data.postmate==="reply"&&(this.parent.removeEventListener("message",m,!1),s(y.data.value))};this.parent.addEventListener("message",m,!1),this.child.postMessage({postmate:"request",type:ct,property:e,args:n,uid:h},this.childOrigin)})}call(e,n){this.child.postMessage({postmate:"call",type:ct,property:e,data:n},this.childOrigin)}on(e,n){this.events[e]||(this.events[e]=[]),this.events[e].push(n)}destroy(){window.removeEventListener("message",this.listener,!1),this.frame.parentNode.removeChild(this.frame)}}class So{constructor(e){te(this,"model",void 0),te(this,"parent",void 0),te(this,"parentOrigin",void 0),te(this,"child",void 0),this.model=e.model,this.parent=e.parent,this.parentOrigin=e.parentOrigin,this.child=e.child,this.child.addEventListener("message",n=>{if(!xn(n,this.parentOrigin))return;const{property:s,uid:h,data:m,args:y}=n.data;n.data.postmate!=="call"?((_,A,P)=>{const D=typeof _[A]=="function"?_[A].apply(null,P):_[A];return Promise.resolve(D)})(this.model,s,y).then(_=>{n.source.postMessage({property:s,postmate:"reply",type:ct,uid:h,value:_},n.origin)}):s in this.model&&typeof this.model[s]=="function"&&this.model[s](m)})}emit(e,n){this.parent.postMessage({postmate:"emit",type:ct,value:{name:e,data:n}},this.parentOrigin)}}class In{constructor(e){te(this,"container",void 0),te(this,"parent",void 0),te(this,"frame",void 0),te(this,"child",void 0),te(this,"childOrigin",void 0),te(this,"url",void 0),te(this,"model",void 0),this.container=e.container,this.url=e.url,this.parent=window,this.frame=document.createElement("iframe"),e.id&&(this.frame.id=e.id),e.name&&(this.frame.name=e.name),this.frame.classList.add.apply(this.frame.classList,e.classListArray||[]),this.container.appendChild(this.frame),this.child=this.frame.contentWindow,this.model=e.model||{}}sendHandshake(e){const n=(m=>{const y=document.createElement("a");y.href=m;const _=y.protocol.length>4?y.protocol:window.location.protocol,A=y.host.length?y.port==="80"||y.port==="443"?y.hostname:y.host:window.location.host;return y.origin||`${_}//${A}`})(e=e||this.url);let s,h=0;return new Promise((m,y)=>{const _=P=>!!xn(P,n)&&(P.data.postmate==="handshake-reply"?(clearInterval(s),this.parent.removeEventListener("message",_,!1),this.childOrigin=P.origin,m(new Oo(this))):y("Failed handshake"));this.parent.addEventListener("message",_,!1);const A=()=>{h++,this.child.postMessage({postmate:"handshake",type:ct,model:this.model},n),h===5&&clearInterval(s)};this.frame.addEventListener("load",()=>{A(),s=setInterval(A,500)}),this.frame.src=e})}destroy(){this.frame.parentNode.removeChild(this.frame)}}te(In,"debug",!1),te(In,"Model",void 0);class $o{constructor(e){te(this,"child",void 0),te(this,"model",void 0),te(this,"parent",void 0),te(this,"parentOrigin",void 0),this.child=window,this.model=e,this.parent=this.child.parent}sendHandshakeReply(){return new Promise((e,n)=>{const s=h=>{if(h.data.postmate){if(h.data.postmate==="handshake"){this.child.removeEventListener("message",s,!1),h.source.postMessage({postmate:"handshake-reply",type:ct},h.origin),this.parentOrigin=h.origin;const m=h.data.model;return m&&Object.keys(m).forEach(y=>{this.model[y]=m[y]}),e(new So(this))}return n("Handshake Reply Failed")}};this.child.addEventListener("message",s,!1)})}}function Sr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const{importHTML:Ao,createSandboxContainer:xo}=window.QSandbox||{};function Io(t,e){return t.startsWith("http")?fetch(t,e):(t=t.replace("file://",""),new Promise(async(n,s)=>{try{const h=await window.apis.doAction(["readFile",t]);n({text:()=>h})}catch(h){console.error(h),s(h)}}))}class Co extends Tt(){constructor(e){super(),Sr(this,"_pluginLocal",void 0),Sr(this,"_frame",void 0),Sr(this,"_root",void 0),Sr(this,"_loaded",!1),Sr(this,"_unmountFns",[]),this._pluginLocal=e,e._dispose(()=>{this._unmount()})}async load(){const{name:e,entry:n}=this._pluginLocal.options;if(this.loaded||!n)return;const{template:s,execScripts:h}=await Ao(n,{fetch:Io});this._mount(s,document.body);const m=xo(e,{elementGetter:()=>{var _;return(_=this._root)===null||_===void 0?void 0:_.firstChild}}).instance.proxy;m.__shadow_mode__=!0,m.LSPluginLocal=this._pluginLocal,m.LSPluginShadow=this,m.LSPluginUser=m.logseq=new Mn(this._pluginLocal.toJSON(),this._pluginLocal.caller);const y=await h(m,!0);this._unmountFns.push(y.unmount),this._loaded=!0}_mount(e,n){const s=this._frame=document.createElement("div");s.classList.add("lsp-shadow-sandbox"),s.id=this._pluginLocal.id,this._root=s.attachShadow({mode:"open"}),this._root.innerHTML=`<div>${e}</div>`,n.appendChild(s),this.emit("mounted")}_unmount(){for(const e of this._unmountFns)e&&e.call(null)}destroy(){var e,n;(e=this.frame)===null||e===void 0||(n=e.parentNode)===null||n===void 0||n.removeChild(this.frame)}get loaded(){return this._loaded}get document(){var e;return(e=this._root)===null||e===void 0?void 0:e.firstChild}get frame(){return this._frame}}function it(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const Et=We()("LSPlugin:caller"),$r="#await#response#",To="#lspmsg#",oi="#lspmsg#error#",Jr=t=>`#lspmsg#${t}`;class Ro extends Tt(){constructor(e){super(),it(this,"_pluginLocal",void 0),it(this,"_connected",!1),it(this,"_parent",void 0),it(this,"_child",void 0),it(this,"_shadow",void 0),it(this,"_status",void 0),it(this,"_userModel",{}),it(this,"_call",void 0),it(this,"_callUserModel",void 0),it(this,"_debugTag",""),this._pluginLocal=e,e&&(this._debugTag=e.debugTag)}async connectToChild(){if(this._connected)return;const{shadow:e}=this._pluginLocal;e?await this._setupShadowSandbox():await this._setupIframeSandbox()}async connectToParent(e={}){if(this._connected)return;const n=this,s=this._pluginLocal!=null;let h=0;const m=new Map,y=we(6e4),_=this._extendUserModel({"#lspmsg#ready#":async D=>{_[Jr(D?.pid)]=({type:M,payload:X})=>{Et(`[host (_call) -> *user] ${this._debugTag}`,M,X),n.emit(M,X)},await y.resolve()},"#lspmsg#beforeunload#":async D=>{const M=we(1e4);n.emit("beforeunload",Object.assign({actor:M},D)),await M.promise},"#lspmsg#settings#":async({type:D,payload:M})=>{n.emit("settings:changed",M)},[To]:async({ns:D,type:M,payload:X})=>{Et(`[host (async) -> *user] ${this._debugTag} ns=${D} type=${M}`,X),D&&D.startsWith("hook")?n.emit(`${D}:${M}`,X):n.emit(M,X)},"#lspmsg#reply#":({_sync:D,result:M})=>{if(Et(`[sync host -> *user] #${D}`,M),m.has(D)){const X=m.get(D);X&&(M!=null&&M.hasOwnProperty(oi)?X.reject(M[oi]):X.resolve(M),m.delete(D))}},...e});var A;if(s)return await y.promise,JSON.parse(JSON.stringify((A=this._pluginLocal)===null||A===void 0?void 0:A.toJSON()));const P=new $o(_).sendHandshakeReply();return this._status="pending",await P.then(D=>{this._child=D,this._connected=!0,this._call=async(M,X={},Q)=>{if(Q){const Y=++h;m.set(Y,Q),X._sync=Y,Q.setTag(`async call #${Y}`),Et(`async call #${Y}`)}return D.emit(Jr(_.baseInfo.id),{type:M,payload:X}),Q?.promise},this._callUserModel=async(M,X)=>{try{_[M](X)}catch{Et(`[model method] #${M} not existed`)}},setInterval(()=>{if(m.size>100)for(const[M,X]of m)X.settled&&m.delete(M)},18e5)}).finally(()=>{this._status=void 0}),await y.promise,_.baseInfo}async call(e,n={}){var s;return(s=this._call)===null||s===void 0?void 0:s.call(this,e,n)}async callAsync(e,n={}){var s;const h=we(1e4);return(s=this._call)===null||s===void 0?void 0:s.call(this,e,n,h)}async callUserModel(e,...n){var s;return(s=this._callUserModel)===null||s===void 0?void 0:s.apply(this,[e,...n])}async callUserModelAsync(e,...n){var s;return e=`${$r}${e}`,(s=this._callUserModel)===null||s===void 0?void 0:s.apply(this,[e,...n])}async _setupIframeSandbox(){const e=this._pluginLocal,n=e.id,s=`${n}_lsp_main`,h=new URL(e.options.entry);h.searchParams.set("__v__",e.options.version);const m=document.querySelector(`#${s}`);m&&m.parentElement.removeChild(m);const y=document.createElement("div");y.classList.add("lsp-iframe-sandbox-container"),y.id=s,y.dataset.pid=n;try{var _;const M=(_=await this._pluginLocal._loadLayoutsData())===null||_===void 0?void 0:_.$$0;if(M){y.dataset.inited_layout="true";let{width:X,height:Q,left:Y,top:ae,vw:ve,vh:Ne}=M;Y=Math.max(Y,0),Y=typeof ve=="number"?`${Math.min(100*Y/ve,99)}%`:`${Y}px`,ae=Math.max(ae,45),ae=typeof Ne=="number"?`${Math.min(100*ae/Ne,99)}%`:`${ae}px`,Object.assign(y.style,{width:X+"px",height:Q+"px",left:Y,top:ae})}}catch(M){console.error("[Restore Layout Error]",M)}document.body.appendChild(y);const A=new In({id:n+"_iframe",container:y,url:h.href,classListArray:["lsp-iframe-sandbox"],model:{baseInfo:JSON.parse(JSON.stringify(e.toJSON()))}});let P,D=A.sendHandshake();return this._status="pending",new Promise((M,X)=>{P=setTimeout(()=>{X(new Error("handshake Timeout")),A.destroy()},4e3),D.then(Q=>{this._parent=Q,this._connected=!0,this.emit("connected"),Q.on(Jr(e.id),({type:Y,payload:ae})=>{var ve,Ne;Et("[user -> *host] ",Y,ae),(ve=this._pluginLocal)===null||ve===void 0||ve.emit(Y,ae||{}),(Ne=this._pluginLocal)===null||Ne===void 0||Ne.caller.emit(Y,ae||{})}),this._call=async(...Y)=>{await Q.call(Jr(e.id),{type:Y[0],payload:Object.assign(Y[1]||{},{$$pid:e.id})})},this._callUserModel=async(Y,...ae)=>{if(Y.startsWith($r))return await Q.get(Y.replace($r,""),...ae);Q.call(Y,ae?.[0])},M(null)}).catch(Q=>{X(Q)}).finally(()=>{clearTimeout(P)})}).catch(M=>{throw Et("[iframe sandbox] error",M),M}).finally(()=>{this._status=void 0})}async _setupShadowSandbox(){const e=this._pluginLocal,n=this._shadow=new Co(e);try{this._status="pending",await n.load(),this._connected=!0,this.emit("connected"),this._call=async(s,h={},m)=>{var y;return m&&(h.actor=m),(y=this._pluginLocal)===null||y===void 0||y.emit(s,Object.assign(h,{$$pid:e.id})),m?.promise},this._callUserModel=async(...s)=>{var h;let m=s[0];(h=m)!==null&&h!==void 0&&h.startsWith($r)&&(m=m.replace($r,""));const y=s[1]||{},_=this._userModel[m];typeof _=="function"&&await _.call(null,y)}}catch(s){throw Et("[shadow sandbox] error",s),s}finally{this._status=void 0}}_extendUserModel(e){return Object.assign(this._userModel,e)}_getSandboxIframeContainer(){var e;return(e=this._parent)===null||e===void 0?void 0:e.frame.parentNode}_getSandboxShadowContainer(){var e;return(e=this._shadow)===null||e===void 0?void 0:e.frame.parentNode}_getSandboxIframeRoot(){var e;return(e=this._parent)===null||e===void 0?void 0:e.frame}_getSandboxShadowRoot(){var e;return(e=this._shadow)===null||e===void 0?void 0:e.frame}set debugTag(e){this._debugTag=e}async destroy(){var e;let n=null;this._parent&&(n=this._getSandboxIframeContainer(),await this._parent.destroy()),this._shadow&&(n=this._getSandboxShadowContainer(),this._shadow.destroy()),(e=n)===null||e===void 0||e.parentNode.removeChild(n)}}function si(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class ai{constructor(e,n){si(this,"ctx",void 0),si(this,"opts",void 0),this.ctx=e,this.opts=n}get ctxId(){return this.ctx.baseInfo.id}setItem(e,n){var s;return this.ctx.caller.callAsync("api:call",{method:"write-plugin-storage-file",args:[this.ctxId,e,n,(s=this.opts)===null||s===void 0?void 0:s.assets]})}getItem(e){var n;return this.ctx.caller.callAsync("api:call",{method:"read-plugin-storage-file",args:[this.ctxId,e,(n=this.opts)===null||n===void 0?void 0:n.assets]})}removeItem(e){var n;return this.ctx.caller.call("api:call",{method:"unlink-plugin-storage-file",args:[this.ctxId,e,(n=this.opts)===null||n===void 0?void 0:n.assets]})}allKeys(){var e;return this.ctx.caller.callAsync("api:call",{method:"list-plugin-storage-files",args:[this.ctxId,(e=this.opts)===null||e===void 0?void 0:e.assets]})}clear(){var e;return this.ctx.caller.call("api:call",{method:"clear-plugin-storage-files",args:[this.ctxId,(e=this.opts)===null||e===void 0?void 0:e.assets]})}hasItem(e){var n;return this.ctx.caller.callAsync("api:call",{method:"exist-plugin-storage-file",args:[this.ctxId,e,(n=this.opts)===null||n===void 0?void 0:n.assets]})}}class No{constructor(e){var n,s,h;h=void 0,(s="ctx")in(n=this)?Object.defineProperty(n,s,{value:h,enumerable:!0,configurable:!0,writable:!0}):n[s]=h,this.ctx=e}get React(){return this.ensureHostScope().React}get ReactDOM(){return this.ensureHostScope().ReactDOM}get pluginLocal(){return this.ensureHostScope().LSPluginCore.ensurePlugin(this.ctx.baseInfo.id)}invokeExperMethod(e,...n){var s,h;const m=this.ensureHostScope();return e=(s=L(e))===null||s===void 0?void 0:s.toLowerCase(),(h=m.logseq.api["exper_"+e])===null||h===void 0?void 0:h.apply(m,n)}async loadScripts(...e){(e=e.map(n=>n!=null&&n.startsWith("http")?n:this.ctx.resolveResourceFullUrl(n))).unshift(this.ctx.baseInfo.id),await this.invokeExperMethod("loadScripts",...e)}registerFencedCodeRenderer(e,n){return this.ensureHostScope().logseq.api.exper_register_fenced_code_renderer(this.ctx.baseInfo.id,e,n)}registerExtensionsEnhancer(e,n){const s=this.ensureHostScope();return e==="katex"&&s.katex&&n(s.katex).catch(console.error),s.logseq.api.exper_register_extensions_enhancer(this.ctx.baseInfo.id,e,n)}ensureHostScope(){if(window===top)throw new Error("Can not access host scope!");return top}}function Xt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const li=t=>`task_callback_${t}`;class Lo{constructor(e,n,s={}){Xt(this,"_client",void 0),Xt(this,"_requestId",void 0),Xt(this,"_requestOptions",void 0),Xt(this,"_promise",void 0),Xt(this,"_aborted",!1),this._client=e,this._requestId=n,this._requestOptions=s,this._promise=new Promise((_,A)=>{if(!this._requestId)return A(null);this._client.once(li(this._requestId),P=>{P&&P instanceof Error?A(P):_(P)})});const{success:h,fail:m,final:y}=this._requestOptions;this._promise.then(_=>{h?.(_)}).catch(_=>{m?.(_)}).finally(()=>{y?.()})}abort(){this._requestOptions.abortable&&!this._aborted&&(this._client.ctx._execCallableAPI("http_request_abort",this._requestId),this._aborted=!0)}get promise(){return this._promise}get client(){return this._client}get requestId(){return this._requestId}}class Cn extends wr.EventEmitter{constructor(e){super(),Xt(this,"_ctx",void 0),this._ctx=e,this.ctx.caller.on("#lsp#request#callback",n=>{const s=n?.requestId;s&&this.emit(li(s),n?.payload)})}static createRequestTask(e,n,s){return new Lo(e,n,s)}async _request(e){const n=this.ctx.baseInfo.id,{success:s,fail:h,final:m,...y}=e,_=this.ctx.Experiments.invokeExperMethod("request",n,y),A=Cn.createRequestTask(this.ctx.Request,_,e);return y.abortable?A:A.promise}get ctx(){return this._ctx}}const jo=Fr(Object.keys,Object);var ko=Object.prototype.hasOwnProperty;const Po=function(t){if(!nr(t))return jo(t);var e=[];for(var n in Object(t))ko.call(t,n)&&n!="constructor"&&e.push(n);return e},Tn=function(t){return At(t)?Ht(t):Po(t)},Fo=function(t,e){return t&&Nr(t,e,Tn)},Do=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Mo=function(t){return this.__data__.has(t)};function Zr(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new ze;++e<n;)this.add(t[e])}Zr.prototype.add=Zr.prototype.push=Do,Zr.prototype.has=Mo;const Uo=Zr,zo=function(t,e){for(var n=-1,s=t==null?0:t.length;++n<s;)if(e(t[n],n,t))return!0;return!1},Go=function(t,e){return t.has(e)},ci=function(t,e,n,s,h,m){var y=1&n,_=t.length,A=e.length;if(_!=A&&!(y&&A>_))return!1;var P=m.get(t),D=m.get(e);if(P&&D)return P==e&&D==t;var M=-1,X=!0,Q=2&n?new Uo:void 0;for(m.set(t,e),m.set(e,t);++M<_;){var Y=t[M],ae=e[M];if(s)var ve=y?s(ae,Y,M,e,t,m):s(Y,ae,M,t,e,m);if(ve!==void 0){if(ve)continue;X=!1;break}if(Q){if(!zo(e,function(Ne,ut){if(!Go(Q,ut)&&(Y===Ne||h(Y,Ne,n,s,m)))return Q.push(ut)})){X=!1;break}}else if(Y!==ae&&!h(Y,ae,n,s,m)){X=!1;break}}return m.delete(t),m.delete(e),X},Ho=function(t){var e=-1,n=Array(t.size);return t.forEach(function(s,h){n[++e]=[h,s]}),n},qo=function(t){var e=-1,n=Array(t.size);return t.forEach(function(s){n[++e]=s}),n};var ui=v?v.prototype:void 0,Rn=ui?ui.valueOf:void 0;const Bo=function(t,e,n,s,h,m,y){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!m(new mt(t),new mt(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return d(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var _=Ho;case"[object Set]":var A=1&s;if(_||(_=qo),t.size!=e.size&&!A)return!1;var P=y.get(t);if(P)return P==e;s|=2,y.set(t,e);var D=ci(_(t),_(e),s,h,m,y);return y.delete(t),D;case"[object Symbol]":if(Rn)return Rn.call(t)==Rn.call(e)}return!1},Wo=function(t,e){for(var n=-1,s=e.length,h=t.length;++n<s;)t[h+n]=e[n];return t},Xo=function(t,e,n){var s=e(t);return Fe(t)?s:Wo(s,n(t))},Vo=function(t,e){for(var n=-1,s=t==null?0:t.length,h=0,m=[];++n<s;){var y=t[n];e(y,n,t)&&(m[h++]=y)}return m},Yo=function(){return[]};var Jo=Object.prototype.propertyIsEnumerable,hi=Object.getOwnPropertySymbols;const Zo=hi?function(t){return t==null?[]:(t=Object(t),Vo(hi(t),function(e){return Jo.call(t,e)}))}:Yo,fi=function(t){return Xo(t,Tn,Zo)};var Ko=Object.prototype.hasOwnProperty;const Qo=function(t,e,n,s,h,m){var y=1&n,_=fi(t),A=_.length;if(A!=fi(e).length&&!y)return!1;for(var P=A;P--;){var D=_[P];if(!(y?D in e:Ko.call(e,D)))return!1}var M=m.get(t),X=m.get(e);if(M&&X)return M==e&&X==t;var Q=!0;m.set(t,e),m.set(e,t);for(var Y=y;++P<A;){var ae=t[D=_[P]],ve=e[D];if(s)var Ne=y?s(ve,ae,D,e,t,m):s(ae,ve,D,t,e,m);if(!(Ne===void 0?ae===ve||h(ae,ve,n,s,m):Ne)){Q=!1;break}Y||(Y=D=="constructor")}if(Q&&!Y){var ut=t.constructor,Lt=e.constructor;ut==Lt||!("constructor"in t)||!("constructor"in e)||typeof ut=="function"&&ut instanceof ut&&typeof Lt=="function"&&Lt instanceof Lt||(Q=!1)}return m.delete(t),m.delete(e),Q},Nn=Te(p,"DataView"),Ln=Te(p,"Promise"),jn=Te(p,"Set"),kn=Te(p,"WeakMap");var pi="[object Map]",di="[object Promise]",mi="[object Set]",gi="[object WeakMap]",vi="[object DataView]",es=K(Nn),ts=K(Pe),rs=K(Ln),ns=K(jn),is=K(kn),Nt=me;(Nn&&Nt(new Nn(new ArrayBuffer(1)))!=vi||Pe&&Nt(new Pe)!=pi||Ln&&Nt(Ln.resolve())!=di||jn&&Nt(new jn)!=mi||kn&&Nt(new kn)!=gi)&&(Nt=function(t){var e=me(t),n=e=="[object Object]"?t.constructor:void 0,s=n?K(n):"";if(s)switch(s){case es:return vi;case ts:return pi;case rs:return di;case ns:return mi;case is:return gi}return e});const yi=Nt;var bi="[object Arguments]",_i="[object Array]",Kr="[object Object]",Ei=Object.prototype.hasOwnProperty;const os=function(t,e,n,s,h,m){var y=Fe(t),_=Fe(e),A=y?_i:yi(t),P=_?_i:yi(e),D=(A=A==bi?Kr:A)==Kr,M=(P=P==bi?Kr:P)==Kr,X=A==P;if(X&&ue(t)){if(!ue(e))return!1;y=!0,D=!1}if(X&&!D)return m||(m=new st),y||lt(t)?ci(t,e,n,s,h,m):Bo(t,e,A,n,s,h,m);if(!(1&n)){var Q=D&&Ei.call(t,"__wrapped__"),Y=M&&Ei.call(e,"__wrapped__");if(Q||Y){var ae=Q?t.value():t,ve=Y?e.value():e;return m||(m=new st),h(ae,ve,n,s,m)}}return!!X&&(m||(m=new st),Qo(t,e,n,s,h,m))},wi=function t(e,n,s,h,m){return e===n||(e==null||n==null||!Ee(e)&&!Ee(n)?e!=e&&n!=n:os(e,n,s,h,t,m))},ss=function(t,e,n,s){var h=n.length,m=h,y=!s;if(t==null)return!m;for(t=Object(t);h--;){var _=n[h];if(y&&_[2]?_[1]!==t[_[0]]:!(_[0]in t))return!1}for(;++h<m;){var A=(_=n[h])[0],P=t[A],D=_[1];if(y&&_[2]){if(P===void 0&&!(A in t))return!1}else{var M=new st;if(s)var X=s(P,D,A,t,e,M);if(!(X===void 0?wi(D,P,3,s,M):X))return!1}}return!0},Oi=function(t){return t==t&&!Me(t)},as=function(t){for(var e=Tn(t),n=e.length;n--;){var s=e[n],h=t[s];e[n]=[s,h,Oi(h)]}return e},Si=function(t,e){return function(n){return n!=null&&n[t]===e&&(e!==void 0||t in Object(n))}},ls=function(t){var e=as(t);return e.length==1&&e[0][2]?Si(e[0][0],e[0][1]):function(n){return n===t||ss(n,t,e)}},Pn=function(t){return typeof t=="symbol"||Ee(t)&&me(t)=="[object Symbol]"};var cs=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,us=/^\w*$/;const Fn=function(t,e){if(Fe(t))return!1;var n=typeof t;return!(n!="number"&&n!="symbol"&&n!="boolean"&&t!=null&&!Pn(t))||us.test(t)||!cs.test(t)||e!=null&&t in Object(e)};function Dn(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var n=function(){var s=arguments,h=e?e.apply(this,s):s[0],m=n.cache;if(m.has(h))return m.get(h);var y=t.apply(this,s);return n.cache=m.set(h,y)||m,y};return n.cache=new(Dn.Cache||ze),n}Dn.Cache=ze;const hs=Dn;var fs=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ps=/\\(\\)?/g;const ds=function(t){var e=hs(t,function(s){return n.size===500&&n.clear(),s}),n=e.cache;return e}(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(fs,function(n,s,h,m){e.push(h?m.replace(ps,"$1"):s||n)}),e}),ms=function(t,e){for(var n=-1,s=t==null?0:t.length,h=Array(s);++n<s;)h[n]=e(t[n],n,t);return h};var $i=v?v.prototype:void 0,Ai=$i?$i.toString:void 0;const gs=function t(e){if(typeof e=="string")return e;if(Fe(e))return ms(e,t)+"";if(Pn(e))return Ai?Ai.call(e):"";var n=e+"";return n=="0"&&1/e==-1/0?"-0":n},vs=function(t){return t==null?"":gs(t)},xi=function(t,e){return Fe(t)?t:Fn(t,e)?[t]:ds(vs(t))},Qr=function(t){if(typeof t=="string"||Pn(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e},Ii=function(t,e){for(var n=0,s=(e=xi(e,t)).length;t!=null&&n<s;)t=t[Qr(e[n++])];return n&&n==s?t:void 0},ys=function(t,e,n){var s=t==null?void 0:Ii(t,e);return s===void 0?n:s},bs=function(t,e){return t!=null&&e in Object(t)},_s=function(t,e,n){for(var s=-1,h=(e=xi(e,t)).length,m=!1;++s<h;){var y=Qr(e[s]);if(!(m=t!=null&&n(t,y)))break;t=t[y]}return m||++s!=h?m:!!(h=t==null?0:t.length)&&sr(h)&&Gt(y,h)&&(Fe(t)||Ut(t))},Es=function(t,e){return t!=null&&_s(t,e,bs)},ws=function(t,e){return Fn(t)&&Oi(e)?Si(Qr(t),e):function(n){var s=ys(n,t);return s===void 0&&s===e?Es(n,t):wi(e,s,3)}},Os=function(t){return function(e){return e?.[t]}},Ss=function(t){return function(e){return Ii(e,t)}},$s=function(t){return Fn(t)?Os(Qr(t)):Ss(t)},As=function(t){return typeof t=="function"?t:t==null?Bt:typeof t=="object"?Fe(t)?ws(t[0],t[1]):ls(t):$s(t)},xs=function(t,e){var n={};return e=As(e),Fo(t,function(s,h,m){Mt(n,e(s,h,m),s)}),n};function Ci(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Is{constructor(e,n){Ci(this,"ctx",void 0),Ci(this,"serviceHooks",void 0),this.ctx=e,this.serviceHooks=n,e._execCallableAPI("register-search-service",e.baseInfo.id,n.name,n.options),Object.entries({query:{f:"onQuery",args:["graph","q",!0],reply:!0,transformOutput:s=>(Fe(s?.blocks)&&(s.blocks=s.blocks.map(h=>h&&xs(h,(m,y)=>`block/${y}`))),s)},rebuildBlocksIndice:{f:"onIndiceInit",args:["graph","blocks"]},transactBlocks:{f:"onBlocksChanged",args:["graph","data"]},truncateBlocks:{f:"onIndiceReset",args:["graph"]},removeDb:{f:"onGraph",args:["graph"]}}).forEach(([s,h])=>{const m=(y=>`service:search:${y}:${n.name}`)(s);e.caller.on(m,async y=>{if(E(n?.[h.f])){let _=null;try{_=await n[h.f].apply(n,(h.args||[]).map(A=>{if(y){if(A===!0)return y;if(y.hasOwnProperty(A)){const P=y[A];return delete y[A],P}}})),h.transformOutput&&(_=h.transformOutput(_))}catch(A){console.error("[SearchService] ",A),_=A}finally{h.reply&&e.caller.call(`${m}:reply`,_)}}})})}}function Xe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const Cs=Symbol.for("proxy-continue"),Ts=We()("LSPlugin:user"),Ti=new se("",{console:!0});function Vt(t,e,n){var s;if(typeof n!="function")return!1;const{key:h,label:m,desc:y,palette:_,keybinding:A,extras:P}=e,D=`SimpleCommandHook${h}${++Li}`;this.Editor["on"+D](n),(s=this.caller)===null||s===void 0||s.call("api:call",{method:"register-plugin-simple-command",args:[this.baseInfo.id,[{key:h,label:m,type:t,desc:y,keybinding:A,extras:P},["editor/hook",D]],_]})}function Ri(t){return!(typeof(e=t)!="string"||e.length!==36||!/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/gi.test(e))||(Ti.error(`#${t} is not a valid UUID string.`),!1);var e}let en=null,Ni=new Map;const Rs={async getInfo(t){return en||(en=await this._execCallableAPIAsync("get-app-info")),typeof t=="string"?en[t]:en},registerCommand:Vt,registerSearchService(t){if(Ni.has(t.name))throw new Error(`SearchService: #${t.name} has registered!`);Ni.set(t.name,new Is(this,t))},registerCommandPalette(t,e){const{key:n,label:s,keybinding:h}=t;return Vt.call(this,"$palette$",{key:n,label:s,palette:!0,keybinding:h},e)},registerCommandShortcut(t,e){const{binding:n}=t,s="$shortcut$",h=s+L(n);return Vt.call(this,s,{key:h,palette:!1,keybinding:t},e)},registerUIItem(t,e){var n;const s=this.baseInfo.id;(n=this.caller)===null||n===void 0||n.call("api:call",{method:"register-plugin-ui-item",args:[s,t,e]})},registerPageMenuItem(t,e){if(typeof e!="function")return!1;const n=t+"_"+this.baseInfo.id,s=t;Vt.call(this,"page-menu-item",{key:n,label:s},e)},onBlockRendererSlotted(t,e){if(!Ri(t))return;const n=this.baseInfo.id,s=`hook:editor:${L(`slot:${t}`)}`;return this.caller.on(s,e),this.App._installPluginHook(n,s),()=>{this.caller.off(s,e),this.App._uninstallPluginHook(n,s)}},invokeExternalPlugin(t,...e){var n;if(!(t=(n=t)===null||n===void 0?void 0:n.trim()))return;let[s,h]=t.split(".");if(!["models","commands"].includes(h?.toLowerCase()))throw new Error("Type only support '.models' or '.commands' currently.");const m=t.replace(`${s}.${h}.`,"");if(!s||!h||!m)throw new Error(`Illegal type of #${t} to invoke external plugin.`);return this._execCallableAPIAsync("invoke_external_plugin_cmd",s,h.toLowerCase(),m,e)},setFullScreen(t){const e=(...n)=>this._callWin("setFullScreen",...n);t==="toggle"?this._callWin("isFullScreen").then(n=>{n?e():e(!0)}):t?e(!0):e()}};let Li=0;const Ns={newBlockUUID(){return this._execCallableAPIAsync("new_block_uuid")},registerSlashCommand(t,e){var n;Ts("Register slash command #",this.baseInfo.id,t,e),typeof e=="function"&&(e=[["editor/clear-current-slash",!1],["editor/restore-saved-cursor"],["editor/hook",e]]),e=e.map(s=>{const[h,...m]=s;if(h==="editor/hook"){let y=m[0],_=()=>{var P;(P=this.caller)===null||P===void 0||P.callUserModel(y)};typeof y=="function"&&(_=y);const A=`SlashCommandHook${h}${++Li}`;s[1]=A,this.Editor["on"+A](_)}return s}),(n=this.caller)===null||n===void 0||n.call("api:call",{method:"register-plugin-slash-command",args:[this.baseInfo.id,[t,e]]})},registerBlockContextMenuItem(t,e){if(typeof e!="function")return!1;const n=t+"_"+this.baseInfo.id;Vt.call(this,"block-context-menu-item",{key:n,label:t},e)},registerHighlightContextMenuItem(t,e,n){if(typeof e!="function")return!1;const s=t+"_"+this.baseInfo.id;Vt.call(this,"highlight-context-menu-item",{key:s,label:t,extras:n},e)},scrollToBlockInPage(t,e,n){const s="block-content-"+e;n!=null&&n.replaceState?this.App.replaceState("page",{name:t},{anchor:s}):this.App.pushState("page",{name:t},{anchor:s})}},Ls={onBlockChanged(t,e){if(!Ri(t))return;const n=this.baseInfo.id,s=`hook:db:${L(`block:${t}`)}`,h=({block:m,txData:y,txMeta:_})=>{m.uuid===t&&e(m,y,_)};return this.caller.on(s,h),this.App._installPluginHook(n,s),()=>{this.caller.off(s,h),this.App._uninstallPluginHook(n,s)}},datascriptQuery(t,...e){return e.pop(),e!=null&&e.some(n=>typeof n=="function")?this.Experiments.ensureHostScope().logseq.api.datascript_query(t,...e):this._execCallableAPIAsync("datascript_query",t,...e)}},js={},ks={},Ps={makeSandboxStorage(){return new ai(this,{assets:!0})}};class Mn extends Tt(){constructor(e,n){super(),Xe(this,"_baseInfo",void 0),Xe(this,"_caller",void 0),Xe(this,"_version","0.0.15"),Xe(this,"_debugTag",""),Xe(this,"_settingsSchema",void 0),Xe(this,"_connected",!1),Xe(this,"_ui",new Map),Xe(this,"_mFileStorage",void 0),Xe(this,"_mRequest",void 0),Xe(this,"_mExperiments",void 0),Xe(this,"_beforeunloadCallback",void 0),this._baseInfo=e,this._caller=n,n.on("sys:ui:visible",s=>{s!=null&&s.toggle&&this.toggleMainUI()}),n.on("settings:changed",s=>{const h=Object.assign({},this.settings),m=Object.assign(this._baseInfo.settings,s);this.emit("settings:changed",{...m},h)}),n.on("beforeunload",async s=>{const{actor:h,...m}=s,y=this._beforeunloadCallback;try{y&&await y(m),h?.resolve(null)}catch(_){console.debug(`${n.debugTag} [beforeunload] `,_),h?.reject(_)}})}async ready(e,n){if(!this._connected)try{var s;typeof e=="function"&&(n=e,e={});let h=await this._caller.connectToParent(e);this._connected=!0,h=R(this._baseInfo,h),(s=h)!==null&&s!==void 0&&s.id&&(this._debugTag=this._caller.debugTag=`#${h.id} [${h.name}]`,this.logger.setTag(this._debugTag)),this._settingsSchema&&(h.settings=function(m,y){const _=(y||[]).reduce((A,P)=>("default"in P&&(A[P.key]=P.default),A),{});return Object.assign(_,m)}(h.settings,this._settingsSchema),await this.useSettingsSchema(this._settingsSchema));try{await this._execCallableAPIAsync("setSDKMetadata",{version:this._version})}catch(m){console.warn(m)}n&&n.call(this,h)}catch(h){console.error(`${this._debugTag} [Ready Error]`,h)}}ensureConnected(){if(!this._connected)throw new Error("not connected")}beforeunload(e){typeof e=="function"&&(this._beforeunloadCallback=e)}provideModel(e){return this.caller._extendUserModel(e),this}provideTheme(e){return this.caller.call("provider:theme",e),this}provideStyle(e){return this.caller.call("provider:style",e),this}provideUI(e){return this.caller.call("provider:ui",e),this}useSettingsSchema(e){return this.connected&&this.caller.call("settings:schema",{schema:e,isSync:!0}),this._settingsSchema=e,this}updateSettings(e){this.caller.call("settings:update",e)}onSettingsChanged(e){const n="settings:changed";return this.on(n,e),()=>this.off(n,e)}showSettingsUI(){this.caller.call("settings:visible:changed",{visible:!0})}hideSettingsUI(){this.caller.call("settings:visible:changed",{visible:!1})}setMainUIAttrs(e){this.caller.call("main-ui:attrs",e)}setMainUIInlineStyle(e){this.caller.call("main-ui:style",e)}hideMainUI(e){const n={key:0,visible:!1,cursor:e?.restoreEditingCursor};this.caller.call("main-ui:visible",n),this.emit("ui:visible:changed",n),this._ui.set(n.key,n)}showMainUI(e){const n={key:0,visible:!0,autoFocus:e?.autoFocus};this.caller.call("main-ui:visible",n),this.emit("ui:visible:changed",n),this._ui.set(n.key,n)}toggleMainUI(){const n=this._ui.get(0);n&&n.visible?this.hideMainUI():this.showMainUI()}get version(){return this._version}get isMainUIVisible(){const e=this._ui.get(0);return Boolean(e&&e.visible)}get connected(){return this._connected}get baseInfo(){return this._baseInfo}get effect(){return(e=this)&&(((n=e.baseInfo)===null||n===void 0?void 0:n.effect)||!((s=e.baseInfo)!==null&&s!==void 0&&s.iir));var e,n,s}get logger(){return Ti}get settings(){var e;return(e=this.baseInfo)===null||e===void 0?void 0:e.settings}get caller(){return this._caller}resolveResourceFullUrl(e){if(this.ensureConnected(),e)return e=e.replace(/^[.\\/]+/,""),pe(this._baseInfo.lsr,e)}_makeUserProxy(e,n){const s=this,h=this.caller;return new Proxy(e,{get(m,y,_){const A=m[y];return function(...P){if(A){const M=A.apply(s,P.concat(n));if(M!==Cs)return M}if(n){const M=y.toString().match(/^(once|off|on)/i);if(M!=null){const X=M[0].toLowerCase(),Q=M.input.slice(X.length),Y=X==="off",ae=s.baseInfo.id,ve=`hook:${n}:${L(Q)}`,Ne=P[0],ut=P[1];h[X](ve,Ne);const Lt=()=>{h.off(ve,Ne),h.listenerCount(ve)||s.App._uninstallPluginHook(ae,ve)};return Y?void Lt():(s.App._installPluginHook(ae,ve,ut),Lt)}}let D=y;return["git","ui","assets"].includes(n)&&(D=n+"_"+D),h.callAsync("api:call",{tag:n,method:D,args:P})}}})}_execCallableAPIAsync(e,...n){return this._caller.callAsync("api:call",{method:e,args:n})}_execCallableAPI(e,...n){this._caller.call("api:call",{method:e,args:n})}_callWin(...e){return this._execCallableAPIAsync("_callMainWin",...e)}get App(){return this._makeUserProxy(Rs,"app")}get Editor(){return this._makeUserProxy(Ns,"editor")}get DB(){return this._makeUserProxy(Ls,"db")}get Git(){return this._makeUserProxy(js,"git")}get UI(){return this._makeUserProxy(ks,"ui")}get Assets(){return this._makeUserProxy(Ps,"assets")}get FileStorage(){let e=this._mFileStorage;return e||(e=this._mFileStorage=new ai(this)),e}get Request(){let e=this._mRequest;return e||(e=this._mRequest=new Cn(this)),e}get Experiments(){let e=this._mExperiments;return e||(e=this._mExperiments=new No(this)),e}}function ji(t,e){return new Mn(t,e)}if(window.__LSP__HOST__==null){const t=new Ro(null);window.logseq=ji({},t)}})(),c})())})(ki,ki.exports);const Vn={id:"_pengx17-logseq-bullet-threading",icon:"./logo.png"};var Pt={exports:{}};const Ds="2.0.0",Ms=256,Us=Number.MAX_SAFE_INTEGER||9007199254740991,zs=16,Gs=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var cn={MAX_LENGTH:Ms,MAX_SAFE_COMPONENT_LENGTH:zs,MAX_SAFE_INTEGER:Us,RELEASE_TYPES:Gs,SEMVER_SPEC_VERSION:Ds,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const Hs=typeof process=="object"&&process.env&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?(...i)=>console.error("SEMVER",...i):()=>{};var un=Hs;(function(i,r){const{MAX_SAFE_COMPONENT_LENGTH:o}=cn,a=un;r=i.exports={};const l=r.re=[],c=r.src=[],f=r.t={};let g=0;const d=($,O,w)=>{const U=g++;a($,U,O),f[$]=U,c[U]=O,l[U]=new RegExp(O,w?"g":void 0)};d("NUMERICIDENTIFIER","0|[1-9]\\d*"),d("NUMERICIDENTIFIERLOOSE","[0-9]+"),d("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),d("MAINVERSION",`(${c[f.NUMERICIDENTIFIER]})\\.(${c[f.NUMERICIDENTIFIER]})\\.(${c[f.NUMERICIDENTIFIER]})`),d("MAINVERSIONLOOSE",`(${c[f.NUMERICIDENTIFIERLOOSE]})\\.(${c[f.NUMERICIDENTIFIERLOOSE]})\\.(${c[f.NUMERICIDENTIFIERLOOSE]})`),d("PRERELEASEIDENTIFIER",`(?:${c[f.NUMERICIDENTIFIER]}|${c[f.NONNUMERICIDENTIFIER]})`),d("PRERELEASEIDENTIFIERLOOSE",`(?:${c[f.NUMERICIDENTIFIERLOOSE]}|${c[f.NONNUMERICIDENTIFIER]})`),d("PRERELEASE",`(?:-(${c[f.PRERELEASEIDENTIFIER]}(?:\\.${c[f.PRERELEASEIDENTIFIER]})*))`),d("PRERELEASELOOSE",`(?:-?(${c[f.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[f.PRERELEASEIDENTIFIERLOOSE]})*))`),d("BUILDIDENTIFIER","[0-9A-Za-z-]+"),d("BUILD",`(?:\\+(${c[f.BUILDIDENTIFIER]}(?:\\.${c[f.BUILDIDENTIFIER]})*))`),d("FULLPLAIN",`v?${c[f.MAINVERSION]}${c[f.PRERELEASE]}?${c[f.BUILD]}?`),d("FULL",`^${c[f.FULLPLAIN]}$`),d("LOOSEPLAIN",`[v=\\s]*${c[f.MAINVERSIONLOOSE]}${c[f.PRERELEASELOOSE]}?${c[f.BUILD]}?`),d("LOOSE",`^${c[f.LOOSEPLAIN]}$`),d("GTLT","((?:<|>)?=?)"),d("XRANGEIDENTIFIERLOOSE",`${c[f.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),d("XRANGEIDENTIFIER",`${c[f.NUMERICIDENTIFIER]}|x|X|\\*`),d("XRANGEPLAIN",`[v=\\s]*(${c[f.XRANGEIDENTIFIER]})(?:\\.(${c[f.XRANGEIDENTIFIER]})(?:\\.(${c[f.XRANGEIDENTIFIER]})(?:${c[f.PRERELEASE]})?${c[f.BUILD]}?)?)?`),d("XRANGEPLAINLOOSE",`[v=\\s]*(${c[f.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[f.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[f.XRANGEIDENTIFIERLOOSE]})(?:${c[f.PRERELEASELOOSE]})?${c[f.BUILD]}?)?)?`),d("XRANGE",`^${c[f.GTLT]}\\s*${c[f.XRANGEPLAIN]}$`),d("XRANGELOOSE",`^${c[f.GTLT]}\\s*${c[f.XRANGEPLAINLOOSE]}$`),d("COERCE",`(^|[^\\d])(\\d{1,${o}})(?:\\.(\\d{1,${o}}))?(?:\\.(\\d{1,${o}}))?(?:$|[^\\d])`),d("COERCERTL",c[f.COERCE],!0),d("LONETILDE","(?:~>?)"),d("TILDETRIM",`(\\s*)${c[f.LONETILDE]}\\s+`,!0),r.tildeTrimReplace="$1~",d("TILDE",`^${c[f.LONETILDE]}${c[f.XRANGEPLAIN]}$`),d("TILDELOOSE",`^${c[f.LONETILDE]}${c[f.XRANGEPLAINLOOSE]}$`),d("LONECARET","(?:\\^)"),d("CARETTRIM",`(\\s*)${c[f.LONECARET]}\\s+`,!0),r.caretTrimReplace="$1^",d("CARET",`^${c[f.LONECARET]}${c[f.XRANGEPLAIN]}$`),d("CARETLOOSE",`^${c[f.LONECARET]}${c[f.XRANGEPLAINLOOSE]}$`),d("COMPARATORLOOSE",`^${c[f.GTLT]}\\s*(${c[f.LOOSEPLAIN]})$|^$`),d("COMPARATOR",`^${c[f.GTLT]}\\s*(${c[f.FULLPLAIN]})$|^$`),d("COMPARATORTRIM",`(\\s*)${c[f.GTLT]}\\s*(${c[f.LOOSEPLAIN]}|${c[f.XRANGEPLAIN]})`,!0),r.comparatorTrimReplace="$1$2$3",d("HYPHENRANGE",`^\\s*(${c[f.XRANGEPLAIN]})\\s+-\\s+(${c[f.XRANGEPLAIN]})\\s*$`),d("HYPHENRANGELOOSE",`^\\s*(${c[f.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[f.XRANGEPLAINLOOSE]})\\s*$`),d("STAR","(<|>)?=?\\s*\\*"),d("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),d("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Pt,Pt.exports);const qs=Object.freeze({loose:!0}),Bs=Object.freeze({}),Ws=i=>i?typeof i!="object"?qs:i:Bs;var Jn=Ws;const Pi=/^[0-9]+$/,po=(i,r)=>{const o=Pi.test(i),a=Pi.test(r);return o&&a&&(i=+i,r=+r),i===r?0:o&&!a?-1:a&&!o?1:i<r?-1:1},Xs=(i,r)=>po(r,i);var mo={compareIdentifiers:po,rcompareIdentifiers:Xs};const rn=un,{MAX_LENGTH:Fi,MAX_SAFE_INTEGER:nn}=cn,{re:Di,t:Mi}=Pt.exports,Vs=Jn,{compareIdentifiers:Yt}=mo;class Ve{constructor(r,o){if(o=Vs(o),r instanceof Ve){if(r.loose===!!o.loose&&r.includePrerelease===!!o.includePrerelease)return r;r=r.version}else if(typeof r!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof r}".`);if(r.length>Fi)throw new TypeError(`version is longer than ${Fi} characters`);rn("SemVer",r,o),this.options=o,this.loose=!!o.loose,this.includePrerelease=!!o.includePrerelease;const a=r.trim().match(o.loose?Di[Mi.LOOSE]:Di[Mi.FULL]);if(!a)throw new TypeError(`Invalid Version: ${r}`);if(this.raw=r,this.major=+a[1],this.minor=+a[2],this.patch=+a[3],this.major>nn||this.major<0)throw new TypeError("Invalid major version");if(this.minor>nn||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>nn||this.patch<0)throw new TypeError("Invalid patch version");a[4]?this.prerelease=a[4].split(".").map(l=>{if(/^[0-9]+$/.test(l)){const c=+l;if(c>=0&&c<nn)return c}return l}):this.prerelease=[],this.build=a[5]?a[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(r){if(rn("SemVer.compare",this.version,this.options,r),!(r instanceof Ve)){if(typeof r=="string"&&r===this.version)return 0;r=new Ve(r,this.options)}return r.version===this.version?0:this.compareMain(r)||this.comparePre(r)}compareMain(r){return r instanceof Ve||(r=new Ve(r,this.options)),Yt(this.major,r.major)||Yt(this.minor,r.minor)||Yt(this.patch,r.patch)}comparePre(r){if(r instanceof Ve||(r=new Ve(r,this.options)),this.prerelease.length&&!r.prerelease.length)return-1;if(!this.prerelease.length&&r.prerelease.length)return 1;if(!this.prerelease.length&&!r.prerelease.length)return 0;let o=0;do{const a=this.prerelease[o],l=r.prerelease[o];if(rn("prerelease compare",o,a,l),a===void 0&&l===void 0)return 0;if(l===void 0)return 1;if(a===void 0)return-1;if(a===l)continue;return Yt(a,l)}while(++o)}compareBuild(r){r instanceof Ve||(r=new Ve(r,this.options));let o=0;do{const a=this.build[o],l=r.build[o];if(rn("prerelease compare",o,a,l),a===void 0&&l===void 0)return 0;if(l===void 0)return 1;if(a===void 0)return-1;if(a===l)continue;return Yt(a,l)}while(++o)}inc(r,o,a){switch(r){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",o,a);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",o,a);break;case"prepatch":this.prerelease.length=0,this.inc("patch",o,a),this.inc("pre",o,a);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",o,a),this.inc("pre",o,a);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const l=Number(a)?1:0;if(!o&&a===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[l];else{let c=this.prerelease.length;for(;--c>=0;)typeof this.prerelease[c]=="number"&&(this.prerelease[c]++,c=-2);if(c===-1){if(o===this.prerelease.join(".")&&a===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(l)}}if(o){let c=[o,l];a===!1&&(c=[o]),Yt(this.prerelease[0],o)===0?isNaN(this.prerelease[1])&&(this.prerelease=c):this.prerelease=c}break}default:throw new Error(`invalid increment argument: ${r}`)}return this.format(),this.raw=this.version,this}}var ke=Ve;const Ui=ke,Ys=(i,r,o=!1)=>{if(i instanceof Ui)return i;try{return new Ui(i,r)}catch(a){if(!o)return null;throw a}};var Kt=Ys;const Js=Kt,Zs=(i,r)=>{const o=Js(i,r);return o?o.version:null};var Ks=Zs;const Qs=Kt,ea=(i,r)=>{const o=Qs(i.trim().replace(/^[=v]+/,""),r);return o?o.version:null};var ta=ea;const zi=ke,ra=(i,r,o,a,l)=>{typeof o=="string"&&(l=a,a=o,o=void 0);try{return new zi(i instanceof zi?i.version:i,o).inc(r,a,l).version}catch{return null}};var na=ra;const Gi=Kt,ia=(i,r)=>{const o=Gi(i,null,!0),a=Gi(r,null,!0),l=o.compare(a);if(l===0)return null;const c=l>0,f=c?o:a,g=c?a:o,d=!!f.prerelease.length,$=d?"pre":"";return o.major!==a.major?$+"major":o.minor!==a.minor?$+"minor":o.patch!==a.patch?$+"patch":d?"prerelease":g.patch?"patch":g.minor?"minor":"major"};var oa=ia;const sa=ke,aa=(i,r)=>new sa(i,r).major;var la=aa;const ca=ke,ua=(i,r)=>new ca(i,r).minor;var ha=ua;const fa=ke,pa=(i,r)=>new fa(i,r).patch;var da=pa;const ma=Kt,ga=(i,r)=>{const o=ma(i,r);return o&&o.prerelease.length?o.prerelease:null};var va=ga;const Hi=ke,ya=(i,r,o)=>new Hi(i,o).compare(new Hi(r,o));var Je=ya;const ba=Je,_a=(i,r,o)=>ba(r,i,o);var Ea=_a;const wa=Je,Oa=(i,r)=>wa(i,r,!0);var Sa=Oa;const qi=ke,$a=(i,r,o)=>{const a=new qi(i,o),l=new qi(r,o);return a.compare(l)||a.compareBuild(l)};var Zn=$a;const Aa=Zn,xa=(i,r)=>i.sort((o,a)=>Aa(o,a,r));var Ia=xa;const Ca=Zn,Ta=(i,r)=>i.sort((o,a)=>Ca(a,o,r));var Ra=Ta;const Na=Je,La=(i,r,o)=>Na(i,r,o)>0;var hn=La;const ja=Je,ka=(i,r,o)=>ja(i,r,o)<0;var Kn=ka;const Pa=Je,Fa=(i,r,o)=>Pa(i,r,o)===0;var go=Fa;const Da=Je,Ma=(i,r,o)=>Da(i,r,o)!==0;var vo=Ma;const Ua=Je,za=(i,r,o)=>Ua(i,r,o)>=0;var Qn=za;const Ga=Je,Ha=(i,r,o)=>Ga(i,r,o)<=0;var ei=Ha;const qa=go,Ba=vo,Wa=hn,Xa=Qn,Va=Kn,Ya=ei,Ja=(i,r,o,a)=>{switch(r){case"===":return typeof i=="object"&&(i=i.version),typeof o=="object"&&(o=o.version),i===o;case"!==":return typeof i=="object"&&(i=i.version),typeof o=="object"&&(o=o.version),i!==o;case"":case"=":case"==":return qa(i,o,a);case"!=":return Ba(i,o,a);case">":return Wa(i,o,a);case">=":return Xa(i,o,a);case"<":return Va(i,o,a);case"<=":return Ya(i,o,a);default:throw new TypeError(`Invalid operator: ${r}`)}};var yo=Ja;const Za=ke,Ka=Kt,{re:on,t:sn}=Pt.exports,Qa=(i,r)=>{if(i instanceof Za)return i;if(typeof i=="number"&&(i=String(i)),typeof i!="string")return null;r=r||{};let o=null;if(!r.rtl)o=i.match(on[sn.COERCE]);else{let a;for(;(a=on[sn.COERCERTL].exec(i))&&(!o||o.index+o[0].length!==i.length);)(!o||a.index+a[0].length!==o.index+o[0].length)&&(o=a),on[sn.COERCERTL].lastIndex=a.index+a[1].length+a[2].length;on[sn.COERCERTL].lastIndex=-1}return o===null?null:Ka(`${o[2]}.${o[3]||"0"}.${o[4]||"0"}`,r)};var el=Qa,tl=oe;oe.Node=Ft;oe.create=oe;function oe(i){var r=this;if(r instanceof oe||(r=new oe),r.tail=null,r.head=null,r.length=0,i&&typeof i.forEach=="function")i.forEach(function(l){r.push(l)});else if(arguments.length>0)for(var o=0,a=arguments.length;o<a;o++)r.push(arguments[o]);return r}oe.prototype.removeNode=function(i){if(i.list!==this)throw new Error("removing node which does not belong to this list");var r=i.next,o=i.prev;return r&&(r.prev=o),o&&(o.next=r),i===this.head&&(this.head=r),i===this.tail&&(this.tail=o),i.list.length--,i.next=null,i.prev=null,i.list=null,r};oe.prototype.unshiftNode=function(i){if(i!==this.head){i.list&&i.list.removeNode(i);var r=this.head;i.list=this,i.next=r,r&&(r.prev=i),this.head=i,this.tail||(this.tail=i),this.length++}};oe.prototype.pushNode=function(i){if(i!==this.tail){i.list&&i.list.removeNode(i);var r=this.tail;i.list=this,i.prev=r,r&&(r.next=i),this.tail=i,this.head||(this.head=i),this.length++}};oe.prototype.push=function(){for(var i=0,r=arguments.length;i<r;i++)nl(this,arguments[i]);return this.length};oe.prototype.unshift=function(){for(var i=0,r=arguments.length;i<r;i++)il(this,arguments[i]);return this.length};oe.prototype.pop=function(){if(!!this.tail){var i=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,i}};oe.prototype.shift=function(){if(!!this.head){var i=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,i}};oe.prototype.forEach=function(i,r){r=r||this;for(var o=this.head,a=0;o!==null;a++)i.call(r,o.value,a,this),o=o.next};oe.prototype.forEachReverse=function(i,r){r=r||this;for(var o=this.tail,a=this.length-1;o!==null;a--)i.call(r,o.value,a,this),o=o.prev};oe.prototype.get=function(i){for(var r=0,o=this.head;o!==null&&r<i;r++)o=o.next;if(r===i&&o!==null)return o.value};oe.prototype.getReverse=function(i){for(var r=0,o=this.tail;o!==null&&r<i;r++)o=o.prev;if(r===i&&o!==null)return o.value};oe.prototype.map=function(i,r){r=r||this;for(var o=new oe,a=this.head;a!==null;)o.push(i.call(r,a.value,this)),a=a.next;return o};oe.prototype.mapReverse=function(i,r){r=r||this;for(var o=new oe,a=this.tail;a!==null;)o.push(i.call(r,a.value,this)),a=a.prev;return o};oe.prototype.reduce=function(i,r){var o,a=this.head;if(arguments.length>1)o=r;else if(this.head)a=this.head.next,o=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var l=0;a!==null;l++)o=i(o,a.value,l),a=a.next;return o};oe.prototype.reduceReverse=function(i,r){var o,a=this.tail;if(arguments.length>1)o=r;else if(this.tail)a=this.tail.prev,o=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var l=this.length-1;a!==null;l--)o=i(o,a.value,l),a=a.prev;return o};oe.prototype.toArray=function(){for(var i=new Array(this.length),r=0,o=this.head;o!==null;r++)i[r]=o.value,o=o.next;return i};oe.prototype.toArrayReverse=function(){for(var i=new Array(this.length),r=0,o=this.tail;o!==null;r++)i[r]=o.value,o=o.prev;return i};oe.prototype.slice=function(i,r){r=r||this.length,r<0&&(r+=this.length),i=i||0,i<0&&(i+=this.length);var o=new oe;if(r<i||r<0)return o;i<0&&(i=0),r>this.length&&(r=this.length);for(var a=0,l=this.head;l!==null&&a<i;a++)l=l.next;for(;l!==null&&a<r;a++,l=l.next)o.push(l.value);return o};oe.prototype.sliceReverse=function(i,r){r=r||this.length,r<0&&(r+=this.length),i=i||0,i<0&&(i+=this.length);var o=new oe;if(r<i||r<0)return o;i<0&&(i=0),r>this.length&&(r=this.length);for(var a=this.length,l=this.tail;l!==null&&a>r;a--)l=l.prev;for(;l!==null&&a>i;a--,l=l.prev)o.push(l.value);return o};oe.prototype.splice=function(i,r,...o){i>this.length&&(i=this.length-1),i<0&&(i=this.length+i);for(var a=0,l=this.head;l!==null&&a<i;a++)l=l.next;for(var c=[],a=0;l&&a<r;a++)c.push(l.value),l=this.removeNode(l);l===null&&(l=this.tail),l!==this.head&&l!==this.tail&&(l=l.prev);for(var a=0;a<o.length;a++)l=rl(this,l,o[a]);return c};oe.prototype.reverse=function(){for(var i=this.head,r=this.tail,o=i;o!==null;o=o.prev){var a=o.prev;o.prev=o.next,o.next=a}return this.head=r,this.tail=i,this};function rl(i,r,o){var a=r===i.head?new Ft(o,null,r,i):new Ft(o,r,r.next,i);return a.next===null&&(i.tail=a),a.prev===null&&(i.head=a),i.length++,a}function nl(i,r){i.tail=new Ft(r,i.tail,null,i),i.head||(i.head=i.tail),i.length++}function il(i,r){i.head=new Ft(r,null,i.head,i),i.tail||(i.tail=i.head),i.length++}function Ft(i,r,o,a){if(!(this instanceof Ft))return new Ft(i,r,o,a);this.list=a,this.value=i,r?(r.next=this,this.prev=r):this.prev=null,o?(o.prev=this,this.next=o):this.next=null}try{require("./iterator.js")(oe)}catch{}const ol=tl,jt=Symbol("max"),ft=Symbol("length"),Jt=Symbol("lengthCalculator"),Cr=Symbol("allowStale"),kt=Symbol("maxAge"),ht=Symbol("dispose"),Bi=Symbol("noDisposeOnSet"),Se=Symbol("lruList"),Ye=Symbol("cache"),bo=Symbol("updateAgeOnGet"),Un=()=>1;class sl{constructor(r){if(typeof r=="number"&&(r={max:r}),r||(r={}),r.max&&(typeof r.max!="number"||r.max<0))throw new TypeError("max must be a non-negative number");this[jt]=r.max||1/0;const o=r.length||Un;if(this[Jt]=typeof o!="function"?Un:o,this[Cr]=r.stale||!1,r.maxAge&&typeof r.maxAge!="number")throw new TypeError("maxAge must be a number");this[kt]=r.maxAge||0,this[ht]=r.dispose,this[Bi]=r.noDisposeOnSet||!1,this[bo]=r.updateAgeOnGet||!1,this.reset()}set max(r){if(typeof r!="number"||r<0)throw new TypeError("max must be a non-negative number");this[jt]=r||1/0,Ar(this)}get max(){return this[jt]}set allowStale(r){this[Cr]=!!r}get allowStale(){return this[Cr]}set maxAge(r){if(typeof r!="number")throw new TypeError("maxAge must be a non-negative number");this[kt]=r,Ar(this)}get maxAge(){return this[kt]}set lengthCalculator(r){typeof r!="function"&&(r=Un),r!==this[Jt]&&(this[Jt]=r,this[ft]=0,this[Se].forEach(o=>{o.length=this[Jt](o.value,o.key),this[ft]+=o.length})),Ar(this)}get lengthCalculator(){return this[Jt]}get length(){return this[ft]}get itemCount(){return this[Se].length}rforEach(r,o){o=o||this;for(let a=this[Se].tail;a!==null;){const l=a.prev;Wi(this,r,a,o),a=l}}forEach(r,o){o=o||this;for(let a=this[Se].head;a!==null;){const l=a.next;Wi(this,r,a,o),a=l}}keys(){return this[Se].toArray().map(r=>r.key)}values(){return this[Se].toArray().map(r=>r.value)}reset(){this[ht]&&this[Se]&&this[Se].length&&this[Se].forEach(r=>this[ht](r.key,r.value)),this[Ye]=new Map,this[Se]=new ol,this[ft]=0}dump(){return this[Se].map(r=>an(this,r)?!1:{k:r.key,v:r.value,e:r.now+(r.maxAge||0)}).toArray().filter(r=>r)}dumpLru(){return this[Se]}set(r,o,a){if(a=a||this[kt],a&&typeof a!="number")throw new TypeError("maxAge must be a number");const l=a?Date.now():0,c=this[Jt](o,r);if(this[Ye].has(r)){if(c>this[jt])return Zt(this,this[Ye].get(r)),!1;const d=this[Ye].get(r).value;return this[ht]&&(this[Bi]||this[ht](r,d.value)),d.now=l,d.maxAge=a,d.value=o,this[ft]+=c-d.length,d.length=c,this.get(r),Ar(this),!0}const f=new al(r,o,c,l,a);return f.length>this[jt]?(this[ht]&&this[ht](r,o),!1):(this[ft]+=f.length,this[Se].unshift(f),this[Ye].set(r,this[Se].head),Ar(this),!0)}has(r){if(!this[Ye].has(r))return!1;const o=this[Ye].get(r).value;return!an(this,o)}get(r){return zn(this,r,!0)}peek(r){return zn(this,r,!1)}pop(){const r=this[Se].tail;return r?(Zt(this,r),r.value):null}del(r){Zt(this,this[Ye].get(r))}load(r){this.reset();const o=Date.now();for(let a=r.length-1;a>=0;a--){const l=r[a],c=l.e||0;if(c===0)this.set(l.k,l.v);else{const f=c-o;f>0&&this.set(l.k,l.v,f)}}}prune(){this[Ye].forEach((r,o)=>zn(this,o,!1))}}const zn=(i,r,o)=>{const a=i[Ye].get(r);if(a){const l=a.value;if(an(i,l)){if(Zt(i,a),!i[Cr])return}else o&&(i[bo]&&(a.value.now=Date.now()),i[Se].unshiftNode(a));return l.value}},an=(i,r)=>{if(!r||!r.maxAge&&!i[kt])return!1;const o=Date.now()-r.now;return r.maxAge?o>r.maxAge:i[kt]&&o>i[kt]},Ar=i=>{if(i[ft]>i[jt])for(let r=i[Se].tail;i[ft]>i[jt]&&r!==null;){const o=r.prev;Zt(i,r),r=o}},Zt=(i,r)=>{if(r){const o=r.value;i[ht]&&i[ht](o.key,o.value),i[ft]-=o.length,i[Ye].delete(o.key),i[Se].removeNode(r)}};class al{constructor(r,o,a,l,c){this.key=r,this.value=o,this.length=a,this.now=l,this.maxAge=c||0}}const Wi=(i,r,o,a)=>{let l=o.value;an(i,l)&&(Zt(i,o),i[Cr]||(l=void 0)),l&&r.call(a,l.value,l.key,i)};var ll=sl;class Tr{constructor(r,o){if(o=ul(o),r instanceof Tr)return r.loose===!!o.loose&&r.includePrerelease===!!o.includePrerelease?r:new Tr(r.raw,o);if(r instanceof Yn)return this.raw=r.value,this.set=[[r]],this.format(),this;if(this.options=o,this.loose=!!o.loose,this.includePrerelease=!!o.includePrerelease,this.raw=r,this.set=r.split("||").map(a=>this.parseRange(a.trim())).filter(a=>a.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${r}`);if(this.set.length>1){const a=this.set[0];if(this.set=this.set.filter(l=>!Vi(l[0])),this.set.length===0)this.set=[a];else if(this.set.length>1){for(const l of this.set)if(l.length===1&&vl(l[0])){this.set=[l];break}}}this.format()}format(){return this.range=this.set.map(r=>r.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(r){r=r.trim();const a=((this.options.includePrerelease&&ml)|(this.options.loose&&gl))+":"+r,l=Xi.get(a);if(l)return l;const c=this.options.loose,f=c?De[Le.HYPHENRANGELOOSE]:De[Le.HYPHENRANGE];r=r.replace(f,xl(this.options.includePrerelease)),de("hyphen replace",r),r=r.replace(De[Le.COMPARATORTRIM],fl),de("comparator trim",r),r=r.replace(De[Le.TILDETRIM],pl),r=r.replace(De[Le.CARETTRIM],dl),r=r.split(/\s+/).join(" ");let g=r.split(" ").map(w=>yl(w,this.options)).join(" ").split(/\s+/).map(w=>Al(w,this.options));c&&(g=g.filter(w=>(de("loose invalid filter",w,this.options),!!w.match(De[Le.COMPARATORLOOSE])))),de("range list",g);const d=new Map,$=g.map(w=>new Yn(w,this.options));for(const w of $){if(Vi(w))return[w];d.set(w.value,w)}d.size>1&&d.has("")&&d.delete("");const O=[...d.values()];return Xi.set(a,O),O}intersects(r,o){if(!(r instanceof Tr))throw new TypeError("a Range is required");return this.set.some(a=>Yi(a,o)&&r.set.some(l=>Yi(l,o)&&a.every(c=>l.every(f=>c.intersects(f,o)))))}test(r){if(!r)return!1;if(typeof r=="string")try{r=new hl(r,this.options)}catch{return!1}for(let o=0;o<this.set.length;o++)if(Il(this.set[o],r,this.options))return!0;return!1}}var Ze=Tr;const cl=ll,Xi=new cl({max:1e3}),ul=Jn,Yn=fn,de=un,hl=ke,{re:De,t:Le,comparatorTrimReplace:fl,tildeTrimReplace:pl,caretTrimReplace:dl}=Pt.exports,{FLAG_INCLUDE_PRERELEASE:ml,FLAG_LOOSE:gl}=cn,Vi=i=>i.value==="<0.0.0-0",vl=i=>i.value==="",Yi=(i,r)=>{let o=!0;const a=i.slice();let l=a.pop();for(;o&&a.length;)o=a.every(c=>l.intersects(c,r)),l=a.pop();return o},yl=(i,r)=>(de("comp",i,r),i=El(i,r),de("caret",i),i=bl(i,r),de("tildes",i),i=Ol(i,r),de("xrange",i),i=$l(i,r),de("stars",i),i),je=i=>!i||i.toLowerCase()==="x"||i==="*",bl=(i,r)=>i.trim().split(/\s+/).map(o=>_l(o,r)).join(" "),_l=(i,r)=>{const o=r.loose?De[Le.TILDELOOSE]:De[Le.TILDE];return i.replace(o,(a,l,c,f,g)=>{de("tilde",i,a,l,c,f,g);let d;return je(l)?d="":je(c)?d=`>=${l}.0.0 <${+l+1}.0.0-0`:je(f)?d=`>=${l}.${c}.0 <${l}.${+c+1}.0-0`:g?(de("replaceTilde pr",g),d=`>=${l}.${c}.${f}-${g} <${l}.${+c+1}.0-0`):d=`>=${l}.${c}.${f} <${l}.${+c+1}.0-0`,de("tilde return",d),d})},El=(i,r)=>i.trim().split(/\s+/).map(o=>wl(o,r)).join(" "),wl=(i,r)=>{de("caret",i,r);const o=r.loose?De[Le.CARETLOOSE]:De[Le.CARET],a=r.includePrerelease?"-0":"";return i.replace(o,(l,c,f,g,d)=>{de("caret",i,l,c,f,g,d);let $;return je(c)?$="":je(f)?$=`>=${c}.0.0${a} <${+c+1}.0.0-0`:je(g)?c==="0"?$=`>=${c}.${f}.0${a} <${c}.${+f+1}.0-0`:$=`>=${c}.${f}.0${a} <${+c+1}.0.0-0`:d?(de("replaceCaret pr",d),c==="0"?f==="0"?$=`>=${c}.${f}.${g}-${d} <${c}.${f}.${+g+1}-0`:$=`>=${c}.${f}.${g}-${d} <${c}.${+f+1}.0-0`:$=`>=${c}.${f}.${g}-${d} <${+c+1}.0.0-0`):(de("no pr"),c==="0"?f==="0"?$=`>=${c}.${f}.${g}${a} <${c}.${f}.${+g+1}-0`:$=`>=${c}.${f}.${g}${a} <${c}.${+f+1}.0-0`:$=`>=${c}.${f}.${g} <${+c+1}.0.0-0`),de("caret return",$),$})},Ol=(i,r)=>(de("replaceXRanges",i,r),i.split(/\s+/).map(o=>Sl(o,r)).join(" ")),Sl=(i,r)=>{i=i.trim();const o=r.loose?De[Le.XRANGELOOSE]:De[Le.XRANGE];return i.replace(o,(a,l,c,f,g,d)=>{de("xRange",i,a,l,c,f,g,d);const $=je(c),O=$||je(f),w=O||je(g),U=w;return l==="="&&U&&(l=""),d=r.includePrerelease?"-0":"",$?l===">"||l==="<"?a="<0.0.0-0":a="*":l&&U?(O&&(f=0),g=0,l===">"?(l=">=",O?(c=+c+1,f=0,g=0):(f=+f+1,g=0)):l==="<="&&(l="<",O?c=+c+1:f=+f+1),l==="<"&&(d="-0"),a=`${l+c}.${f}.${g}${d}`):O?a=`>=${c}.0.0${d} <${+c+1}.0.0-0`:w&&(a=`>=${c}.${f}.0${d} <${c}.${+f+1}.0-0`),de("xRange return",a),a})},$l=(i,r)=>(de("replaceStars",i,r),i.trim().replace(De[Le.STAR],"")),Al=(i,r)=>(de("replaceGTE0",i,r),i.trim().replace(De[r.includePrerelease?Le.GTE0PRE:Le.GTE0],"")),xl=i=>(r,o,a,l,c,f,g,d,$,O,w,U,b)=>(je(a)?o="":je(l)?o=`>=${a}.0.0${i?"-0":""}`:je(c)?o=`>=${a}.${l}.0${i?"-0":""}`:f?o=`>=${o}`:o=`>=${o}${i?"-0":""}`,je($)?d="":je(O)?d=`<${+$+1}.0.0-0`:je(w)?d=`<${$}.${+O+1}.0-0`:U?d=`<=${$}.${O}.${w}-${U}`:i?d=`<${$}.${O}.${+w+1}-0`:d=`<=${d}`,`${o} ${d}`.trim()),Il=(i,r,o)=>{for(let a=0;a<i.length;a++)if(!i[a].test(r))return!1;if(r.prerelease.length&&!o.includePrerelease){for(let a=0;a<i.length;a++)if(de(i[a].semver),i[a].semver!==Yn.ANY&&i[a].semver.prerelease.length>0){const l=i[a].semver;if(l.major===r.major&&l.minor===r.minor&&l.patch===r.patch)return!0}return!1}return!0},xr=Symbol("SemVer ANY");class ln{static get ANY(){return xr}constructor(r,o){if(o=Ji(o),r instanceof ln){if(r.loose===!!o.loose)return r;r=r.value}Hn("comparator",r,o),this.options=o,this.loose=!!o.loose,this.parse(r),this.semver===xr?this.value="":this.value=this.operator+this.semver.version,Hn("comp",this)}parse(r){const o=this.options.loose?Zi[Ki.COMPARATORLOOSE]:Zi[Ki.COMPARATOR],a=r.match(o);if(!a)throw new TypeError(`Invalid comparator: ${r}`);this.operator=a[1]!==void 0?a[1]:"",this.operator==="="&&(this.operator=""),a[2]?this.semver=new Qi(a[2],this.options.loose):this.semver=xr}toString(){return this.value}test(r){if(Hn("Comparator.test",r,this.options.loose),this.semver===xr||r===xr)return!0;if(typeof r=="string")try{r=new Qi(r,this.options)}catch{return!1}return Gn(r,this.operator,this.semver,this.options)}intersects(r,o){if(!(r instanceof ln))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new eo(r.value,o).test(this.value):r.operator===""?r.value===""?!0:new eo(this.value,o).test(r.semver):(o=Ji(o),o.includePrerelease&&(this.value==="<0.0.0-0"||r.value==="<0.0.0-0")||!o.includePrerelease&&(this.value.startsWith("<0.0.0")||r.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&r.operator.startsWith(">")||this.operator.startsWith("<")&&r.operator.startsWith("<")||this.semver.version===r.semver.version&&this.operator.includes("=")&&r.operator.includes("=")||Gn(this.semver,"<",r.semver,o)&&this.operator.startsWith(">")&&r.operator.startsWith("<")||Gn(this.semver,">",r.semver,o)&&this.operator.startsWith("<")&&r.operator.startsWith(">")))}}var fn=ln;const Ji=Jn,{re:Zi,t:Ki}=Pt.exports,Gn=yo,Hn=un,Qi=ke,eo=Ze,Cl=Ze,Tl=(i,r,o)=>{try{r=new Cl(r,o)}catch{return!1}return r.test(i)};var pn=Tl;const Rl=Ze,Nl=(i,r)=>new Rl(i,r).set.map(o=>o.map(a=>a.value).join(" ").trim().split(" "));var Ll=Nl;const jl=ke,kl=Ze,Pl=(i,r,o)=>{let a=null,l=null,c=null;try{c=new kl(r,o)}catch{return null}return i.forEach(f=>{c.test(f)&&(!a||l.compare(f)===-1)&&(a=f,l=new jl(a,o))}),a};var Fl=Pl;const Dl=ke,Ml=Ze,Ul=(i,r,o)=>{let a=null,l=null,c=null;try{c=new Ml(r,o)}catch{return null}return i.forEach(f=>{c.test(f)&&(!a||l.compare(f)===1)&&(a=f,l=new Dl(a,o))}),a};var zl=Ul;const qn=ke,Gl=Ze,to=hn,Hl=(i,r)=>{i=new Gl(i,r);let o=new qn("0.0.0");if(i.test(o)||(o=new qn("0.0.0-0"),i.test(o)))return o;o=null;for(let a=0;a<i.set.length;++a){const l=i.set[a];let c=null;l.forEach(f=>{const g=new qn(f.semver.version);switch(f.operator){case">":g.prerelease.length===0?g.patch++:g.prerelease.push(0),g.raw=g.format();case"":case">=":(!c||to(g,c))&&(c=g);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${f.operator}`)}}),c&&(!o||to(o,c))&&(o=c)}return o&&i.test(o)?o:null};var ql=Hl;const Bl=Ze,Wl=(i,r)=>{try{return new Bl(i,r).range||"*"}catch{return null}};var Xl=Wl;const Vl=ke,_o=fn,{ANY:Yl}=_o,Jl=Ze,Zl=pn,ro=hn,no=Kn,Kl=ei,Ql=Qn,ec=(i,r,o,a)=>{i=new Vl(i,a),r=new Jl(r,a);let l,c,f,g,d;switch(o){case">":l=ro,c=Kl,f=no,g=">",d=">=";break;case"<":l=no,c=Ql,f=ro,g="<",d="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Zl(i,r,a))return!1;for(let $=0;$<r.set.length;++$){const O=r.set[$];let w=null,U=null;if(O.forEach(b=>{b.semver===Yl&&(b=new _o(">=0.0.0")),w=w||b,U=U||b,l(b.semver,w.semver,a)?w=b:f(b.semver,U.semver,a)&&(U=b)}),w.operator===g||w.operator===d||(!U.operator||U.operator===g)&&c(i,U.semver))return!1;if(U.operator===d&&f(i,U.semver))return!1}return!0};var ti=ec;const tc=ti,rc=(i,r,o)=>tc(i,r,">",o);var nc=rc;const ic=ti,oc=(i,r,o)=>ic(i,r,"<",o);var sc=oc;const io=Ze,ac=(i,r,o)=>(i=new io(i,o),r=new io(r,o),i.intersects(r,o));var lc=ac;const cc=pn,uc=Je;var hc=(i,r,o)=>{const a=[];let l=null,c=null;const f=i.sort((O,w)=>uc(O,w,o));for(const O of f)cc(O,r,o)?(c=O,l||(l=O)):(c&&a.push([l,c]),c=null,l=null);l&&a.push([l,null]);const g=[];for(const[O,w]of a)O===w?g.push(O):!w&&O===f[0]?g.push("*"):w?O===f[0]?g.push(`<=${w}`):g.push(`${O} - ${w}`):g.push(`>=${O}`);const d=g.join(" || "),$=typeof r.raw=="string"?r.raw:String(r);return d.length<$.length?d:r};const oo=Ze,ri=fn,{ANY:Bn}=ri,Ir=pn,ni=Je,fc=(i,r,o={})=>{if(i===r)return!0;i=new oo(i,o),r=new oo(r,o);let a=!1;e:for(const l of i.set){for(const c of r.set){const f=dc(l,c,o);if(a=a||f!==null,f)continue e}if(a)return!1}return!0},pc=[new ri(">=0.0.0-0")],so=[new ri(">=0.0.0")],dc=(i,r,o)=>{if(i===r)return!0;if(i.length===1&&i[0].semver===Bn){if(r.length===1&&r[0].semver===Bn)return!0;o.includePrerelease?i=pc:i=so}if(r.length===1&&r[0].semver===Bn){if(o.includePrerelease)return!0;r=so}const a=new Set;let l,c;for(const b of i)b.operator===">"||b.operator===">="?l=ao(l,b,o):b.operator==="<"||b.operator==="<="?c=lo(c,b,o):a.add(b.semver);if(a.size>1)return null;let f;if(l&&c){if(f=ni(l.semver,c.semver,o),f>0)return null;if(f===0&&(l.operator!==">="||c.operator!=="<="))return null}for(const b of a){if(l&&!Ir(b,String(l),o)||c&&!Ir(b,String(c),o))return null;for(const S of r)if(!Ir(b,String(S),o))return!1;return!0}let g,d,$,O,w=c&&!o.includePrerelease&&c.semver.prerelease.length?c.semver:!1,U=l&&!o.includePrerelease&&l.semver.prerelease.length?l.semver:!1;w&&w.prerelease.length===1&&c.operator==="<"&&w.prerelease[0]===0&&(w=!1);for(const b of r){if(O=O||b.operator===">"||b.operator===">=",$=$||b.operator==="<"||b.operator==="<=",l){if(U&&b.semver.prerelease&&b.semver.prerelease.length&&b.semver.major===U.major&&b.semver.minor===U.minor&&b.semver.patch===U.patch&&(U=!1),b.operator===">"||b.operator===">="){if(g=ao(l,b,o),g===b&&g!==l)return!1}else if(l.operator===">="&&!Ir(l.semver,String(b),o))return!1}if(c){if(w&&b.semver.prerelease&&b.semver.prerelease.length&&b.semver.major===w.major&&b.semver.minor===w.minor&&b.semver.patch===w.patch&&(w=!1),b.operator==="<"||b.operator==="<="){if(d=lo(c,b,o),d===b&&d!==c)return!1}else if(c.operator==="<="&&!Ir(c.semver,String(b),o))return!1}if(!b.operator&&(c||l)&&f!==0)return!1}return!(l&&$&&!c&&f!==0||c&&O&&!l&&f!==0||U||w)},ao=(i,r,o)=>{if(!i)return r;const a=ni(i.semver,r.semver,o);return a>0?i:a<0||r.operator===">"&&i.operator===">="?r:i},lo=(i,r,o)=>{if(!i)return r;const a=ni(i.semver,r.semver,o);return a<0?i:a>0||r.operator==="<"&&i.operator==="<="?r:i};var mc=fc;const Wn=Pt.exports,co=cn,gc=ke,uo=mo,vc=Kt,yc=Ks,bc=ta,_c=na,Ec=oa,wc=la,Oc=ha,Sc=da,$c=va,Ac=Je,xc=Ea,Ic=Sa,Cc=Zn,Tc=Ia,Rc=Ra,Nc=hn,Lc=Kn,jc=go,kc=vo,Pc=Qn,Fc=ei,Dc=yo,Mc=el,Uc=fn,zc=Ze,Gc=pn,Hc=Ll,qc=Fl,Bc=zl,Wc=ql,Xc=Xl,Vc=ti,Yc=nc,Jc=sc,Zc=lc,Kc=hc,Qc=mc;var ho={parse:vc,valid:yc,clean:bc,inc:_c,diff:Ec,major:wc,minor:Oc,patch:Sc,prerelease:$c,compare:Ac,rcompare:xc,compareLoose:Ic,compareBuild:Cc,sort:Tc,rsort:Rc,gt:Nc,lt:Lc,eq:jc,neq:kc,gte:Pc,lte:Fc,cmp:Dc,coerce:Mc,Comparator:Uc,Range:zc,satisfies:Gc,toComparators:Hc,maxSatisfying:qc,minSatisfying:Bc,minVersion:Wc,validRange:Xc,outside:Vc,gtr:Yc,ltr:Jc,intersects:Zc,simplifyRange:Kc,subset:Qc,SemVer:gc,re:Wn.re,src:Wn.src,tokens:Wn.t,SEMVER_SPEC_VERSION:co.SEMVER_SPEC_VERSION,RELEASE_TYPES:co.RELEASE_TYPES,compareIdentifiers:uo.compareIdentifiers,rcompareIdentifiers:uo.rcompareIdentifiers};const Eo="logseq-bullet-threading",eu=()=>JSON.parse(localStorage.getItem(Eo)??"null"),Xn=eu(),tu=i=>{localStorage.setItem(Eo,JSON.stringify(i))},ru=async()=>(await fetch("https://api.github.com/repos/pengx17/logseq-dev-theme/releases?per_page=1").then(r=>r.json()))[0].name,nu=i=>fetch(`https://cdn.jsdelivr.net/gh/pengx17/logseq-dev-theme@${i}/bullet_threading.css`).then(r=>r.text());function fo(){let i=logseq.settings?.width??2;const r=logseq.settings?.customColor&&logseq.settings?.color;(""+i).endsWith("px")||(i=i+"px");const o=[["--ls-block-bullet-threading-width-overwrite",i]];r&&o.push(["--ls-block-bullet-threading-active-color-overwrite",r]);const a=o.map(l=>l.join(": ")+";").join(`
`);logseq.provideStyle({key:Vn.id+"-vars",style:`:root { ${a} }`})}async function iu(){fo(),logseq.onSettingsChanged(fo),Xn&&logseq.provideStyle({key:Vn.id,style:Xn.css});const i=await ru();if(i!==Xn?.version){console.log("logseq-bullet-threading: updating to latest version "+i);const o=await nu(i);logseq.provideStyle({key:Vn.id+"-styles",style:o}),tu({css:o,version:i})}const r=await logseq.App.getInfo("version");r&&ho.valid(r)&&ho.gt(r,"0.9.6")&&logseq.provideStyle(`
      .bullet-container .bullet {
        font-size: 1rem;
      }
      .ls-block[haschild] > div > .block-content-wrapper::before {
        left: -13px;
      }
      
      .ls-block .ls-block > div > div.block-control-wrap::before {
        right: 16px;
      }
      
      .bullet-container.as-order-list {
        width: 22px !important;
      }
      
      .ls-block.is-order-list[haschild] > div > .block-content-wrapper::before {
        left: -15px;
        top: 24px;
      }
      
      .ls-block .block-children > .ls-block.is-order-list::before {
        top: -0.2rem;
      }
      
      .ls-block .ls-block.is-order-list > div > div.block-control-wrap::before {
        right: 22px;
        top: calc(-50% + 0.5rem);
      }
    `)}logseq.useSettingsSchema([{key:"width",default:"2px",description:"Width of the bullet threading.",title:"Width of the bullet threading path",type:"enum",enumPicker:"radio",enumChoices:["1px","2px","3px"]},{key:"customColor",default:!1,description:"Overwrite threading path color?",title:"Whether or not to overwrite threading path color.",type:"boolean"},{key:"color",default:"",description:"Color of the bullet threading. You need to enable 'Overwrite threading path color?' first",title:"Color of the bullet threading path.",type:"string",inputAs:"color"}]).ready(iu).catch(console.error);
