(function(){
shadow$provide[556]=function(Y,J,za,p){var t=J(2);!function(x,m){"object"==typeof p&&"object"==typeof za?za.exports=m(J(10),J(19)):"function"==typeof define&&define.amd?define(["react","react-dom"],m):"object"==typeof p?p.Excalidraw=m(J(10),J(19)):x.Excalidraw=m(x.React,x.ReactDOM)}(self,function(x,m){return(()=>{function n(z){if(a[z])return a[z].exports;var q=a[z]={id:z,exports:{}};return r[z](q,q.exports,n),q.exports}var g,e,k,r={5374:z=>{function q(h,y,B,H,M,P,I){try{var C=h[P](I),F=C.value}catch(w){return void B(w)}C.done?
y(F):Promise.resolve(F).then(H,M)}z.exports=function(h){return function(){var y=this,B=arguments;return new Promise(function(H,M){function P(F){q(C,H,M,P,I,"next",F)}function I(F){q(C,H,M,P,I,"throw",F)}var C=h.apply(y,B);P(void 0)})}}},566:z=>{z.exports=function(q,h,y){return h in q?Object.defineProperty(q,h,{value:y,enumerable:!0,configurable:!0,writable:!0}):q[h]=y,q}},6950:z=>{function q(){return z.exports=q=Object.assign||function(h){for(var y=1;y<arguments.length;y++){var B=arguments[y],H;for(H in B)Object.prototype.hasOwnProperty.call(B,
H)&&(h[H]=B[H])}return h},q.apply(this,arguments)}z.exports=q},5474:(z,q,h)=>{var y=h(8387);z.exports=function(B,H){if(null==B)return{};var M,P=y(B,H);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(B);for(M=0;M<I.length;M++){var C=I[M];0<=H.indexOf(C)||Object.prototype.propertyIsEnumerable.call(B,C)&&(P[C]=B[C])}}return P}},8387:z=>{z.exports=function(q,h){if(null==q)return{};var y,B={},H=Object.keys(q);for(y=0;y<H.length;y++){var M=H[y];0<=h.indexOf(M)||(B[M]=q[M])}return B}},
6009:(z,q,h)=>{q=h(487);h=h(8328);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[z.id,h,""]]);q(h,{insert:"head",singleton:!1});z.exports=h.locals||{}},1395:(z,q,h)=>{q=h(487);h=h(6121);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[z.id,h,""]]);q(h,{insert:"head",singleton:!1});z.exports=h.locals||{}},3211:(z,q,h)=>{q=h(487);h=h(2510);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[z.id,h,""]]);q(h,{insert:"head",singleton:!1});z.exports=h.locals||{}},5574:(z,q,h)=>{q=h(487);h=h(7972);
"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[z.id,h,""]]);q(h,{insert:"head",singleton:!1});z.exports=h.locals||{}},4518:(z,q,h)=>{q=h(487);h=h(190);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[z.id,h,""]]);q(h,{insert:"head",singleton:!1});z.exports=h.locals||{}},3040:(z,q,h)=>{q=h(487);h=h(6718);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[z.id,h,""]]);q(h,{insert:"head",singleton:!1});z.exports=h.locals||{}},8623:(z,q,h)=>{q=h(487);h=h(3623);"string"==typeof(h=h.__esModule?h.default:
h)&&(h=[[z.id,h,""]]);q(h,{insert:"head",singleton:!1});z.exports=h.locals||{}},4193:(z,q,h)=>{q=h(487);h=h(103);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[z.id,h,""]]);q(h,{insert:"head",singleton:!1});z.exports=h.locals||{}},341:(z,q,h)=>{q=h(487);h=h(7061);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[z.id,h,""]]);q(h,{insert:"head",singleton:!1});z.exports=h.locals||{}},9705:(z,q,h)=>{q=h(487);h=h(1498);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[z.id,h,""]]);q(h,{insert:"head",
singleton:!1});z.exports=h.locals||{}},7143:(z,q,h)=>{q=h(487);h=h(666);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[z.id,h,""]]);q(h,{insert:"head",singleton:!1});z.exports=h.locals||{}},7428:(z,q,h)=>{q=h(487);h=h(849);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[z.id,h,""]]);q(h,{insert:"head",singleton:!1});z.exports=h.locals||{}},8465:(z,q,h)=>{q=h(487);h=h(6915);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[z.id,h,""]]);q(h,{insert:"head",singleton:!1});z.exports=h.locals||
{}},8680:(z,q,h)=>{q=h(487);h=h(7030);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[z.id,h,""]]);q(h,{insert:"head",singleton:!1});z.exports=h.locals||{}},205:(z,q,h)=>{q=h(487);h=h(3994);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[z.id,h,""]]);q(h,{insert:"head",singleton:!1});z.exports=h.locals||{}},8416:(z,q,h)=>{q=h(487);h=h(700);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[z.id,h,""]]);q(h,{insert:"head",singleton:!1});z.exports=h.locals||{}},2816:(z,q,h)=>{q=h(487);h=h(287);
"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[z.id,h,""]]);q(h,{insert:"head",singleton:!1});z.exports=h.locals||{}},1575:(z,q,h)=>{q=h(487);h=h(5657);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[z.id,h,""]]);q(h,{insert:"head",singleton:!1});z.exports=h.locals||{}},7287:(z,q,h)=>{q=h(487);h=h(7392);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[z.id,h,""]]);q(h,{insert:"head",singleton:!1});z.exports=h.locals||{}},8518:(z,q,h)=>{q=h(487);h=h(6065);"string"==typeof(h=h.__esModule?h.default:
h)&&(h=[[z.id,h,""]]);q(h,{insert:"head",singleton:!1});z.exports=h.locals||{}},5849:(z,q,h)=>{q=h(487);h=h(83);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[z.id,h,""]]);q(h,{insert:"head",singleton:!1});z.exports=h.locals||{}},9478:(z,q,h)=>{q=h(487);h=h(1554);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[z.id,h,""]]);q(h,{insert:"head",singleton:!1});z.exports=h.locals||{}},2680:(z,q,h)=>{q=h(487);h=h(1970);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[z.id,h,""]]);q(h,{insert:"head",
singleton:!1});z.exports=h.locals||{}},3142:(z,q,h)=>{q=h(487);h=h(961);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[z.id,h,""]]);q(h,{insert:"head",singleton:!1});z.exports=h.locals||{}},8234:(z,q,h)=>{q=h(487);h=h(4878);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[z.id,h,""]]);q(h,{insert:"head",singleton:!1});z.exports=h.locals||{}},4651:(z,q,h)=>{q=h(487);h=h(1988);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[z.id,h,""]]);q(h,{insert:"head",singleton:!1});z.exports=h.locals||
{}},2189:(z,q,h)=>{q=h(487);h=h(3245);"string"==typeof(h=h.__esModule?h.default:h)&&(h=[[z.id,h,""]]);q(h,{insert:"head",singleton:!1});z.exports=h.locals||{}},487:(z,q,h)=>{function y(ia){for(var ha=-1,R=0;R<w.length;R++)if(w[R].identifier===ia){ha=R;break}return ha}function B(ia,ha){for(var R={},X=[],U=0;U<ia.length;U++){var T=ia[U],K=ha.base?T[0]+ha.base:T[0],V=R[K]||0,N="".concat(K," ").concat(V);R[K]=V+1;K=y(N);T={css:T[1],media:T[2],sourceMap:T[3]};-1!==K?(w[K].references++,w[K].updater(T)):
w.push({identifier:N,updater:I(T,ha),references:1});X.push(N)}return X}function H(ia){var ha=document.createElement("style"),R=ia.attributes||{};if(void 0===R.nonce){var X=h.nc;X&&(R.nonce=X)}if(Object.keys(R).forEach(function(U){ha.setAttribute(U,R[U])}),"function"==typeof ia.insert)ia.insert(ha);else{ia=F(ia.insert||"head");if(!ia)throw Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");ia.appendChild(ha)}return ha}function M(ia,ha,R,
X){R=R?"":X.media?"@media ".concat(X.media," {").concat(X.css,"}"):X.css;ia.styleSheet?ia.styleSheet.cssText=pa(ha,R):(R=document.createTextNode(R),X=ia.childNodes,X[ha]&&ia.removeChild(X[ha]),X.length?ia.insertBefore(R,X[ha]):ia.appendChild(R))}function P(ia,ha,R){ha=R.css;var X=R.media;R=R.sourceMap;if(X?ia.setAttribute("media",X):ia.removeAttribute("media"),R&&"undefined"!=typeof btoa&&(ha+="\n/*# sourceMappingURL\x3ddata:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(R)))),
" */")),ia.styleSheet)ia.styleSheet.cssText=ha;else{for(;ia.firstChild;)ia.removeChild(ia.firstChild);ia.appendChild(document.createTextNode(ha))}}function I(ia,ha){if(ha.singleton){var R=ra++;var X=Z||(Z=H(ha));var U=M.bind(null,X,R,!1);var T=M.bind(null,X,R,!0)}else X=H(ha),U=P.bind(null,X,ha),T=function(){if(null===X.parentNode)var K=!1;else X.parentNode.removeChild(X),K=void 0;!K};return U(ia),function(K){K?(K.css!==ia.css||K.media!==ia.media||K.sourceMap!==ia.sourceMap)&&U(ia=K):T()}}var C,F=
function(){var ia={};return function(ha){if(void 0===ia[ha]){var R=document.querySelector(ha);if(window.HTMLIFrameElement&&R instanceof window.HTMLIFrameElement)try{R=R.contentDocument.head}catch(X){R=null}ia[ha]=R}return ia[ha]}}(),w=[],aa,pa=(aa=[],function(ia,ha){return aa[ia]=ha,aa.filter(Boolean).join("\n")}),Z=null,ra=0;z.exports=function(ia,ha){(ha=ha||{}).singleton||"boolean"==typeof ha.singleton||(ha.singleton=(void 0===C&&(C=!(!(window&&document&&document.all)||window.atob)),C));var R=B(ia=
ia||[],ha);return function(X){if(X=X||[],"[object Array]"===Object.prototype.toString.call(X)){for(var U=0;U<R.length;U++){var T=y(R[U]);w[T].references--}X=B(X,ha);for(U=0;U<R.length;U++)T=y(R[U]),0===w[T].references&&(w[T].updater(),w.splice(T,1));R=X}}}},2829:z=>{z.exports=JSON.parse('{"labels":{"paste":"Paste","pasteCharts":"Paste charts","selectAll":"Select all","multiSelect":"Add element to selection","moveCanvas":"Move canvas","cut":"Cut","copy":"Copy","copyAsPng":"Copy to clipboard as PNG","copyAsSvg":"Copy to clipboard as SVG","bringForward":"Bring forward","sendToBack":"Send to back","bringToFront":"Bring to front","sendBackward":"Send backward","delete":"Delete","copyStyles":"Copy styles","pasteStyles":"Paste styles","stroke":"Stroke","background":"Background","fill":"Fill","strokeWidth":"Stroke width","strokeStyle":"Stroke style","strokeStyle_solid":"Solid","strokeStyle_dashed":"Dashed","strokeStyle_dotted":"Dotted","sloppiness":"Sloppiness","opacity":"Opacity","textAlign":"Text align","edges":"Edges","sharp":"Sharp","round":"Round","arrowheads":"Arrowheads","arrowhead_none":"None","arrowhead_arrow":"Arrow","arrowhead_bar":"Bar","arrowhead_dot":"Dot","fontSize":"Font size","fontFamily":"Font family","onlySelected":"Only selected","withBackground":"With background","exportEmbedScene":"Embed scene into exported file","exportEmbedScene_details":"Scene data will be saved into the exported PNG/SVG file so that the scene can be restored from it.\\nWill increase exported file size.","addWatermark":"Add \\"Made with Excalidraw\\"","handDrawn":"Hand-drawn","normal":"Normal","code":"Code","small":"Small","medium":"Medium","large":"Large","veryLarge":"Very large","solid":"Solid","hachure":"Hachure","crossHatch":"Cross-hatch","thin":"Thin","bold":"Bold","left":"Left","center":"Center","right":"Right","extraBold":"Extra bold","architect":"Architect","artist":"Artist","cartoonist":"Cartoonist","fileTitle":"File title","colorPicker":"Color picker","canvasBackground":"Canvas background","drawingCanvas":"Drawing canvas","layers":"Layers","actions":"Actions","language":"Language","liveCollaboration":"Live collaboration","duplicateSelection":"Duplicate","untitled":"Untitled","name":"Name","yourName":"Your name","madeWithExcalidraw":"Made with Excalidraw","group":"Group selection","ungroup":"Ungroup selection","collaborators":"Collaborators","showGrid":"Show grid","addToLibrary":"Add to library","removeFromLibrary":"Remove from library","libraryLoadingMessage":"Loading library…","libraries":"Browse libraries","loadingScene":"Loading scene…","align":"Align","alignTop":"Align top","alignBottom":"Align bottom","alignLeft":"Align left","alignRight":"Align right","centerVertically":"Center vertically","centerHorizontally":"Center horizontally","distributeHorizontally":"Distribute horizontally","distributeVertically":"Distribute vertically","viewMode":"View mode","toggleExportColorScheme":"Toggle export color scheme","share":"Share"},"buttons":{"clearReset":"Reset the canvas","export":"Export","exportToPng":"Export to PNG","exportToSvg":"Export to SVG","copyToClipboard":"Copy to clipboard","copyPngToClipboard":"Copy PNG to clipboard","scale":"Scale","save":"Save","saveAs":"Save as","load":"Load","getShareableLink":"Get shareable link","close":"Close","selectLanguage":"Select language","scrollBackToContent":"Scroll back to content","zoomIn":"Zoom in","zoomOut":"Zoom out","resetZoom":"Reset zoom","menu":"Menu","done":"Done","edit":"Edit","undo":"Undo","redo":"Redo","resetLibrary":"Reset library","createNewRoom":"Create new room","fullScreen":"Full screen","darkMode":"Dark mode","lightMode":"Light mode","zenMode":"Zen mode","exitZenMode":"Exit zen mode"},"alerts":{"clearReset":"This will clear the whole canvas. Are you sure?","couldNotCreateShareableLink":"Couldn\'t create shareable link.","couldNotCreateShareableLinkTooBig":"Couldn\'t create shareable link: the scene is too big","couldNotLoadInvalidFile":"Couldn\'t load invalid file","importBackendFailed":"Importing from backend failed.","cannotExportEmptyCanvas":"Cannot export empty canvas.","couldNotCopyToClipboard":"Couldn\'t copy to clipboard. Try using Chrome browser.","decryptFailed":"Couldn\'t decrypt data.","uploadedSecurly":"The upload has been secured with end-to-end encryption, which means that Excalidraw server and third parties can\'t read the content.","loadSceneOverridePrompt":"Loading external drawing will replace your existing content. Do you wish to continue?","collabStopOverridePrompt":"Stopping the session will overwrite your previous, locally stored drawing. Are you sure?\\n\\n(If you want to keep your local drawing, simply close the browser tab instead.)","errorLoadingLibrary":"There was an error loading the third party library.","confirmAddLibrary":"This will add {{numShapes}} shape(s) to your library. Are you sure?","imageDoesNotContainScene":"Importing images isn\'t supported at the moment.\\n\\nDid you want to import a scene? This image does not seem to contain any scene data. Have you enabled this during export?","cannotRestoreFromImage":"Scene couldn\'t be restored from this image file","invalidSceneUrl":"Couldn\'t import scene from the supplied URL. It\'s either malformed, or doesn\'t contain valid Excalidraw JSON data.","resetLibrary":"This will clear your library. Are you sure?"},"toolBar":{"selection":"Selection","draw":"Free draw","rectangle":"Rectangle","diamond":"Diamond","ellipse":"Ellipse","arrow":"Arrow","line":"Line","text":"Text","library":"Library","lock":"Keep selected tool active after drawing"},"headings":{"canvasActions":"Canvas actions","selectedShapeActions":"Selected shape actions","shapes":"Shapes"},"hints":{"linearElement":"Click to start multiple points, drag for single line","freeDraw":"Click and drag, release when you\'re finished","text":"Tip: you can also add text by double-clicking anywhere with the selection tool","linearElementMulti":"Click on last point or press Escape or Enter to finish","lockAngle":"You can constrain angle by holding SHIFT","resize":"You can constrain proportions by holding SHIFT while resizing,\\nhold ALT to resize from the center","rotate":"You can constrain angles by holding SHIFT while rotating","lineEditor_info":"Double-click or press Enter to edit points","lineEditor_pointSelected":"Press Delete to remove point, CtrlOrCmd+D to duplicate, or drag to move","lineEditor_nothingSelected":"Select a point to move or remove, or hold Alt and click to add new points"},"canvasError":{"cannotShowPreview":"Cannot show preview","canvasTooBig":"The canvas may be too big.","canvasTooBigTip":"Tip: try moving the farthest elements a bit closer together."},"errorSplash":{"headingMain_pre":"Encountered an error. Try ","headingMain_button":"reloading the page.","clearCanvasMessage":"If reloading doesn\'t work, try ","clearCanvasMessage_button":"clearing the canvas.","clearCanvasCaveat":" This will result in loss of work ","trackedToSentry_pre":"The error with identifier ","trackedToSentry_post":" was tracked on our system.","openIssueMessage_pre":"We were very cautious not to include your scene information on the error. If your scene is not private, please consider following up on our ","openIssueMessage_button":"bug tracker.","openIssueMessage_post":" Please include information below by copying and pasting into the GitHub issue.","sceneContent":"Scene content:"},"roomDialog":{"desc_intro":"You can invite people to your current scene to collaborate with you.","desc_privacy":"Don\'t worry, the session uses end-to-end encryption, so whatever you draw will stay private. Not even our server will be able to see what you come up with.","button_startSession":"Start session","button_stopSession":"Stop session","desc_inProgressIntro":"Live-collaboration session is now in progress.","desc_shareLink":"Share this link with anyone you want to collaborate with:","desc_exitSession":"Stopping the session will disconnect you from the room, but you\'ll be able to continue working with the scene, locally. Note that this won\'t affect other people, and they\'ll still be able to collaborate on their version.","shareTitle":"Join a live collaboration session on Excalidraw"},"errorDialog":{"title":"Error"},"helpDialog":{"blog":"Read our blog","click":"click","curvedArrow":"Curved arrow","curvedLine":"Curved line","documentation":"Documentation","drag":"drag","editor":"Editor","github":"Found an issue? Submit","howto":"Follow our guides","or":"or","preventBinding":"Prevent arrow binding","shapes":"Shapes","shortcuts":"Keyboard shortcuts","textFinish":"Finish editing (text)","textNewLine":"Add new line (text)","title":"Help","view":"View","zoomToFit":"Zoom to fit all elements","zoomToSelection":"Zoom to selection"},"encrypted":{"tooltip":"Your drawings are end-to-end encrypted so Excalidraw\'s servers will never see them."},"stats":{"angle":"Angle","element":"Element","elements":"Elements","height":"Height","scene":"Scene","selected":"Selected","storage":"Storage","title":"Stats for nerds","total":"Total","version":"Version","versionCopy":"Click to copy","versionNotAvailable":"Version not available","width":"Width"},"toast":{"copyStyles":"Copied styles.","copyToClipboard":"Copied to clipboard.","copyToClipboardAsPng":"Copied {{exportSelection}} to clipboard as PNG\\n({{exportColorScheme}})","fileSaved":"File saved.","fileSavedToFilename":"Saved to {filename}","canvas":"canvas","selection":"selection"}}')},
2051:z=>{z.exports=JSON.parse('{"ar-SA":84,"bg-BG":95,"ca-ES":95,"de-DE":100,"el-GR":99,"en":100,"es-ES":100,"fa-IR":91,"fi-FI":100,"fr-FR":100,"he-IL":92,"hi-IN":93,"hu-HU":83,"id-ID":99,"it-IT":100,"ja-JP":97,"kab-KAB":98,"ko-KR":95,"my-MM":78,"nb-NO":100,"nl-NL":99,"nn-NO":86,"oc-FR":100,"pa-IN":96,"pl-PL":97,"pt-BR":100,"pt-PT":98,"ro-RO":100,"ru-RU":100,"sk-SK":99,"sv-SE":100,"tr-TR":83,"uk-UA":96,"zh-CN":98,"zh-TW":100}')},788:(z,q,h)=>{function y(H){if(!h.o(B,H))return Promise.resolve().then(()=>
{var I=Error("Cannot find module '"+H+"'");throw I.code="MODULE_NOT_FOUND",I;});var M=B[H],P=M[0];return Promise.all(M.slice(1).map(h.e)).then(()=>h.t(P,3))}var B={"./ar-SA.json":[7294,558],"./bg-BG.json":[3860,384],"./ca-ES.json":[750,351],"./de-DE.json":[7439,43],"./el-GR.json":[9422,526],"./en.json":[2829],"./es-ES.json":[2863,317],"./fa-IR.json":[3853,710],"./fi-FI.json":[5472,472],"./fr-FR.json":[3280,364],"./he-IL.json":[3970,262],"./hi-IN.json":[5599,933],"./hu-HU.json":[1516,661],"./id-ID.json":[7992,
491],"./it-IT.json":[5963,465],"./ja-JP.json":[1323,137],"./kab-KAB.json":[9230,164],"./ko-KR.json":[7552,60],"./my-MM.json":[1778,242],"./nb-NO.json":[8751,246],"./nl-NL.json":[4675,196],"./nn-NO.json":[7558,920],"./oc-FR.json":[9945,565],"./pa-IN.json":[863,280],"./percentages.json":[2051],"./pl-PL.json":[122,852],"./pt-BR.json":[7443,381],"./pt-PT.json":[2560,149],"./ro-RO.json":[5654,752],"./ru-RU.json":[5609,869],"./sk-SK.json":[8684,401],"./sv-SE.json":[1570,698],"./tr-TR.json":[8146,213],"./uk-UA.json":[9746,
583],"./zh-CN.json":[9044,304],"./zh-TW.json":[2939,62]};y.keys=()=>Object.keys(B);y.id=788;z.exports=y},7154:z=>{function q(){return z.exports=q=Object.assign||function(h){for(var y=1;y<arguments.length;y++){var B=arguments[y],H;for(H in B)Object.prototype.hasOwnProperty.call(B,H)&&(h[H]=B[H])}return h},q.apply(this,arguments)}z.exports=q},6479:(z,q,h)=>{var y=h(7316);z.exports=function(B,H){if(null==B)return{};var M,P=y(B,H);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(B);
for(M=0;M<I.length;M++){var C=I[M];0<=H.indexOf(C)||Object.prototype.propertyIsEnumerable.call(B,C)&&(P[C]=B[C])}}return P}},7316:z=>{z.exports=function(q,h){if(null==q)return{};var y,B={},H=Object.keys(q);for(y=0;y<H.length;y++){var M=H[y];0<=h.indexOf(M)||(B[M]=q[M])}return B}},8328:(z,q,h)=>{h.r(q);h.d(q,{default:()=>H});q=h(3645);var y=h.n(q);q=h(1667);q=h.n(q);var B=h(7464);h=h(9638);y=y()(function(M){return M[1]});B=q()(B.Z);h=q()(h.Z);y.push([z.id,'@font-face{font-family:"Virgil";src:url('+
B+');font-display:swap}@font-face{font-family:"Cascadia";src:url('+h+");font-display:swap}",""]);const H=y},6121:(z,q,h)=>{h.r(q);h.d(q,{default:()=>y});q=h(3645);h=h.n(q)()(function(B){return B[1]});h.push([z.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Avatar{width:2.5rem;height:2.5rem;border-radius:1.25rem;display:flex;justify-content:center;align-items:center;color:#fff;cursor:pointer;font-size:.8rem;font-weight:500}",
""]);const y=h},2510:(z,q,h)=>{h.r(q);h.d(q,{default:()=>y});q=h(3645);h=h.n(q)()(function(B){return B[1]});h.push([z.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .CollabButton.is-collaborating{background-color:var(--button-special-active-bg-color)}.excalidraw .CollabButton.is-collaborating .ToolIcon__icon svg,.excalidraw .CollabButton.is-collaborating .ToolIcon__label{color:var(--icon-green-fill-color)}.excalidraw .CollabButton-collaborators{min-width:1em;position:absolute;bottom:-5px;padding:3px;border-radius:50%;background-color:#40c057;color:#fff;font-size:.7em;font-family:var(--ui-font)}:root[dir\x3dltr] .excalidraw .CollabButton-collaborators{right:-5px}:root[dir\x3drtl] .excalidraw .CollabButton-collaborators{left:-5px}",
""]);const y=h},7972:(z,q,h)=>{h.r(q);h.d(q,{default:()=>y});q=h(3645);h=h.n(q)()(function(B){return B[1]});h.push([z.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .color-picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}:root[dir\x3dltr] .excalidraw .color-picker{left:-5.5px}:root[dir\x3drtl] .excalidraw .color-picker{right:-5.5px}.excalidraw .color-picker-control-container{display:grid;grid-template-columns:auto 1fr;align-items:center}.excalidraw .color-picker-triangle{width:0;height:0;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent var(--popup-bg-color);position:absolute;top:-10px}:root[dir\x3dltr] .excalidraw .color-picker-triangle{left:12px}:root[dir\x3drtl] .excalidraw .color-picker-triangle{right:12px}.excalidraw .color-picker-triangle-shadow{border-color:transparent transparent rgba(0,0,0,.1);top:-11px}.excalidraw .color-picker-content{padding:.5rem;display:grid;grid-template-columns:repeat(5, auto);grid-gap:.5rem;border-radius:4px}.excalidraw .color-picker-content:focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-picker-content .color-input-container{grid-column:1/span 5}.excalidraw .color-picker-swatch{position:relative;height:1.875rem;width:1.875rem;cursor:pointer;border-radius:4px;margin:0;box-sizing:border-box;border:1px solid #ddd;background-color:currentColor !important;filter:var(--appearance-filter)}.excalidraw .color-picker-swatch:focus{box-shadow:0 0 4px 1px currentColor;border-color:var(--select-highlight-color)}.excalidraw .color-picker-transparent{border-radius:4px;box-shadow:rgba(0,0,0,.1) 0 0 0 1px inset;position:absolute;top:0;right:0;bottom:0;left:0}.excalidraw .color-picker-transparent,.excalidraw .color-picker-label-swatch{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg\x3d\x3d") left center}.excalidraw .color-picker-hash{background:var(--input-border-color);height:1.875rem;width:1.875rem;color:var(--input-label-color);display:flex;align-items:center;justify-content:center;position:relative}:root[dir\x3dltr] .excalidraw .color-picker-hash{border-radius:4px 0 0 4px}:root[dir\x3drtl] .excalidraw .color-picker-hash{border-radius:0 4px 4px 0}.excalidraw .color-input-container:focus-within .color-picker-hash{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-input-container:focus-within .color-picker-hash::before,.excalidraw .color-input-container:focus-within .color-picker-hash::after{content:"";width:1px;height:100%;position:absolute;top:0}.excalidraw .color-input-container:focus-within .color-picker-hash::before{background:var(--input-border-color)}:root[dir\x3dltr] .excalidraw .color-input-container:focus-within .color-picker-hash::before{right:-1px}:root[dir\x3drtl] .excalidraw .color-input-container:focus-within .color-picker-hash::before{left:-1px}.excalidraw .color-input-container:focus-within .color-picker-hash::after{background:var(--input-bg-color)}:root[dir\x3dltr] .excalidraw .color-input-container:focus-within .color-picker-hash::after{right:-2px}:root[dir\x3drtl] .excalidraw .color-input-container:focus-within .color-picker-hash::after{left:-2px}.excalidraw .color-input-container{display:flex}.excalidraw .color-picker-input{width:12ch;margin:0;font-size:1rem;background-color:var(--input-bg-color);color:var(--text-primary-color);border:0;outline:none;height:1.75em;box-shadow:var(--input-border-color) 0 0 0 1px inset;float:left;padding:1px;padding-inline-start:.5em;appearance:none}:root[dir\x3dltr] .excalidraw .color-picker-input{border-radius:0 4px 4px 0}:root[dir\x3drtl] .excalidraw .color-picker-input{border-radius:4px 0 0 4px}.excalidraw .color-picker-label-swatch{height:1.875rem;width:1.875rem;margin-inline-end:.25rem;border:1px solid #dee2e6;position:relative;overflow:hidden;background-color:transparent !important;filter:var(--appearance-filter)}.excalidraw .color-picker-label-swatch:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:var(--swatch-color)}.excalidraw .color-picker-keybinding{position:absolute;bottom:2px;font-size:.7em}:root[dir\x3dltr] .excalidraw .color-picker-keybinding{right:2px}:root[dir\x3drtl] .excalidraw .color-picker-keybinding{left:2px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .color-picker-keybinding{display:none}}.excalidraw .color-picker-type-canvasBackground .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementBackground .color-picker-keybinding{color:#fff}.excalidraw .color-picker-swatch[aria-label\x3dtransparent] .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementStroke .color-picker-keybinding{color:#d4d4d4}.excalidraw.Appearance_dark .color-picker-type-elementBackground .color-picker-keybinding{color:#000}.excalidraw.Appearance_dark .color-picker-swatch[aria-label\x3dtransparent] .color-picker-keybinding{color:#000}',
""]);const y=h},190:(z,q,h)=>{h.r(q);h.d(q,{default:()=>y});q=h(3645);h=h.n(q)()(function(B){return B[1]});h.push([z.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .context-menu{position:relative;border-radius:4px;box-shadow:0 3px 10px rgba(0,0,0,.2);padding:0;list-style:none;user-select:none;margin:-0.25rem 0 0 .125rem;padding:.5rem 0;background-color:var(--popup-secondary-bg-color);border:1px solid var(--button-gray-3);cursor:default}.excalidraw .context-menu button{color:var(--popup-text-color)}.excalidraw .context-menu-option{position:relative;width:100%;min-width:9.5rem;margin:0;padding:.25rem 1rem .25rem 1.25rem;text-align:start;border-radius:0;background-color:transparent;border:none;white-space:nowrap;display:grid;grid-template-columns:1fr .2fr;align-items:center}.excalidraw .context-menu-option.checkmark::before{position:absolute;left:6px;margin-bottom:1px;content:"✓"}.excalidraw .context-menu-option.dangerous .context-menu-option__label{color:#f03e3e}.excalidraw .context-menu-option .context-menu-option__label{justify-self:start;margin-inline-end:20px}.excalidraw .context-menu-option .context-menu-option__shortcut{justify-self:end;opacity:.6;font-family:inherit;font-size:.7rem}.excalidraw .context-menu-option:hover{color:var(--popup-bg-color);background-color:var(--select-highlight-color)}.excalidraw .context-menu-option:hover.dangerous{background-color:#fa5252}.excalidraw .context-menu-option:hover.dangerous .context-menu-option__label{color:var(--popup-bg-color)}.excalidraw .context-menu-option:focus{z-index:1}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .context-menu-option{display:block}.excalidraw .context-menu-option .context-menu-option__label{margin-inline-end:0}.excalidraw .context-menu-option .context-menu-option__shortcut{display:none}}.excalidraw .context-menu-option-separator{border:none;border-top:1px solid #adb5bd}',
""]);const y=h},6718:(z,q,h)=>{h.r(q);h.d(q,{default:()=>y});q=h(3645);h=h.n(q)()(function(B){return B[1]});h.push([z.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Dialog{user-select:text;cursor:auto}.excalidraw .Dialog__title{display:grid;align-items:center;margin-top:0;grid-template-columns:1fr calc(var(--space-factor) * 7);grid-gap:var(--metric);padding:calc(var(--space-factor) * 2);text-align:center;font-variant:small-caps;font-size:1.2em}.excalidraw .Dialog__titleContent{flex:1}.excalidraw .Dialog .Modal__close{color:var(--icon-fill-color);margin:0}.excalidraw .Dialog__content{padding:0 16px 16px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .Dialog{--metric: calc(var(--space-factor) * 4);--inset-left: max(var(--metric), var(--sal));--inset-right: max(var(--metric), var(--sar))}.excalidraw .Dialog__title{grid-template-columns:calc(var(--space-factor) * 7) 1fr calc( var(--space-factor) * 7 );position:sticky;top:0;padding:calc(var(--space-factor) * 2);background:var(--island-bg-color);font-size:1.25em;box-sizing:border-box;border-bottom:1px solid var(--button-gray-2);z-index:1}.excalidraw .Dialog__titleContent{text-align:center}.excalidraw .Dialog .Island{width:100vw;height:100%;box-sizing:border-box;overflow-y:auto;padding-left:max(calc(var(--padding) * var(--space-factor)), var(--sal));padding-right:max(calc(var(--padding) * var(--space-factor)), var(--sar));padding-bottom:max(calc(var(--padding) * var(--space-factor)), var(--sab))}.excalidraw .Dialog .Modal__close{order:-1}}",
""]);const y=h},3623:(z,q,h)=>{h.r(q);h.d(q,{default:()=>y});q=h(3645);h=h.n(q)()(function(B){return B[1]});h.push([z.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .ExportDialog__preview{--preview-padding: calc(var(--space-factor) * 4);background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg\x3d\x3d") left center;text-align:center;padding:var(--preview-padding);margin-bottom:calc(var(--space-factor) * 3)}.excalidraw .ExportDialog__preview canvas{max-width:calc(100% - var(--preview-padding) * 2);max-height:25rem}.excalidraw.Appearance_dark .ExportDialog__preview canvas{filter:none}.excalidraw .ExportDialog__actions{width:100%;display:flex;grid-gap:calc(var(--space-factor) * 2);align-items:top;justify-content:space-between}.excalidraw .ExportDialog__name{grid-column:project-name;margin:auto}.excalidraw .ExportDialog__name .TextInput{height:calc(1rem - 3px)}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .ExportDialog{display:flex;flex-direction:column}.excalidraw .ExportDialog__actions{flex-direction:column;align-items:center}.excalidraw .ExportDialog__actions\x3e*{margin-bottom:calc(var(--space-factor) * 3)}.excalidraw .ExportDialog__preview canvas{max-height:30vh}.excalidraw .ExportDialog__dialog,.excalidraw .ExportDialog__dialog .Island{height:100%;box-sizing:border-box}.excalidraw .ExportDialog__dialog .Island{overflow-y:auto}}',
""]);const y=h},103:(z,q,h)=>{h.r(q);h.d(q,{default:()=>y});q=h(3645);h=h.n(q)()(function(B){return B[1]});h.push([z.id,".excalidraw .FixedSideContainer{--margin: 0.25rem;position:absolute;pointer-events:none}.excalidraw .FixedSideContainer\x3e*{pointer-events:all}.excalidraw .FixedSideContainer_side_top{left:var(--margin);top:var(--margin);right:var(--margin);z-index:2}.excalidraw .FixedSideContainer_side_top.zen-mode{right:42px}",""]);const y=h},7061:(z,q,h)=>{h.r(q);h.d(q,{default:()=>y});q=h(3645);
h=h.n(q)()(function(B){return B[1]});h.push([z.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .HelpDialog h3{border-bottom:1px solid var(--button-gray-2);padding-bottom:4px}.excalidraw .HelpDialog--island{border:1px solid var(--button-gray-2);margin-bottom:16px}.excalidraw .HelpDialog--island-title{margin:0;padding:4px;background-color:var(--button-gray-1);text-align:center}.excalidraw .HelpDialog--shortcut{border-top:1px solid var(--button-gray-2)}.excalidraw .HelpDialog--key{word-break:keep-all;border:1px solid var(--button-gray-2);padding:2px 8px;margin:auto 4px;background-color:var(--button-gray-1);border-radius:2px;font-size:.8em;min-height:26px;box-sizing:border-box;display:flex;align-items:center;font-family:inherit}.excalidraw .HelpDialog--header{display:flex;flex-direction:row;justify-content:space-evenly;margin-bottom:32px;padding-bottom:16px}.excalidraw .HelpDialog--btn{border:1px solid var(--link-color);padding:8px 32px;border-radius:4px}.excalidraw .HelpDialog--btn:hover{text-decoration:none}",
""]);const y=h},1498:(z,q,h)=>{h.r(q);h.d(q,{default:()=>y});q=h(3645);h=h.n(q)()(function(B){return B[1]});h.push([z.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .HintViewer{pointer-events:none;box-sizing:border-box;position:absolute;display:flex;justify-content:center;left:0;top:100%;max-width:100%;width:100%;margin-top:6px;text-align:center;color:#868e96;font-size:.8rem}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .HintViewer{position:static;padding-right:2em}}.excalidraw .HintViewer\x3espan{padding:.2rem .4rem;background-color:var(--overlay-bg-color);border-radius:4px}",
""]);const y=h},666:(z,q,h)=>{h.r(q);h.d(q,{default:()=>y});q=h(3645);h=h.n(q)()(function(B){return B[1]});h.push([z.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .picker-container{display:inline-block;box-sizing:border-box;margin-right:.25rem}.excalidraw .picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}.excalidraw .picker-container button,.excalidraw .picker button{position:relative;display:flex;align-items:center;justify-content:center}.excalidraw .picker-container button:focus,.excalidraw .picker button:focus{outline:transparent;background-color:var(--button-gray-2)}.excalidraw .picker-container button:focus svg,.excalidraw .picker button:focus svg{opacity:1}.excalidraw .picker-container button:hover,.excalidraw .picker button:hover{background-color:var(--button-gray-2)}.excalidraw .picker-container button:active,.excalidraw .picker button:active{background-color:var(--button-gray-3)}.excalidraw .picker-container button:disabled,.excalidraw .picker button:disabled{cursor:not-allowed}.excalidraw .picker-container button svg,.excalidraw .picker button svg{margin:0;width:36px;height:18px;opacity:.6;pointer-events:none}.excalidraw .picker button{padding:.25rem .28rem .35rem .25rem}.excalidraw .picker-triangle{width:0;height:0;position:relative;top:-10px;z-index:10}:root[dir\x3dltr] .excalidraw .picker-triangle{left:12px}:root[dir\x3drtl] .excalidraw .picker-triangle{right:12px}.excalidraw .picker-triangle:before{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent rgba(0,0,0,.1);top:-1px}.excalidraw .picker-triangle:after{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent var(--popup-bg-color)}.excalidraw .picker-content{padding:.5rem;display:grid;grid-auto-flow:column;grid-gap:.5rem;border-radius:4px}:root[dir\x3drtl] .excalidraw .picker-content{padding:.4rem}.excalidraw .picker-keybinding{position:absolute;bottom:2px;font-size:.7em;color:var(--keybinding-color)}:root[dir\x3dltr] .excalidraw .picker-keybinding{right:2px}:root[dir\x3drtl] .excalidraw .picker-keybinding{left:2px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .picker-keybinding{display:none}}.excalidraw .picker-type-canvasBackground .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementBackground .picker-keybinding{color:#fff}.excalidraw .picker-swatch[aria-label\x3dtransparent] .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementStroke .picker-keybinding{color:#d4d4d4}.excalidraw.Appearance_dark .picker-type-elementBackground .picker-keybinding{color:#000}.excalidraw.Appearance_dark .picker-swatch[aria-label\x3dtransparent] .picker-keybinding{color:#000}',
""]);const y=h},849:(z,q,h)=>{h.r(q);h.d(q,{default:()=>y});q=h(3645);h=h.n(q)()(function(B){return B[1]});h.push([z.id,".excalidraw .Island{--padding: 0;background-color:var(--island-bg-color);backdrop-filter:saturate(100%) blur(10px);box-shadow:var(--shadow-island);border-radius:4px;padding:calc(var(--padding) * var(--space-factor));position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .Island.zen-mode{box-shadow:none}",""]);const y=h},6915:(z,q,h)=>{h.r(q);h.d(q,{default:()=>y});
q=h(3645);h=h.n(q)()(function(B){return B[1]});h.push([z.id,".excalidraw .layer-ui__library{margin:auto;display:flex;align-items:center;justify-content:center}.excalidraw .layer-ui__library .layer-ui__library-header{display:flex;align-items:center;width:100%;margin:2px 0}.excalidraw .layer-ui__library .layer-ui__library-header button{margin:0 2px}.excalidraw .layer-ui__library .layer-ui__library-header a{margin-inline-start:auto;padding-inline-end:18px;white-space:nowrap}.excalidraw .layer-ui__library-message{padding:10px 20px;max-width:200px}.excalidraw .layer-ui__library-items{max-height:50vh;overflow:auto}.excalidraw .layer-ui__wrapper{z-index:var(--zIndex-layerUI)}.excalidraw .layer-ui__wrapper .encrypted-icon{position:relative;margin-inline-start:15px;display:flex;justify-content:center;align-items:center;border-radius:var(--space-factor);color:#2b8a3e}.excalidraw .layer-ui__wrapper .encrypted-icon svg{width:1.2rem;height:1.2rem}.excalidraw .layer-ui__wrapper__github-corner{top:0;position:absolute;width:40px}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper__github-corner{right:0}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper__github-corner{left:0}.excalidraw .layer-ui__wrapper__footer{position:absolute;z-index:100;bottom:0;width:190px}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper__footer{right:0}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper__footer{left:0}.excalidraw .layer-ui__wrapper .zen-mode-transition{transition:transform .5s ease-in-out}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{transform:translate(-999px, 0)}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{transform:translate(999px, 0)}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{transform:translate(999px, 0)}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{transform:translate(-999px, 0)}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.App-menu_bottom--transition-left{transform:translate(-92px, 0)}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.App-menu_bottom--transition-left{transform:translate(92px, 0)}.excalidraw .layer-ui__wrapper .disable-zen-mode{height:30px;position:absolute;bottom:10px;font-size:10px;padding:10px;font-weight:500;opacity:0;visibility:hidden;transition:visibility 0s linear 0s,opacity .5s}[dir\x3dltr] .excalidraw .layer-ui__wrapper .disable-zen-mode{right:15px}[dir\x3drtl] .excalidraw .layer-ui__wrapper .disable-zen-mode{left:15px}.excalidraw .layer-ui__wrapper .disable-zen-mode--visible{opacity:1;visibility:visible;transition:visibility 0s linear 300ms,opacity .5s;transition-delay:.8s}",
""]);const y=h},7030:(z,q,h)=>{h.r(q);h.d(q,{default:()=>y});q=h(3645);h=h.n(q)()(function(B){return B[1]});h.push([z.id,".excalidraw .library-unit{align-items:center;border:1px solid var(--button-gray-2);display:flex;justify-content:center;position:relative;width:63px;height:63px}.excalidraw .library-unit__dragger{display:flex;height:100%;width:100%}.excalidraw .library-unit__dragger\x3esvg{filter:var(--appearance-filter);flex-grow:1;max-height:100%;max-width:100%}.excalidraw .library-unit__removeFromLibrary,.excalidraw .library-unit__removeFromLibrary:hover,.excalidraw .library-unit__removeFromLibrary:active{align-items:center;background:none;border:none;color:var(--icon-fill-color);display:flex;justify-content:center;margin:0;padding:0;position:absolute;right:5px;top:5px}.excalidraw .library-unit__removeFromLibrary\x3esvg{height:16px;width:16px}.excalidraw .library-unit__pulse{transform:scale(1);animation:library-unit__pulse-animation 1s ease-in infinite}.excalidraw .library-unit__adder{position:absolute;left:50%;top:50%;width:20px;height:20px;margin-left:-10px;margin-top:-10px;pointer-events:none}.excalidraw .library-unit__active{cursor:pointer}@keyframes library-unit__pulse-animation{0%{transform:scale(0.95)}50%{transform:scale(1)}100%{transform:scale(0.95)}}",
""]);const y=h},3994:(z,q,h)=>{h.r(q);h.d(q,{default:()=>y});q=h(3645);h=h.n(q)()(function(B){return B[1]});h.push([z.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw.excalidraw-modal-container{position:absolute;z-index:10}.excalidraw .Modal{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;overflow:auto;padding:calc(var(--space-factor) * 10)}.excalidraw .Modal__background{position:absolute;top:0;left:0;right:0;bottom:0;z-index:1;background-color:rgba(0,0,0,.3);backdrop-filter:blur(2px)}.excalidraw .Modal__content{position:relative;z-index:2;width:100%;max-width:var(--max-width);max-height:100%;opacity:0;transform:translateY(10px);animation:Modal__content_fade-in .1s ease-out .05s forwards;position:relative;overflow-y:auto;background:var(--island-bg-color);backdrop-filter:none;border:1px solid var(--dialog-border-color);box-shadow:0 2px 10px rgba(0,0,0,.25);border-radius:6px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .Modal__content{max-width:100%;border:0;border-radius:0}}@keyframes Modal__content_fade-in{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.excalidraw .Modal__close{width:calc(var(--space-factor) * 7);height:calc(var(--space-factor) * 7);display:flex;align-items:center;justify-content:center}.excalidraw .Modal__close svg{height:calc(var(--space-factor) * 5)}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .Modal{padding:0}.excalidraw .Modal__content{position:absolute;top:0;left:0;right:0;bottom:0}}",
""]);const y=h},700:(z,q,h)=>{h.r(q);h.d(q,{default:()=>y});q=h(3645);h=h.n(q)()(function(B){return B[1]});h.push([z.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .PasteChartDialog .Island{display:flex;flex-direction:column}}.excalidraw .PasteChartDialog .container{display:flex;align-items:center;justify-content:space-around;flex-wrap:wrap}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .PasteChartDialog .container{flex-direction:column;justify-content:center}}.excalidraw .PasteChartDialog .ChartPreview{margin:8px;text-align:center;width:192px;height:128px;border-radius:2px;padding:1px;border:1px solid #ced4da;display:flex;align-items:center;justify-content:center;background:transparent}.excalidraw .PasteChartDialog .ChartPreview div{display:inline-block}.excalidraw .PasteChartDialog .ChartPreview svg{max-height:120px;max-width:186px}.excalidraw .PasteChartDialog .ChartPreview:hover{padding:0;border:2px solid #339af0}",
""]);const y=h},287:(z,q,h)=>{h.r(q);h.d(q,{default:()=>y});q=h(3645);h=h.n(q)()(function(B){return B[1]});h.push([z.id,".excalidraw .popover{position:fixed;z-index:10}",""]);const y=h},5657:(z,q,h)=>{h.r(q);h.d(q,{default:()=>y});q=h(3645);h=h.n(q)()(function(B){return B[1]});h.push([z.id,".excalidraw .Stack{--gap: 0;display:grid;gap:calc(var(--space-factor) * var(--gap))}.excalidraw .Stack_vertical{grid-template-columns:auto;grid-auto-flow:row;grid-auto-rows:min-content}.excalidraw .Stack_horizontal{grid-template-rows:auto;grid-auto-flow:column;grid-auto-columns:min-content}",
""]);const y=h},7392:(z,q,h)=>{h.r(q);h.d(q,{default:()=>y});q=h(3645);h=h.n(q)()(function(B){return B[1]});h.push([z.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Stats{position:absolute;top:64px;right:12px;font-size:12px;z-index:999}.excalidraw .Stats h3{margin:0 24px 8px 0;white-space:nowrap}.excalidraw .Stats .close{float:right;height:16px;width:16px;cursor:pointer}.excalidraw .Stats .close svg{width:100%;height:100%}.excalidraw .Stats table{width:100%}.excalidraw .Stats table th{border-bottom:1px solid var(--input-border-color);padding:4px}.excalidraw .Stats table tr td:nth-child(2){min-width:24px;text-align:right}:root[dir\x3drtl] .excalidraw .Stats{left:12px;right:initial}:root[dir\x3drtl] .excalidraw .Stats h3{margin:0 0 8px 24px}:root[dir\x3drtl] .excalidraw .Stats .close{float:left}",
""]);const y=h},6065:(z,q,h)=>{h.r(q);h.d(q,{default:()=>y});q=h(3645);h=h.n(q)()(function(B){return B[1]});h.push([z.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .TextInput{color:var(--text-primary-color);display:inline-block;border:1.5px solid var(--button-gray-1);line-height:1;padding:.75rem;white-space:nowrap;border-radius:var(--space-factor);background-color:var(--input-bg-color)}.excalidraw .TextInput:not(:focus):hover{background-color:var(--input-hover-bg-color)}.excalidraw .TextInput:focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}",
""]);const y=h},83:(z,q,h)=>{h.r(q);h.d(q,{default:()=>y});q=h(3645);h=h.n(q)()(function(B){return B[1]});h.push([z.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Toast{animation:fade-in .5s;background-color:var(--button-gray-1);border-radius:4px;bottom:10px;box-sizing:border-box;cursor:default;left:50%;margin-left:-150px;padding:4px 0;position:absolute;text-align:center;width:300px;z-index:999999}.excalidraw .Toast__message{color:var(--popup-text-color);white-space:pre-wrap}@keyframes fade-in{from{opacity:0}to{opacity:1}}",
""]);const y=h},1554:(z,q,h)=>{h.r(q);h.d(q,{default:()=>y});q=h(3645);h=h.n(q)()(function(B){return B[1]});h.push([z.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .ToolIcon{display:inline-flex;align-items:center;position:relative;font-family:Cascadia;cursor:pointer;background-color:var(--button-gray-1);-webkit-tap-highlight-color:transparent;border-radius:var(--space-factor)}.excalidraw .ToolIcon__icon{width:2.5rem;height:2.5rem;color:var(--icon-fill-color);display:flex;justify-content:center;align-items:center;border-radius:var(--space-factor)}.excalidraw .ToolIcon__icon svg{position:relative;height:1em;fill:var(--icon-fill-color);color:var(--icon-fill-color)}.excalidraw .ToolIcon__icon+.ToolIcon__label{margin-inline-start:0}.excalidraw .ToolIcon__label{color:var(--icon-fill-color);font-family:var(--ui-font);margin:0 .8em;text-overflow:ellipsis}.excalidraw .ToolIcon_size_s .ToolIcon__icon{width:1.4rem;height:1.4rem;font-size:.8em}.excalidraw .excalidraw .ToolIcon_type_button,.excalidraw .Modal .ToolIcon_type_button,.excalidraw .ToolIcon_type_button{padding:0;border:none;margin:0;font-size:inherit}.excalidraw .excalidraw .ToolIcon_type_button:hover,.excalidraw .Modal .ToolIcon_type_button:hover,.excalidraw .ToolIcon_type_button:hover{background-color:var(--button-gray-1)}.excalidraw .excalidraw .ToolIcon_type_button:active,.excalidraw .Modal .ToolIcon_type_button:active,.excalidraw .ToolIcon_type_button:active{background-color:var(--button-gray-2)}.excalidraw .excalidraw .ToolIcon_type_button:focus,.excalidraw .Modal .ToolIcon_type_button:focus,.excalidraw .ToolIcon_type_button:focus{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .excalidraw .ToolIcon_type_button.ToolIcon--selected,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected,.excalidraw .ToolIcon_type_button.ToolIcon--selected{background-color:var(--button-gray-2)}.excalidraw .excalidraw .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .ToolIcon_type_button.ToolIcon--selected:active{background-color:var(--button-gray-3)}.excalidraw .excalidraw .ToolIcon_type_button--show,.excalidraw .Modal .ToolIcon_type_button--show,.excalidraw .ToolIcon_type_button--show{visibility:visible}.excalidraw .excalidraw .ToolIcon_type_button--hide,.excalidraw .Modal .ToolIcon_type_button--hide,.excalidraw .ToolIcon_type_button--hide{visibility:hidden}.excalidraw .ToolIcon_type_radio,.excalidraw .ToolIcon_type_checkbox{position:absolute;opacity:0;pointer-events:none}.excalidraw .ToolIcon_type_radio:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_radio:focus+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:focus+.ToolIcon__icon{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .ToolIcon_type_radio:active+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:active+.ToolIcon__icon{background-color:var(--button-gray-3)}.excalidraw .ToolIcon_type_floating{background-color:transparent}.excalidraw .ToolIcon_type_floating:hover{background-color:transparent}.excalidraw .ToolIcon_type_floating:active{background-color:transparent}.excalidraw .ToolIcon_type_floating:focus{box-shadow:none}.excalidraw .ToolIcon_type_floating .ToolIcon__icon{width:2rem;height:2em}.excalidraw .ToolIcon.ToolIcon__lock.ToolIcon_type_floating{margin-left:.1rem}.excalidraw .ToolIcon__keybinding{position:absolute;bottom:2px;right:3px;font-size:.5em;color:var(--keybinding-color);font-family:var(--ui-font);user-select:none}@media(max-width: 425px){.excalidraw .Shape .ToolIcon__icon{width:2rem;height:2rem}.excalidraw .Shape .ToolIcon__icon svg{height:.8em}}@media(max-width: 760px){.excalidraw .ToolIcon.ToolIcon__lock{display:inline-block;position:absolute;top:60px;right:-8px;margin-left:0;border-radius:20px 0 0 20px;z-index:1;background-color:var(--button-gray-1)}.excalidraw .ToolIcon.ToolIcon__lock:hover{background-color:var(--button-gray-1)}.excalidraw .ToolIcon.ToolIcon__lock:active{background-color:var(--button-gray-2)}.excalidraw .ToolIcon.ToolIcon__lock .ToolIcon__icon{border-radius:inherit}.excalidraw .ToolIcon.ToolIcon__lock svg{position:static}}.excalidraw .TooltipIcon{width:.9em;height:.9em;margin-left:5px;margin-top:1px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .TooltipIcon{display:none}}:root[dir\x3dltr] .excalidraw .unlocked-icon{left:2px}:root[dir\x3drtl] .excalidraw .unlocked-icon{right:2px}",
""]);const y=h},1970:(z,q,h)=>{h.r(q);h.d(q,{default:()=>y});q=h(3645);h=h.n(q)()(function(B){return B[1]});h.push([z.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Tooltip{position:relative}.excalidraw .Tooltip__label{--arrow-size: 4px;visibility:hidden;background:#000;color:#fff;text-align:center;border-radius:6px;padding:8px;position:absolute;z-index:10;font-size:13px;line-height:1.5;font-weight:500;left:calc(50% + var(--arrow-size) / 2 - 1px);transform:translateX(-50%);word-wrap:break-word}.excalidraw .Tooltip__label::after{content:"";border:var(--arrow-size) solid transparent;position:absolute;left:calc(50% - var(--arrow-size))}.excalidraw .Tooltip__label--above{bottom:calc(100% + var(--arrow-size) + 3px)}.excalidraw .Tooltip__label--above::after{border-top-color:#000;top:100%}.excalidraw .Tooltip__label--below{top:calc(100% + var(--arrow-size) + 3px)}.excalidraw .Tooltip__label--below::after{border-bottom-color:#000;bottom:100%}.excalidraw .Tooltip:hover .Tooltip__label{visibility:visible}.excalidraw .Tooltip__label:hover{visibility:visible}',
""]);const y=h},961:(z,q,h)=>{h.r(q);h.d(q,{default:()=>y});q=h(3645);h=h.n(q)()(function(B){return B[1]});h.push([z.id,".excalidraw .UserList{pointer-events:none;padding:var(--space-factor) 40px var(--space-factor) var(--space-factor);display:flex;flex-wrap:wrap;justify-content:flex-end}.excalidraw .UserList\x3e*{pointer-events:all;margin:0 0 var(--space-factor) var(--space-factor)}.excalidraw .UserList_mobile{padding:0;justify-content:normal}.excalidraw .UserList_mobile\x3e*{margin:0 var(--space-factor) var(--space-factor) 0}",
""]);const y=h},4878:(z,q,h)=>{h.r(q);h.d(q,{default:()=>y});q=h(3645);h=h.n(q)()(function(B){return B[1]});h.push([z.id,".visually-hidden{position:absolute !important;height:1px;width:1px;overflow:hidden;clip:rect(1px, 1px, 1px, 1px);white-space:nowrap}.LoadingMessage{position:absolute;top:0;right:0;bottom:0;left:0;z-index:999;display:flex;align-items:center;justify-content:center;pointer-events:none}.LoadingMessage span{background-color:var(--button-gray-1);border-radius:5px;padding:.8em 1.2em;color:var(--popup-text-color);font-size:1.3em}",
""]);const y=h},1988:(z,q,h)=>{h.r(q);h.d(q,{default:()=>y});q=h(3645);h=h.n(q)()(function(B){return B[1]});h.push([z.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}:export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw{--appearance-filter: none;--button-destructive-bg-color: #ffe3e3;--button-destructive-color: #c92a2a;--button-gray-1: #e9ecef;--button-gray-2: #ced4da;--button-gray-3: #adb5bd;--button-special-active-bg-color: #ebfbee;--dialog-border-color: #868e96;--dropdown-icon: url(\'data:image/svg+xml,\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"292.4" height\x3d"292.4" viewBox\x3d"0 0 292 292"\x3e\x3cpath d\x3d"M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/\x3e\x3c/svg\x3e\');--focus-highlight-color: #a5d8ff;--icon-fill-color: #000000;--icon-green-fill-color: #2b8a3e;--input-bg-color: #ffffff;--input-border-color: #dee2e6;--input-hover-bg-color: #f1f3f5;--input-label-color: #495057;--island-bg-color: rgba(255, 255, 255, 0.9);--keybinding-color: #adb5bd;--link-color: #1c7ed6;--overlay-bg-color: rgba(255, 255, 255, 0.88);--popup-bg-color: #ffffff;--popup-secondary-bg-color: #f1f3f5;--popup-text-color: #000000;--popup-text-inverted-color: #ffffff;--sab: env(safe-area-inset-bottom);--sal: env(safe-area-inset-left);--sar: env(safe-area-inset-right);--sat: env(safe-area-inset-top);--select-highlight-color: #339af0;--shadow-island: 0 1px 5px rgba(0, 0, 0, 0.15);--space-factor: 0.25rem;--text-primary-color: #343a40}.excalidraw.Appearance_dark{background:#000}.excalidraw.Appearance_dark.Appearance_dark-background-none{background:none}.excalidraw.Appearance_dark{--appearance-filter: invert(93%) hue-rotate(180deg);--button-destructive-bg-color: #5a0000;--button-destructive-color: #ffa8a8;--button-gray-1: #363636;--button-gray-2: #272727;--button-gray-3: #222;--button-special-active-bg-color: #204624;--dialog-border-color: #212529;--dropdown-icon: url(\'data:image/svg+xml,\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"292.4" height\x3d"292.4" viewBox\x3d"0 0 292 292"\x3e\x3cpath fill\x3d"%23ced4da" d\x3d"M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/\x3e\x3c/svg\x3e\');--focus-highlight-color: #228be6;--icon-fill-color: #ced4da;--icon-green-fill-color: #69db7c;--input-bg-color: #121212;--input-border-color: #2e2e2e;--input-hover-bg-color: #181818;--input-label-color: #e9ecef;--island-bg-color: #1e1e1e;--keybinding-color: #868e96;--overlay-bg-color: rgba(52, 58, 64, 0.12);--popup-bg-color: #2c2c2c;--popup-secondary-bg-color: #222;--popup-text-color: #ced4da;--popup-text-inverted-color: #2c2c2c;--select-highlight-color: #4dabf7;--shadow-island: 0 1px 5px rgba(0, 0, 0, 0.3);--text-primary-color: #ced4da}:root{--zIndex-canvas: 1;--zIndex-wysiwyg: 2;--zIndex-layerUI: 3}.excalidraw{position:relative;overflow:hidden;color:var(--text-primary-color);display:flex;top:0;bottom:0;left:0;right:0}.excalidraw a{font-weight:500;text-decoration:none;color:var(--link-color)}.excalidraw a:hover{text-decoration:underline}.excalidraw canvas{touch-action:none;user-select:none;image-rendering:pixelated;image-rendering:-moz-crisp-edges;z-index:var(--zIndex-canvas)}.excalidraw.Appearance_dark canvas{filter:var(--appearance-filter)}.excalidraw .FixedSideContainer{padding-top:var(--sat, 0);padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0)}.excalidraw .panelRow{display:flex;justify-content:space-between}.excalidraw .panelColumn{display:flex;flex-direction:column}.excalidraw .panelColumn h3,.excalidraw .panelColumn legend,.excalidraw .panelColumn .control-label{margin-top:.333rem;margin-bottom:.333rem;font-size:.75rem;color:var(--text-primary-color);font-weight:bold;display:block}.excalidraw .panelColumn .control-label input{display:block;width:100%}.excalidraw .panelColumn h3:first-child,.excalidraw .panelColumn legend:first-child,.excalidraw .panelColumn .control-label:first-child{margin-top:0}.excalidraw .panelColumn legend{padding:0}.excalidraw .panelColumn .iconSelectList{flex-wrap:wrap;position:relative}.excalidraw .panelColumn .buttonList{flex-wrap:wrap}.excalidraw .panelColumn .buttonList label{margin-right:.25rem;font-size:.75rem;display:inline-block}.excalidraw .panelColumn .buttonList input[type\x3dradio],.excalidraw .panelColumn .buttonList input[type\x3dbutton]{opacity:0;position:absolute;pointer-events:none}.excalidraw .panelColumn .buttonList .iconRow{margin-top:8px}.excalidraw .panelColumn .buttonList .ToolIcon{margin:0;margin-inline-end:8px}.excalidraw .panelColumn .buttonList .ToolIcon:focus{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .panelColumn .buttonList .ToolIcon:hover{background-color:var(--button-gray-2)}.excalidraw .panelColumn .buttonList .ToolIcon:active{background-color:var(--button-gray-3)}.excalidraw .panelColumn .buttonList .ToolIcon:disabled{cursor:not-allowed}.excalidraw .panelColumn .buttonList .ToolIcon__icon{width:28px;height:28px}.excalidraw .panelColumn fieldset{margin:0;margin-top:.333rem;padding:0;border:none}.excalidraw .divider{width:1px;background-color:#e9ecef;margin:1px}.excalidraw .buttonList label:focus-within,.excalidraw input:focus{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw button,.excalidraw .buttonList label{user-select:none;background-color:var(--button-gray-1);border:0;border-radius:4px;margin:.125rem 0;padding:.25rem;white-space:nowrap;cursor:pointer}.excalidraw button:focus,.excalidraw .buttonList label:focus{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw button:hover,.excalidraw .buttonList label:hover{background-color:var(--button-gray-2)}.excalidraw button:active,.excalidraw .buttonList label:active{background-color:var(--button-gray-3)}.excalidraw button:disabled,.excalidraw .buttonList label:disabled{cursor:not-allowed}.excalidraw .active,.excalidraw .buttonList label.active{background-color:var(--button-gray-2)}.excalidraw .active:hover,.excalidraw .buttonList label.active:hover{background-color:var(--button-gray-2)}.excalidraw .active:active,.excalidraw .buttonList label.active:active{background-color:var(--button-gray-3)}.excalidraw .buttonList.buttonListIcon label{display:inline-flex;justify-content:center;align-items:center}.excalidraw .buttonList.buttonListIcon label svg{width:36px;height:18px;opacity:.6}.excalidraw .buttonList.buttonListIcon label.active svg{opacity:1}.excalidraw .App-top-bar{z-index:var(--zIndex-layerUI);display:flex;flex-direction:column;align-items:center}.excalidraw .App-bottom-bar{position:absolute;top:0;bottom:0;left:0;right:0;--bar-padding: calc(4 * var(--space-factor));padding-top:max(var(--bar-padding), var(--sat,0));padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0);z-index:4;display:flex;align-items:flex-end;pointer-events:none}.excalidraw .App-bottom-bar\x3e.Island{width:100%;max-width:100%;min-width:100%;box-sizing:border-box;max-height:100%;display:flex;flex-direction:column;pointer-events:initial}.excalidraw .App-bottom-bar\x3e.Island .panelColumn{padding:8px 8px 0 8px}.excalidraw .App-toolbar{width:100%;box-sizing:border-box}.excalidraw .App-toolbar-content{display:flex;align-items:center;justify-content:space-between;padding:8px}.excalidraw .App-mobile-menu{width:100%;overflow-x:visible;overflow-y:auto;box-sizing:border-box;margin-bottom:var(--bar-padding)}.excalidraw .App-menu{display:grid;color:var(--icon-fill-color)}.excalidraw .App-menu_top{grid-template-columns:1fr auto 1fr;grid-gap:4px;align-items:flex-start;cursor:default;pointer-events:none !important}.excalidraw .layer-ui__wrapper:not(.disable-pointerEvents) .App-menu_top\x3e*{pointer-events:all}.excalidraw .App-menu_top\x3e*:first-child{justify-self:flex-start}.excalidraw .App-menu_top\x3e*:last-child{justify-self:flex-end}.excalidraw .App-menu_bottom{position:absolute;bottom:0;grid-template-columns:1fr auto 1fr;grid-gap:4px;align-items:flex-start;cursor:default;pointer-events:none !important;z-index:100}:root[dir\x3dltr] .excalidraw .App-menu_bottom{left:.25rem}:root[dir\x3drtl] .excalidraw .App-menu_bottom{right:.25rem}.excalidraw .App-menu_bottom--transition-left section{width:185px}.excalidraw .App-menu_bottom section{display:flex}.excalidraw .layer-ui__wrapper:not(.disable-pointerEvents) .App-menu_bottom\x3e*{pointer-events:all}.excalidraw .App-menu_bottom\x3e*:first-child{justify-self:flex-start}.excalidraw .App-menu_bottom\x3e*:last-child{justify-self:flex-end}.excalidraw .App-menu_left{grid-template-rows:1fr auto 1fr;height:100%}.excalidraw .App-menu_right{grid-template-rows:1fr;height:100%}.excalidraw .App-menu__left{overflow-y:auto}.excalidraw .dropdown-select{height:1.5rem;padding:0;padding-inline-start:.5rem;padding-inline-end:1.5rem;color:var(--icon-fill-color);background-color:var(--button-gray-1);border-radius:var(--space-factor);border:1px solid var(--button-gray-2);font-size:.8rem;outline:none;appearance:none;background-image:var(--dropdown-icon);background-repeat:no-repeat;background-position:right .7rem top 50%,0 0;background-size:.65em auto,100%}:root[dir\x3drtl] .excalidraw .dropdown-select{background-position:left .7rem top 50%,0 0}.excalidraw .dropdown-select:focus{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .dropdown-select:hover{background-color:var(--button-gray-2)}.excalidraw .dropdown-select:active{background-color:var(--button-gray-2)}.excalidraw .dropdown-select.dropdown-select--floating{position:absolute;margin:.5em}.excalidraw .dropdown-select__language.dropdown-select--floating{position:absolute;bottom:10px}:root[dir\x3dltr] .excalidraw .dropdown-select__language.dropdown-select--floating{right:44px}:root[dir\x3drtl] .excalidraw .dropdown-select__language.dropdown-select--floating{left:44px}.excalidraw .zIndexButton{margin:0;margin-inline-end:8px;padding:5px;display:inline-flex;align-items:center;justify-content:center}.excalidraw .zIndexButton svg{width:18px;height:18px}.excalidraw .scroll-back-to-content{color:var(--popup-text-color);position:absolute;left:50%;bottom:30px;transform:translateX(-50%);padding:10px 20px}.excalidraw .help-icon{position:absolute;cursor:pointer;fill:#868e96;bottom:14px;width:1.5rem}:root[dir\x3dltr] .excalidraw .help-icon{right:14px}:root[dir\x3drtl] .excalidraw .help-icon{left:14px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw aside{display:none}.excalidraw .scroll-back-to-content{bottom:calc(80px + var(--sab, 0));z-index:-1}}:root[dir\x3drtl] .excalidraw .rtl-mirror{transform:scaleX(-1)}.excalidraw .github-corner{position:absolute;top:0;z-index:2}:root[dir\x3dltr] .excalidraw .github-corner{right:0}:root[dir\x3drtl] .excalidraw .github-corner{left:0}.excalidraw .zen-mode-visibility{visibility:visible;opacity:1;height:auto;width:auto;transition:opacity .5s}.excalidraw .zen-mode-visibility.zen-mode-visibility--hidden{visibility:hidden;opacity:0;height:0;width:0;transition:opacity .5s}.excalidraw .disable-pointerEvents{pointer-events:none !important}.excalidraw.excalidraw--view-mode .App-menu{display:flex;justify-content:space-between}@media print{.excalidraw .App-bottom-bar,.excalidraw .FixedSideContainer,.excalidraw .layer-ui__wrapper{display:none}}.ErrorSplash.excalidraw{min-height:100vh;padding:20px 0;overflow:auto;display:flex;align-items:center;justify-content:center;user-select:text}.ErrorSplash.excalidraw .ErrorSplash-messageContainer{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;background-color:#ffe3e3;border:3px solid #c92a2a}.ErrorSplash.excalidraw .ErrorSplash-paragraph{margin:15px 0;max-width:600px}.ErrorSplash.excalidraw .ErrorSplash-paragraph.align-center{text-align:center}.ErrorSplash.excalidraw .bigger,.ErrorSplash.excalidraw .bigger button{font-size:1.1em}.ErrorSplash.excalidraw .smaller,.ErrorSplash.excalidraw .smaller button{font-size:.9em}.ErrorSplash.excalidraw .ErrorSplash-details{display:flex;flex-direction:column;align-items:flex-start}.ErrorSplash.excalidraw .ErrorSplash-details textarea{width:100%;margin:10px 0;font-family:"Cascadia";font-size:.8em}',
""]);const y=h},3245:(z,q,h)=>{h.r(q);h.d(q,{default:()=>y});q=h(3645);h=h.n(q)()(function(B){return B[1]});h.push([z.id,"",""]);h.locals={isMobileQuery:"(max-width: 600px), (max-height: 500px) and (max-width: 1000px)",appearanceFilter:"invert(93%) hue-rotate(180deg)"};const y=h},3645:z=>{z.exports=function(q){var h=[];return h.toString=function(){return this.map(function(y){var B=q(y);return y[2]?"@media ".concat(y[2]," {").concat(B,"}"):B}).join("")},h.i=function(y,B,H){"string"==typeof y&&(y=[[null,
y,""]]);var M={};if(H)for(var P=0;P<this.length;P++){var I=this[P][0];null!=I&&(M[I]=!0)}for(P=0;P<y.length;P++)I=[].concat(y[P]),H&&M[I[0]]||(B&&(I[2]?I[2]="".concat(B," and ").concat(I[2]):I[2]=B),h.push(I))},h}},1667:z=>{z.exports=function(q,h){return h||(h={}),"string"!=typeof(q=q&&q.__esModule?q.default:q)?q:(/^['"].*['"]$/.test(q)&&(q=q.slice(1,-1)),h.hash&&(q+=h.hash),/["'() \t\n]/.test(q)||h.needQuotes?'"'.concat(q.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):q)}},9638:(z,q,h)=>{h.d(q,{Z:()=>
y});const y=h.p+"excalidraw-assets/Cascadia.woff2"},7464:(z,q,h)=>{h.d(q,{Z:()=>y});const y=h.p+"excalidraw-assets/Virgil.woff2"},8288:(z,q,h)=>{h.d(q,{iC:()=>B,f:()=>H,qx:()=>M,Iw:()=>P,$e:()=>I,wZ:()=>C,ay:()=>F,oc:()=>w,Oh:()=>aa,Ks:()=>y,Vi:()=>pa,$C:()=>Z,ut:()=>ra,_D:()=>ia,n5:()=>ha,rk:()=>R,Hg:()=>X,hs:()=>U,eQ:()=>T,k:()=>K,LO:()=>V,I:()=>N,Gj:()=>da,nM:()=>sa,Lg:()=>Q,HM:()=>la,V4:()=>qa,EH:()=>va,Gi:()=>Ga});var y;z=h(2189);h=h.n(z);var B="Excalidraw",H=10,M=8,P=5,I=1,C=30,F=Math.PI/12,
w={TEXT:"text",CROSSHAIR:"crosshair",GRABBING:"grabbing",POINTER:"pointer",MOVE:"move",AUTO:""},aa={MAIN:0,WHEEL:1,SECONDARY:2,TOUCH:-1};!function(xa){xa.COPY="copy";xa.PASTE="paste";xa.CUT="cut";xa.KEYDOWN="keydown";xa.KEYUP="keyup";xa.MOUSE_MOVE="mousemove";xa.RESIZE="resize";xa.UNLOAD="unload";xa.BLUR="blur";xa.DRAG_OVER="dragover";xa.DROP="drop";xa.GESTURE_END="gestureend";xa.BEFORE_UNLOAD="beforeunload";xa.GESTURE_START="gesturestart";xa.GESTURE_CHANGE="gesturechange";xa.POINTER_MOVE="pointermove";
xa.POINTER_UP="pointerup";xa.STATE_CHANGE="statechange";xa.WHEEL="wheel";xa.TOUCH_START="touchstart";xa.TOUCH_END="touchend";xa.HASHCHANGE="hashchange";xa.VISIBILITY_CHANGE="visibilitychange";xa.SCROLL="scroll"}(y||(y={}));var pa={TEST:"test",DEVELOPMENT:"development"},Z={SHAPE_ACTIONS_MENU:"App-menu__left"},ra={1:"Virgil",2:"Helvetica",3:"Cascadia"},ia="Segoe UI Emoji",ha=20,R=1,X="left",U="top",T="{version}",K=20,V={excalidraw:"application/vnd.excalidraw+json",excalidrawlib:"application/vnd.excalidrawlib+json"},
N={LOCAL_STORAGE_LIBRARY:"excalidraw-library"},da=300,sa=500,Q=5E3,la=100,qa=.1,va={VIEW:"viewMode",ZEN:"zenMode",GRID:"gridMode"},Ga=h().appearanceFilter},3956:(z,q,h)=>{function y(d,u){return Math.pow(d[0]-u[0],2)+Math.pow(d[1]-u[1],2)}function B(d,u,v){return[d[0]+(u[0]-d[0])*v,d[1]+(u[1]-d[1])*v]}function H(d,u,v,G){G=G||[];var W=d[u+0],fa=d[u+1],wa=d[u+2];const ua=d[u+3];var Ca=3*fa[0]-2*W[0]-ua[0];Ca*=Ca;fa=3*fa[1]-2*W[1]-ua[1];fa*=fa;let Na=3*wa[0]-2*ua[0]-W[0];Na*=Na;W=3*wa[1]-2*ua[1]-W[1];
(W*=W,Ca<Na&&(Ca=Na),fa<W&&(fa=W),Ca+fa)<v?(v=d[u+0],G.length?1<(Ia=G[G.length-1],jb=v,Math.sqrt(y(Ia,jb)))&&G.push(v):G.push(v),G.push(d[u+3])):(Ia=d[u+0],Ca=d[u+1],jb=d[u+2],d=d[u+3],u=B(Ia,Ca,.5),W=B(Ca,jb,.5),jb=B(jb,d,.5),Ca=B(u,W,.5),W=B(W,jb,.5),wa=B(Ca,W,.5),H([Ia,u,Ca,wa],0,v,G),H([wa,W,jb,d],0,v,G));var Ia,jb;return G}function M(d,u){return P(d,0,d.length,u)}function P(d,u,v,G,W){W=W||[];const fa=d[u],wa=d[v-1];let ua=0,Ca=1;for(let qb=u+1;qb<v-1;++qb){var Na=d[qb];var Ia=fa,jb=wa,pb=y(Ia,
jb);0===pb?Na=y(Na,Ia):(pb=((Na[0]-Ia[0])*(jb[0]-Ia[0])+(Na[1]-Ia[1])*(jb[1]-Ia[1]))/pb,Na=(pb=Math.max(0,Math.min(1,pb)),y(Na,B(Ia,jb,pb))));Na>ua&&(ua=Na,Ca=qb)}return Math.sqrt(ua)>G?(P(d,u,Ca+1,G,W),P(d,Ca,v,G,W)):(W.length||W.push(fa),W.push(wa)),W}function I(d,u=.15,v){const G=[],W=(d.length-1)/3;for(let fa=0;fa<W;fa++)H(d,3*fa,u,G);return v&&0<v?P(G,0,G.length,v):G}function C(d,u,v){if(d&&d.length){const [G,W]=u;u=Math.PI/180*v;const fa=Math.cos(u),wa=Math.sin(u);d.forEach(ua=>{const [Ca,Na]=
ua;ua[0]=(Ca-G)*fa-(Na-W)*wa+G;ua[1]=(Ca-G)*wa+(Na-W)*fa+W})}}function F(d){const u=d[0];d=d[1];return Math.sqrt(Math.pow(u[0]-d[0],2)+Math.pow(u[1]-d[1],2))}function w(d,u,v,G){const W=u[1]-d[1];u=d[0]-u[0];d=W*d[0]+u*d[1];const fa=G[1]-v[1];G=v[0]-G[0];v=fa*v[0]+G*v[1];const wa=W*G-fa*u;return wa?[(G*d-u*v)/wa,(W*v-fa*d)/wa]:null}function aa(d,u,v){const G=d.length;if(3>G)return!1;const W=[Number.MAX_SAFE_INTEGER,v];u=[u,v];v=0;for(let fa=0;fa<G;fa++){const wa=d[fa],ua=d[(fa+1)%G];if(ra(wa,ua,u,
W)){if(0===Z(wa,u,ua))return pa(wa,u,ua);v++}}return 1==v%2}function pa(d,u,v){return u[0]<=Math.max(d[0],v[0])&&u[0]>=Math.min(d[0],v[0])&&u[1]<=Math.max(d[1],v[1])&&u[1]>=Math.min(d[1],v[1])}function Z(d,u,v){d=(u[1]-d[1])*(v[0]-u[0])-(u[0]-d[0])*(v[1]-u[1]);return 0===d?0:0<d?1:2}function ra(d,u,v,G){const W=Z(d,u,v),fa=Z(d,u,G),wa=Z(v,G,d),ua=Z(v,G,u);return W!==fa&&wa!==ua||!(0!==W||!pa(d,v,u))||!(0!==fa||!pa(d,G,u))||!(0!==wa||!pa(v,d,G))||!(0!==ua||!pa(v,u,G))}function ia(d,u){const v=[0,0],
G=Math.round(u.hachureAngle+90);G&&C(d,v,G);u=function(W,fa){var wa=[...W];wa[0].join(",")!==wa[wa.length-1].join(",")&&wa.push([wa[0][0],wa[0][1]]);W=[];if(wa&&2<wa.length){let Ca=fa.hachureGap;0>Ca&&(Ca=4*fa.strokeWidth);Ca=Math.max(Ca,.1);fa=[];for(var ua=0;ua<wa.length-1;ua++){const jb=wa[ua],pb=wa[ua+1];if(jb[1]!==pb[1]){const qb=Math.min(jb[1],pb[1]);fa.push({ymin:qb,ymax:Math.max(jb[1],pb[1]),x:qb===jb[1]?jb[0]:pb[0],islope:(pb[0]-jb[0])/(pb[1]-jb[1])})}}if(fa.sort((jb,pb)=>jb.ymin<pb.ymin?
-1:jb.ymin>pb.ymin?1:jb.x<pb.x?-1:jb.x>pb.x?1:jb.ymax===pb.ymax?0:(jb.ymax-pb.ymax)/Math.abs(jb.ymax-pb.ymax)),!fa.length)return W;let Na=[],Ia=fa[0].ymin;for(;Na.length||fa.length;){if(fa.length){wa=-1;for(ua=0;ua<fa.length&&!(fa[ua].ymin>Ia);ua++)wa=ua;fa.splice(0,wa+1).forEach(jb=>{Na.push({s:Ia,edge:jb})})}if(Na=Na.filter(jb=>!(jb.edge.ymax<=Ia)),Na.sort((jb,pb)=>jb.edge.x===pb.edge.x?0:(jb.edge.x-pb.edge.x)/Math.abs(jb.edge.x-pb.edge.x)),1<Na.length)for(wa=0;wa<Na.length;wa+=2){ua=wa+1;if(ua>=
Na.length)break;W.push([[Math.round(Na[wa].edge.x),Ia],[Math.round(Na[ua].edge.x),Ia]])}Ia+=Ca;Na.forEach(jb=>{jb.edge.x+=Ca*jb.edge.islope})}}return W}(d,u);return G&&(C(d,v,-G),function(W,fa,wa){const ua=[];W.forEach(Ca=>ua.push(...Ca));C(ua,fa,wa)}(u,v,-G)),u}function ha(d){const u=[];a:{var v=d;for(var G=[];""!==v;){if(!v.match(/^([ \t\r\n,]+)/))if(v.match(/^([aAcChHlLmMqQsStTvVzZ])/))G[G.length]={type:0,text:RegExp.$1};else{if(!v.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/)){v=
[];break a}G[G.length]={type:1,text:`${parseFloat(RegExp.$1)}`}}v=v.substr(RegExp.$1.length)}v=(G[G.length]={type:2,text:""},G)}G="BOD";let W=0;for(var fa=v[W];2!==fa.type;){let wa=0;const ua=[];if("BOD"===G){if("M"!==fa.text&&"m"!==fa.text)return ha("M0,0"+d);W++;wa=ch[fa.text];G=fa.text}else 1===fa.type?wa=ch[G]:(W++,wa=ch[fa.text],G=fa.text);if(!(W+wa<v.length))throw Error("Path data ended short");for(fa=W;fa<W+wa;fa++){const Ca=v[fa];if(1!==Ca.type)throw Error("Param not a number: "+G+","+Ca.text);
ua[ua.length]=+Ca.text}if("number"!=typeof ch[G])throw Error("Bad segment: "+G);u.push({key:G,data:ua});W+=wa;fa=v[W];"M"===G&&(G="L");"m"===G&&(G="l")}return u}function R(d){let u=0,v=0,G=0,W=0;const fa=[];for(const {key:wa,data:ua}of d)switch(wa){case "M":fa.push({key:"M",data:[...ua]});[u,v]=ua;[G,W]=ua;break;case "m":u+=ua[0];v+=ua[1];fa.push({key:"M",data:[u,v]});G=u;W=v;break;case "L":fa.push({key:"L",data:[...ua]});[u,v]=ua;break;case "l":u+=ua[0];v+=ua[1];fa.push({key:"L",data:[u,v]});break;
case "C":fa.push({key:"C",data:[...ua]});u=ua[4];v=ua[5];break;case "c":d=ua.map((Ca,Na)=>Na%2?Ca+v:Ca+u);fa.push({key:"C",data:d});u=d[4];v=d[5];break;case "Q":fa.push({key:"Q",data:[...ua]});u=ua[2];v=ua[3];break;case "q":d=ua.map((Ca,Na)=>Na%2?Ca+v:Ca+u);fa.push({key:"Q",data:d});u=d[2];v=d[3];break;case "A":fa.push({key:"A",data:[...ua]});u=ua[5];v=ua[6];break;case "a":u+=ua[5];v+=ua[6];fa.push({key:"A",data:[ua[0],ua[1],ua[2],ua[3],ua[4],u,v]});break;case "H":fa.push({key:"H",data:[...ua]});
u=ua[0];break;case "h":u+=ua[0];fa.push({key:"H",data:[u]});break;case "V":fa.push({key:"V",data:[...ua]});v=ua[0];break;case "v":v+=ua[0];fa.push({key:"V",data:[v]});break;case "S":fa.push({key:"S",data:[...ua]});u=ua[2];v=ua[3];break;case "s":d=ua.map((Ca,Na)=>Na%2?Ca+v:Ca+u);fa.push({key:"S",data:d});u=d[2];v=d[3];break;case "T":fa.push({key:"T",data:[...ua]});u=ua[0];v=ua[1];break;case "t":u+=ua[0];v+=ua[1];fa.push({key:"T",data:[u,v]});break;case "Z":case "z":fa.push({key:"Z",data:[]}),u=G,v=
W}return fa}function X(d){const u=[];var v="";let G=0,W=0,fa=0,wa=0,ua=0,Ca=0;for(const {key:Ia,data:jb}of d){switch(Ia){case "M":u.push({key:"M",data:[...jb]});[G,W]=jb;[fa,wa]=jb;break;case "C":u.push({key:"C",data:[...jb]});G=jb[4];W=jb[5];ua=jb[2];Ca=jb[3];break;case "L":u.push({key:"L",data:[...jb]});[G,W]=jb;break;case "H":G=jb[0];u.push({key:"L",data:[G,W]});break;case "V":W=jb[0];u.push({key:"L",data:[G,W]});break;case "S":var Na=d=0;"C"===v||"S"===v?(d=G+(G-ua),Na=W+(W-Ca)):(d=G,Na=W);u.push({key:"C",
data:[d,Na,...jb]});ua=jb[0];Ca=jb[1];G=jb[2];W=jb[3];break;case "T":const [pb,qb]=jb;Na=d=0;"Q"===v||"T"===v?(d=G+(G-ua),Na=W+(W-Ca)):(d=G,Na=W);u.push({key:"C",data:[G+2*(d-G)/3,W+2*(Na-W)/3,pb+2*(d-pb)/3,qb+2*(Na-qb)/3,pb,qb]});ua=d;Ca=Na;G=pb;W=qb;break;case "Q":const [bc,Vb,zc,ed]=jb;u.push({key:"C",data:[G+2*(bc-G)/3,W+2*(Vb-W)/3,zc+2*(bc-zc)/3,ed+2*(Vb-ed)/3,zc,ed]});ua=bc;Ca=Vb;G=zc;W=ed;break;case "A":v=Math.abs(jb[0]);d=Math.abs(jb[1]);Na=jb[2];const id=jb[3],vd=jb[4],le=jb[5],ke=jb[6];
if(0===v||0===d)u.push({key:"C",data:[G,W,le,ke,le,ke]}),G=le,W=ke;else if(G!==le||W!==ke)T(G,W,le,ke,v,d,Na,id,vd).forEach(function(Oe){u.push({key:"C",data:Oe})}),G=le,W=ke;break;case "Z":u.push({key:"Z",data:[]}),G=fa,W=wa}v=Ia}return u}function U(d,u,v){return[d*Math.cos(v)-u*Math.sin(v),d*Math.sin(v)+u*Math.cos(v)]}function T(d,u,v,G,W,fa,wa,ua,Ca,Na){const Ia=(jb=wa,Math.PI*jb/180);var jb;jb=[];if(Na)[ua,pb,qb,bc]=Na;else{[d,u]=U(d,u,-Ia);[v,G]=U(v,G,-Ia);var pb=(d-v)/2;var qb=(u-G)/2;var bc=
pb*pb/(W*W)+qb*qb/(fa*fa);1<bc&&(bc=Math.sqrt(bc),W*=bc,fa*=bc);bc=W*W;var Vb=fa*fa;ua=(ua===Ca?-1:1)*Math.sqrt(Math.abs((bc*Vb-bc*qb*qb-Vb*pb*pb)/(bc*qb*qb+Vb*pb*pb)));qb=ua*W*qb/fa+(d+v)/2;bc=ua*-fa*pb/W+(u+G)/2;ua=Math.asin(parseFloat(((u-bc)/fa).toFixed(9)));pb=Math.asin(parseFloat(((G-bc)/fa).toFixed(9)));d<qb&&(ua=Math.PI-ua);v<qb&&(pb=Math.PI-pb);0>ua&&(ua=2*Math.PI+ua);0>pb&&(pb=2*Math.PI+pb);Ca&&ua>pb&&(ua-=2*Math.PI);!Ca&&pb>ua&&(pb-=2*Math.PI)}if(Math.abs(pb-ua)>120*Math.PI/180){jb=pb;
Vb=v;const zc=G;pb=Ca&&pb>ua?ua+120*Math.PI/180:ua+120*Math.PI/180*-1;jb=T(v=qb+W*Math.cos(pb),G=bc+fa*Math.sin(pb),Vb,zc,W,fa,wa,0,Ca,[pb,jb,qb,bc])}wa=Math.tan((pb-ua)/4);W=4/3*W*wa;wa*=4/3*fa;fa=[d,u];d=[d+W*Math.sin(ua),u-wa*Math.cos(ua)];u=[v+W*Math.sin(pb),G-wa*Math.cos(pb)];v=[v,G];if(d[0]=2*fa[0]-d[0],d[1]=2*fa[1]-d[1],Na)return[d,u,v].concat(jb);jb=[d,u,v].concat(jb);Na=[];for(v=0;v<jb.length;v+=3)G=U(jb[v][0],jb[v][1],Ia),d=U(jb[v+1][0],jb[v+1][1],Ia),u=U(jb[v+2][0],jb[v+2][1],Ia),Na.push([G[0],
G[1],d[0],d[1],u[0],u[1]]);return Na}function K(d,u,v){const G=(d||[]).length;if(2<G){const W=[];for(let fa=0;fa<G-1;fa++)W.push(...xa(d[fa][0],d[fa][1],d[fa+1][0],d[fa+1][1],v));return u&&W.push(...xa(d[G-1][0],d[G-1][1],d[0][0],d[0][1],v)),{type:"path",ops:W}}return 2===G?{type:"path",ops:xa(d[0][0],d[0][1],d[1][0],d[1][1],v)}:{type:"path",ops:[]}}function V(d,u){let v=eb(d,1+.2*u.roughness,u);if(!u.disableMultiStroke){var G=1.5*(1+.22*u.roughness);const W=Object.assign({},u);W.randomizer=void 0;
u.seed&&(W.seed=u.seed+1);d=eb(d,G,W);v=v.concat(d)}return{type:"path",ops:v}}function N(d,u,v){const G=2*Math.PI/Math.max(v.curveStepCount,v.curveStepCount/Math.sqrt(200)*Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(d/2,2)+Math.pow(u/2,2))/2)));d=Math.abs(d/2);u=Math.abs(u/2);const W=1-v.curveFitting;return d+=Ga(d*W,v),u+=Ga(u*W,v),{increment:G,rx:d,ry:u}}function da(d,u,v,G){const [W,fa]=Mb(G.increment,d,u,G.rx,G.ry,1,G.increment*va(.1,va(.4,1,v),v),v);let wa=Db(W,null,v);v.disableMultiStroke||([d]=
Mb(G.increment,d,u,G.rx,G.ry,1.5,0,v),v=Db(d,null,v),wa=wa.concat(v));return{estimatedPoints:fa,opset:{type:"path",ops:wa}}}function sa(d,u,v,G,W,fa,wa,ua,Ca){v=Math.abs(v/2);G=Math.abs(G/2);v+=Ga(.01*v,Ca);for(G+=Ga(.01*G,Ca);0>W;)W+=2*Math.PI,fa+=2*Math.PI;fa-W>2*Math.PI&&(W=0,fa=2*Math.PI);var Na=Math.min(2*Math.PI/Ca.curveStepCount/2,(fa-W)/2);const Ia=Tb(Na,d,u,v,G,W,fa,1,Ca);Ca.disableMultiStroke||(Na=Tb(Na,d,u,v,G,W,fa,1.5,Ca),Ia.push(...Na));return wa&&(ua?Ia.push(...xa(d,u,d+v*Math.cos(W),
u+G*Math.sin(W),Ca),...xa(d,u,d+v*Math.cos(fa),u+G*Math.sin(fa),Ca)):Ia.push({op:"lineTo",data:[d,u]},{op:"lineTo",data:[d+v*Math.cos(W),u+G*Math.sin(W)]})),{type:"path",ops:Ia}}function Q(d,u){const v=[];if(d.length){const G=u.maxRandomnessOffset||0,W=d.length;if(2<W){v.push({op:"move",data:[d[0][0]+Ga(G,u),d[0][1]+Ga(G,u)]});for(let fa=1;fa<W;fa++)v.push({op:"lineTo",data:[d[fa][0]+Ga(G,u),d[fa][1]+Ga(G,u)]})}}return{type:"fillPath",ops:v}}function la(d,u){var v=Gd;let G=u.fillStyle||"hachure";
if(!Bf[G])switch(G){case "zigzag":Bf[G]||(Bf[G]=new ee(v));break;case "cross-hatch":Bf[G]||(Bf[G]=new nf(v));break;case "dots":Bf[G]||(Bf[G]=new Xg(v));break;case "dashed":Bf[G]||(Bf[G]=new Oh(v));break;case "zigzag-line":Bf[G]||(Bf[G]=new Ph(v));break;default:G="hachure",Bf[G]||(Bf[G]=new Rd(v))}return Bf[G].fillPolygon(d,u)}function qa(d){return d.randomizer||(d.randomizer=new Se(d.seed||0)),d.randomizer.next()}function va(d,u,v,G=1){return v.roughness*G*(qa(v)*(u-d)+d)}function Ga(d,u,v=1){return va(-d,
d,u,v)}function xa(d,u,v,G,W,fa=!1){const wa=fa?W.disableMultiStrokeFill:W.disableMultiStroke;fa=Oa(d,u,v,G,W,!0,!1);if(wa)return fa;d=Oa(d,u,v,G,W,!0,!0);return fa.concat(d)}function Oa(d,u,v,G,W,fa,wa){var ua=Math.pow(d-v,2)+Math.pow(u-G,2),Ca=Math.sqrt(ua);let Na;Na=200>Ca?1:500<Ca?.4:-.0016668*Ca+1.233334;let Ia=W.maxRandomnessOffset||0;Ia*Ia*100>ua&&(Ia=Ca/10);ua=Ia/2;Ca=.2+.2*qa(W);let jb=W.bowing*W.maxRandomnessOffset*(G-u)/200,pb=W.bowing*W.maxRandomnessOffset*(d-v)/200;jb=Ga(jb,W,Na);pb=
Ga(pb,W,Na);const qb=[];return fa&&(wa?qb.push({op:"move",data:[d+Ga(ua,W,Na),u+Ga(ua,W,Na)]}):qb.push({op:"move",data:[d+Ga(Ia,W,Na),u+Ga(Ia,W,Na)]})),wa?qb.push({op:"bcurveTo",data:[jb+d+(v-d)*Ca+Ga(ua,W,Na),pb+u+(G-u)*Ca+Ga(ua,W,Na),jb+d+2*(v-d)*Ca+Ga(ua,W,Na),pb+u+2*(G-u)*Ca+Ga(ua,W,Na),v+Ga(ua,W,Na),G+Ga(ua,W,Na)]}):qb.push({op:"bcurveTo",data:[jb+d+(v-d)*Ca+Ga(Ia,W,Na),pb+u+(G-u)*Ca+Ga(Ia,W,Na),jb+d+2*(v-d)*Ca+Ga(Ia,W,Na),pb+u+2*(G-u)*Ca+Ga(Ia,W,Na),v+Ga(Ia,W,Na),G+Ga(Ia,W,Na)]}),qb}function eb(d,
u,v){const G=[];G.push([d[0][0]+Ga(u,v),d[0][1]+Ga(u,v)]);G.push([d[0][0]+Ga(u,v),d[0][1]+Ga(u,v)]);for(let W=1;W<d.length;W++)G.push([d[W][0]+Ga(u,v),d[W][1]+Ga(u,v)]),W===d.length-1&&G.push([d[W][0]+Ga(u,v),d[W][1]+Ga(u,v)]);return Db(G,null,v)}function Db(d,u,v){const G=d.length,W=[];if(3<G){const fa=[],wa=1-v.curveTightness;W.push({op:"move",data:[d[1][0],d[1][1]]});for(let ua=1;ua+2<G;ua++){const Ca=d[ua];fa[0]=[Ca[0],Ca[1]];fa[1]=[Ca[0]+(wa*d[ua+1][0]-wa*d[ua-1][0])/6,Ca[1]+(wa*d[ua+1][1]-wa*
d[ua-1][1])/6];fa[2]=[d[ua+1][0]+(wa*d[ua][0]-wa*d[ua+2][0])/6,d[ua+1][1]+(wa*d[ua][1]-wa*d[ua+2][1])/6];fa[3]=[d[ua+1][0],d[ua+1][1]];W.push({op:"bcurveTo",data:[fa[1][0],fa[1][1],fa[2][0],fa[2][1],fa[3][0],fa[3][1]]})}u&&2===u.length&&(d=v.maxRandomnessOffset,W.push({op:"lineTo",data:[u[0]+Ga(d,v),u[1]+Ga(d,v)]}))}else 3===G?(W.push({op:"move",data:[d[1][0],d[1][1]]}),W.push({op:"bcurveTo",data:[d[1][0],d[1][1],d[2][0],d[2][1],d[2][0],d[2][1]]})):2===G&&W.push(...xa(d[0][0],d[0][1],d[1][0],d[1][1],
v));return W}function Mb(d,u,v,G,W,fa,wa,ua){const Ca=[],Na=[],Ia=Ga(.5,ua)-Math.PI/2;Na.push([Ga(fa,ua)+u+.9*G*Math.cos(Ia-d),Ga(fa,ua)+v+.9*W*Math.sin(Ia-d)]);for(let jb=Ia;jb<2*Math.PI+Ia-.01;jb+=d){const pb=[Ga(fa,ua)+u+G*Math.cos(jb),Ga(fa,ua)+v+W*Math.sin(jb)];Ca.push(pb);Na.push(pb)}return Na.push([Ga(fa,ua)+u+G*Math.cos(Ia+2*Math.PI+.5*wa),Ga(fa,ua)+v+W*Math.sin(Ia+2*Math.PI+.5*wa)]),Na.push([Ga(fa,ua)+u+.98*G*Math.cos(Ia+wa),Ga(fa,ua)+v+.98*W*Math.sin(Ia+wa)]),Na.push([Ga(fa,ua)+u+.9*G*Math.cos(Ia+
.5*wa),Ga(fa,ua)+v+.9*W*Math.sin(Ia+.5*wa)]),[Na,Ca]}function Tb(d,u,v,G,W,fa,wa,ua,Ca){var Na=fa+Ga(.1,Ca);fa=[];for(fa.push([Ga(ua,Ca)+u+.9*G*Math.cos(Na-d),Ga(ua,Ca)+v+.9*W*Math.sin(Na-d)]);Na<=wa;Na+=d)fa.push([Ga(ua,Ca)+u+G*Math.cos(Na),Ga(ua,Ca)+v+W*Math.sin(Na)]);return fa.push([u+G*Math.cos(wa),v+W*Math.sin(wa)]),fa.push([u+G*Math.cos(wa),v+W*Math.sin(wa)]),Db(fa,null,Ca)}function Ob(d,u,v,G,W,fa,wa,ua){const Ca=[],Na=[ua.maxRandomnessOffset||1,(ua.maxRandomnessOffset||1)+.3];let Ia;const jb=
ua.disableMultiStroke?1:2;for(let pb=0;pb<jb;pb++)0===pb?Ca.push({op:"move",data:[wa[0],wa[1]]}):Ca.push({op:"move",data:[wa[0]+Ga(Na[0],ua),wa[1]+Ga(Na[0],ua)]}),Ia=[W+Ga(Na[pb],ua),fa+Ga(Na[pb],ua)],Ca.push({op:"bcurveTo",data:[d+Ga(Na[pb],ua),u+Ga(Na[pb],ua),v+Ga(Na[pb],ua),G+Ga(Na[pb],ua),Ia[0],Ia[1]]});return Ca}function dc(d){var u,v,G="";if("string"==typeof d||"number"==typeof d)G+=d;else if("object"==typeof d)if(Array.isArray(d))for(u=0;u<d.length;u++)d[u]&&(v=dc(d[u]))&&(G&&(G+=" "),G+=v);
else for(u in d)d[u]&&(G&&(G+=" "),G+=u);return G}function xc(){for(var d,u,v=0,G="";v<arguments.length;)(d=arguments[v++])&&(u=dc(d))&&(G&&(G+=" "),G+=u);return G}function Fb(d,u){var v=Object.keys(d);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(d);u&&(G=G.filter(function(W){return Object.getOwnPropertyDescriptor(d,W).enumerable}));v.push.apply(v,G)}return v}function fc(d){for(var u=1;u<arguments.length;u++){var v=null!=arguments[u]?arguments[u]:{};u%2?Fb(Object(v),!0).forEach(function(G){pd()(d,
G,v[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(v)):Fb(Object(v)).forEach(function(G){Object.defineProperty(d,G,Object.getOwnPropertyDescriptor(v,G))})}return d}function Xb(d,u){var v=Object.keys(d);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(d);u&&(G=G.filter(function(W){return Object.getOwnPropertyDescriptor(d,W).enumerable}));v.push.apply(v,G)}return v}function yb(d){for(var u=1;u<arguments.length;u++){var v=null!=arguments[u]?
arguments[u]:{};u%2?Xb(Object(v),!0).forEach(function(G){pd()(d,G,v[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(v)):Xb(Object(v)).forEach(function(G){Object.defineProperty(d,G,Object.getOwnPropertyDescriptor(v,G))})}return d}function fb(d,u){var v=Object.keys(d);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(d);u&&(G=G.filter(function(W){return Object.getOwnPropertyDescriptor(d,W).enumerable}));v.push.apply(v,G)}return v}function $a(d){for(var u=
1;u<arguments.length;u++){var v=null!=arguments[u]?arguments[u]:{};u%2?fb(Object(v),!0).forEach(function(G){pd()(d,G,v[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(v)):fb(Object(v)).forEach(function(G){Object.defineProperty(d,G,Object.getOwnPropertyDescriptor(v,G))})}return d}function Xa(d,u){var v=Object.keys(d);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(d);u&&(G=G.filter(function(W){return Object.getOwnPropertyDescriptor(d,
W).enumerable}));v.push.apply(v,G)}return v}function La(d){for(var u=1;u<arguments.length;u++){var v=null!=arguments[u]?arguments[u]:{};u%2?Xa(Object(v),!0).forEach(function(G){pd()(d,G,v[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(v)):Xa(Object(v)).forEach(function(G){Object.defineProperty(d,G,Object.getOwnPropertyDescriptor(v,G))})}return d}function Wa(d,u){var v=Object.keys(d);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(d);
u&&(G=G.filter(function(W){return Object.getOwnPropertyDescriptor(d,W).enumerable}));v.push.apply(v,G)}return v}function ib(d){for(var u=1;u<arguments.length;u++){var v=null!=arguments[u]?arguments[u]:{};u%2?Wa(Object(v),!0).forEach(function(G){pd()(d,G,v[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(v)):Wa(Object(v)).forEach(function(G){Object.defineProperty(d,G,Object.getOwnPropertyDescriptor(v,G))})}return d}function ac(d,u){var v=Object.keys(d);
if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(d);u&&(G=G.filter(function(W){return Object.getOwnPropertyDescriptor(d,W).enumerable}));v.push.apply(v,G)}return v}function Rb(d,u){var v=Object.keys(d);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(d);u&&(G=G.filter(function(W){return Object.getOwnPropertyDescriptor(d,W).enumerable}));v.push.apply(v,G)}return v}function Hc(d){for(var u=1;u<arguments.length;u++){var v=null!=arguments[u]?arguments[u]:{};u%2?Rb(Object(v),
!0).forEach(function(G){pd()(d,G,v[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(v)):Rb(Object(v)).forEach(function(G){Object.defineProperty(d,G,Object.getOwnPropertyDescriptor(v,G))})}return d}function Kc(d,u){var v=Object.keys(d);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(d);u&&(G=G.filter(function(W){return Object.getOwnPropertyDescriptor(d,W).enumerable}));v.push.apply(v,G)}return v}function Dc(d){for(var u=1;u<arguments.length;u++){var v=
null!=arguments[u]?arguments[u]:{};u%2?Kc(Object(v),!0).forEach(function(G){pd()(d,G,v[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(v)):Kc(Object(v)).forEach(function(G){Object.defineProperty(d,G,Object.getOwnPropertyDescriptor(v,G))})}return d}function Ic(d,u){var v=Object.keys(d);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(d);u&&(G=G.filter(function(W){return Object.getOwnPropertyDescriptor(d,W).enumerable}));v.push.apply(v,
G)}return v}function Wc(d){for(var u=1;u<arguments.length;u++){var v=null!=arguments[u]?arguments[u]:{};u%2?Ic(Object(v),!0).forEach(function(G){pd()(d,G,v[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(v)):Ic(Object(v)).forEach(function(G){Object.defineProperty(d,G,Object.getOwnPropertyDescriptor(v,G))})}return d}function Kd(d,u){var v=Object.keys(d);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(d);u&&(G=G.filter(function(W){return Object.getOwnPropertyDescriptor(d,
W).enumerable}));v.push.apply(v,G)}return v}function kd(d){for(var u=1;u<arguments.length;u++){var v=null!=arguments[u]?arguments[u]:{};u%2?Kd(Object(v),!0).forEach(function(G){pd()(d,G,v[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(v)):Kd(Object(v)).forEach(function(G){Object.defineProperty(d,G,Object.getOwnPropertyDescriptor(v,G))})}return d}function xe(d,u){var v=Object.keys(d);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(d);
u&&(G=G.filter(function(W){return Object.getOwnPropertyDescriptor(d,W).enumerable}));v.push.apply(v,G)}return v}function ue(d){for(var u=1;u<arguments.length;u++){var v=null!=arguments[u]?arguments[u]:{};u%2?xe(Object(v),!0).forEach(function(G){pd()(d,G,v[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(v)):xe(Object(v)).forEach(function(G){Object.defineProperty(d,G,Object.getOwnPropertyDescriptor(v,G))})}return d}function rd(d){var u=d.options,v=d.value,
G=d.label,W=d.onChange,fa=d.onClose,wa=Da().useRef(),ua=Da().useRef(),Ca=Da().useRef(null);Da().useEffect(function(){ua.current?ua.current.focus():Ca.current&&Ca.current.focus()},[]);return Da().createElement("div",{className:"picker",role:"dialog","aria-modal":"true","aria-label":G,onKeyDown:function(Na){var Ia=u.find(function(bc){return bc.keyBinding===Na.key.toLowerCase()});if(Na.metaKey||Na.altKey||Na.ctrlKey||!Ia)if("Tab"===Na.key)setTimeout(function(){ua.current!==document.activeElement&&fa()},
0);else if(xg(Na.key)){Ia=ta.rtl;if(-1!==(qb=Array.prototype.indexOf.call(Ca.current.children,document.activeElement))){var jb=u.length,pb=qb;switch(Na.key){case Ia?"ArrowLeft":"ArrowRight":case "ArrowDown":pb=(qb+1)%jb;break;case Ia?"ArrowRight":"ArrowLeft":case "ArrowUp":pb=(jb+qb-1)%jb}Ca.current.children[pb].focus()}Na.preventDefault()}else"Escape"!==Na.key&&"Enter"!==Na.key||(Na.preventDefault(),fa());else{var qb=u.indexOf(Ia);Ca.current.children[qb].focus();Na.preventDefault()}Na.nativeEvent.stopImmediatePropagation()}},
Da().createElement("div",{className:"picker-content",ref:Ca},u.map(function(Na,Ia){return Da().createElement("button",{className:"picker-option",onClick:function(jb){jb.currentTarget.focus();W(Na.value)},title:"".concat(Na.text," — ").concat(Na.keyBinding.toUpperCase()),"aria-label":Na.text||"none","aria-keyshortcuts":Na.keyBinding,key:Na.text,ref:function(jb){jb&&0===Ia&&(wa.current=jb);jb&&Na.value===v&&(ua.current=jb)},onFocus:function(){W(Na.value)}},Na.icon,Da().createElement("span",{className:"picker-keybinding"},
Na.keyBinding))})))}function wd(d){var u,v=d.value,G=d.label,W=d.options,fa=d.onChange;d=d.group;d=void 0===d?"":d;var wa=Da().useState(!1),ua=wa[0],Ca=wa[1],Na=Da().useRef(null);wa=ta.rtl;return Da().createElement("label",{className:"picker-container"},Da().createElement("button",{name:d,className:ua?"active":"","aria-label":G,onClick:function(){return Ca(!ua)},ref:Na},null===(u=W.find(function(Ia){return Ia.value===v}))||void 0===u?void 0:u.icon),Da().createElement(Da().Suspense,{fallback:""},ua?
Da().createElement(Da().Fragment,null,Da().createElement(gb,Pd()({onCloseRequest:function(Ia){return Ia.target!==Na.current&&Ca(!1)}},wa?{right:5.5}:{left:-5.5}),Da().createElement(rd,{options:W,value:v,label:G,onChange:fa,onClose:function(){var Ia;Ca(!1);null===(Ia=Na.current)||void 0===Ia||Ia.focus()}})),Da().createElement("div",{className:"picker-triangle"})):null))}function Ge(d,u){var v=Object.keys(d);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(d);u&&(G=G.filter(function(W){return Object.getOwnPropertyDescriptor(d,
W).enumerable}));v.push.apply(v,G)}return v}function Ne(d){for(var u=1;u<arguments.length;u++){var v=null!=arguments[u]?arguments[u]:{};u%2?Ge(Object(v),!0).forEach(function(G){pd()(d,G,v[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(v)):Ge(Object(v)).forEach(function(G){Object.defineProperty(d,G,Object.getOwnPropertyDescriptor(v,G))})}return d}function Ve(){return(0,jc.useContext)(lg)}function pf(d,u){var v=Object.keys(d);if(Object.getOwnPropertySymbols){var G=
Object.getOwnPropertySymbols(d);u&&(G=G.filter(function(W){return Object.getOwnPropertyDescriptor(d,W).enumerable}));v.push.apply(v,G)}return v}function Ke(d){for(var u=1;u<arguments.length;u++){var v=null!=arguments[u]?arguments[u]:{};u%2?pf(Object(v),!0).forEach(function(G){pd()(d,G,v[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(v)):pf(Object(v)).forEach(function(G){Object.defineProperty(d,G,Object.getOwnPropertyDescriptor(v,G))})}return d}function Ff(d,
u){var v=Object.keys(d);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(d);u&&(G=G.filter(function(W){return Object.getOwnPropertyDescriptor(d,W).enumerable}));v.push.apply(v,G)}return v}function Eg(d){for(var u=1;u<arguments.length;u++){var v=null!=arguments[u]?arguments[u]:{};u%2?Ff(Object(v),!0).forEach(function(G){pd()(d,G,v[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(v)):Ff(Object(v)).forEach(function(G){Object.defineProperty(d,
G,Object.getOwnPropertyDescriptor(v,G))})}return d}async function uh(...d){return(await ym).default(...d)}async function jh(...d){return(await rf).default(...d)}function Le(d,u){var v=Object.keys(d);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(d);u&&(G=G.filter(function(W){return Object.getOwnPropertyDescriptor(d,W).enumerable}));v.push.apply(v,G)}return v}function We(d){for(var u=1;u<arguments.length;u++){var v=null!=arguments[u]?arguments[u]:{};u%2?Le(Object(v),!0).forEach(function(G){pd()(d,
G,v[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(v)):Le(Object(v)).forEach(function(G){Object.defineProperty(d,G,Object.getOwnPropertyDescriptor(v,G))})}return d}function sg(d,u){var v=Object.keys(d);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(d);u&&(G=G.filter(function(W){return Object.getOwnPropertyDescriptor(d,W).enumerable}));v.push.apply(v,G)}return v}function Fe(d){for(var u=1;u<arguments.length;u++){var v=null!=arguments[u]?
arguments[u]:{};u%2?sg(Object(v),!0).forEach(function(G){pd()(d,G,v[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(v)):sg(Object(v)).forEach(function(G){Object.defineProperty(d,G,Object.getOwnPropertyDescriptor(v,G))})}return d}function rb(d,u){var v=Object.keys(d);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(d);u&&(G=G.filter(function(W){return Object.getOwnPropertyDescriptor(d,W).enumerable}));v.push.apply(v,G)}return v}function Bb(d){for(var u=
1;u<arguments.length;u++){var v=null!=arguments[u]?arguments[u]:{};u%2?rb(Object(v),!0).forEach(function(G){pd()(d,G,v[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(v)):rb(Object(v)).forEach(function(G){Object.defineProperty(d,G,Object.getOwnPropertyDescriptor(v,G))})}return d}function mb(d,u){var v=Object.keys(d);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(d);u&&(G=G.filter(function(W){return Object.getOwnPropertyDescriptor(d,
W).enumerable}));v.push.apply(v,G)}return v}function Ta(d){for(var u=1;u<arguments.length;u++){var v=null!=arguments[u]?arguments[u]:{};u%2?mb(Object(v),!0).forEach(function(G){pd()(d,G,v[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(v)):mb(Object(v)).forEach(function(G){Object.defineProperty(d,G,Object.getOwnPropertyDescriptor(v,G))})}return d}function db(d,u){var v=Object.keys(d);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(d);
u&&(G=G.filter(function(W){return Object.getOwnPropertyDescriptor(d,W).enumerable}));v.push.apply(v,G)}return v}function tb(d){for(var u=1;u<arguments.length;u++){var v=null!=arguments[u]?arguments[u]:{};u%2?db(Object(v),!0).forEach(function(G){pd()(d,G,v[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(v)):db(Object(v)).forEach(function(G){Object.defineProperty(d,G,Object.getOwnPropertyDescriptor(v,G))})}return d}function Qb(d,u){var v=Object.keys(d);
if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(d);u&&(G=G.filter(function(W){return Object.getOwnPropertyDescriptor(d,W).enumerable}));v.push.apply(v,G)}return v}function qc(d){for(var u=1;u<arguments.length;u++){var v=null!=arguments[u]?arguments[u]:{};u%2?Qb(Object(v),!0).forEach(function(G){pd()(d,G,v[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(v)):Qb(Object(v)).forEach(function(G){Object.defineProperty(d,G,Object.getOwnPropertyDescriptor(v,
G))})}return d}function uc(d,u){var v=Object.keys(d);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(d);u&&(G=G.filter(function(W){return Object.getOwnPropertyDescriptor(d,W).enumerable}));v.push.apply(v,G)}return v}function Nc(d){for(var u=1;u<arguments.length;u++){var v=null!=arguments[u]?arguments[u]:{};u%2?uc(Object(v),!0).forEach(function(G){pd()(d,G,v[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(v)):uc(Object(v)).forEach(function(G){Object.defineProperty(d,
G,Object.getOwnPropertyDescriptor(v,G))})}return d}function sd(d,u){var v=Object.keys(d);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(d);u&&(G=G.filter(function(W){return Object.getOwnPropertyDescriptor(d,W).enumerable}));v.push.apply(v,G)}return v}function Yc(d){for(var u=1;u<arguments.length;u++){var v=null!=arguments[u]?arguments[u]:{};u%2?sd(Object(v),!0).forEach(function(G){pd()(d,G,v[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(v)):
sd(Object(v)).forEach(function(G){Object.defineProperty(d,G,Object.getOwnPropertyDescriptor(v,G))})}return d}function Xd(d,u){var v=Object.keys(d);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(d);u&&(G=G.filter(function(W){return Object.getOwnPropertyDescriptor(d,W).enumerable}));v.push.apply(v,G)}return v}function tc(d){for(var u=1;u<arguments.length;u++){var v=null!=arguments[u]?arguments[u]:{};u%2?Xd(Object(v),!0).forEach(function(G){pd()(d,G,v[G])}):Object.getOwnPropertyDescriptors?
Object.defineProperties(d,Object.getOwnPropertyDescriptors(v)):Xd(Object(v)).forEach(function(G){Object.defineProperty(d,G,Object.getOwnPropertyDescriptor(v,G))})}return d}function Ub(d,u){var v=Object.keys(d);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(d);u&&(G=G.filter(function(W){return Object.getOwnPropertyDescriptor(d,W).enumerable}));v.push.apply(v,G)}return v}function he(d){for(var u=1;u<arguments.length;u++){var v=null!=arguments[u]?arguments[u]:{};u%2?Ub(Object(v),
!0).forEach(function(G){pd()(d,G,v[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(v)):Ub(Object(v)).forEach(function(G){Object.defineProperty(d,G,Object.getOwnPropertyDescriptor(v,G))})}return d}function dd(d,u){var v=Object.keys(d);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(d);u&&(G=G.filter(function(W){return Object.getOwnPropertyDescriptor(d,W).enumerable}));v.push.apply(v,G)}return v}function Ae(d){for(var u=1;u<arguments.length;u++){var v=
null!=arguments[u]?arguments[u]:{};u%2?dd(Object(v),!0).forEach(function(G){pd()(d,G,v[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(v)):dd(Object(v)).forEach(function(G){Object.defineProperty(d,G,Object.getOwnPropertyDescriptor(v,G))})}return d}function ob(d,u){var v=Object.keys(d);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(d);u&&(G=G.filter(function(W){return Object.getOwnPropertyDescriptor(d,W).enumerable}));v.push.apply(v,
G)}return v}function ic(d){for(var u=1;u<arguments.length;u++){var v=null!=arguments[u]?arguments[u]:{};u%2?ob(Object(v),!0).forEach(function(G){pd()(d,G,v[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(v)):ob(Object(v)).forEach(function(G){Object.defineProperty(d,G,Object.getOwnPropertyDescriptor(v,G))})}return d}function kb(d,u){var v=Object.keys(d);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(d);u&&(G=G.filter(function(W){return Object.getOwnPropertyDescriptor(d,
W).enumerable}));v.push.apply(v,G)}return v}function kc(d){for(var u=1;u<arguments.length;u++){var v=null!=arguments[u]?arguments[u]:{};u%2?kb(Object(v),!0).forEach(function(G){pd()(d,G,v[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(v)):kb(Object(v)).forEach(function(G){Object.defineProperty(d,G,Object.getOwnPropertyDescriptor(v,G))})}return d}function ld(d,u){var v=Object.keys(d);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(d);
u&&(G=G.filter(function(W){return Object.getOwnPropertyDescriptor(d,W).enumerable}));v.push.apply(v,G)}return v}function Ad(d){for(var u=1;u<arguments.length;u++){var v=null!=arguments[u]?arguments[u]:{};u%2?ld(Object(v),!0).forEach(function(G){pd()(d,G,v[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(v)):ld(Object(v)).forEach(function(G){Object.defineProperty(d,G,Object.getOwnPropertyDescriptor(v,G))})}return d}function Ud(d,u){var v=Object.keys(d);
if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(d);u&&(G=G.filter(function(W){return Object.getOwnPropertyDescriptor(d,W).enumerable}));v.push.apply(v,G)}return v}function Xe(d){for(var u=1;u<arguments.length;u++){var v=null!=arguments[u]?arguments[u]:{};u%2?Ud(Object(v),!0).forEach(function(G){pd()(d,G,v[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(v)):Ud(Object(v)).forEach(function(G){Object.defineProperty(d,G,Object.getOwnPropertyDescriptor(v,
G))})}return d}function Fc(d,u){var v=Object.keys(d);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(d);u&&(G=G.filter(function(W){return Object.getOwnPropertyDescriptor(d,W).enumerable}));v.push.apply(v,G)}return v}function Tc(d){for(var u=1;u<arguments.length;u++){var v=null!=arguments[u]?arguments[u]:{};u%2?Fc(Object(v),!0).forEach(function(G){pd()(d,G,v[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(v)):Fc(Object(v)).forEach(function(G){Object.defineProperty(d,
G,Object.getOwnPropertyDescriptor(v,G))})}return d}function mc(d,u){var v=Object.keys(d);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(d);u&&(G=G.filter(function(W){return Object.getOwnPropertyDescriptor(d,W).enumerable}));v.push.apply(v,G)}return v}function wb(d){for(var u=1;u<arguments.length;u++){var v=null!=arguments[u]?arguments[u]:{};u%2?mc(Object(v),!0).forEach(function(G){pd()(d,G,v[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(v)):
mc(Object(v)).forEach(function(G){Object.defineProperty(d,G,Object.getOwnPropertyDescriptor(v,G))})}return d}function yd(d,u){var v=Object.keys(d);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(d);u&&(G=G.filter(function(W){return Object.getOwnPropertyDescriptor(d,W).enumerable}));v.push.apply(v,G)}return v}function lf(d,u){var v=Object.keys(d);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(d);u&&(G=G.filter(function(W){return Object.getOwnPropertyDescriptor(d,
W).enumerable}));v.push.apply(v,G)}return v}function Od(d,u){var v=Object.keys(d);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(d);u&&(G=G.filter(function(W){return Object.getOwnPropertyDescriptor(d,W).enumerable}));v.push.apply(v,G)}return v}function Xf(d){for(var u=1;u<arguments.length;u++){var v=null!=arguments[u]?arguments[u]:{};u%2?Od(Object(v),!0).forEach(function(G){pd()(d,G,v[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(v)):
Od(Object(v)).forEach(function(G){Object.defineProperty(d,G,Object.getOwnPropertyDescriptor(v,G))})}return d}function Fa(d,u){var v=Object.keys(d);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(d);u&&(G=G.filter(function(W){return Object.getOwnPropertyDescriptor(d,W).enumerable}));v.push.apply(v,G)}return v}function Sa(d){for(var u=1;u<arguments.length;u++){var v=null!=arguments[u]?arguments[u]:{};u%2?Fa(Object(v),!0).forEach(function(G){pd()(d,G,v[G])}):Object.getOwnPropertyDescriptors?
Object.defineProperties(d,Object.getOwnPropertyDescriptors(v)):Fa(Object(v)).forEach(function(G){Object.defineProperty(d,G,Object.getOwnPropertyDescriptor(v,G))})}return d}h.r(q);h.d(q,{default:()=>du,defaultLang:()=>Va,getElementMap:()=>$i,getSceneVersion:()=>cl,getSyncableElements:()=>Nk,languages:()=>ca,restore:()=>mn,restoreAppState:()=>ln,restoreElements:()=>wk});var Qa=h(7154),hb=h.n(Qa),Hb=h(6479),rc=h.n(Hb),jc=h(4698),Da=h.n(jc),hc=h(8288);const Uc=JSON.parse('{"u2":"@excalidraw/excalidraw","i8":"0.4.3"}');
"production"!==hc.Vi.TEST&&(h.p=window.EXCALIDRAW_ASSET_PATH||"https://unpkg.com/".concat(Uc.u2,"@").concat(Uc.i8,"/dist/"));var Ld=h(5374),Pc=h.n(Ld),Sd=h(2829),Yf=h(2051),ae=function(d,u){function v(Ca){return function(Na){return function(Ia){if(G)throw new TypeError("Generator is already executing.");for(;ua;)try{if(G=1,W&&(fa=2&Ia[0]?W.return:Ia[0]?W.throw||((fa=W.return)&&fa.call(W),0):W.next)&&!(fa=fa.call(W,Ia[1])).done)return fa;switch(W=0,fa&&(Ia=[2&Ia[0],fa.value]),Ia[0]){case 0:case 1:fa=
Ia;break;case 4:return ua.label++,{value:Ia[1],done:!1};case 5:ua.label++;W=Ia[1];Ia=[0];continue;case 7:Ia=ua.ops.pop();ua.trys.pop();continue;default:if(!(fa=ua.trys,(fa=0<fa.length&&fa[fa.length-1])||6!==Ia[0]&&2!==Ia[0])){ua=0;continue}if(3===Ia[0]&&(!fa||Ia[1]>fa[0]&&Ia[1]<fa[3]))ua.label=Ia[1];else if(6===Ia[0]&&ua.label<fa[1])ua.label=fa[1],fa=Ia;else if(fa&&ua.label<fa[2])ua.label=fa[2],ua.ops.push(Ia);else{fa[2]&&ua.ops.pop();ua.trys.pop();continue}}Ia=u.call(d,ua)}catch(jb){Ia=[6,jb],W=
0}finally{G=fa=0}if(5&Ia[0])throw Ia[1];return{value:Ia[0]?Ia[1]:void 0,done:!0}}([Ca,Na])}}var G,W,fa,wa,ua={label:0,sent:function(){if(1&fa[0])throw fa[1];return fa[1]},trys:[],ops:[]};return wa={next:v(0),throw:v(1),return:v(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa},Va={code:"en",label:"English"},ca=[{code:"ar-SA",label:"العربية",rtl:!0},{code:"bg-BG",label:"Български"},{code:"ca-ES",label:"Català"},{code:"de-DE",label:"Deutsch"},{code:"el-GR",label:"Ελληνικά"},
{code:"es-ES",label:"Español"},{code:"fa-IR",label:"فارسی",rtl:!0},{code:"fi-FI",label:"Suomi"},{code:"fr-FR",label:"Français"},{code:"he-IL",label:"עברית",rtl:!0},{code:"hi-IN",label:"हिन्दी"},{code:"hu-HU",label:"Magyar"},{code:"id-ID",label:"Bahasa Indonesia"},{code:"it-IT",label:"Italiano"},{code:"ja-JP",label:"日本語"},{code:"kab-KAB",label:"Taqbaylit"},{code:"ko-KR",label:"한국어"},{code:"my-MM",label:"Burmese"},{code:"nb-NO",label:"Norsk bokmål"},{code:"nl-NL",label:"Nederlands"},{code:"nn-NO",label:"Norsk nynorsk"},
{code:"oc-FR",label:"Occitan"},{code:"pa-IN",label:"ਪੰਜਾਬੀ"},{code:"pl-PL",label:"Polski"},{code:"pt-BR",label:"Português Brasileiro"},{code:"pt-PT",label:"Português"},{code:"ro-RO",label:"Română"},{code:"ru-RU",label:"Русский"},{code:"sk-SK",label:"Slovenčina"},{code:"sv-SE",label:"Svenska"},{code:"tr-TR",label:"Türkçe"},{code:"uk-UA",label:"Українська"},{code:"zh-CN",label:"简体中文"},{code:"zh-TW",label:"繁體中文"}].concat([Va]).sort(function(d,u){return d.label>u.label?1:-1}).filter(function(d){return 85<=
Yf[d.code]});"production"===hc.Vi.DEVELOPMENT&&ca.unshift({code:"__test__",label:"test language"},{code:"".concat("__test__",".rtl"),label:"‪test language (rtl)‬",rtl:!0});var ja,ta=Va,Ja={},cb=function(){var d=Pc()(function(u){return ae(this,function(v){switch(v.label){case 0:return ta=u,document.documentElement.dir=ta.rtl?"rtl":"ltr",document.documentElement.lang=ta.code,u.code.startsWith("__test__")?(Ja={},[3,3]):[3,1];case 1:return[4,h(788)("./".concat(ta.code,".json"))];case 2:Ja=v.sent(),v.label=
3;case 3:return[2]}})});return function(u){return d.apply(this,arguments)}}(),ub=function(d,u){for(var v=0;v<u.length;++v){var G=u[v];if(void 0===d[G])return;d=d[G]}if("string"==typeof d)return d},bb=function(d,u){if(ta.code.startsWith("__test__"))return d=u?"".concat(d,"(").concat(JSON.stringify(u).slice(1,-1),")"):d,"‪[[".concat(d,"]]‬");var v=d.split(".");v=ub(Ja,v)||ub(Sd,v);if(void 0===v)throw Error("Can't find translation for ".concat(d));if(u)for(var G in u)v=v.replace("{{".concat(G,"}}"),
u[G]);return v},nc=function(){return Da().createElement("div",{className:"LoadingMessage"},Da().createElement("span",null,bb("labels.loadingScene")))},Zc=(ja=function(d,u){return(ja=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,G){v.__proto__=G}||function(v,G){for(var W in G)Object.prototype.hasOwnProperty.call(G,W)&&(v[W]=G[W])})(d,u)},function(d,u){function v(){this.constructor=d}if("function"!=typeof u&&null!==u)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");
ja(d,u);d.prototype=null===u?Object.create(u):(v.prototype=u.prototype,new v)}),Cd=function(d,u){function v(Ca){return function(Na){return function(Ia){if(G)throw new TypeError("Generator is already executing.");for(;ua;)try{if(G=1,W&&(fa=2&Ia[0]?W.return:Ia[0]?W.throw||((fa=W.return)&&fa.call(W),0):W.next)&&!(fa=fa.call(W,Ia[1])).done)return fa;switch(W=0,fa&&(Ia=[2&Ia[0],fa.value]),Ia[0]){case 0:case 1:fa=Ia;break;case 4:return ua.label++,{value:Ia[1],done:!1};case 5:ua.label++;W=Ia[1];Ia=[0];continue;
case 7:Ia=ua.ops.pop();ua.trys.pop();continue;default:if(!(fa=ua.trys,(fa=0<fa.length&&fa[fa.length-1])||6!==Ia[0]&&2!==Ia[0])){ua=0;continue}if(3===Ia[0]&&(!fa||Ia[1]>fa[0]&&Ia[1]<fa[3]))ua.label=Ia[1];else if(6===Ia[0]&&ua.label<fa[1])ua.label=fa[1],fa=Ia;else if(fa&&ua.label<fa[2])ua.label=fa[2],ua.ops.push(Ia);else{fa[2]&&ua.ops.pop();ua.trys.pop();continue}}Ia=u.call(d,ua)}catch(jb){Ia=[6,jb],W=0}finally{G=fa=0}if(5&Ia[0])throw Ia[1];return{value:Ia[0]?Ia[1]:void 0,done:!0}}([Ca,Na])}}var G,
W,fa,wa,ua={label:0,sent:function(){if(1&fa[0])throw fa[1];return fa[1]},trys:[],ops:[]};return wa={next:v(0),throw:v(1),return:v(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa},se=function(d){function u(){for(var v=[],G=0;G<arguments.length;G++)v[G]=arguments[G];var W;G=this;return W=G=d.apply(this,v)||this,G.state={isLoading:!0},W}return Zc(u,d),u.prototype.componentDidMount=function(){var v=this;return Pc()(function(){var G;return Cd(this,function(W){switch(W.label){case 0:return G=
ca.find(function(fa){return fa.code===v.props.langCode})||Va,[4,cb(G)];case 1:return W.sent(),v.setState({isLoading:!1}),[2]}})})()},u.prototype.render=function(){return this.state.isLoading?Da().createElement(nc,null):this.props.children},u}(Da().Component),ze=h(566),pd=h.n(ze);class Rd{constructor(d){this.helper=d}fillPolygon(d,u){return this._fillPolygon(d,u)}_fillPolygon(d,u,v=!1){let G=ia(d,u);v&&(d=this.connectingLines(d,G),G=G.concat(d));return{type:"fillSketch",ops:this.renderLines(G,u)}}renderLines(d,
u){const v=[];for(const G of d)v.push(...this.helper.doubleLineOps(G[0][0],G[0][1],G[1][0],G[1][1],u));return v}connectingLines(d,u){const v=[];if(1<u.length)for(let W=1;W<u.length;W++){var G=u[W-1];3>F(G)||(G=[u[W][0],G[1]],3<F(G)&&(G=this.splitOnIntersections(d,G),v.push(...G)))}return v}midPointInPolygon(d,u){return aa(d,(u[0][0]+u[1][0])/2,(u[0][1]+u[1][1])/2)}splitOnIntersections(d,u){var v=Math.max(5,.1*F(u)),G=[];for(var W=0;W<d.length;W++){var fa=d[W],wa=d[(W+1)%d.length];if(ra(fa,wa,...u)&&
(fa=w(fa,wa,u[0],u[1]))){wa=F([fa,u[0]]);const ua=F([fa,u[1]]);wa>v&&ua>v&&G.push({point:fa,distance:wa})}}if(1<G.length){v=G.sort((ua,Ca)=>ua.distance-Ca.distance).map(ua=>ua.point);if(aa(d,...u[0])||v.shift(),aa(d,...u[1])||v.pop(),1>=v.length)return this.midPointInPolygon(d,u)?[u]:[];u=[u[0],...v,u[1]];v=[];for(G=0;G<u.length-1;G+=2)W=[u[G],u[G+1]],this.midPointInPolygon(d,W)&&v.push(W);return v}return this.midPointInPolygon(d,u)?[u]:[]}}class ee extends Rd{fillPolygon(d,u){return this._fillPolygon(d,
u,!0)}}class nf extends Rd{fillPolygon(d,u){const v=this._fillPolygon(d,u);u=Object.assign({},u,{hachureAngle:u.hachureAngle+90});d=this._fillPolygon(d,u);return v.ops=v.ops.concat(d.ops),v}}class Xg{constructor(d){this.helper=d}fillPolygon(d,u){d=ia(d,u=Object.assign({},u,{curveStepCount:4,hachureAngle:0,roughness:1}));return this.dotsOnLines(d,u)}dotsOnLines(d,u){const v=[];let G=u.hachureGap;0>G&&(G=4*u.strokeWidth);G=Math.max(G,.1);let W=u.fillWeight;0>W&&(W=u.strokeWidth/2);const fa=G/4;for(const Na of d){var wa=
F(Na);d=Math.ceil(wa/G)-1;wa-=d*G;const Ia=(Na[0][0]+Na[1][0])/2-G/4,jb=Math.min(Na[0][1],Na[1][1]);for(let pb=0;pb<d;pb++){var ua=jb+wa+pb*G,Ca=this.helper.randOffsetWithRange(Ia-fa,Ia+fa,u);ua=this.helper.randOffsetWithRange(ua-fa,ua+fa,u);Ca=this.helper.ellipse(Ca,ua,W,W,u);v.push(...Ca.ops)}}return{type:"fillSketch",ops:v}}}class Oh{constructor(d){this.helper=d}fillPolygon(d,u){d=ia(d,u);return{type:"fillSketch",ops:this.dashedLine(d,u)}}dashedLine(d,u){const v=0>u.dashOffset?0>u.hachureGap?4*
u.strokeWidth:u.hachureGap:u.dashOffset,G=0>u.dashGap?0>u.hachureGap?4*u.strokeWidth:u.hachureGap:u.dashGap,W=[];return d.forEach(fa=>{var wa=F(fa);const ua=Math.floor(wa/(v+G));wa=(wa+G-ua*(v+G))/2;let Ca=fa[0];var Na=fa[1];Ca[0]>Na[0]&&(Ca=fa[1],Na=fa[0]);fa=Math.atan((Na[1]-Ca[1])/(Na[0]-Ca[0]));for(Na=0;Na<ua;Na++){var Ia=Na*(v+G),jb=Ia+v;Ia=[Ca[0]+Ia*Math.cos(fa)+wa*Math.cos(fa),Ca[1]+Ia*Math.sin(fa)+wa*Math.sin(fa)];jb=[Ca[0]+jb*Math.cos(fa)+wa*Math.cos(fa),Ca[1]+jb*Math.sin(fa)+wa*Math.sin(fa)];
W.push(...this.helper.doubleLineOps(Ia[0],Ia[1],jb[0],jb[1],u))}}),W}}class Ph{constructor(d){this.helper=d}fillPolygon(d,u){const v=0>u.hachureGap?4*u.strokeWidth:u.hachureGap,G=0>u.zigzagOffset?v:u.zigzagOffset;d=ia(d,u=Object.assign({},u,{hachureGap:v+G}));return{type:"fillSketch",ops:this.zigzagLines(d,G,u)}}zigzagLines(d,u,v){const G=[];return d.forEach(W=>{var fa=F(W);fa=Math.round(fa/(2*u));let wa=W[0];var ua=W[1];wa[0]>ua[0]&&(wa=W[1],ua=W[0]);W=Math.atan((ua[1]-wa[1])/(ua[0]-wa[0]));for(ua=
0;ua<fa;ua++){var Ca=2*ua*u,Na=2*(ua+1)*u,Ia=Math.sqrt(2*Math.pow(u,2));Ca=[wa[0]+Ca*Math.cos(W),wa[1]+Ca*Math.sin(W)];Na=[wa[0]+Na*Math.cos(W),wa[1]+Na*Math.sin(W)];Ia=[Ca[0]+Ia*Math.cos(W+Math.PI/4),Ca[1]+Ia*Math.sin(W+Math.PI/4)];G.push(...this.helper.doubleLineOps(Ca[0],Ca[1],Ia[0],Ia[1],v),...this.helper.doubleLineOps(Ia[0],Ia[1],Na[0],Na[1],v))}}),G}}const Bf={};class Se{constructor(d){this.seed=d}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}
const ch={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0},Gd={randOffset:function(d,u){return Ga(d,u)},randOffsetWithRange:function(d,u,v){return va(d,u,v)},ellipse:function(d,u,v,G,W){v=N(v,G,W);return da(d,u,W,v).opset},doubleLineOps:function(d,u,v,G,W){return xa(d,u,v,G,W,!0)}};class Ch{constructor(d){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",
fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,combineNestedSvgPaths:!1,disableMultiStroke:!1,disableMultiStrokeFill:!1};this.config=d||{};this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(d){return d?Object.assign({},this.defaultOptions,d):this.defaultOptions}_d(d,u,v){return{shape:d,sets:u||[],options:v||this.defaultOptions}}line(d,u,v,G,W){W=this._o(W);return this._d("line",
[{type:"path",ops:xa(d,u,v,G,W)}],W)}rectangle(d,u,v,G,W){W=this._o(W);const fa=[];var wa=K([[d,u],[d+v,u],[d+v,u+G],[d,u+G]],!0,W);W.fill&&(d=[[d,u],[d+v,u],[d+v,u+G],[d,u+G]],"solid"===W.fillStyle?fa.push(Q(d,W)):fa.push(la(d,W)));return"none"!==W.stroke&&fa.push(wa),this._d("rectangle",fa,W)}ellipse(d,u,v,G,W){W=this._o(W);const fa=[];G=N(v,G,W);v=da(d,u,W,G);W.fill&&("solid"===W.fillStyle?(d=da(d,u,W,G).opset,d.type="fillPath",fa.push(d)):fa.push(la(v.estimatedPoints,W)));return"none"!==W.stroke&&
fa.push(v.opset),this._d("ellipse",fa,W)}circle(d,u,v,G){d=this.ellipse(d,u,v,v,G);return d.shape="circle",d}linearPath(d,u){u=this._o(u);return this._d("linearPath",[K(d,!1,u)],u)}arc(d,u,v,G,W,fa,wa=!1,ua){ua=this._o(ua);const Ca=[],Na=sa(d,u,v,G,W,fa,wa,!0,ua);if(wa&&ua.fill)if("solid"===ua.fillStyle)d=sa(d,u,v,G,W,fa,!0,!1,ua),d.type="fillPath",Ca.push(d);else{wa=Ca.push;v=Math.abs(v/2);G=Math.abs(G/2);v+=Ga(.01*v,ua);for(G+=Ga(.01*G,ua);0>W;)W+=2*Math.PI,fa+=2*Math.PI;fa-W>2*Math.PI&&(W=0,fa=
2*Math.PI);const Ia=(fa-W)/ua.curveStepCount,jb=[];for(;W<=fa;W+=Ia)jb.push([d+v*Math.cos(W),u+G*Math.sin(W)]);d=(jb.push([d+v*Math.cos(fa),u+G*Math.sin(fa)]),jb.push([d,u]),la(jb,ua));wa.call(Ca,d)}return"none"!==ua.stroke&&Ca.push(Na),this._d("arc",Ca,ua)}curve(d,u){u=this._o(u);const v=[],G=V(d,u);u.fill&&"none"!==u.fill&&3<=d.length&&(d=I(function(W,fa=0){var wa=W.length;if(3>wa)throw Error("A curve must have at least three points.");const ua=[];if(3===wa)ua.push([...W[0]],[...W[1]],[...W[2]],
[...W[2]]);else{wa=[];wa.push(W[0],W[0]);for(var Ca=1;Ca<W.length;Ca++)wa.push(W[Ca]),Ca===W.length-1&&wa.push(W[Ca]);W=[];fa=1-fa;ua.push([...wa[0]]);for(Ca=1;Ca+2<wa.length;Ca++){const Na=wa[Ca];W[0]=[Na[0],Na[1]];W[1]=[Na[0]+(fa*wa[Ca+1][0]-fa*wa[Ca-1][0])/6,Na[1]+(fa*wa[Ca+1][1]-fa*wa[Ca-1][1])/6];W[2]=[wa[Ca+1][0]+(fa*wa[Ca][0]-fa*wa[Ca+2][0])/6,wa[Ca+1][1]+(fa*wa[Ca][1]-fa*wa[Ca+2][1])/6];W[3]=[wa[Ca+1][0],wa[Ca+1][1]];ua.push(W[1],W[2],W[3])}}return ua}(d),10,(1+u.roughness)/2),"solid"===u.fillStyle?
v.push(Q(d,u)):v.push(la(d,u)));return"none"!==u.stroke&&v.push(G),this._d("curve",v,u)}polygon(d,u){u=this._o(u);const v=[],G=K(d,!0,u);return u.fill&&("solid"===u.fillStyle?v.push(Q(d,u)):v.push(la(d,u))),"none"!==u.stroke&&v.push(G),this._d("polygon",v,u)}path(d,u){const v=this._o(u),G=[];if(!d)return this._d("path",G,v);d=(d||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");u=v.fill&&"transparent"!==v.fill&&"none"!==v.fill;const W="none"!==v.stroke,fa=!!(v.simplification&&1>
v.simplification),wa=function(ua,Ca,Na){var Ia=X(R(ha(ua)));ua=[];let jb=[];var pb=[0,0];let qb=[];const bc=()=>{4<=qb.length&&jb.push(...I(qb,Ca));qb=[]};for(const {key:Vb,data:zc}of Ia)switch(Vb){case "M":bc();jb.length&&(ua.push(jb),jb=[]);pb=[zc[0],zc[1]];jb.push(pb);break;case "L":bc();jb.push([zc[0],zc[1]]);break;case "C":qb.length||(Ia=jb.length?jb[jb.length-1]:pb,qb.push([Ia[0],Ia[1]]));qb.push([zc[0],zc[1]]);qb.push([zc[2],zc[3]]);qb.push([zc[4],zc[5]]);break;case "Z":bc(),jb.push([pb[0],
pb[1]])}bc();jb.length&&(ua.push(jb),jb=[]);if(!Na)return ua;pb=[];for(const Vb of ua)ua=M(Vb,Na),ua.length&&pb.push(ua);return pb}(d,1,fa?4-4*v.simplification:(1+v.roughness)/2);if(u)if(v.combineNestedSvgPaths){const ua=[];wa.forEach(Ca=>ua.push(...Ca));"solid"===v.fillStyle?G.push(Q(ua,v)):G.push(la(ua,v))}else wa.forEach(ua=>{"solid"===v.fillStyle?G.push(Q(ua,v)):G.push(la(ua,v))});return W&&(fa?wa.forEach(ua=>{G.push(K(ua,!1,v))}):G.push(function(ua,Ca){ua=X(R(ha(ua)));const Na=[];let Ia=[0,0],
jb=[0,0];for(const {key:pb,data:qb}of ua)switch(pb){case "M":const bc=1*(Ca.maxRandomnessOffset||0);Na.push({op:"move",data:qb.map(ke=>ke+Ga(bc,Ca))});jb=[qb[0],qb[1]];Ia=[qb[0],qb[1]];break;case "L":Na.push(...xa(jb[0],jb[1],qb[0],qb[1],Ca));jb=[qb[0],qb[1]];break;case "C":const [Vb,zc,ed,id,vd,le]=qb;Na.push(...Ob(Vb,zc,ed,id,vd,le,jb,Ca));jb=[vd,le];break;case "Z":Na.push(...xa(jb[0],jb[1],Ia[0],Ia[1],Ca)),jb=[Ia[0],Ia[1]]}return{type:"path",ops:Na}}(d,v))),this._d("path",G,v)}opsToPath(d){let u=
"";for(const v of d.ops)switch(d=v.data,v.op){case "move":u+=`M${d[0]} ${d[1]} `;break;case "bcurveTo":u+=`C${d[0]} ${d[1]}, ${d[2]} ${d[3]}, ${d[4]} ${d[5]} `;break;case "lineTo":u+=`L${d[0]} ${d[1]} `}return u.trim()}toPaths(d){var u=d.sets||[];d=d.options||this.defaultOptions;const v=[];for(const G of u){u=null;switch(G.type){case "path":u={d:this.opsToPath(G),stroke:d.stroke,strokeWidth:d.strokeWidth,fill:"none"};break;case "fillPath":u={d:this.opsToPath(G),stroke:"none",strokeWidth:0,fill:d.fill||
"none"};break;case "fillSketch":u=this.fillSketch(G,d)}u&&v.push(u)}return v}fillSketch(d,u){let v=u.fillWeight;return 0>v&&(v=u.strokeWidth/2),{d:this.opsToPath(d),stroke:u.fill||"none",strokeWidth:v,fill:"none"}}}class qi{constructor(d,u){this.canvas=d;this.ctx=this.canvas.getContext("2d");this.gen=new Ch(u)}draw(d){const u=d.sets||[],v=d.options||this.getDefaultOptions(),G=this.ctx;for(const W of u)switch(W.type){case "path":G.save();G.strokeStyle="none"===v.stroke?"transparent":v.stroke;G.lineWidth=
v.strokeWidth;v.strokeLineDash&&G.setLineDash(v.strokeLineDash);v.strokeLineDashOffset&&(G.lineDashOffset=v.strokeLineDashOffset);this._drawToContext(G,W);G.restore();break;case "fillPath":G.save();G.fillStyle=v.fill||"";this._drawToContext(G,W,"curve"===d.shape||"polygon"===d.shape?"evenodd":"nonzero");G.restore();break;case "fillSketch":this.fillSketch(G,W,v)}}fillSketch(d,u,v){let G=v.fillWeight;0>G&&(G=v.strokeWidth/2);d.save();v.fillLineDash&&d.setLineDash(v.fillLineDash);v.fillLineDashOffset&&
(d.lineDashOffset=v.fillLineDashOffset);d.strokeStyle=v.fill||"";d.lineWidth=G;this._drawToContext(d,u);d.restore()}_drawToContext(d,u,v="nonzero"){d.beginPath();for(const G of u.ops){const W=G.data;switch(G.op){case "move":d.moveTo(W[0],W[1]);break;case "bcurveTo":d.bezierCurveTo(W[0],W[1],W[2],W[3],W[4],W[5]);break;case "lineTo":d.lineTo(W[0],W[1])}}"fillPath"===u.type?d.fill(v):d.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(d,u,v,G,W){d=this.gen.line(d,
u,v,G,W);return this.draw(d),d}rectangle(d,u,v,G,W){d=this.gen.rectangle(d,u,v,G,W);return this.draw(d),d}ellipse(d,u,v,G,W){d=this.gen.ellipse(d,u,v,G,W);return this.draw(d),d}circle(d,u,v,G){d=this.gen.circle(d,u,v,G);return this.draw(d),d}linearPath(d,u){d=this.gen.linearPath(d,u);return this.draw(d),d}polygon(d,u){d=this.gen.polygon(d,u);return this.draw(d),d}arc(d,u,v,G,W,fa,wa=!1,ua){d=this.gen.arc(d,u,v,G,W,fa,wa,ua);return this.draw(d),d}curve(d,u){d=this.gen.curve(d,u);return this.draw(d),
d}path(d,u){d=this.gen.path(d,u);return this.draw(d),d}}class xk{constructor(d,u){this.svg=d;this.gen=new Ch(u)}draw(d){var u=d.sets||[];const v=d.options||this.getDefaultOptions(),G=this.svg.ownerDocument||window.document,W=G.createElementNS("http://www.w3.org/2000/svg","g");for(const fa of u){u=null;switch(fa.type){case "path":u=G.createElementNS("http://www.w3.org/2000/svg","path");u.setAttribute("d",this.opsToPath(fa));u.setAttribute("stroke",v.stroke);u.setAttribute("stroke-width",v.strokeWidth+
"");u.setAttribute("fill","none");v.strokeLineDash&&u.setAttribute("stroke-dasharray",v.strokeLineDash.join(" ").trim());v.strokeLineDashOffset&&u.setAttribute("stroke-dashoffset",`${v.strokeLineDashOffset}`);break;case "fillPath":u=G.createElementNS("http://www.w3.org/2000/svg","path");u.setAttribute("d",this.opsToPath(fa));u.setAttribute("stroke","none");u.setAttribute("stroke-width","0");u.setAttribute("fill",v.fill||"");"curve"!==d.shape&&"polygon"!==d.shape||u.setAttribute("fill-rule","evenodd");
break;case "fillSketch":u=this.fillSketch(G,fa,v)}u&&W.appendChild(u)}return W}fillSketch(d,u,v){let G=v.fillWeight;0>G&&(G=v.strokeWidth/2);d=d.createElementNS("http://www.w3.org/2000/svg","path");return d.setAttribute("d",this.opsToPath(u)),d.setAttribute("stroke",v.fill||""),d.setAttribute("stroke-width",G+""),d.setAttribute("fill","none"),v.fillLineDash&&d.setAttribute("stroke-dasharray",v.fillLineDash.join(" ").trim()),v.fillLineDashOffset&&d.setAttribute("stroke-dashoffset",`${v.fillLineDashOffset}`),
d}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(d){return this.gen.opsToPath(d)}line(d,u,v,G,W){d=this.gen.line(d,u,v,G,W);return this.draw(d)}rectangle(d,u,v,G,W){d=this.gen.rectangle(d,u,v,G,W);return this.draw(d)}ellipse(d,u,v,G,W){d=this.gen.ellipse(d,u,v,G,W);return this.draw(d)}circle(d,u,v,G){d=this.gen.circle(d,u,v,G);return this.draw(d)}linearPath(d,u){d=this.gen.linearPath(d,u);return this.draw(d)}polygon(d,u){d=this.gen.polygon(d,u);return this.draw(d)}arc(d,
u,v,G,W,fa,wa=!1,ua){d=this.gen.arc(d,u,v,G,W,fa,wa,ua);return this.draw(d)}curve(d,u){d=this.gen.curve(d,u);return this.draw(d)}path(d,u){d=this.gen.path(d,u);return this.draw(d)}}const Qh={canvas:(d,u)=>new qi(d,u),svg:(d,u)=>new xk(d,u),generator:d=>new Ch(d),newSeed:()=>Ch.newSeed()};var be=function(d){return null!=d&&"text"===d.type},Fg=function(d){return null!=d&&hj(d.type)},hj=function(d){return"arrow"===d||"line"===d||"draw"===d},og=function(d){return null!=d&&"arrow"===d.type},yk=function(d){return null!=
d&&("rectangle"===d.type||"diamond"===d.type||"ellipse"===d.type||"text"===d.type)},Hf=function(d,u,v,G,W){return[(d-v)*Math.cos(W)-(u-G)*Math.sin(W)+v,(d-v)*Math.sin(W)+(u-G)*Math.cos(W)+G]},ij=function(d,u,v){return Hf(d[0],d[1],u[0],u[1],v)},Zf=function(d,u,v,G,W,fa,wa,ua){var Ca=Math.cos(G);G=Math.sin(G);return d.e&&d.w?u+=W+wa:d.e?(u+=W*(1+Ca),v+=W*G,u+=wa*(1-Ca),v+=wa*-G):d.w&&(u+=W*(1-Ca),v+=W*-G,u+=wa*(1+Ca),v+=wa*G),d.n&&d.s?v+=fa+ua:d.n?(u+=fa*G,v+=fa*(1-Ca),u+=ua*-G,v+=ua*(1+Ca)):d.s&&
(u+=fa*-G,v+=fa*(1+Ca),u+=ua*G,v+=ua*(1-Ca)),[u,v]},ei=function(d,u){if(void 0===u&&(u=1),3<=d.length){var v=[d[0],d[d.length-1]];d=v[0];v=v[1];return Math.hypot(v[0]-d[0],v[1]-d[1])<=hc.qx/u}return!1},Ei=function(d,u,v){var G=d.length;if(3>G)return!1;var W=[Number.MAX_SAFE_INTEGER,v];u=[u,v];for(var fa=v=0;fa<G;fa++){var wa=d[fa],ua=d[(fa+1)%G],Ca=wa,Na=ua,Ia=u,jb=W,pb=jj(Ca,Na,Ia),qb=jj(Ca,Na,jb),bc=jj(Ia,jb,Ca),Vb=jj(Ia,jb,Na);if(pb!==qb&&bc!==Vb||0===pb&&zk(Ca,Ia,Na)||0===qb&&zk(Ca,jb,Na)||0===
bc&&zk(Ia,Ca,jb)||0===Vb&&zk(Ia,Na,jb)){if(0===jj(wa,u,ua))return zk(wa,u,ua);v++}}return 1==v%2},zk=function(d,u,v){return u[0]<=Math.max(d[0],v[0])&&u[0]>=Math.min(d[0],v[0])&&u[1]<=Math.max(d[1],v[1])&&u[1]>=Math.min(d[1],v[1])},jj=function(d,u,v){d=(u[1]-d[1])*(v[0]-u[0])-(u[0]-d[0])*(v[1]-u[1]);return 0===d?0:0<d?1:2},ri=function(d,u,v){return v?[Math.round(d/v)*v,Math.round(u/v)*v]:[d,u]},Gi=function(d,u,v){var G=v.map(function(Ca){return Ca[d]}),W=Math.max.apply(Math,G);G=Math.min.apply(Math,
G);W-=G;var fa=0===W?1:u/W,wa=1/0;u=v.map(function(Ca){return Ca.map(function(Na,Ia){if(Ia!==d)return Na;Na*=fa;return wa=Math.min(Na,wa),Na})});if(2===u.length)return u;var ua=G-wa;return u.map(function(Ca){return Ca.map(function(Na,Ia){return Ia===d?Na+ua:Na})})},ig=function(d){return Fg(d)?vj(d):[d.x,d.y,d.x+d.width,d.y+d.height]},Hi=function(d){for(var u=0,v=d.sets;u<v.length;u++){var G=v[u];if("path"===G.type)return G.ops}return d.sets[0].ops},Bk=function(d,u){var v=[0,0];d=d.reduce(function(G,
W){var fa,wa=W.op;W=W.data;if("move"===wa)v=W;else if("bcurveTo"===wa){var ua=[W[0],W[1]],Ca=[W[2],W[3]],Na=[W[4],W[5]],Ia=v;v=Na;wa=function(qb,bc){return Math.pow(1-qb,3)*Na[bc]+3*qb*Math.pow(1-qb,2)*Ca[bc]+3*Math.pow(qb,2)*(1-qb)*ua[bc]+Ia[bc]*Math.pow(qb,3)};for(W=0;1>=W;){var jb=wa(W,0),pb=wa(W,1);u&&(jb=(fa=u(jb,pb))[0],pb=fa[1]);G.minY=Math.min(G.minY,pb);G.minX=Math.min(G.minX,jb);G.maxX=Math.max(G.maxX,jb);G.maxY=Math.max(G.maxY,pb);W+=.1}}return G},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});
return[d.minX,d.minY,d.maxX,d.maxY]},vj=function(d){if(2>d.points.length||!wi.get(d)){var u=d.points.reduce(function(v,G){var W=G[0];G=G[1];return v.minY=Math.min(v.minY,G),v.minX=Math.min(v.minX,W),v.maxX=Math.max(v.maxX,W),v.maxY=Math.max(v.maxY,G),v},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[u.minX+d.x,u.minY+d.y,u.maxX+d.x,u.maxY+d.y]}u=wi.get(d);u=Hi(u[0]);u=Bk(u);return[u[0]+d.x,u[1]+d.y,u[2]+d.x,u[3]+d.y]},si=function(d){var u=ig(d),v=u[0],G=u[1],W=u[2],fa=u[3];u=(v+W)/2;var wa=(G+fa)/
2;if(Fg(d))return function(jb,pb,qb){if(2>jb.points.length||!wi.get(jb)){var bc=jb.points.reduce(function(Vb,zc){var ed,id=zc[0];zc=zc[1];return id=(ed=Hf(jb.x+id,jb.y+zc,pb,qb,jb.angle))[0],zc=ed[1],Vb.minY=Math.min(Vb.minY,zc),Vb.minX=Math.min(Vb.minX,id),Vb.maxX=Math.max(Vb.maxX,id),Vb.maxY=Math.max(Vb.maxY,zc),Vb},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[bc.minX,bc.minY,bc.maxX,bc.maxY]}bc=wi.get(jb);bc=Hi(bc[0]);return Bk(bc,function(Vb,zc){return Hf(jb.x+Vb,jb.y+zc,pb,qb,jb.angle)})}(d,
u,wa);if("diamond"===d.type){G=Hf(u,G,u,wa,d.angle);var ua=G[0];G=G[1];fa=Hf(u,fa,u,wa,d.angle);var Ca=fa[0];fa=fa[1];var Na=Hf(v,wa,u,wa,d.angle);v=Na[0];Na=Na[1];wa=Hf(W,wa,u,wa,d.angle);u=wa[0];wa=wa[1];return[Math.min(ua,Ca,v,u),Math.min(G,fa,Na,wa),Math.max(ua,Ca,v,u),Math.max(G,fa,Na,wa)]}if("ellipse"===d.type)return W=(W-v)/2,ua=(fa-G)/2,G=Math.cos(d.angle),Ca=Math.sin(d.angle),d=Math.hypot(W*G,ua*Ca),W=Math.hypot(ua*G,W*Ca),[u-d,wa-W,u+d,wa+W];Ca=Hf(v,G,u,wa,d.angle);ua=Ca[0];Ca=Ca[1];Na=
Hf(v,fa,u,wa,d.angle);v=Na[0];Na=Na[1];var Ia=Hf(W,fa,u,wa,d.angle);fa=Ia[0];Ia=Ia[1];wa=Hf(W,G,u,wa,d.angle);u=wa[0];wa=wa[1];return[Math.min(ua,v,fa,u),Math.min(Ca,Na,Ia,wa),Math.max(ua,v,fa,u),Math.max(Ca,Na,Ia,wa)]},Bg=function(d){if(!d.length)return[0,0,0,0];var u=1/0,v=-1/0,G=1/0,W=-1/0;return d.forEach(function(fa){fa=si(fa);var wa=fa[1],ua=fa[2],Ca=fa[3];u=Math.min(u,fa[0]);G=Math.min(G,wa);v=Math.max(v,ua);W=Math.max(W,Ca)}),[u,G,v,W]},Pg=function(d,u,v){if(!Fg(d))return[d.x,d.y,d.x+u,d.y+
v];u=Gi(0,u,Gi(1,v,d.points));v=Qh.generator();u="sharp"===d.strokeSharpness?v.linearPath(u,Th(d)):v.curve(u,Th(d));u=Hi(u);u=Bk(u);return[u[0]+d.x,u[1]+d.y,u[2]+d.x,u[3]+d.y]},Be=function(d,u,v){var G=Qh.generator();u="sharp"===v?G.linearPath(u,Th(d)):G.curve(u,Th(d));u=Hi(u);u=Bk(u);return[u[0]+d.x,u[1]+d.y,u[2]+d.x,u[3]+d.y]};const Ee=JSON.parse('{"ix":"#ffffff","Sn":"#000000","MA":["#f8f9fa","#f1f3f5",0,0,"#ced4da","#adb5bd","#868e96","#495057","#343a40"],"Q6":["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],"iQ":["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],"pl":["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],"ht":["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],"QN":["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],"iN":["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],"sl":["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],"$C":["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],"ek":["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],"LR":["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],"er":["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],"$y":["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]}');
var vh=function(d,u){for(var v=0,G=u.length,W=d.length;v<G;v++,W++)d[W]=u[v];return d},Jg=function(d){return[Ee.Q6[d],Ee.iQ[d],Ee.pl[d],Ee.ht[d],Ee.QN[d],Ee.iN[d],Ee.sl[d],Ee.$C[d],Ee.ek[d],Ee.LR[d],Ee.er[d],Ee.$y[d]]};const Ek={canvasBackground:vh([Ee.ix,Ee.MA[0],Ee.MA[1]],Jg(0)),elementBackground:vh(["transparent",Ee.MA[4],Ee.MA[6]],Jg(6)),elementStroke:vh([Ee.Sn,Ee.MA[8],Ee.MA[7]],Jg(9))};var $f=h(6207),Kg=/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),Jj=/^Win/.test(window.navigator.platform),
cf=Kg?"metaKey":"ctrlKey",xg=function(d){return"ArrowLeft"===d||"ArrowRight"===d||"ArrowDown"===d||"ArrowUp"===d},kj=function(d){return d.charAt(0).toUpperCase()+d.slice(1)},Cg=function(d){return d instanceof HTMLElement&&"wysiwyg"===d.dataset.type||d instanceof HTMLBRElement||d instanceof HTMLTextAreaElement||d instanceof HTMLInputElement&&("text"===d.type||"number"===d.type)},Vi=function(d){var u=d.fontFamily;return"".concat(d.fontSize,"px ").concat("".concat(hc.ut[u],", ").concat(hc._D))},Wi=function(d,
u){var v=document.createElement("div"),G=document.body;v.style.position="absolute";v.style.whiteSpace="pre";v.style.font=u;G.appendChild(v);v.innerText=d.split("\n").map(function(W){return W||" "}).join("\n");d=v.offsetWidth;u=v.offsetHeight;G=document.createElement("span");G.style.display="inline-block";G.style.overflow="hidden";G.style.width="1px";G.style.height="1px";v.appendChild(G);G=G.offsetTop+G.offsetHeight;return document.body.removeChild(v),{width:d,height:u,baseline:G}},ti=function(d,u){var v,
G=0,W=function(){for(var fa=[],wa=0;wa<arguments.length;wa++)fa[wa]=arguments[wa];v=fa;clearTimeout(G);G=window.setTimeout(function(){return d.apply(void 0,fa)},u)};return W.flush=function(){clearTimeout(G);v&&d.apply(void 0,v)},W.cancel=function(){clearTimeout(G)},W},Ii=function(d){d&&(d.style.cursor="")},Ji=function(d,u){d&&(d.style.cursor=u)},ui=function(d,u){d&&("selection"===u?Ii(d):d.style.cursor=hc.oc.CROSSHAIR)},wh=function(){var d;return"HTML"===(null===(d=document.fullscreenElement)||void 0===
d?void 0:d.nodeName)},Wd=function(d){return d=d.replace(/\bAlt\b/i,"Alt").replace(/\bShift\b/i,"Shift").replace(/\b(Enter|Return)\b/i,"Enter").replace(/\bDel\b/i,"Delete"),Kg?d.replace(/\bCtrlOrCmd\b/i,"Cmd").replace(/\bAlt\b/i,"Option"):d.replace(/\bCtrlOrCmd\b/i,"Ctrl")},ug=function(d,u){var v=u.zoom,G=1/v.value;return{x:(d.clientX-v.translation.x-u.offsetLeft)*G-u.scrollX,y:(d.clientY-v.translation.y-u.offsetTop)*G-u.scrollY}},mh=function(d,u){var v=u.zoom;return{x:(d.sceneX+u.scrollX+u.offsetLeft)*
v.value+v.translation.x,y:(d.sceneY+u.scrollY+u.offsetTop)*v.value+v.translation.y}},ag=function(d){return getComputedStyle(document.documentElement).getPropertyValue("--".concat(d))},xh=new RegExp("^[^".concat("A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿Ⰰ-﬜﷾-﹯﻽-￿","]*[").concat("֑-߿יִ-﷽ﹰ-ﻼ","]")),Dg=function(d){return{x:d[0],y:d[1]}},Gk=function(d){if("AbortError"!==(null==d?void 0:d.name))throw d;},bg=function(d){return function(u){(0,$f.unstable_batchedUpdates)(d,u)}},xl=function(d,u){var v,G=[{value:1,symbol:"b"},{value:1E3,
symbol:"k"},{value:1E6,symbol:"M"},{value:1E9,symbol:"G"}];for(v=G.length-1;0<v&&!(d>=G[v].value);v--);return(d/G[v].value).toFixed(u).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+G[v].symbol},Lf=function(){var d;return(null===(d=document.querySelector('meta[name\x3d"version"]'))||void 0===d?void 0:d.content)||hc.eQ},Dh=function(){var d=new Map,u=hc.rk,v=hc.n5,G=Ee.Sn,W=hc.Hg,fa=window.innerHeight,wa="".concat(bb("labels.untitled"),"-"),ua=wa.concat;var Ca=new Date;var Na=Ca.getFullYear();var Ia="".concat(Ca.getMonth()+
1).padStart(2,"0"),jb="".concat(Ca.getDate()).padStart(2,"0"),pb="".concat(Ca.getHours()).padStart(2,"0");Ca="".concat(Ca.getMinutes()).padStart(2,"0");Na="".concat(Na,"-").concat(Ia,"-").concat(jb,"-").concat(pb).concat(Ca);return{appearance:"light",collaborators:d,currentChartType:"bar",currentItemBackgroundColor:"transparent",currentItemEndArrowhead:"arrow",currentItemFillStyle:"hachure",currentItemFontFamily:u,currentItemFontSize:v,currentItemLinearStrokeSharpness:"round",currentItemOpacity:100,
currentItemRoughness:1,currentItemStartArrowhead:null,currentItemStrokeColor:G,currentItemStrokeSharpness:"sharp",currentItemStrokeStyle:"solid",currentItemStrokeWidth:1,currentItemTextAlign:W,cursorButton:"up",draggingElement:null,editingElement:null,editingGroupId:null,editingLinearElement:null,elementLocked:!1,elementType:"selection",errorMessage:null,exportBackground:!0,exportEmbedScene:!1,exportWithDarkMode:!1,fileHandle:null,gridSize:null,height:fa,isBindingEnabled:!0,isLibraryOpen:!1,isLoading:!1,
isResizing:!1,isRotating:!1,lastPointerDownWith:"mouse",multiElement:null,name:ua.call(wa,Na),openMenu:null,pasteDialog:{shown:!1,data:null},previousSelectedElementIds:{},resizingElement:null,scrolledOutside:!1,scrollX:0,scrollY:0,selectedElementIds:{},selectedGroupIds:{},selectionElement:null,shouldAddWatermark:!1,shouldCacheIgnoreZoom:!1,showHelpDialog:!1,showStats:!1,startBoundElement:null,suggestedBindings:[],toastMessage:null,viewBackgroundColor:Ee.ix,width:window.innerWidth,zenModeEnabled:!1,
zoom:{value:1,translation:{x:0,y:0}},viewModeEnabled:!1}},nh={appearance:{browser:!0,export:!1},collaborators:{browser:!1,export:!1},currentChartType:{browser:!0,export:!1},currentItemBackgroundColor:{browser:!0,export:!1},currentItemEndArrowhead:{browser:!0,export:!1},currentItemFillStyle:{browser:!0,export:!1},currentItemFontFamily:{browser:!0,export:!1},currentItemFontSize:{browser:!0,export:!1},currentItemLinearStrokeSharpness:{browser:!0,export:!1},currentItemOpacity:{browser:!0,export:!1},currentItemRoughness:{browser:!0,
export:!1},currentItemStartArrowhead:{browser:!0,export:!1},currentItemStrokeColor:{browser:!0,export:!1},currentItemStrokeSharpness:{browser:!0,export:!1},currentItemStrokeStyle:{browser:!0,export:!1},currentItemStrokeWidth:{browser:!0,export:!1},currentItemTextAlign:{browser:!0,export:!1},cursorButton:{browser:!0,export:!1},draggingElement:{browser:!1,export:!1},editingElement:{browser:!1,export:!1},editingGroupId:{browser:!0,export:!1},editingLinearElement:{browser:!1,export:!1},elementLocked:{browser:!0,
export:!1},elementType:{browser:!0,export:!1},errorMessage:{browser:!1,export:!1},exportBackground:{browser:!0,export:!1},exportEmbedScene:{browser:!0,export:!1},exportWithDarkMode:{browser:!0,export:!1},fileHandle:{browser:!1,export:!1},gridSize:{browser:!0,export:!0},height:{browser:!1,export:!1},isBindingEnabled:{browser:!1,export:!1},isLibraryOpen:{browser:!1,export:!1},isLoading:{browser:!1,export:!1},isResizing:{browser:!1,export:!1},isRotating:{browser:!1,export:!1},lastPointerDownWith:{browser:!0,
export:!1},multiElement:{browser:!1,export:!1},name:{browser:!0,export:!1},offsetLeft:{browser:!1,export:!1},offsetTop:{browser:!1,export:!1},openMenu:{browser:!0,export:!1},pasteDialog:{browser:!1,export:!1},previousSelectedElementIds:{browser:!0,export:!1},resizingElement:{browser:!1,export:!1},scrolledOutside:{browser:!0,export:!1},scrollX:{browser:!0,export:!1},scrollY:{browser:!0,export:!1},selectedElementIds:{browser:!0,export:!1},selectedGroupIds:{browser:!0,export:!1},selectionElement:{browser:!1,
export:!1},shouldAddWatermark:{browser:!0,export:!1},shouldCacheIgnoreZoom:{browser:!0,export:!1},showHelpDialog:{browser:!1,export:!1},showStats:{browser:!0,export:!1},startBoundElement:{browser:!1,export:!1},suggestedBindings:{browser:!1,export:!1},toastMessage:{browser:!1,export:!1},viewBackgroundColor:{browser:!0,export:!0},width:{browser:!1,export:!1},zenModeEnabled:{browser:!0,export:!1},zoom:{browser:!0,export:!1},viewModeEnabled:{browser:!1,export:!1}},vi=function(d,u){for(var v={},G=0,W=
Object.keys(d);G<W.length;G++){var fa=W[G],wa=nh[fa];null!=wa&&wa[u]&&(v[fa]=d[fa])}return v},pg=Dh(),Sh=[12,8],Yk=[3,6],fi=function(d,u,v){switch(v.globalAlpha=d.opacity/100,d.type){case "rectangle":case "diamond":case "ellipse":u.draw(wi.get(d));break;case "arrow":case "draw":case "line":wi.get(d).forEach(function(jb){u.draw(jb)});break;default:if(!be(d))throw Error("Unimplemented type ".concat(d.type));var G=xh.test(d.text),W=G&&!v.canvas.isConnected;W&&document.body.appendChild(v.canvas);v.canvas.setAttribute("dir",
G?"rtl":"ltr");G=v.font;v.font=Vi(d);var fa=v.fillStyle;v.fillStyle=d.strokeColor;var wa=v.textAlign;v.textAlign=d.textAlign;var ua=d.text.replace(/\r\n?/g,"\n").split("\n"),Ca=d.height/ua.length,Na=d.height-d.baseline;d="center"===d.textAlign?d.width/2:"right"===d.textAlign?d.width:0;for(var Ia=0;Ia<ua.length;Ia++)v.fillText(ua[Ia],d,(Ia+1)*Ca-Na);v.fillStyle=fa;v.font=G;v.textAlign=wa;W&&v.canvas.remove()}v.globalAlpha=1},Hk=new WeakMap,wi=new WeakMap,Th=function(d){var u={seed:d.seed,strokeLineDash:"dashed"===
d.strokeStyle?Sh:"dotted"===d.strokeStyle?Yk:void 0,disableMultiStroke:"solid"!==d.strokeStyle,strokeWidth:"solid"!==d.strokeStyle?d.strokeWidth+.5:d.strokeWidth,fillWeight:d.strokeWidth/2,hachureGap:4*d.strokeWidth,roughness:d.roughness,stroke:d.strokeColor};switch(d.type){case "rectangle":case "diamond":case "ellipse":return u.fillStyle=d.fillStyle,u.fill="transparent"===d.backgroundColor?void 0:d.backgroundColor,"ellipse"===d.type&&(u.curveFitting=1),u;case "line":case "draw":return ei(d.points)&&
(u.fillStyle=d.fillStyle,u.fill="transparent"===d.backgroundColor?void 0:d.backgroundColor),u;case "arrow":return u;default:throw Error("Unimplemented type ".concat(d.type));}},Yj=function(d,u){var v=wi.get(d)||null;if(!v){switch(Hk.delete(d),d.type){case "rectangle":if("round"===d.strokeSharpness){v=d.width;var G=d.height,W=.25*Math.min(v,G);v=u.path("M ".concat(W," 0 L ").concat(v-W," 0 Q ").concat(v," 0, ").concat(v," ").concat(W," L ").concat(v," ").concat(G-W," Q ").concat(v," ").concat(G,", ").concat(v-
W," ").concat(G," L ").concat(W," ").concat(G," Q 0 ").concat(G,", 0 ").concat(G-W," L 0 ").concat(W," Q 0 0, ").concat(W," 0"),Th(d))}else v=u.rectangle(0,0,d.width,d.height,Th(d));break;case "diamond":v=function(wa){var ua=Math.floor(wa.width/2)+1,Ca=Math.floor(wa.height/2)+1;return[ua,0,wa.width,Ca,ua,wa.height,0,Ca]}(d);v=u.polygon([[v[0],v[1]],[v[2],v[3]],[v[4],v[5]],[v[6],v[7]]],Th(d));break;case "ellipse":v=u.ellipse(d.width/2,d.height/2,d.width,d.height,Th(d));break;case "line":case "draw":case "arrow":var fa=
Th(d);v=d.points.length?d.points:[[0,0]];if(v="sharp"===d.strokeSharpness?fa.fill?[u.polygon(v,fa)]:[u.linearPath(v,fa)]:[u.curve(v,fa)],"arrow"===d.type){G=d.startArrowhead;G=void 0===G?null:G;W=d.endArrowhead;W=void 0===W?"arrow":W;function wa(ua,Ca,Na,Ia){Ca=function(bc,Vb,zc,ed){Vb=Hi(Vb[0]);if(1>Vb.length)return null;var id="start"===zc?1:Vb.length-1,vd=Vb[id].data,le=[vd[4],vd[5]],ke=[vd[2],vd[3]],Oe=[vd[0],vd[1]];Vb=Vb[id-1];var Je=[0,0];"move"===Vb.op?Je=Vb.data:"bcurveTo"===Vb.op&&(Je=[Vb.data[4],
Vb.data[5]]);id=function(zd,Zd){return Math.pow(1-zd,3)*le[Zd]+3*zd*Math.pow(1-zd,2)*ke[Zd]+3*Math.pow(zd,2)*(1-zd)*Oe[Zd]+Je[Zd]*Math.pow(zd,3)};Vb="start"===zc?Je:le;zc=Vb[0];Vb=Vb[1];vd=[id(.3,0),id(.3,1)];id=vd[0];vd=vd[1];var df=Math.hypot(zc-id,Vb-vd);id=(zc-id)/df;vd=(Vb-vd)/df;df={arrow:30,bar:15,dot:15}[ed];bc=bc.points.reduce(function(zd,Zd,je,$e){je=0<je?$e[je-1]:[0,0];return zd+Math.hypot(Zd[0]-je[0],Zd[1]-je[1])},0);df=Math.min(df,bc/2);bc=zc-id*df;id=Vb-vd*df;if("dot"===ed)return[zc,
Vb,Math.hypot(id-Vb,bc-zc)];vd={arrow:20,bar:90}[ed];df=Hf(bc,id,zc,Vb,-vd*Math.PI/180);ed=df[0];df=df[1];bc=Hf(bc,id,zc,Vb,vd*Math.PI/180);return[zc,Vb,ed,df,bc[0],bc[1]]}(ua,Ca,Na,Ia);if(null===Ca)return[];if("dot"===Ia)return[u.circle(Ca[0],Ca[1],Ca[2],fc(fc({},fa),{},{fill:ua.strokeColor,fillStyle:"solid"}))];Ia=Ca[0];Na=Ca[1];var jb=Ca[2],pb=Ca[3],qb=Ca[4];Ca=Ca[5];return"dotted"===ua.strokeStyle?fa.strokeLineDash=[3,4]:delete fa.strokeLineDash,[u.line(jb,pb,Ia,Na,fa),u.line(qb,Ca,Ia,Na,fa)]}
null!==G&&(G=wa(d,v,"start",G),v.push.apply(v,G));null!==W&&(G=wa(d,v,"end",W),v.push.apply(v,G))}break;case "text":v=[]}wi.set(d,v)}},on=function(d,u,v,G,W){var fa=u.generator;switch(d.type){case "selection":v.translate(d.x+W.scrollX,d.y+W.scrollY);u=v.fillStyle;v.fillStyle="rgba(0, 0, 255, 0.10)";v.fillRect(0,0,d.width,d.height);v.fillStyle=u;v.translate(-d.x-W.scrollX,-d.y-W.scrollY);break;case "rectangle":case "diamond":case "ellipse":case "line":case "draw":case "arrow":case "text":if(Yj(d,fa),
G){u=W?W.zoom:pg.zoom;fa=(G=Hk.get(d))&&G.canvasZoom!==u.value&&!(null!=W&&W.shouldCacheIgnoreZoom);if(!G||fa){G=document.createElement("canvas");fa=G.getContext("2d");var wa=0,ua=0;if(Fg(d)){wa=ig(d);var Ca=wa[0];ua=wa[1];var Na=wa[3];G.width=Math.abs(Ca-wa[2])*window.devicePixelRatio*u.value+40*u.value;G.height=Math.abs(ua-Na)*window.devicePixelRatio*u.value+40*u.value;wa=d.x>Ca?Math.floor(Math.abs(d.x-Ca))*window.devicePixelRatio*u.value:0;ua=d.y>ua?Math.floor(Math.abs(d.y-ua))*window.devicePixelRatio*
u.value:0;fa.translate(wa,ua)}else G.width=d.width*window.devicePixelRatio*u.value+40*u.value,G.height=d.height*window.devicePixelRatio*u.value+40*u.value;fa.translate(20*u.value,20*u.value);fa.scale(window.devicePixelRatio*u.value,window.devicePixelRatio*u.value);Ca=Qh.canvas(G);u=(fi(d,Ca,fa),fa.translate(-20*u.value,-20*u.value),fa.scale(1/(window.devicePixelRatio*u.value),1/(window.devicePixelRatio*u.value)),{element:d,canvas:G,canvasZoom:u.value,canvasOffsetX:wa,canvasOffsetY:ua});d=(Hk.set(d,
u),u)}else d=G;u=d.element;wa=ig(u);G=wa[0];fa=wa[1];ua=wa[2];wa=wa[3];Ca=((G+ua)/2+W.scrollX)*window.devicePixelRatio;W=((fa+wa)/2+W.scrollY)*window.devicePixelRatio;v.scale(1/window.devicePixelRatio,1/window.devicePixelRatio);v.translate(Ca,W);v.rotate(u.angle);v.drawImage(d.canvas,-(ua-G)/2*window.devicePixelRatio-20*d.canvasZoom/d.canvasZoom,-(wa-fa)/2*window.devicePixelRatio-20*d.canvasZoom/d.canvasZoom,d.canvas.width/d.canvasZoom,d.canvas.height/d.canvasZoom);v.rotate(-u.angle);v.translate(-Ca,
-W);v.scale(window.devicePixelRatio,window.devicePixelRatio);!0}else fa=ig(d),ua=fa[0],G=fa[1],wa=fa[2],Ca=fa[3],fa=(ua+wa)/2+W.scrollX,W=(G+Ca)/2+W.scrollY,ua=(wa-ua)/2-(d.x-ua),G=(Ca-G)/2-(d.y-G),v.translate(fa,W),v.rotate(d.angle),v.translate(-ua,-G),fi(d,u,v),v.translate(ua,G),v.rotate(-d.angle),v.translate(-fa,-W);break;default:throw Error("Unimplemented type ".concat(d.type));}},yh=function(){function d(){this.callbacks=new Set;this.nonDeletedElements=[];this.elements=[];this.elementsMap=new Map}
return d.mapElementToScene=function(u,v){"string"==typeof u?this.sceneMapById.set(u,v):this.sceneMapByElement.set(u,v)},d.getScene=function(u){return"string"==typeof u?this.sceneMapById.get(u)||null:this.sceneMapByElement.get(u)||null},d.prototype.getElementsIncludingDeleted=function(){return this.elements},d.prototype.getElements=function(){return this.nonDeletedElements},d.prototype.getElement=function(u){return this.elementsMap.get(u)||null},d.prototype.getNonDeletedElement=function(u){return(u=
this.getElement(u))&&!u.isDeleted?u:null},d.prototype.getNonDeletedElements=function(u){var v=this,G=[];return u.forEach(function(W){W=v.getNonDeletedElement(W);null!=W&&G.push(W)}),G},d.prototype.replaceAllElements=function(u){var v=this;this.elements=u;this.elementsMap.clear();u.forEach(function(G){v.elementsMap.set(G.id,G);d.mapElementToScene(G,v)});this.nonDeletedElements=ge(this.elements);this.informMutation()},d.prototype.informMutation=function(){for(var u=0,v=Array.from(this.callbacks);u<
v.length;u++)(0,v[u])()},d.prototype.addCallback=function(u){var v=this;if(this.callbacks.has(u))throw Error();return this.callbacks.add(u),function(){if(!v.callbacks.has(u))throw Error();v.callbacks.delete(u)}},d.prototype.destroy=function(){var u=this;d.sceneMapById.forEach(function(v,G){v===u&&d.sceneMapById.delete(G)});this.callbacks.clear()},d}();yh.sceneMapByElement=new WeakMap;yh.sceneMapById=new Map;var Pm=new Se(Date.now()),Zj=function(){return Math.floor(Pm.next()*Math.pow(2,31))},xi=function(){return((d=
21)=>{let u="",v=crypto.getRandomValues(new Uint8Array(d));for(;d--;){let G=63&v[d];u+=36>G?G.toString(36):62>G?(G-26).toString(36).toUpperCase():63>G?"_":"-"}return u})()},jf=function(d,u){var v,G=!1,W=u.points,fa;for(fa in void 0!==W&&(u=yb(yb({},function(qb){var bc=qb.map(function(Vb){return Vb[0]});qb=qb.map(function(Vb){return Vb[1]});return{width:Math.max.apply(Math,bc)-Math.min.apply(Math,bc),height:Math.max.apply(Math,qb)-Math.min.apply(Math,qb)}}(W)),u)),u){var wa=u[fa];if(void 0!==wa&&(d[fa]!==
wa||"object"==typeof wa&&null!==wa&&"groupIds"!==fa)){if("points"===fa){var ua=d[fa],Ca=wa;if(ua.length===Ca.length){for(var Na=!1,Ia=ua.length;--Ia;){var jb=ua[Ia],pb=Ca[Ia];if(jb[0]!==pb[0]||jb[1]!==pb[1]){Na=!0;break}}if(!Na)continue}}d[fa]=wa;G=!0}}G&&(void 0===u.height&&void 0===u.width&&void 0===W||wi.delete(d),d.version++,d.versionNonce=Zj(),null===(v=yh.getScene(d))||void 0===v||v.informMutation())},yg=function(d,u){return yb(yb(yb({},d),u),{},{version:d.version+1,versionNonce:Zj()})},Rh=
function(d){return Fg(d)?2>d.points.length:0===d.width&&0===d.height},Ye=function(d,u,v){var G=Math.abs(u),W=Math.abs(v);"line"===d||"arrow"===d||"draw"===d?(d=Math.round(Math.atan(W/G)/hc.ay)*hc.ay,0===d?v=0:d===Math.PI/2?u=0:v=Math.round(G*Math.tan(d))*Math.sign(v)||v):"selection"!==d&&(v=G*Math.sign(v));return{width:u,height:v}},Ml=function(d){var u={width:d.width,height:d.height,x:d.x,y:d.y};if(0>d.width){var v=Math.abs(d.width);u.width=v;u.x=d.x-v}0>d.height&&(v=Math.abs(d.height),u.height=v,
u.y=d.y-v);return u},Of=h(5474),Vh=h.n(Of),zl=function(d,u){for(var v=0,G=u.length,W=d.length;v<G;v++,W++)d[W]=u[v];return d},bk=function(d,u,v){var G,W;v=v.filter(function(fa){return fa.groupIds.includes(d)});return 2>v.length?u.selectedGroupIds[d]||u.editingGroupId===d?$a($a({},u),{},{selectedGroupIds:$a($a({},u.selectedGroupIds),{},(G={},G[d]=!1,G)),editingGroupId:null}):u:$a($a({},u),{},{selectedGroupIds:$a($a({},u.selectedGroupIds),{},(W={},W[d]=!0,W)),selectedElementIds:$a($a({},u.selectedElementIds),
Object.fromEntries(v.map(function(fa){return[fa.id,!0]})))})},zh=function(d,u){return u.groupIds.filter(function(v){return v!==d.editingGroupId}).find(function(v){return d.selectedGroupIds[v]})},Li=function(d){return Object.entries(d.selectedGroupIds).filter(function(u){u[0];return u[1]}).map(function(u){var v=u[0];u[1];return v})},Wh=function(d,u){for(var v=$a({},d),G=0,W=uf(u,d);G<W.length;G++){var fa=W[G].groupIds;if(d.editingGroupId){var wa=fa.indexOf(d.editingGroupId);-1<wa&&(fa=fa.slice(0,wa))}0<
fa.length&&(v=bk(fa[fa.length-1],v,u))}return v},ck=function(d,u){return d.filter(function(v){return v.groupIds.includes(u)})},yj=function(d,u){var v,G,W=u.x,fa=u.y,wa=u.strokeColor,ua=u.backgroundColor,Ca=u.fillStyle,Na=u.strokeWidth,Ia=u.strokeStyle,jb=u.roughness,pb=u.opacity,qb=u.width;qb=void 0===qb?0:qb;var bc=u.height;bc=void 0===bc?0:bc;var Vb=u.angle;Vb=void 0===Vb?0:Vb;var zc=u.groupIds;zc=void 0===zc?[]:zc;var ed=u.strokeSharpness,id=u.boundElementIds;id=void 0===id?null:id;u=Vh()(u,"x y strokeColor backgroundColor fillStyle strokeWidth strokeStyle roughness opacity width height angle groupIds strokeSharpness boundElementIds".split(" "));
return{id:u.id||xi(),type:d,x:W,y:fa,width:qb,height:bc,angle:Vb,strokeColor:wa,backgroundColor:ua,fillStyle:Ca,strokeWidth:Na,strokeStyle:Ia,roughness:jb,opacity:pb,groupIds:zc,strokeSharpness:ed,seed:null!==(v=u.seed)&&void 0!==v?v:Zj(),version:u.version||1,versionNonce:null!==(G=u.versionNonce)&&void 0!==G?G:0,isDeleted:!1,boundElementIds:id}},Ol=function(d){return yj(d.type,d)},Xh=function(d,u){return{x:"center"===d.textAlign?u.width/2:"right"===d.textAlign?u.width:0,y:"middle"===d.verticalAlign?
u.height/2:0}},Kj=function(d){var u=Wi(d.text,Vi(d)),v=Xh(d,u);return yg(La(La({},yj("text",d)),{},{text:d.text,fontSize:d.fontSize,fontFamily:d.fontFamily,textAlign:d.textAlign,verticalAlign:d.verticalAlign,x:d.x-v.x,y:d.y-v.y,width:u.width,height:u.height,baseline:u.baseline}),{})},Te=function(d){return La(La({},yj(d.type,d)),{},{points:d.points||[],lastCommittedPoint:null,startBinding:null,endBinding:null,startArrowhead:d.startArrowhead,endArrowhead:d.endArrowhead})},Lj=function(d,u){if(void 0===
u&&(u=0),null==d||"object"!=typeof d)return d;if("[object Object]"===Object.prototype.toString.call(d)){var v="function"==typeof d.constructor?Object.create(Object.getPrototypeOf(d)):{},G;for(G in d)d.hasOwnProperty(G)&&(0!==u||"shape"!==G&&"canvas"!==G)&&(v[G]=Lj(d[G],u+1));return v}if(Array.isArray(d)){v=d.length;for(G=Array(v);v--;)G[v]=Lj(d[v],u+1);return G}return d},Yi=function(d,u,v,G){v=Lj(v);return v.id=xi(),v.seed=Zj(),v.groupIds=function(W,fa,wa){var ua=zl([],W);fa=fa?W.indexOf(fa):-1;W=
-1<fa?fa:W.length;for(fa=0;fa<W;fa++)ua[fa]=wa(ua[fa]);return ua}(v.groupIds,d,function(W){return u.has(W)||u.set(W,xi()),u.get(W)}),G&&(v=Object.assign(v,G)),v},Re={mouse:8,pen:16,touch:28},Al={e:!0,s:!0,n:!0,w:!0},Ql={e:!0,s:!0,n:!0,w:!0},Yh={e:!0,s:!0,n:!0,w:!0,nw:!0,se:!0},zj={e:!0,s:!0,n:!0,w:!0,ne:!0,sw:!0},eh=function(d,u,v,G,W,fa,wa){d=Hf(d+v/2,u+G/2,W,fa,wa);return[d[0]-v/2,d[1]-G/2,v,G]},Fk=function(d,u,v,G,W){var fa=d[0],wa=d[1],ua=d[2];d=d[3];void 0===W&&(W={});var Ca=Re[G];G=Ca/v.value;
var Na=Ca/v.value,Ia=Ca/v.value,jb=Ca/v.value,pb=ua-fa,qb=d-wa,bc=(fa+ua)/2,Vb=(wa+d)/2,zc=4/v.value;Ca=(Ca-8)/(2*v.value);var ed={nw:W.nw?void 0:eh(fa-zc-Ia+Ca,wa-zc-jb+Ca,G,Na,bc,Vb,u),ne:W.ne?void 0:eh(ua+zc-Ca,wa-zc-jb+Ca,G,Na,bc,Vb,u),sw:W.sw?void 0:eh(fa-zc-Ia+Ca,d+zc-Ca,G,Na,bc,Vb,u),se:W.se?void 0:eh(ua+zc-Ca,d+zc-Ca,G,Na,bc,Vb,u),rotation:W.rotation?void 0:eh(fa+pb/2-G/2,wa-zc-jb+Ca-16/v.value,G,Na,bc,Vb,u)};v=5*Re.mouse/v.value;return Math.abs(pb)>v&&(W.n||(ed.n=eh(fa+pb/2-G/2,wa-zc-jb+
Ca,G,Na,bc,Vb,u)),W.s||(ed.s=eh(fa+pb/2-G/2,d+zc-Ca,G,Na,bc,Vb,u))),Math.abs(qb)>v&&(W.w||(ed.w=eh(fa-zc-Ia+Ca,wa+qb/2-Na/2,G,Na,bc,Vb,u)),W.e||(ed.e=eh(ua+zc-Ca,wa+qb/2-Na/2,G,Na,bc,Vb,u))),ed},wj=function(d,u,v){void 0===v&&(v="mouse");var G={};if("arrow"===d.type||"line"===d.type||"draw"===d.type){if(2===d.points.length){var W=d.points[1];0===W[0]||0===W[1]?G=zj:0<W[0]&&0>W[1]?G=Yh:0<W[0]&&0<W[1]?G=zj:0>W[0]&&0<W[1]?G=Yh:0>W[0]&&0>W[1]&&(G=zj)}}else"text"===d.type&&(G=Ql);return Fk(ig(d),d.angle,
u,v,G)},zi=function(d,u){return[0,0,0,0,u,d,1,0]},Yg=function(d,u){void 0===d&&(d=0);void 0===u&&(u=0);var v=[0,0,0,0,0,0,0,0];if(0>u||7<u)throw Error("Expected `index` betwen 0 and 7, got `".concat(u,"`"));return 0!==d&&(v[u]=d),v},Ih=function(d){return[d[0],d[1],d[2],d[3],-d[4],-d[5],-d[6],-d[7]]},yl=function(d,u){return"number"==typeof u?[d[0]-u,d[1],d[2],d[3],d[4],d[5],d[6],d[7]]:[d[0]-u[0],d[1]-u[1],d[2]-u[2],d[3]-u[3],d[4]-u[4],d[5]-u[5],d[6]-u[6],d[7]-u[7]]},Jk=function(d,u){return"number"==
typeof u?[d[0]*u,d[1]*u,d[2]*u,d[3]*u,d[4]*u,d[5]*u,d[6]*u,d[7]*u]:[u[0]*d[0]+u[2]*d[2]+u[3]*d[3]-u[6]*d[6],u[1]*d[0]+u[0]*d[1]-u[4]*d[2]+u[5]*d[3]+u[2]*d[4]-u[3]*d[5]-u[7]*d[6]-u[6]*d[7],u[2]*d[0]+u[0]*d[2]-u[6]*d[3]+u[3]*d[6],u[3]*d[0]+u[6]*d[2]+u[0]*d[3]-u[2]*d[6],u[4]*d[0]+u[2]*d[1]-u[1]*d[2]+u[7]*d[3]+u[0]*d[4]+u[6]*d[5]-u[5]*d[6]+u[3]*d[7],u[5]*d[0]-u[3]*d[1]+u[7]*d[2]+u[1]*d[3]-u[6]*d[4]+u[0]*d[5]+u[4]*d[6]+u[2]*d[7],u[6]*d[0]+u[3]*d[2]-u[2]*d[3]+u[0]*d[6],u[7]*d[0]+u[6]*d[1]+u[5]*d[2]+u[4]*
d[3]+u[3]*d[4]+u[2]*d[5]+u[1]*d[6]+u[0]*d[7]]},gk=function(d,u){return[Mj(d,u),d[1]*u[7]+d[4]*u[5]-d[5]*u[4]+d[7]*u[1],d[2]*u[7]-d[4]*u[6]+d[6]*u[4]+d[7]*u[2],d[3]*u[7]+d[5]*u[6]-d[6]*u[5]+d[7]*u[3],d[4]*u[7]+d[7]*u[4],d[5]*u[7]+d[7]*u[5],d[6]*u[7]+d[7]*u[6],d[7]*u[7]]},Mj=function(d,u){return d[0]*u[7]+d[1]*u[6]+d[2]*u[5]+d[3]*u[4]+d[4]*u[3]+d[5]*u[2]+d[6]*u[1]+d[7]*u[0]},Sm=function(d){return Math.sqrt(Math.abs(d[0]*d[0]-d[2]*d[2]-d[3]*d[3]+d[6]*d[6]))},lj=function(d){var u=Sm(d);return 0===u||
1===u?d:Jk(d,(0>d[6]?-1:1)/u)},Nl=(Yg(1,1),Yg(1,2),Yg(1,3),Yg(1,4),Yg(1,5),Yg(1,6),Yg(1,7),function(d,u,v){return lj([0,v,d,u,0,0,0,0])}),dk=function(d,u){return v=d,[(G=u)[0]*v[0]+G[2]*v[2]+G[3]*v[3]-G[6]*v[6],G[1]*v[0]+G[0]*v[1]-G[4]*v[2]+G[5]*v[3]+G[2]*v[4]-G[3]*v[5]-G[7]*v[6]-G[6]*v[7],G[2]*v[0]+G[0]*v[2]-G[6]*v[3]+G[3]*v[6],G[3]*v[0]+G[6]*v[2]+G[0]*v[3]-G[2]*v[6],G[4]*v[0]+G[7]*v[3]+G[0]*v[4]+G[3]*v[7],G[5]*v[0]+G[7]*v[2]+G[0]*v[5]+G[2]*v[7],G[6]*v[0]+G[0]*v[6],G[7]*v[0]+G[0]*v[7]];var v,G},
ek=function(d){return[0,0,0,0,d[1],d[0],1,0]},hi=function(d){return[d[5],d[4]]},oj=function(d,u){return v=Jk(d,Math.sin(u/2)),G=Math.cos(u/2),"number"==typeof G?[v[0]+G,v[1],v[2],v[3],v[4],v[5],v[6],v[7]]:[v[0]+G[0],v[1]+G[1],v[2]+G[2],v[3]+G[3],v[4]+G[4],v[5]+G[5],v[6]+G[6],v[7]+G[7]];var v,G},Ni=function(d,u){return lj(Jk(Jk(d,u),Ih(d)))},Lk=function(d,u,v,G){var W=10/u.zoom.value;return!fk(d,u,[v,G])&&Rl(d,[v,G],W)},fk=function(d,u,v){u=10/u.zoom.value;if("text"===d.type)var G=dm;else"arrow"===
d.type?G=!1:(G="transparent"!==d.backgroundColor,G="line"===d.type||"draw"===d.type?G&&ei(d.points):G),G=G?ik:Ik;return nj({element:d,point:v,threshold:u,check:G})},Rl=function(d,u,v){var G=u[0],W=u[1],fa=ig(d);u=fa[0];var wa=fa[1],ua=fa[2];fa=fa[3];G=Hf(G,W,(u+ua)/2,(wa+fa)/2,-d.angle);d=G[0];G=G[1];return d>u-v&&d<ua+v&&G>wa-v&&G<fa+v},Mk=function(d,u){var v=u.x;u=u.y;var G=Zi(d,d.width,d.height);return nj({element:d,point:[v,u],threshold:G,check:Gn})},Zi=function(d,u,v){return Math.max(16,Math.min(.25*
("diamond"===d.type?1/Math.sqrt(2):1)*Math.min(u,v),32))},nj=function(d){switch(d.element.type){case "rectangle":case "text":case "diamond":case "ellipse":var u=cm(d.element,d.point);return d.check(u,d.threshold);case "arrow":case "line":case "draw":return eo(d);case "selection":return console.warn("This should not happen, we need to investigate why it does."),!1}},cm=function(d,u){switch(d.type){case "rectangle":case "text":var v=Ui(d,u),G=v[1],W=v[2];d=Math;u=d.max;v=Nl(0,1,-v[3]);v=Mj(G,v);W=Nl(1,
0,-W);G=Mj(G,W);return u.call(d,v,G);case "diamond":return G=Ui(d,u),d=G[1],u=G[2],G=G[3],u=Nl(G,u,-G*u),Mj(d,u);case "ellipse":return d=qn(d,u),u=d[1],-Math.sign(u[1])*Mj(d[0],u)}},dm=function(d,u){return 0>d},ik=function(d,u){return d<u},Ik=function(d,u){return Math.abs(d)<u},Gn=function(d,u){return 0<=d&&d<u},qn=function(d,u){u=Ui(d,u);d=u[1];var v=u[2],G=u[3];u=hi(d);var W=u[0],fa=u[1],wa=.707,ua=.707;[0,1,2,3].forEach(function(Ca){Ca=(v*v-G*G)*Math.pow(wa,3)/v;var Na=(G*G-v*v)*Math.pow(ua,3)/
G,Ia=W-Ca,jb=fa-Na,pb=Math.hypot(G*ua-Na,v*wa-Ca),qb=Math.hypot(jb,Ia);wa=Math.min(1,Math.max(0,(Ia*pb/qb+Ca)/v));ua=Math.min(1,Math.max(0,(jb*pb/qb+Na)/G));Ca=Math.hypot(ua,wa);wa/=Ca;ua/=Ca});u=zi(v*wa,G*ua);return[d,dk(lj(gk(u,d)),u)]},eo=function(d){var u=d.element,v=d.threshold;if(!wi.get(u))return!1;var G=Ui(d.element,d.point),W=G[0],fa=G[1],wa=G[2];G=Nl(0,1,-G[3]);wa=Nl(1,0,-wa);if(!ik(Mj(fa,G),v)||!ik(Mj(fa,wa),v))return!1;W=hi(W);var ua=W[0],Ca=W[1];W=wi.get(u);return d.check===ik&&W.some(function(Na){var Ia=
u.strokeSharpness;var jb=[],pb=!1,qb=0;for(Na=Hi(Na);qb<Na.length;qb++){var bc=Na[qb];"move"===bc.op?(pb=!pb)&&jb.push([bc.data[0],bc.data[1]]):"bcurveTo"===bc.op&&pb&&(jb.push([bc.data[0],bc.data[1]]),jb.push([bc.data[2],bc.data[3]]),jb.push([bc.data[4],bc.data[5]]))}4<=jb.length?"sharp"===Ia?Ia=Ei(jb,ua,Ca):(Ia=I(jb,10,5),Ia=Ei(Ia,ua,Ca)):Ia=!1;return Ia})?!0:W.some(function(Na){return Xk(Na,ua,Ca,v)})},Ui=function(d,u){var v,G=ek(u);u=ig(d);var W=Sl(u),fa=oj(W,d.angle);G=Ni(fa,G);W=yl(G,[0,0,0,
0,W[4],W[5],0,0]);W=[0,0,0,0,Math.abs(W[4]),Math.abs(W[5]),1,0];d=(v=d.x,[0,0,0,0,d.y,v,0,0]);return[yl(G,d),W,(u[2]-u[0])/2,(u[3]-u[1])/2]},Ll=function(d){var u=ig(d);u=Sl(u);d=oj(u,d.angle);u=[0,0,0,0,u[4],u[5],0,0];u=Ih([1,0,0,0,-.5*u[5],.5*u[4],0,0]);return Jk(u,d)},Sl=function(d){return zi((d[0]+d[2])/2,(d[1]+d[3])/2)},Ak=function(d,u,v,G){switch(void 0===G&&(G=0),d.type){case "rectangle":case "text":case "diamond":var W=Ag(d);var fa=W.flatMap(function(wa,ua){ua=[wa,W[(ua+1)%4]];var Ca=G;wa=
ua[0];ua=ua[1];var Na=[0,0,0,0,ua[4]-wa[4],ua[5]-wa[5],0,0];var Ia=Math.sqrt(Math.abs(Na[7]*Na[7]-Na[5]*Na[5]-Na[4]*Na[4]+Na[1]*Na[1]));Na=0===Ia||1===Ia?Na:Jk(Na,1/Ia);Ca*=.5;Ca=[1,0,0,0,Ca*Na[4],Ca*Na[5],0,0];ua=[Ni(Ca,wa),Ni(Ca,ua)];wa=ua[0];ua=ua[1];if(0<=Mj(wa,u)*Mj(ua,u))var jb=[];else{a:{wa=lj(gk(ua,wa));wa=lj((jb=u,[(pb=wa)[0]*jb[0],pb[1]*jb[0]+pb[0]*jb[1],pb[2]*jb[0]+pb[0]*jb[2],pb[3]*jb[0]+pb[0]*jb[3],pb[4]*jb[0]+pb[2]*jb[1]-pb[1]*jb[2]+pb[0]*jb[4],pb[5]*jb[0]-pb[3]*jb[1]+pb[1]*jb[3]+pb[0]*
jb[5],pb[6]*jb[0]+pb[3]*jb[2]-pb[2]*jb[3]+pb[0]*jb[6],pb[7]*jb[0]+pb[6]*jb[1]+pb[5]*jb[2]+pb[4]*jb[3]+pb[3]*jb[4]+pb[2]*jb[5]+pb[1]*jb[6]]));break a;var pb}jb=[wa]}return jb}).concat(W.flatMap(function(wa){var ua=G;if(0===ua)var Ca=0===Mj(u,wa)?[wa]:[];else{Ca=u[2];var Na=u[3],Ia=u[1],jb=hi(wa);wa=jb[0];var pb=jb[1];jb=Ca*Ca+Na*Na;ua=ua*ua*jb-Math.pow(Ca*wa+Na*pb+Ia,2);if(0===jb||0>=ua)Ca=[];else{ua=Math.sqrt(ua);var qb=wa*Na*Na-pb*Ca*Na-Ca*Ia;Ia=pb*Ca*Ca-wa*Ca*Na-Na*Ia;Ca=[zi((qb+Na*ua)/jb,(Ia-Ca*
ua)/jb),zi((qb-Na*ua)/jb,(Ia+Ca*ua)/jb)]}}return Ca}));break;case "ellipse":fa=Fi(d,G,u)}if(2>fa.length)return[];d=fa.sort(function(wa,ua){return Sm(gk(wa,v))-Sm(gk(ua,v))});return[d[0],d[d.length-1]]},Ag=function(d,u){void 0===u&&(u=1);var v=u*d.width/2;u=u*d.height/2;switch(d.type){case "rectangle":case "text":return[zi(v,u),zi(v,-u),zi(-v,-u),zi(-v,u)];case "diamond":return[zi(0,u),zi(v,0),zi(0,-u),zi(-v,0)]}},Fi=function(d,u,v){var G=d.width/2+u;d=d.height/2+u;u=v[2];var W=v[3],fa=v[1];v=G*G*
u*u+d*d*W*W;var wa=v-fa*fa;if(0===v||0>=wa)return[];wa=Math.sqrt(wa);var ua=-G*G*u*fa;fa*=-d*d*W;return[zi((ua+G*d*W*wa)/v,(fa-G*d*u*wa)/v),zi((ua-G*d*W*wa)/v,(fa+G*d*u*wa)/v)]},oh=function(d,u,v){var G=Math.sign(u),W=0,fa=null;return Ag(d,Math.abs(u)).forEach(function(wa){var ua=G*lj(gk(wa,v))[1];ua>W&&(W=ua,fa=wa)}),fa},Xk=function(d,u,v,G){var W=[0,0];return Hi(d).some(function(fa,wa){wa=fa.op;var ua=fa.data;if("move"===wa)W=ua;else if("bcurveTo"===wa){fa=[ua[0],ua[1]];wa=[ua[2],ua[3]];ua=[ua[4],
ua[5]];var Ca=W;return W=ua,function(Na,Ia,jb,pb,qb,bc){var Vb=qb[0];qb=qb[1];for(var zc=function(le,ke){return Math.pow(1-le,3)*pb[ke]+3*le*Math.pow(1-le,2)*jb[ke]+3*Math.pow(le,2)*(1-le)*Ia[ke]+Na[ke]*Math.pow(le,3)},ed=0;1>=ed;){var id=zc(ed,0),vd=zc(ed,1);if(Math.sqrt(Math.pow(id-Vb,2)+Math.pow(vd-qb,2))<bc)return!0;ed+=.01}return!1}(Ca,fa,wa,ua,[u,v],G)}return!1})},dh=function(d,u,v){return u>=d[0]&&u<=d[0]+d[2]&&v>=d[1]&&v<=d[1]+d[3]},Oi=function(d,u,v,G,W,fa){return d.reduce(function(wa,ua){return wa?
wa:(wa=function(Ca,Na,Ia,jb,pb,qb){if(!Na.selectedElementIds[Ca.id])return!1;Ca=wj(Ca,pb,qb);Na=Ca.rotation;var bc=Vh()(Ca,["rotation"]);if(Na&&dh(Na,Ia,jb))return"rotation";Ca=Object.keys(bc).filter(function(Vb){Vb=bc[Vb];return!!Vb&&dh(Vb,Ia,jb)});return 0<Ca.length&&Ca[0]}(ua,u,v,G,W,fa))?{element:ua,transformHandleType:wa}:null},null)},of=function(d,u,v,G,W){var fa=Fk([d[0],d[1],d[2],d[3]],0,G,W,Al);return Object.keys(fa).find(function(wa){return(wa=fa[wa])&&dh(wa,u,v)})||!1},Ah=["ns","nesw",
"ew","nwse"],Ie=function(d){var u=d.element,v=u&&-1==Math.sign(u.height)*Math.sign(u.width),G=null;switch(d.transformHandleType){case "n":case "s":G="ns";break;case "w":case "e":G="ew";break;case "nw":case "se":G=v?"nesw":"nwse";break;case "ne":case "sw":G=v?"nwse":"nesw";break;case "rotation":return"grab"}G&&u&&(d=G,u=u.angle,v=Ah.indexOf(d),0<=v&&(d=Ah[(v+Math.round(u/(Math.PI/4)))%Ah.length]),G=d);return G?"".concat(G,"-resize"):""},dl=function(d,u){for(var v=0,G=u.length,W=d.length;v<G;v++,W++)d[W]=
u[v];return d},dg=function(){function d(u,v){this.elementId=u.id;yh.mapElementToScene(this.elementId,v);d.normalizePoints(u);this.lastUncommittedPoint=this.activePointIndex=null;this.isDragging=!1;this.pointerOffset={x:0,y:0};this.endBindingElement=this.startBindingElement="keep"}return d.getElement=function(u){var v;return(null===(v=yh.getScene(u))||void 0===v?void 0:v.getNonDeletedElement(u))||null},d.handlePointDragging=function(u,v,G,W,fa){if(!u.editingLinearElement)return!1;var wa=u.editingLinearElement,
ua=wa.activePointIndex,Ca=wa.isDragging,Na=d.getElement(wa.elementId);return Na?null!=ua&&-1<ua?(!1===Ca&&v({editingLinearElement:ib(ib({},wa),{},{isDragging:!0})}),u=d.createPointAt(Na,G-wa.pointerOffset.x,W-wa.pointerOffset.y,u.gridSize),d.movePoint(Na,ua,u),og(Na)&&fa(Na,0===ua?"start":"end"),!0):!1:!1},d.handlePointerUp=function(u,v,G){u=v.activePointIndex;var W=v.isDragging,fa=d.getElement(v.elementId);if(!fa)return v;var wa={};!W||0!==u&&u!==fa.points.length-1||(ei(fa.points,G.zoom.value)&&
d.movePoint(fa,u,0===u?fa.points[fa.points.length-1]:fa.points[0]),W=G.isBindingEnabled?bi(Dg(d.getPointAtIndexGlobalCoordinates(fa,u)),yh.getScene(fa)):null,(G={})[0===u?"startBindingElement":"endBindingElement"]=W,wa=G);return ib(ib(ib({},v),wa),{},{isDragging:!1,pointerOffset:{x:0,y:0}})},d.handlePointerDown=function(u,v,G,W,fa){var wa={didAddPoint:!1,hitElement:null};if(!v.editingLinearElement)return wa;var ua=d.getElement(v.editingLinearElement.elementId);if(!ua)return wa;if(u.altKey)return null==
v.editingLinearElement.lastUncommittedPoint&&jf(ua,{points:dl(dl([],ua.points),[d.createPointAt(ua,fa.x,fa.y,v.gridSize)])}),W.resumeRecording(),G({editingLinearElement:ib(ib({},v.editingLinearElement),{},{activePointIndex:ua.points.length-1,lastUncommittedPoint:null,endBindingElement:bi(fa,yh.getScene(ua))})}),wa.didAddPoint=!0,wa;u=d.getPointIndexUnderCursor(ua,v.zoom,fa.x,fa.y);if(-1<u)wa.hitElement=ua;else{var Ca=v.editingLinearElement;W=Ca.startBindingElement;Ca=Ca.endBindingElement;v.isBindingEnabled&&
og(ua)&&Pf(ua,W,Ca)}Ca=ig(ua);W=(Ca[0]+Ca[2])/2;Ca=(Ca[1]+Ca[3])/2;ua=-1<u&&Hf(ua.x+ua.points[u][0],ua.y+ua.points[u][1],W,Ca,ua.angle);return G({editingLinearElement:ib(ib({},v.editingLinearElement),{},{activePointIndex:-1<u?u:null,pointerOffset:ua?{x:fa.x-ua[0],y:fa.y-ua[1]}:{x:0,y:0}})}),wa},d.handlePointerMove=function(u,v,G,W,fa){var wa=W.lastUncommittedPoint,ua=d.getElement(W.elementId);if(!ua)return W;var Ca=ua.points,Na=Ca[Ca.length-1];if(!u.altKey)return Na===wa&&d.movePoint(ua,Ca.length-
1,"delete"),ib(ib({},W),{},{lastUncommittedPoint:null});u=d.createPointAt(ua,v-W.pointerOffset.x,G-W.pointerOffset.y,fa);return Na===wa?d.movePoint(ua,ua.points.length-1,u):d.movePoint(ua,"new",u),ib(ib({},W),{},{lastUncommittedPoint:ua.points[ua.points.length-1]})},d.getPointsGlobalCoordinates=function(u){var v=ig(u),G=(v[0]+v[2])/2,W=(v[1]+v[3])/2;return u.points.map(function(fa){var wa;return[(wa=Hf(u.x+fa[0],u.y+fa[1],G,W,u.angle))[0],wa[1]]})},d.getPointAtIndexGlobalCoordinates=function(u,v){var G=
0>v?u.points.length+v:v;v=ig(u);G=u.points[G];return Hf(u.x+G[0],u.y+G[1],(v[0]+v[2])/2,(v[1]+v[3])/2,u.angle)},d.pointFromAbsoluteCoords=function(u,v){var G=ig(u);v=Hf(v[0],v[1],(G[0]+G[2])/2,(G[1]+G[3])/2,-u.angle);return[v[0]-u.x,v[1]-u.y]},d.getPointIndexUnderCursor=function(u,v,G,W){u=this.getPointsGlobalCoordinates(u);for(var fa=u.length;-1<--fa;){var wa=u[fa];if(Math.hypot(wa[0]-G,wa[1]-W)*v.value<this.POINT_HANDLE_SIZE/2+1)return fa}return-1},d.createPointAt=function(u,v,G,W){v=ri(v,G,W);
G=ig(u);v=Hf(v[0],v[1],(G[0]+G[2])/2,(G[1]+G[3])/2,-u.angle);return[v[0]-u.x,v[1]-u.y]},d.normalizePoints=function(u){var v=u.points,G=v[0][0],W=v[0][1];jf(u,{points:v.map(function(fa,wa){return[fa[0]-G,fa[1]-W]}),x:u.x+G,y:u.y+W})},d.movePointByOffset=function(u,v,G){var W=u.points[v];d.movePoint(u,v,[W[0]+G.x,W[1]+G.y])},d.movePoint=function(u,v,G,W){var fa=u.points,wa=0,ua=0;if("delete"===G){if("new"===v)throw Error("invalid args in movePoint");(G=fa.slice()).splice(v,1);0===v&&(wa=G[0][0],ua=
G[0][1],G=G.map(function(jb,pb){return 0===pb?[0,0]:[jb[0]-wa,jb[1]-ua]}))}else if("new"===v)G=dl(dl([],fa),[G]);else{var Ca=G[0]-fa[v][0],Na=G[1]-fa[v][1];G=fa.map(function(jb,pb){return pb===v?0===pb?(wa=Ca,ua=Na,jb):(wa=0,ua=0,[jb[0]+Ca,jb[1]+Na]):wa||ua?[jb[0]-wa,jb[1]-ua]:jb})}var Ia=Be(u,G,u.strokeSharpness||"round");fa=Be(u,fa,u.strokeSharpness||"round");fa=Hf(wa,ua,(fa[0]+fa[2])/2-(Ia[0]+Ia[2])/2,(fa[1]+fa[3])/2-(Ia[1]+Ia[3])/2,u.angle);jf(u,ib(ib({},W),{},{points:G,x:u.x+fa[0],y:u.y+fa[1]}))},
d}();dg.POINT_HANDLE_SIZE=20;var Um=function(d,u){for(var v=0,G=u.length,W=d.length;v<G;v++,W++)d[W]=u[v];return d},Pf=function(d,u,v){var G=new Set,W=new Set;Gg(d,u,v,"start",G,W);Gg(d,v,u,"end",G,W);u=Array.from(W).filter(function(fa){return!G.has(fa)});yh.getScene(d).getNonDeletedElements(u).forEach(function(fa){var wa;jf(fa,{boundElementIds:null===(wa=fa.boundElementIds)||void 0===wa?void 0:wa.filter(function(ua){return ua!==d.id})})})},Gg=function(d,u,v,G,W,fa){if("keep"!==u)if(null!=u)null!=
v&&("keep"===v?Ef(d,u,G):"start"!==G&&v.id===u.id)||(Dj(d,u,G),W.add(u.id));else{var wa;u="start"===G?"startBinding":"endBinding";v=d[u];d=null==v?null:(jf(d,((wa={})[u]=null,wa)),v.elementId);null!=d&&fa.add(d)}},vg=function(d){d.forEach(function(u){og(u)?Pf(u,Mg(u,"start"),Mg(u,"end")):yk(u)&&em(u)})},em=function(d){sh(d).forEach(function(u){var v=u[1];return Pf(u[0],"end"===v?"keep":d,"start"===v?"keep":d)})},jk=function(d,u,v,G){null!=u.startBoundElement&&Dj(d,u.startBoundElement,"start");u=bi(G,
v);null==u||Ef(d,u,"end")||Dj(d,u,"end")},Dj=function(d,u,v){var G,W;jf(d,((G={})["start"===v?"startBinding":"endBinding"]=function(fa){for(var wa=1;wa<arguments.length;wa++){var ua=null!=arguments[wa]?arguments[wa]:{};wa%2?ac(Object(ua),!0).forEach(function(Ca){pd()(fa,Ca,ua[Ca])}):Object.getOwnPropertyDescriptors?Object.defineProperties(fa,Object.getOwnPropertyDescriptors(ua)):ac(Object(ua)).forEach(function(Ca){Object.defineProperty(fa,Ca,Object.getOwnPropertyDescriptor(ua,Ca))})}return fa}({elementId:u.id},
af(d,u,v)),G));jf(u,{boundElementIds:Array.from(new Set(Um(Um([],null!==(W=u.boundElementIds)&&void 0!==W?W:[]),[d.id])))})},Ef=function(d,u,v){v=d["start"===v?"endBinding":"startBinding"];return(null==v?void 0:v.elementId)===u.id&&3>d.points.length},ih=function(d){d.forEach(function(u){og(u)&&Pf(u,null,null)})},bi=function(d,u){return ni(u.getElements(),function(v){return yk(v)&&Mk(v,d)})},af=function(d,u,v){var G="start"===v?-1:1;v=-1===G?0:d.points.length-1;G=v-G;v=dg.getPointAtIndexGlobalCoordinates(d,
v);G=dg.getPointAtIndexGlobalCoordinates(d,G);a:{d=Ll(u);G=Ni(d,ek(G));d=Ni(d,ek(v));var W=lj(gk(d,G));d=u.height/u.width;G=u.width/2;var fa=u.height/2,wa=W[2],ua=W[3];W=W[1];var Ca=Math.abs(ua),Na=Math.abs(wa);switch(u.type){case "rectangle":case "text":d=W/(G*(Na+d*Ca));break a;case "diamond":d=Ca<Na?W/(Na*G):W/(Ca*fa);break a;case "ellipse":d=W/(G*Math.sqrt(Math.pow(wa,2)+Math.pow(d,2)*Math.pow(ua,2)));break a}d=void 0}return{focus:d,gap:Math.max(1,cm(u,v))}},Ai=function(d,u){var v,G=null!==(v=
d.boundElementIds)&&void 0!==v?v:[];if(0!==G.length){u=null!=u?u:{};var W=u.newSize,fa=sj(u.simultaneouslyUpdated);yh.getScene(d).getNonDeletedElements(G).forEach(function(wa){var ua,Ca;if((null===(ua=wa.startBinding)||void 0===ua?void 0:ua.elementId)===d.id||(null===(Ca=wa.endBinding)||void 0===Ca?void 0:Ca.elementId)===d.id)ua=xf(d,wa.startBinding,W),Ca=xf(d,wa.endBinding,W),fa.has(wa.id)?jf(wa,{startBinding:ua,endBinding:Ca}):(jn(wa,"start",ua,d),jn(wa,"end",Ca,d))})}},sj=function(d){return new Set((d||
[]).map(function(u){return u.id}))},jn=function(d,u,v,G){var W;if(!(null==v||v.elementId!==G.id&&2<d.points.length)){var fa=yh.getScene(d).getElement(v.elementId);if(null!=fa){var wa="start"===u?-1:1;G=-1===wa?0:d.points.length-1;var ua=dg.getPointAtIndexGlobalCoordinates(d,G-wa);wa=function(Ca,Na,Ia){if(0===Na){var jb=ig(Ca);jb=Sl(jb);return hi(jb)}jb=Ll(Ca);Ia=Ni(jb,ek(Ia));jb=Ih(jb);switch(Ca.type){case "rectangle":case "text":case "diamond":var pb=oh(Ca,Na,Ia);break;case "ellipse":var qb=Math.abs(Na);
pb=Ca.width*qb/2;Ca=Ca.height*qb/2;Na=Math.sign(Na);qb=hi(Ia);Ia=qb[0];qb=qb[1];qb=0===qb?1E-4:qb;var bc=Math.pow(Ia,2)*Math.pow(Ca,2)+Math.pow(qb,2)*Math.pow(pb,2);Na=(-Ia*Math.pow(Ca,2)+Na*qb*Math.sqrt(Math.max(0,bc-Math.pow(pb,2)*Math.pow(Ca,2))))/bc;Ia=(-Na*Ia-1)/qb;pb=-Math.pow(pb,2)*Na/(Math.pow(Ia,2)*Math.pow(Ca,2)+Math.pow(Na,2)*Math.pow(pb,2));pb=zi(pb,(-Na*pb-1)/Ia)}return hi(Ni(jb,pb))}(fa,v.focus,ua);0===v.gap?fa=wa:(fa=function(Ca,Na,Ia,jb){void 0===jb&&(jb=0);var pb=Ll(Ca);Na=Ni(pb,
ek(Na));Ia=Ni(pb,ek(Ia));Ia=lj(gk(Ia,Na));var qb=Ih(pb);return Ak(Ca,Ia,Na,jb).map(function(bc){return hi(Ni(qb,bc))})}(fa,ua,wa,v.gap),fa=0===fa.length?wa:fa[0]);dg.movePoint(d,G,dg.pointFromAbsoluteCoords(d,fa),((W={})["start"===u?"startBinding":"endBinding"]=v,W))}}},xf=function(d,u,v){if(null==u||null==v)return u;var G=u.gap,W=u.focus,fa=v.width;v=v.height;var wa=d.width,ua=d.height;return{elementId:u.elementId,gap:Math.max(1,Math.min(Zi(d,fa,v),G*(fa<v?fa/wa:v/ua))),focus:W}},Il=function(d){return[Mg(d,
"start"),Mg(d,"end")].filter(function(u){return null!=u})},Mg=function(d,u){return bi(Dg(dg.getPointAtIndexGlobalCoordinates(d,"start"===u?0:-1)),yh.getScene(d))},sh=function(d){return yh.getScene(d).getElements().map(function(u){if(!og(u))return null;var v=Vf(u,"start",d),G=Vf(u,"end",d);return v||G?[u,v&&G?"both":v?"start":"end",d]:null}).filter(function(u){return null!=u})},Vf=function(d,u,v){return null==d["start"===u?"startBinding":"endBinding"]&&!Ef(d,v,u)&&Mk(v,Dg(dg.getPointAtIndexGlobalCoordinates(d,
"start"===u?0:-1)))},Uj=function(d,u,v,G){var W=new Set,fa=new Set,wa="duplicatesServeAsOld"===G;u.forEach(function(ua){var Ca=ua.boundElementIds;if(null!=Ca&&0<Ca.length&&(Ca.forEach(function(Na){wa&&!v.has(Na)&&W.add(Na)}),fa.add(v.get(ua.id))),og(ua))null!=ua.startBinding&&(Ca=ua.startBinding.elementId,wa&&!v.has(Ca)&&fa.add(Ca)),null!=ua.endBinding&&(Ca=ua.endBinding.elementId,wa&&!v.has(Ca)&&fa.add(Ca)),null==ua.startBinding&&null==ua.endBinding||W.add(v.get(ua.id))});d.filter(function(ua){return W.has(ua.id)}).forEach(function(ua){var Ca=
ua.endBinding;jf(ua,{startBinding:Fh(ua.startBinding,v),endBinding:Fh(Ca,v)})});d.filter(function(ua){return fa.has(ua.id)}).forEach(function(ua){var Ca=ua.boundElementIds;null!=Ca&&0<Ca.length&&jf(ua,{boundElementIds:Ca.map(function(Na){var Ia;return null!==(Ia=v.get(Na))&&void 0!==Ia?Ia:Na})})})},Fh=function(d,u){var v;if(null==d)return null;var G=d.elementId;return{focus:d.focus,gap:d.gap,elementId:null!==(v=u.get(G))&&void 0!==v?v:G}},tj=function(d,u){var v=new Set(u.map(function(W){return W.id})),
G=new Set;u.forEach(function(W){var fa;yk(W)&&(null===(fa=W.boundElementIds)||void 0===fa||fa.forEach(function(wa){v.has(wa)||G.add(wa)}))});d.filter(function(W){return G.has(W.id)}).forEach(function(W){var fa=W.endBinding;jf(W,{startBinding:nm(W.startBinding,v),endBinding:nm(fa,v)})})},nm=function(d,u){return null==d||u.has(d.elementId)?null:d},ej=function(d,u){for(var v=0,G=u.length,W=d.length;v<G;v++,W++)d[W]=u[v];return d},Qf=function(d){return d>=2*Math.PI?d-2*Math.PI:d},kf=function(d,u,v){return Fg(d)?
{points:Gi(0,u,Gi(1,v,d.points))}:{}},Ng=function(d,u,v){u=u/d.width*d.fontSize;if(1>u)return null;d=Wi(d.text,Vi({fontSize:u,fontFamily:d.fontFamily}));return{size:u,baseline:d.baseline+(v-d.height)}},Jl=function(d,u,v,G){var W=Bg(d),fa=W[0],wa=W[1],ua=W[2],Ca=W[3];switch(u){case "se":var Na=Math.max((v-fa)/(ua-fa),(G-wa)/(Ca-wa));var Ia=function(pb,qb,bc){var Vb=qb[0];qb=qb[1];return{x:pb.x+(Vb-fa)*(Na-1)+Vb-bc[0],y:pb.y+(qb-wa)*(Na-1)+qb-bc[1]}};break;case "nw":Na=Math.max((ua-v)/(ua-fa),(Ca-G)/
(Ca-wa));Ia=function(pb,qb,bc){var Vb=qb[2];qb=qb[3];return{x:pb.x-(ua-Vb)*(Na-1)+Vb-bc[2],y:pb.y-(Ca-qb)*(Na-1)+qb-bc[3]}};break;case "ne":Na=Math.max((v-fa)/(ua-fa),(Ca-G)/(Ca-wa));Ia=function(pb,qb,bc){var Vb=qb[0];qb=qb[3];return{x:pb.x+(Vb-fa)*(Na-1)+Vb-bc[0],y:pb.y-(Ca-qb)*(Na-1)+qb-bc[3]}};break;case "sw":Na=Math.max((ua-v)/(ua-fa),(G-wa)/(Ca-wa)),Ia=function(pb,qb,bc){var Vb=qb[1];qb=qb[2];return{x:pb.x-(ua-qb)*(Na-1)+qb-bc[2],y:pb.y+(Vb-wa)*(Na-1)+Vb-bc[1]}}}if(0<Na){var jb=d.reduce(function(pb,
qb){if(!pb)return pb;var bc=qb.width*Na,Vb=qb.height*Na,zc={};if("text"===qb.type){zc=Ng(qb,bc,Vb);if(null===zc)return null;zc={fontSize:zc.size,baseline:zc.baseline}}var ed=ig(qb),id=kf(qb,bc,Vb);Ai(qb,{newSize:{width:bc,height:Vb},simultaneouslyUpdated:d});var vd=Pg(Hc(Hc({},qb),id),bc,Vb);ed=Ia(qb,ed,vd);qb=ed.x;ed=ed.y;return ej(ej([],pb),[Hc(Hc({width:bc,height:Vb,x:qb,y:ed},id),zc)])},[]);jb&&d.forEach(function(pb,qb){jf(pb,jb[qb])})}},rl=function(d,u,v,G,W,fa,wa){var ua=5*Math.PI/2+Math.atan2(G-
wa,v-fa);W&&(ua+=hc.ay/2,ua-=ua%hc.ay);u.forEach(function(Ca,Na){var Ia,jb,pb=ig(Ca);Na=(pb[0]+pb[2])/2;pb=(pb[1]+pb[3])/2;var qb=null!==(Ia=null===(jb=d.originalElements.get(Ca.id))||void 0===jb?void 0:jb.angle)&&void 0!==Ia?Ia:Ca.angle;Ia=Hf(Na,pb,fa,wa,ua+qb-Ca.angle);jf(Ca,{x:Ca.x+(Ia[0]-Na),y:Ca.y+(Ia[1]-pb),angle:Qf(ua+qb)})})},li=function(d,u,v,G,W,fa,wa,ua,Ca,Na){var Ia;Ca&&(wa=(Ia=Ye(u,wa,fa<G?-ua:ua)).width,0>(ua=Ia.height)&&(ua=-ua));u=W<v?v-wa:v;fa=fa<G?G-ua:G;Na&&(u=v-(wa+=wa)/2,fa=G-
(ua+=ua)/2);0!==wa&&0!==ua&&jf(d,{x:u,y:fa,width:wa,height:ua})},sl=function(d){return d.replace(/\t/g,"        ").replace(/\r?\n|\r/g,"\n")},qk=function(d){var u=Wi(d.text,Vi(d));jf(d,{width:u.width,height:u.height,baseline:u.baseline})},rh=function(d,u){return!(d.viewModeEnabled||!d.editingElement&&!uf(u,d).length&&"selection"===d.elementType)},Nk=function(d){return d.filter(function(u){return u.isDeleted||!Rh(u)})},$i=function(d){return d.reduce(function(u,v){return u[v.id]=v,u},{})},cl=function(d){return d.reduce(function(u,
v){return u+v.version},0)},ge=function(d){return d.filter(function(u){return!u.isDeleted})},Df=function(d){return ge(d).map(function(u){return hj(u.type)?Dc(Dc({},u),{},{lastCommittedPoint:null}):u})},ki=function(d,u,v){var G=[d.horizontal,d.vertical].map(function(W){return null!=W&&W.x<=u&&u<=W.x+W.width&&W.y<=v&&v<=W.y+W.height});d=G[0];G=G[1];return{isOverEither:d||G,isOverHorizontal:d,isOverVertical:G}},kg=function(d,u){return d.some(function(v){return u.selectedElementIds[v.id]})},uf=function(d,
u){return d.filter(function(v){return u.selectedElementIds[v.id]})},kk=function(d,u){return u.editingElement?[u.editingElement]:uf(d,u)},Xi=function(d){var u=d.scenePoint,v=d.viewportDimensions;d=d.zoom;return{scrollX:v.width/2*(1/d.value)-u.x-1/d.value*d.translation.x,scrollY:v.height/2*(1/d.value)-u.y-1/d.value*d.translation.y}},mi=function(d,u,v){var G;if(!d.length)return{scrollX:0,scrollY:0};var W=Bg(d);v=W[0];var fa=W[1],wa=W[2];W=W[3];return function(ua,Ca,Na){Ca=Na[2];var Ia=Na[3],jb=mh({sceneX:Na[0],
sceneY:Na[1]},ua);Na=jb.x;jb=jb.y;Ca=mh({sceneX:Ca,sceneY:Ia},ua);Ia=Ca.y;return Ca.x-Na>ua.width||Ia-jb>ua.height}(u,0,[v,fa,wa,W])&&(v=(G=function(ua,Ca){if(!ua.length)return[0,0,0,0];var Na=1/0,Ia=ua[0];return ua.forEach(function(jb){var pb=si(jb);pb=Math.hypot(Ca.x-(pb[0]+pb[2])/2,Ca.y-(pb[1]+pb[3])/2);pb<Na&&(Na=pb,Ia=jb)}),si(Ia)}(d,ug({clientX:u.scrollX,clientY:u.scrollY},u)))[0],fa=G[1],wa=G[2],W=G[3]),Xi({scenePoint:{x:(v+wa)/2,y:(fa+W)/2},viewportDimensions:{width:u.width,height:u.height},
zoom:u.zoom})},Oj=function(d){return"rectangle"===d||"ellipse"===d||"diamond"===d||"draw"===d||"line"===d},Uf=function(d){return"rectangle"===d||"ellipse"===d||"diamond"===d||"arrow"===d||"draw"===d||"line"===d},rk=function(d){return"rectangle"===d||"arrow"===d||"draw"===d||"line"===d},ni=function(d,u){for(var v=null,G=d.length-1;0<=G;--G){var W=d[G];if(!W.isDeleted&&u(W)){v=W;break}}return v},ci=function(d,u,v,G){return void 0===G&&(G={x:0,y:0}),{value:d,translation:{x:G.x-v.left-d/u.value*(G.x-
v.left-u.translation.x),y:G.y-v.top-d/u.value*(G.y-v.top-u.translation.y)}}},Sj=function(d){d=parseFloat(d.toFixed(2));return Math.max(.1,Math.min(d,10))},gf=(h(9478),Da().forwardRef(function(d,u){var v=Da().useRef(null);Da().useImperativeHandle(u,function(){return v.current});u="ToolIcon_size_".concat(d.size||"m");return"button"===d.type?Da().createElement("button",{className:xc("ToolIcon_type_button",u,d.className,d.visible&&!d.hidden?"ToolIcon_type_button--show":"ToolIcon_type_button--hide",{ToolIcon:!d.hidden,
"ToolIcon--selected":d.selected}),hidden:d.hidden,title:d.title,"aria-label":d["aria-label"],type:"button",onClick:d.onClick,ref:v},Da().createElement("div",{className:"ToolIcon__icon","aria-hidden":"true"},d.icon||d.label,d.keyBindingLabel&&Da().createElement("span",{className:"ToolIcon__keybinding"},d.keyBindingLabel)),d.showAriaLabel&&Da().createElement("div",{className:"ToolIcon__label"},d["aria-label"]),d.children):Da().createElement("label",{className:xc("ToolIcon",d.className),title:d.title},
Da().createElement("input",{className:"ToolIcon_type_radio ".concat(u),type:"radio",name:d.name,"aria-label":d["aria-label"],"aria-keyshortcuts":d["aria-keyshortcuts"],"data-testid":d["data-testid"],id:d.id,onChange:d.onChange,checked:d.checked,ref:v}),Da().createElement("div",{className:"ToolIcon__icon"},d.icon,d.keyBindingLabel&&Da().createElement("span",{className:"ToolIcon__keybinding"},d.keyBindingLabel)))}));gf.defaultProps={visible:!0,className:""};var zg=function(d){return"light"===d?Ee.$y[4]:
Ee.$y[9]},ve=function(d){return"light"===d?Ee.Sn:Ee.MA[4]},Hg=function(d){return"light"===d?Ee.ix:"#1e1e1e"},te=function(d,u){void 0===u&&(u=512);u="number"==typeof u?{width:u}:u;var v=u.width;v=void 0===v?512:v;var G=u.height;G=void 0===G?v:G;var W=u.mirror;u=u.style;return Da().createElement("svg",{"aria-hidden":"true",focusable:"false",role:"img",viewBox:"0 0 ".concat(v," ").concat(G),className:xc({"rtl-mirror":W}),style:u},"string"==typeof d?Da().createElement("path",{fill:"currentColor",d}):
d)},tl=te("M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z",
{mirror:!0}),De=te("M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z",{width:448,height:512}),Fm=te("M252 54L203 8a28 27 0 00-20-8H28C12 0 0 12 0 27v195c0 15 12 26 28 26h204c15 0 28-11 28-26V73a28 27 0 00-8-19zM130 213c-21 0-37-16-37-36 0-19 16-35 37-35 20 0 37 16 37 35 0 20-17 36-37 36zm56-169v56c0 4-4 6-7 6H44c-4 0-7-2-7-6V42c0-4 3-7 7-7h133l4 2 3 2a7 7 0 012 5z M296 201l87 95-188 205-78 9c-10 1-19-8-18-20l9-84zm141-14l-41-44a31 31 0 00-46 0l-38 41 87 95 38-42c13-14 13-36 0-50z",
{width:448,height:512}),om=te("M572.694 292.093L500.27 416.248A63.997 63.997 0 0 1 444.989 448H45.025c-18.523 0-30.064-20.093-20.731-36.093l72.424-124.155A64 64 0 0 1 152 256h399.964c18.523 0 30.064 20.093 20.73 36.093zM152 224h328v-48c0-26.51-21.49-48-48-48H272l-64-64H48C21.49 64 0 85.49 0 112v278.046l69.077-118.418C86.214 242.25 117.989 224 152 224z",{width:576,height:512,mirror:!0}),tk=te("M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z",
{width:384,height:512}),Ri=te("M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z",{width:448,height:512}),Mh=te("M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"),
th=te("M384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128zM571 308l-95.7-96.4c-10.1-10.1-27.4-3-27.4 11.3V288h-64v64h64v65.2c0 14.3 17.3 21.4 27.4 11.3L571 332c6.6-6.6 6.6-17.4 0-24zm-379 28v-32c0-8.8 7.2-16 16-16h176V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V352H208c-8.8 0-16-7.2-16-16z",{width:576,height:512,mirror:!0}),oi=te("M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",
{width:448,height:512}),Ej=te("M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),sk=te("M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"),Sk=te("M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"),
lh=te("M255.545 8c-66.269.119-126.438 26.233-170.86 68.685L48.971 40.971C33.851 25.851 8 36.559 8 57.941V192c0 13.255 10.745 24 24 24h134.059c21.382 0 32.09-25.851 16.971-40.971l-41.75-41.75c30.864-28.899 70.801-44.907 113.23-45.273 92.398-.798 170.283 73.977 169.484 169.442C423.236 348.009 349.816 424 256 424c-41.127 0-79.997-14.678-110.63-41.556-4.743-4.161-11.906-3.908-16.368.553L89.34 422.659c-4.872 4.872-4.631 12.815.482 17.433C133.798 479.813 192.074 504 256 504c136.966 0 247.999-111.033 248-247.998C504.001 119.193 392.354 7.755 255.545 8z",
{mirror:!0}),Fj=te("M256.455 8c66.269.119 126.437 26.233 170.859 68.685l35.715-35.715C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.75c-30.864-28.899-70.801-44.907-113.23-45.273-92.398-.798-170.283 73.977-169.484 169.442C88.764 348.009 162.184 424 256 424c41.127 0 79.997-14.678 110.629-41.556 4.743-4.161 11.906-3.908 16.368.553l39.662 39.662c4.872 4.872 4.631 12.815-.482 17.433C378.202 479.813 319.926 504 256 504 119.034 504 8.001 392.967 8 256.002 7.999 119.193 119.646 7.755 256.455 8z",
{mirror:!0}),fd=te("M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z",
{mirror:!0}),$d=(te("M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z",{width:24,height:24}),te("M16 5l-1.42 1.42-1.59-1.59V16h-1.98V4.83L9.42 6.42 8 5l4-4 4 4zm4 5v11c0 1.1-.9 2-2 2H6c-1.11 0-2-.9-2-2V10c0-1.11.89-2 2-2h3v2H6v11h12V10h-3V8h3c1.1 0 2 .89 2 2z",
{width:24,height:24}),te(Da().createElement("path",{stroke:"currentColor",strokeWidth:"40",fill:"currentColor",d:"M148 560a318 318 0 0 0 522 110 316 316 0 0 0 0-450 316 316 0 0 0-450 0c-11 11-21 22-30 34v4h47c25 0 46 21 46 46s-21 45-46 45H90c-13 0-25-6-33-14-9-9-14-20-14-33V156c0-25 20-45 45-45s45 20 45 45v32l1 1a401 401 0 0 1 623 509l212 212a42 42 0 0 1-59 59L698 757A401 401 0 0 1 65 570a42 42 0 0 1 83-10z"}),{width:1024})),td=Da().memo(function(d){d=d.appearance;return te(Da().createElement(Da().Fragment,
null,Da().createElement("path",{d:"M22 9.556C22 8.696 21.303 8 20.444 8H16v8H8v4.444C8 21.304 8.697 22 9.556 22h10.888c.86 0 1.556-.697 1.556-1.556V9.556z",fill:ve(d),stroke:ve(d),strokeWidth:"2"}),Da().createElement("path",{d:"M16 3.556C16 2.696 15.303 2 14.444 2H3.556C2.696 2 2 2.697 2 3.556v10.888C2 15.304 2.697 16 3.556 16h10.888c.86 0 1.556-.697 1.556-1.556V3.556z",fill:zg(d),stroke:zg(d),strokeWidth:"2"})),{width:24,mirror:!0})}),Id=Da().memo(function(d){d=d.appearance;return te(Da().createElement(Da().Fragment,
null,Da().createElement("path",{d:"M16 3.556C16 2.696 15.303 2 14.444 2H3.556C2.696 2 2 2.697 2 3.556v10.888C2 15.304 2.697 16 3.556 16h10.888c.86 0 1.556-.697 1.556-1.556V3.556z",fill:zg(d),stroke:zg(d),strokeWidth:"2"}),Da().createElement("path",{d:"M22 9.556C22 8.696 21.303 8 20.444 8H9.556C8.696 8 8 8.697 8 9.556v10.888C8 21.304 8.697 22 9.556 22h10.888c.86 0 1.556-.697 1.556-1.556V9.556z",fill:ve(d),stroke:ve(d),strokeWidth:"2"})),{width:24,mirror:!0})}),pi=Da().memo(function(d){d=d.appearance;
return te(Da().createElement(Da().Fragment,null,Da().createElement("path",{d:"M13 21a1 1 0 001 1h7a1 1 0 001-1v-7a1 1 0 00-1-1h-3v5h-5v3zM11 3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h3V6h5V3z",fill:ve(d),stroke:ve(d),strokeWidth:"2"}),Da().createElement("path",{d:"M18 7.333C18 6.597 17.403 6 16.667 6H7.333C6.597 6 6 6.597 6 7.333v9.334C6 17.403 6.597 18 7.333 18h9.334c.736 0 1.333-.597 1.333-1.333V7.333z",fill:zg(d),stroke:zg(d),strokeWidth:"2"})),{width:24,mirror:!0})}),Gf=Da().memo(function(d){d=
d.appearance;return te(Da().createElement(Da().Fragment,null,Da().createElement("path",{d:"M18 7.333C18 6.597 17.403 6 16.667 6H7.333C6.597 6 6 6.597 6 7.333v9.334C6 17.403 6.597 18 7.333 18h9.334c.736 0 1.333-.597 1.333-1.333V7.333z",fill:zg(d),stroke:zg(d),strokeLinejoin:"round",strokeWidth:"2"}),Da().createElement("path",{d:"M11 3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h8V3zM22 14a1 1 0 00-1-1h-7a1 1 0 00-1 1v7a1 1 0 001 1h8v-8z",fill:ve(d),stroke:ve(d),strokeLinejoin:"round",strokeWidth:"2"})),
{width:24,mirror:!0})}),Gh=Da().memo(function(d){d=d.appearance;return te(Da().createElement(Da().Fragment,null,Da().createElement("path",{d:"M 2,5 H 22",fill:ve(d),stroke:ve(d),strokeWidth:"2",strokeLinecap:"round"}),Da().createElement("path",{d:"M 6,7 C 5.446,7 5,7.446 5,8 v 9.999992 c 0,0.554 0.446,1 1,1 h 3.0000001 c 0.554,0 0.9999999,-0.446 0.9999999,-1 V 8 C 10,7.446 9.5540001,7 9.0000001,7 Z m 9,0 c -0.554,0 -1,0.446 -1,1 v 5.999992 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 V 8 C 19,7.446 18.554,7 18,7 Z",
fill:zg(d),stroke:zg(d),strokeWidth:"2"})),{width:24,mirror:!0})}),rg=Da().memo(function(d){d=d.appearance;return te(Da().createElement(Da().Fragment,null,Da().createElement("path",{d:"M 2,19 H 22",fill:ve(d),stroke:ve(d),strokeWidth:"2",strokeLinecap:"round"}),Da().createElement("path",{d:"m 6,16.999992 c -0.554,0 -1,-0.446 -1,-1 V 6 C 5,5.446 5.446,5 6,5 H 9.0000001 C 9.5540001,5 10,5.446 10,6 v 9.999992 c 0,0.554 -0.4459999,1 -0.9999999,1 z m 9,0 c -0.554,0 -1,-0.446 -1,-1 V 10 c 0,-0.554 0.446,-1 1,-1 h 3 c 0.554,0 1,0.446 1,1 v 5.999992 c 0,0.554 -0.446,1 -1,1 z",
fill:zg(d),stroke:zg(d),strokeWidth:"2"})),{width:24,mirror:!0})}),Aj=Da().memo(function(d){d=d.appearance;return te(Da().createElement(Da().Fragment,null,Da().createElement("path",{d:"M 5,2 V 22",fill:ve(d),stroke:ve(d),strokeWidth:"2",strokeLinecap:"round"}),Da().createElement("path",{d:"m 7.000004,5.999996 c 0,-0.554 0.446,-1 1,-1 h 9.999992 c 0.554,0 1,0.446 1,1 v 3.0000001 c 0,0.554 -0.446,0.9999999 -1,0.9999999 H 8.000004 c -0.554,0 -1,-0.4459999 -1,-0.9999999 z m 0,9 c 0,-0.554 0.446,-1 1,-1 h 5.999992 c 0.554,0 1,0.446 1,1 v 3 c 0,0.554 -0.446,1 -1,1 H 8.000004 c -0.554,0 -1,-0.446 -1,-1 z",
fill:zg(d),stroke:zg(d),strokeWidth:"2"})),{width:24})}),hd=Da().memo(function(d){d=d.appearance;return te(Da().createElement(Da().Fragment,null,Da().createElement("path",{d:"M 19,2 V 22",fill:ve(d),stroke:ve(d),strokeWidth:"2",strokeLinecap:"round"}),Da().createElement("path",{d:"m 16.999996,5.999996 c 0,-0.554 -0.446,-1 -1,-1 H 6.000004 c -0.554,0 -1,0.446 -1,1 v 3.0000001 c 0,0.554 0.446,0.9999999 1,0.9999999 h 9.999992 c 0.554,0 1,-0.4459999 1,-0.9999999 z m 0,9 c 0,-0.554 -0.446,-1 -1,-1 h -5.999992 c -0.554,0 -1,0.446 -1,1 v 3 c 0,0.554 0.446,1 1,1 h 5.999992 c 0.554,0 1,-0.446 1,-1 z",
fill:zg(d),stroke:zg(d),strokeWidth:"2"})),{width:24})}),od=Da().memo(function(d){d=d.appearance;return te(Da().createElement(Da().Fragment,null,Da().createElement("path",{d:"M5 5V19Z",fill:"black"}),Da().createElement("path",{d:"M19 5V19M5 5V19",stroke:ve(d),strokeWidth:"2",strokeLinecap:"round"}),Da().createElement("path",{d:"M15 9C15.554 9 16 9.446 16 10V14C16 14.554 15.554 15 15 15H9C8.446 15 8 14.554 8 14V10C8 9.446 8.446 9 9 9H15Z",fill:zg(d),stroke:zg(d),strokeWidth:"2"})),{width:24})}),Og=
Da().memo(function(d){d=d.appearance;return te(Da().createElement(Da().Fragment,null,Da().createElement("path",{d:"M5 5L19 5M5 19H19",fill:ve(d),stroke:ve(d),strokeWidth:"2",strokeLinecap:"round"}),Da().createElement("path",{d:"M15 9C15.554 9 16 9.446 16 10V14C16 14.554 15.554 15 15 15H9C8.446 15 8 14.554 8 14V10C8 9.446 8.446 9 9 9H15Z",fill:zg(d),stroke:zg(d),strokeWidth:"2"})),{width:24})}),ad=Da().memo(function(d){d=d.appearance;return te(Da().createElement(Da().Fragment,null,Da().createElement("path",
{d:"m 5.000004,16.999996 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 v -10 c 0,-0.554 -0.446,-1 -1,-1 h -3 c -0.554,0 -1,0.446 -1,1 z m 9,-2 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 v -6 c 0,-0.554 -0.446,-1 -1,-1 h -3 c -0.554,0 -1,0.446 -1,1 z",fill:zg(d),stroke:zg(d),strokeWidth:"2"}),Da().createElement("path",{d:"M 2,12 H 22",fill:ve(d),stroke:ve(d),strokeWidth:"2",strokeDasharray:"1, 2.8",strokeLinecap:"round"})),{width:24,mirror:!0})}),Tk=Da().memo(function(d){d=d.appearance;
return te(Da().createElement(Da().Fragment,null,Da().createElement("path",{d:"M 7 5 C 6.446 5 6 5.446 6 6 L 6 9 C 6 9.554 6.446 10 7 10 L 17 10 C 17.554 10 18 9.554 18 9 L 18 6 C 18 5.446 17.554 5 17 5 L 7 5 z M 9 14 C 8.446 14 8 14.446 8 15 L 8 18 C 8 18.554 8.446 19 9 19 L 15 19 C 15.554 19 16 18.554 16 18 L 16 15 C 16 14.446 15.554 14 15 14 L 9 14 z ",fill:zg(d),stroke:zg(d),strokeWidth:"2"}),Da().createElement("path",{d:"M 12,2 V 22",fill:ve(d),stroke:ve(d),strokeWidth:"2",strokeDasharray:"1, 2.8",
strokeLinecap:"round"})),{width:24})}),Kl=te("M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z",
{width:640,height:512,mirror:!0}),uj=(te("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z"),te("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm96 328c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h160c8.8 0 16 7.2 16 16v160z"),te("M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z",
{width:352,height:512})),kh=te("M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z",{width:320,height:512,style:{marginLeft:"-0.2rem"},mirror:!0}),tg=te("M464 0c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48H176c-26.51 0-48-21.49-48-48V48c0-26.51 21.49-48 48-48h288M176 416c-44.112 0-80-35.888-80-80V128H48c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48v-48H176z",
{mirror:!0}),Vd=te("M11.553 22.894a.998.998 0 00.894 0s3.037-1.516 5.465-4.097C19.616 16.987 21 14.663 21 12V5a1 1 0 00-.649-.936l-8-3a.998.998 0 00-.702 0l-8 3A1 1 0 003 5v7c0 2.663 1.384 4.987 3.088 6.797 2.428 2.581 5.465 4.097 5.465 4.097zm-1.303-8.481l6.644-6.644a.856.856 0 111.212 1.212l-7.25 7.25a.856.856 0 01-1.212 0l-3.75-3.75a.856.856 0 111.212-1.212l3.144 3.144z",{width:24}),sf=Da().memo(function(d){d=d.appearance;return te(Da().createElement(Da().Fragment,null,Da().createElement("path",
{d:"M25 26H111V111H25",fill:ve(d)}),Da().createElement("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:ve(d),strokeWidth:"2"}),Da().createElement("path",{d:"M100 100H160V160H100",fill:ve(d)}),Da().createElement("path",
{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:ve(d),strokeWidth:"2"}),Da().createElement("rect",{x:"2.5",y:"2.5",width:"30",height:"30",fill:Hg(d),stroke:ve(d),strokeWidth:"6"}),Da().createElement("rect",
{x:"2.5",y:"149.5",width:"30",height:"30",fill:Hg(d),stroke:ve(d),strokeWidth:"6"}),Da().createElement("rect",{x:"147.5",y:"149.5",width:"30",height:"30",fill:Hg(d),stroke:ve(d),strokeWidth:"6"}),Da().createElement("rect",{x:"147.5",y:"2.5",width:"30",height:"30",fill:Hg(d),stroke:ve(d),strokeWidth:"6"})),{width:182,height:182,mirror:!0})}),Ok=Da().memo(function(d){d=d.appearance;return te(Da().createElement(Da().Fragment,null,Da().createElement("path",{d:"M25 26H111V111H25",fill:ve(d)}),Da().createElement("path",
{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:ve(d),strokeWidth:"2"}),Da().createElement("path",{d:"M100 100H160V160H100",fill:ve(d)}),Da().createElement("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",
stroke:ve(d),strokeWidth:"2"}),Da().createElement("rect",{x:"2.5",y:"2.5",width:"30",height:"30",fill:Hg(d),stroke:ve(d),strokeWidth:"6"}),Da().createElement("rect",{x:"78.5",y:"149.5",width:"30",height:"30",fill:Hg(d),stroke:ve(d),strokeWidth:"6"}),Da().createElement("rect",{x:"147.5",y:"149.5",width:"30",height:"30",fill:Hg(d),stroke:ve(d),strokeWidth:"6"}),Da().createElement("rect",{x:"147.5",y:"78.5",width:"30",height:"30",fill:Hg(d),stroke:ve(d),strokeWidth:"6"}),Da().createElement("rect",{x:"105.5",
y:"2.5",width:"30",height:"30",fill:Hg(d),stroke:ve(d),strokeWidth:"6"}),Da().createElement("rect",{x:"2.5",y:"102.5",width:"30",height:"30",fill:Hg(d),stroke:ve(d),strokeWidth:"6"})),{width:182,height:182,mirror:!0})}),Uk=Da().memo(function(d){d=d.appearance;return te(Da().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.101 16H28.0934L36 8.95989V4H33.5779L20.101 16ZM30.5704 4L17.0935 16H9.10101L22.5779 4H30.5704ZM19.5704 4L6.09349 16H4V10.7475L11.5779 4H19.5704ZM8.57036 4H4V8.06952L8.57036 4ZM36 11.6378L31.101 16H36V11.6378ZM2 2V18H38V2H2Z",
fill:ve(d)}),{width:40,height:20})}),ce=Da().memo(function(d){d=d.appearance;return te(Da().createElement("g",{fill:ve(d),fillRule:"evenodd",clipRule:"evenodd"},Da().createElement("path",{d:"M20.101 16H28.0934L36 8.95989V4H33.5779L20.101 16ZM30.5704 4L17.0935 16H9.10101L22.5779 4H30.5704ZM19.5704 4L6.09349 16H4V10.7475L11.5779 4H19.5704ZM8.57036 4H4V8.06952L8.57036 4ZM36 11.6378L31.101 16H36V11.6378ZM2 2V18H38V2H2Z"}),Da().createElement("path",{d:"M14.0001 18L3.00006 4.00002L4.5727 2.76438L15.5727 16.7644L14.0001 18ZM25.0001 18L14.0001 4.00002L15.5727 2.76438L26.5727 16.7644L25.0001 18ZM36.0001 18L25.0001 4.00002L26.5727 2.76438L37.5727 16.7644L36.0001 18Z"})),
{width:40,height:20})}),pm=Da().memo(function(d){d=d.appearance;return te(Da().createElement("path",{d:"M2 2H38V18H2V2Z",fill:ve(d)}),{width:40,height:20})}),aj=Da().memo(function(d){var u=d.appearance;d=d.strokeWidth;return te(Da().createElement("path",{d:"M6 10H34",stroke:ve(u),strokeWidth:d,fill:"none"}),{width:40,height:20})}),Yd=Da().memo(function(d){d=d.appearance;return te(Da().createElement("path",{d:"M6 10H34",stroke:ve(d),strokeWidth:2,fill:"none"}),{width:40,height:20})}),el=Da().memo(function(d){d=
d.appearance;return te(Da().createElement("path",{d:"M6 10H34",stroke:ve(d),strokeWidth:2.5,strokeDasharray:"10, 8",fill:"none"}),{width:40,height:20})}),eg=Da().memo(function(d){d=d.appearance;return te(Da().createElement("path",{d:"M6 10H34",stroke:ve(d),strokeWidth:2.5,strokeDasharray:"4, 4",fill:"none"}),{width:40,height:20})}),Si=Da().memo(function(d){d=d.appearance;return te(Da().createElement("path",{d:"M3.00098 16.1691C6.28774 13.9744 19.6399 2.8905 22.7215 3.00082C25.8041 3.11113 19.1158 15.5488 21.4962 16.8309C23.8757 18.1131 34.4155 11.7148 37.0001 10.6919",
stroke:ve(d),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),zm=Da().memo(function(d){d=d.appearance;return te(Da().createElement("path",{d:"M3 17C6.68158 14.8752 16.1296 9.09849 22.0648 6.54922C28 3.99995 22.2896 13.3209 25 14C27.7104 14.6791 36.3757 9.6471 36.3757 9.6471M6.40706 15C13 11.1918 20.0468 1.51045 23.0234 3.0052C26 4.49995 20.457 12.8659 22.7285 16.4329C25 20 36.3757 13 36.3757 13",stroke:ve(d),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),uk=Da().memo(function(d){d=
d.appearance;return te(Da().createElement("path",{d:"M3 15.6468C6.93692 13.5378 22.5544 2.81528 26.6206 3.00242C30.6877 3.18956 25.6708 15.3346 27.4009 16.7705C29.1309 18.2055 35.4001 12.4762 37 11.6177M3.97143 10.4917C6.61158 9.24563 16.3706 2.61886 19.8104 3.01724C23.2522 3.41472 22.0773 12.2013 24.6181 12.8783C27.1598 13.5536 33.3179 8.04068 35.0571 7.07244",stroke:ve(d),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),fl=Da().memo(function(d){d=d.appearance;return te(Da().createElement("path",
{d:"M10 17L10 5L35 5",stroke:ve(d),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),Vk=Da().memo(function(d){d=d.appearance;return te(Da().createElement("path",{d:"M10 17V15C10 8 13 5 21 5L33.5 5",stroke:ve(d),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),Pk=Da().memo(function(d){d=d.appearance;return te(Da().createElement("path",{d:"M6 10H34",stroke:ve(d),strokeWidth:2,fill:"none"}),{width:40,height:20})}),Hh=Da().memo(function(d){var u=d.appearance;d=d.flip;d=void 0!==
d&&d;return te(Da().createElement("g",{transform:d?"translate(40, 0) scale(-1, 1)":"",stroke:ve(u),strokeWidth:2,fill:"none"},Da().createElement("path",{d:"M34 10H6M34 10L27 5M34 10L27 15"}),Da().createElement("path",{d:"M27.5 5L34.5 10L27.5 15"})),{width:40,height:20})}),Vm=Da().memo(function(d){var u=d.appearance;d=d.flip;d=void 0!==d&&d;return te(Da().createElement("g",{stroke:ve(u),fill:ve(u),transform:d?"translate(40, 0) scale(-1, 1)":""},Da().createElement("path",{d:"M32 10L6 10",strokeWidth:2}),
Da().createElement("circle",{r:"4",transform:"matrix(-1 0 0 1 30 10)"})),{width:40,height:20})}),Hj=Da().memo(function(d){var u=d.appearance;d=d.flip;d=void 0!==d&&d;return te(Da().createElement("g",{transform:d?"translate(40, 0) scale(-1, 1)":""},Da().createElement("path",{d:"M34 10H5.99996M34 10L34 5M34 10L34 15",stroke:ve(u),strokeWidth:2,fill:"none"})),{width:40,height:20})}),jg=[],ne=function(d){return jg=jg.concat(d),d},qh=function(d,u){var v;return d.editingGroupId&&(u=ck(ge(u),d.editingGroupId),
u.length)?Wc(Wc({},d),{},{selectedElementIds:(v={},v[u[0].id]=!0,v)}):d},Rg=ne({name:"deleteSelectedElements",perform:function(d,u){if(u.editingLinearElement){var v=u.editingLinearElement,G=v.activePointIndex,W=v.startBindingElement,fa=v.endBindingElement,wa=dg.getElement(v.elementId);if(!wa)return!1;if(null==G||-1===G||2>wa.points.length)return d=d.filter(function(ua){return ua.id!==wa.id}),{elements:d,appState:Wc(Wc({},qh(u,d)),{},{editingLinearElement:null}),commitToHistory:!1};v={startBindingElement:0===
G?null:W,endBindingElement:G===wa.points.length-1?null:fa};return dg.movePoint(wa,G,"delete"),{elements:d,appState:Wc(Wc({},u),{},{editingLinearElement:Wc(Wc(Wc({},u.editingLinearElement),v),{},{activePointIndex:0<G?G-1:0})}),commitToHistory:!0}}v=function(ua,Ca){return{elements:ua.map(function(Na){return Ca.selectedElementIds[Na.id]?yg(Na,{isDeleted:!0}):Na}),appState:Wc(Wc({},Ca),{},{selectedElementIds:{}})}}(d,u);G=v.elements;v=v.appState;return tj(G,d.filter(function(ua){return u.selectedElementIds[ua.id]})),
{elements:G,appState:Wc(Wc({},v=qh(v,G)),{},{elementType:"selection",multiElement:null}),commitToHistory:kg(ge(d),u)}},contextItemLabel:"labels.delete",keyTest:function(d){return"Backspace"===d.key||"Delete"===d.key},PanelComponent:function(d){var u=d.elements,v=d.appState,G=d.updateData;return Da().createElement(gf,{type:"button",icon:Ri,title:bb("labels.delete"),"aria-label":bb("labels.delete"),onClick:function(){return G(null)},visible:kg(ge(u),v)})}}),di=function(d,u){for(var v=0,G=u.length,W=
d.length;v<G;v++,W++)d[W]=u[v];return d},Tl=function(d,u){for(var v=[],G=[],W=null,fa=-1;++fa<d.length;)u.selectedElementIds[d[fa].id]?(G.length&&(v=v.concat(G),G=[]),v.push(fa),W=fa+1):d[fa].isDeleted&&W===fa?(W=fa+1,G.push(fa)):G=[];return v},Nh=function(d,u,v,G){var W=u[v],fa=function(wa){return!wa.isDeleted&&(!d.editingGroupId||wa.groupIds.includes(d.editingGroupId))};v="left"===G?function(wa,ua,Ca){void 0===Ca&&(Ca=wa.length-1);0>Ca&&(Ca=wa.length+Ca);for(Ca=Math.min(wa.length-1,Math.max(Ca,
0))+1;-1<--Ca;)if(ua(wa[Ca],Ca,wa))return Ca;return-1}(u,fa,Math.max(0,v-1)):function(wa,ua,Ca){void 0===Ca&&(Ca=0);0>Ca&&(Ca=wa.length+Ca);for(Ca=Math.min(wa.length,Math.max(Ca,0))-1;++Ca<wa.length;)if(ua(wa[Ca],Ca,wa))return Ca;return-1}(u,fa,v+1);fa=u[v];if(!fa)return-1;if(d.editingGroupId){if((null==W?void 0:W.groupIds.join(""))===(null==fa?void 0:fa.groupIds.join("")))return v;if(null==fa||!fa.groupIds.includes(d.editingGroupId))return-1}if(!fa.groupIds.length)return v;W=d.editingGroupId?fa.groupIds[fa.groupIds.indexOf(d.editingGroupId)-
1]:fa.groupIds[fa.groupIds.length-1];W=ck(u,W);return W.length?"left"===G?u.indexOf(W[0]):u.indexOf(W[W.length-1]):v},pe=function(d,u,v){var G,W=Tl(u,d),fa=(G=0,W.reduce(function(wa,ua,Ca){return 0<Ca&&W[Ca-1]!==ua-1&&(G=++G),(wa[G]||(wa[G]=[])).push(ua),wa},[]));return"right"===v&&(fa=fa.reverse()),fa.forEach(function(wa,ua){ua=wa[0];wa=wa[wa.length-1];var Ca="left"===v?ua:wa,Na=Nh(d,u,Ca,v);if(-1!==Na&&Ca!==Na){Ca="left"===v?u.slice(0,Na):u.slice(0,ua);var Ia=u.slice(ua,wa+1);ua="left"===v?u.slice(Na,
ua):u.slice(wa+1,Na+1);wa="left"===v?u.slice(wa+1):u.slice(Na+1);u=di("left"===v?di(di(di([],Ca),Ia),ua):di(di(di([],Ca),ua),Ia),wa)}}),u},Wg=function(d,u,v){var G=Tl(d,u),W=[],fa=[];if("left"===v){if(u.editingGroupId){if(!(u=ck(d,u.editingGroupId)).length)return d;var wa=d.indexOf(u[0])}else wa=0;u=G[G.length-1]}else{if(u.editingGroupId){if(!(u=ck(d,u.editingGroupId)).length)return d;u=d.indexOf(u[u.length-1])}else u=d.length-1;wa=G[0]}for(var ua=wa;ua<u+1;ua++)G.includes(ua)?W.push(d[ua]):fa.push(d[ua]);
G=d.slice(0,wa);d=d.slice(u+1);return di("left"===v?di(di(di([],G),W),fa):di(di(di([],G),fa),W),d)},Am=ne({name:"sendBackward",perform:function(d,u){return{elements:pe(u,d.slice(),"left"),appState:u,commitToHistory:!0}},contextItemLabel:"labels.sendBackward",keyPriority:40,keyTest:function(d){return d[cf]&&!d.shiftKey&&"BracketLeft"===d.code},PanelComponent:function(d){var u=d.updateData;d=d.appState;return Da().createElement("button",{type:"button",className:"zIndexButton",onClick:function(){return u(null)},
title:"".concat(bb("labels.sendBackward")," — ").concat(Wd("CtrlOrCmd+["))},Da().createElement(Id,{appearance:d.appearance}))}}),ul=ne({name:"bringForward",perform:function(d,u){return{elements:pe(u,d.slice(),"right"),appState:u,commitToHistory:!0}},contextItemLabel:"labels.bringForward",keyPriority:40,keyTest:function(d){return d[cf]&&!d.shiftKey&&"BracketRight"===d.code},PanelComponent:function(d){var u=d.updateData;d=d.appState;return Da().createElement("button",{type:"button",className:"zIndexButton",
onClick:function(){return u(null)},title:"".concat(bb("labels.bringForward")," — ").concat(Wd("CtrlOrCmd+]"))},Da().createElement(td,{appearance:d.appearance}))}}),l=ne({name:"sendToBack",perform:function(d,u){return{elements:Wg(d,u,"left"),appState:u,commitToHistory:!0}},contextItemLabel:"labels.sendToBack",keyTest:function(d){return Kg?d[cf]&&d.altKey&&"BracketLeft"===d.code:d[cf]&&d.shiftKey&&"BracketLeft"===d.code},PanelComponent:function(d){var u=d.updateData;d=d.appState;return Da().createElement("button",
{type:"button",className:"zIndexButton",onClick:function(){return u(null)},title:"".concat(bb("labels.sendToBack")," — ").concat(Wd(Kg?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+["))},Da().createElement(Gf,{appearance:d.appearance}))}}),E=ne({name:"bringToFront",perform:function(d,u){return{elements:Wg(d,u,"right"),appState:u,commitToHistory:!0}},contextItemLabel:"labels.bringToFront",keyTest:function(d){return Kg?d[cf]&&d.altKey&&"BracketRight"===d.code:d[cf]&&d.shiftKey&&"BracketRight"===d.code},PanelComponent:function(d){var u=
d.updateData;d=d.appState;return Da().createElement("button",{type:"button",className:"zIndexButton",onClick:function(v){return u(null)},title:"".concat(bb("labels.bringToFront")," — ").concat(Wd(Kg?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]"))},Da().createElement(pi,{appearance:d.appearance}))}}),ea=ne({name:"selectAll",perform:function(d,u){return!u.editingLinearElement&&{appState:Wh(kd(kd({},u),{},{editingGroupId:null,selectedElementIds:d.reduce(function(v,G){return G.isDeleted||(v[G.id]=!0),v},{})}),
ge(d)),commitToHistory:!0}},contextItemLabel:"labels.selectAll",keyTest:function(d){return d[cf]&&"a"===d.key}}),ba=function(d,u){for(var v=0,G=u.length,W=d.length;v<G;v++,W++)d[W]=u[v];return d},oa=ne({name:"duplicateSelection",perform:function(d,u){if(u.editingLinearElement){var v=u.editingLinearElement,G=v.activePointIndex;v=dg.getElement(v.elementId);if(!v||null===G)return!1;var W=v.points,fa=W[G],wa=W[G+1];return jf(v,{points:ba(ba(ba([],W.slice(0,G+1)),[wa?[(fa[0]+wa[0])/2,(fa[1]+wa[1])/2]:
[fa[0]+30,fa[1]+30]]),W.slice(G+1))}),{appState:ue(ue({},u),{},{editingLinearElement:ue(ue({},u.editingLinearElement),{},{activePointIndex:G+1})}),elements:d,commitToHistory:!0}}return ue(ue({},Ea(d,u)),{},{commitToHistory:!0})},contextItemLabel:"labels.duplicateSelection",keyTest:function(d){return d[cf]&&"d"===d.key},PanelComponent:function(d){var u=d.elements,v=d.appState,G=d.updateData;return Da().createElement(gf,{type:"button",icon:tg,title:"".concat(bb("labels.duplicateSelection")," — ").concat(Wd("CtrlOrCmd+D")),
"aria-label":bb("labels.duplicateSelection"),onClick:function(){return G(null)},visible:kg(ge(u),v)})}}),Ea=function(d,u){for(var v=new Map,G=[],W=[],fa=new Map,wa=function(jb){var pb=Yi(u.editingGroupId,v,jb,{x:jb.x+hc.k/2,y:jb.y+hc.k/2});return fa.set(jb.id,pb.id),W.push(jb),G.push(pb),pb},ua=[],Ca=0;Ca<d.length;){var Na=d[Ca];if(u.selectedElementIds[Na.id]){if(Na.groupIds.length){var Ia=zh(u,Na);if(Ia){Na=ck(d,Ia);ua.push.apply(ua,ba(ba([],Na),Na.map(function(jb){return wa(jb)})));Ca+=Na.length;
continue}}ua.push(Na,wa(Na))}else ua.push(Na);Ca++}return Uj(ua,W,fa),{elements:ua,appState:Wh(ue(ue({},u),{},{selectedGroupIds:{},selectedElementIds:G.reduce(function(jb,pb){return jb[pb.id]=!0,jb},{})}),ge(ua))}},Ma=function(d){var u=d.options,v=d.value,G=d.onChange,W=d.group;return Da().createElement("div",{className:"buttonList buttonListIcon"},u.map(function(fa){return Da().createElement("label",{key:fa.text,className:xc({active:v===fa.value}),title:fa.text},Da().createElement("input",{type:"radio",
name:W,onChange:function(){return G(fa.value)},checked:v===fa.value}),fa.icon)}))},Pa=function(d){var u=d.options,v=d.value,G=d.onChange,W=d.group;return Da().createElement("div",{className:"buttonList"},u.map(function(fa){return Da().createElement("label",{key:fa.text,className:xc({active:v===fa.value})},Da().createElement("input",{type:"radio",name:W,onChange:function(){return G(fa.value)},checked:v===fa.value}),fa.text)}))},gb=(h(2816),function(d){var u=d.children,v=d.left,G=d.top,W=d.onCloseRequest;
d=d.fitInViewport;var fa=void 0!==d&&d,wa=(0,jc.useRef)(null);return(0,jc.useLayoutEffect)(function(){if(fa&&wa.current){var ua=wa.current,Ca=ua.getBoundingClientRect(),Na=Ca.y,Ia=Ca.width,jb=Ca.height,pb=window.innerWidth;Ca.x+Ia>pb&&(ua.style.left="".concat(pb-Ia,"px"));Ca=window.innerHeight;Na+jb>Ca&&(ua.style.top="".concat(Ca-jb,"px"))}},[fa]),(0,jc.useEffect)(function(){if(W){var ua=function(Ca){var Na;null!==(Na=wa.current)&&void 0!==Na&&Na.contains(Ca.target)||(0,$f.unstable_batchedUpdates)(function(){return W(Ca)})};
return document.addEventListener("pointerdown",ua,!1),function(){return document.removeEventListener("pointerdown",ua,!1)}}},[W]),Da().createElement("div",{className:"popover",style:{top:G,left:v},ref:wa},u)}),Eb=(h(5574),function(d){var u=(new Option).style;return u.color=d,!!u.color}),Gb=[["1","2","3","4","5"],["q","w","e","r","t"],["a","s","d","f","g"]].flat(),vc=function(d){var u=d.colors,v=d.color,G=d.onChange,W=d.onClose,fa=d.label,wa=d.showInput,ua=void 0===wa||wa;d=d.type;var Ca=Da().useRef(),
Na=Da().useRef(),Ia=Da().useRef(),jb=Da().useRef();Da().useEffect(function(){Na.current?Na.current.focus():jb.current?jb.current.focus():Ia.current&&Ia.current.focus()},[]);return Da().createElement("div",{className:"color-picker color-picker-type-".concat(d),role:"dialog","aria-modal":"true","aria-label":bb("labels.colorPicker"),onKeyDown:function(pb){if("Tab"===pb.key){var qb,bc=document.activeElement;if(pb.shiftKey)bc===Ca.current&&(null===(qb=jb.current)||void 0===qb||qb.focus(),pb.preventDefault());
else if(bc===jb.current){var Vb;null===(Vb=Ca.current)||void 0===Vb||Vb.focus();pb.preventDefault()}}else xg(pb.key)?(bc=document.activeElement,qb=ta.rtl,-1!==(Vb=Array.prototype.indexOf.call(Ia.current.children,bc))&&(bc=Ia.current.children.length-(ua?1:0),Ia.current.children[pb.key===(qb?"ArrowLeft":"ArrowRight")?(Vb+1)%bc:pb.key===(qb?"ArrowRight":"ArrowLeft")?(bc+Vb-1)%bc:"ArrowDown"===pb.key?(Vb+5)%bc:"ArrowUp"===pb.key?(bc+Vb-5)%bc:Vb].focus()),pb.preventDefault()):Gb.includes(pb.key.toLowerCase())&&
!Cg(pb.target)?(Vb=Gb.indexOf(pb.key.toLowerCase()),Ia.current.children[Vb].focus(),pb.preventDefault()):"Escape"!==pb.key&&"Enter"!==pb.key||(pb.preventDefault(),W());pb.nativeEvent.stopImmediatePropagation()}},Da().createElement("div",{className:"color-picker-triangle color-picker-triangle-shadow"}),Da().createElement("div",{className:"color-picker-triangle"}),Da().createElement("div",{className:"color-picker-content",ref:function(pb){pb&&(Ia.current=pb)},tabIndex:0},u.map(function(pb,qb){return Da().createElement("button",
{className:"color-picker-swatch",onClick:function(bc){bc.currentTarget.focus();G(pb)},title:"".concat(pb," — ").concat(Gb[qb].toUpperCase()),"aria-label":pb,"aria-keyshortcuts":Gb[qb],style:{color:pb},key:pb,ref:function(bc){bc&&0===qb&&(Ca.current=bc);bc&&pb===v&&(Na.current=bc)},onFocus:function(){G(pb)}},"transparent"===pb?Da().createElement("div",{className:"color-picker-transparent"}):void 0,Da().createElement("span",{className:"color-picker-keybinding"},Gb[qb]))}),ua&&Da().createElement(yc,
{color:v,label:fa,onChange:function(pb){G(pb)},ref:jb})))},yc=Da().forwardRef(function(d,u){var v=d.color,G=d.onChange;d=d.label;var W=Da().useState(v),fa=W[0],wa=W[1],ua=Da().useRef(null);Da().useEffect(function(){wa(v)},[v]);Da().useImperativeHandle(u,function(){return ua.current});var Ca=Da().useCallback(function(Na){Na=Na.toLowerCase();var Ia;(Ia="transparent"===Na||Eb(Na)?Na:Eb("#".concat(Na))?"#".concat(Na):null)&&G(Ia);wa(Na)},[G]);return Da().createElement("label",{className:"color-input-container"},
Da().createElement("div",{className:"color-picker-hash"},"#"),Da().createElement("input",{spellCheck:!1,className:"color-picker-input","aria-label":d,onChange:function(Na){return Ca(Na.target.value)},value:(fa||"").replace(/^#/,""),onBlur:function(){return wa(v)},ref:ua}))}),lc=function(d){var u=d.type,v=d.color,G=d.onChange;d=d.label;var W=Da().useState(!1),fa=W[0],wa=W[1],ua=Da().useRef(null);return Da().createElement("div",null,Da().createElement("div",{className:"color-picker-control-container"},
Da().createElement("button",{className:"color-picker-label-swatch","aria-label":d,style:v?{"--swatch-color":v}:void 0,onClick:function(){return wa(!fa)},ref:ua}),Da().createElement(yc,{color:v,label:d,onChange:function(Ca){G(Ca)}})),Da().createElement(Da().Suspense,{fallback:""},fa?Da().createElement(gb,{onCloseRequest:function(Ca){return Ca.target!==ua.current&&wa(!1)}},Da().createElement(vc,{colors:Ek[u],color:v||null,onChange:function(Ca){G(Ca)},onClose:function(){var Ca;wa(!1);null===(Ca=ua.current)||
void 0===Ca||Ca.focus()},label:d,showInput:!1,type:u})):null))},bd=h(6950),Pd=h.n(bd);h(7143);var we=function(d,u,v){return d.map(function(G){var W;return u.selectedElementIds[G.id]||G.id===(null===(W=u.editingElement)||void 0===W?void 0:W.id)?v(G):G})},qg=function(d,u,v,G){var W,fa,wa=u.editingElement;d=ge(d);return null!==(W=null!==(fa=wa&&v(wa))&&void 0!==fa?fa:kg(d,u)?function(ua,Ca,Na){ua=Array.from(new Set(uf(ua,Ca).map(function(Ia){return Na(Ia)})));return 1===ua.length?ua[0]:null}(d,u,v):
G)&&void 0!==W?W:null},Ce=(ne({name:"changeStrokeColor",perform:function(d,u,v){return{elements:we(d,u,function(G){return yg(G,{strokeColor:v})}),appState:Ne(Ne({},u),{},{currentItemStrokeColor:v}),commitToHistory:!0}},PanelComponent:function(d){var u=d.elements,v=d.appState;d=d.updateData;return Da().createElement(Da().Fragment,null,Da().createElement("h3",{"aria-hidden":"true"},bb("labels.stroke")),Da().createElement(lc,{type:"elementStroke",label:bb("labels.stroke"),color:qg(u,v,function(G){return G.strokeColor},
v.currentItemStrokeColor),onChange:d}))}}),ne({name:"changeBackgroundColor",perform:function(d,u,v){return{elements:we(d,u,function(G){return yg(G,{backgroundColor:v})}),appState:Ne(Ne({},u),{},{currentItemBackgroundColor:v}),commitToHistory:!0}},PanelComponent:function(d){var u=d.elements,v=d.appState;d=d.updateData;return Da().createElement(Da().Fragment,null,Da().createElement("h3",{"aria-hidden":"true"},bb("labels.background")),Da().createElement(lc,{type:"elementBackground",label:bb("labels.background"),
color:qg(u,v,function(G){return G.backgroundColor},v.currentItemBackgroundColor),onChange:d}))}}),ne({name:"changeFillStyle",perform:function(d,u,v){return{elements:we(d,u,function(G){return yg(G,{fillStyle:v})}),appState:Ne(Ne({},u),{},{currentItemFillStyle:v}),commitToHistory:!0}},PanelComponent:function(d){var u=d.elements,v=d.appState,G=d.updateData;return Da().createElement("fieldset",null,Da().createElement("legend",null,bb("labels.fill")),Da().createElement(Ma,{options:[{value:"hachure",text:bb("labels.hachure"),
icon:Da().createElement(Uk,{appearance:v.appearance})},{value:"cross-hatch",text:bb("labels.crossHatch"),icon:Da().createElement(ce,{appearance:v.appearance})},{value:"solid",text:bb("labels.solid"),icon:Da().createElement(pm,{appearance:v.appearance})}],group:"fill",value:qg(u,v,function(W){return W.fillStyle},v.currentItemFillStyle),onChange:function(W){G(W)}}))}}),ne({name:"changeStrokeWidth",perform:function(d,u,v){return{elements:we(d,u,function(G){return yg(G,{strokeWidth:v})}),appState:Ne(Ne({},
u),{},{currentItemStrokeWidth:v}),commitToHistory:!0}},PanelComponent:function(d){var u=d.elements,v=d.appState,G=d.updateData;return Da().createElement("fieldset",null,Da().createElement("legend",null,bb("labels.strokeWidth")),Da().createElement(Ma,{group:"stroke-width",options:[{value:1,text:bb("labels.thin"),icon:Da().createElement(aj,{appearance:v.appearance,strokeWidth:2})},{value:2,text:bb("labels.bold"),icon:Da().createElement(aj,{appearance:v.appearance,strokeWidth:6})},{value:4,text:bb("labels.extraBold"),
icon:Da().createElement(aj,{appearance:v.appearance,strokeWidth:10})}],value:qg(u,v,function(W){return W.strokeWidth},v.currentItemStrokeWidth),onChange:function(W){return G(W)}}))}}),ne({name:"changeSloppiness",perform:function(d,u,v){return{elements:we(d,u,function(G){return yg(G,{seed:Zj(),roughness:v})}),appState:Ne(Ne({},u),{},{currentItemRoughness:v}),commitToHistory:!0}},PanelComponent:function(d){var u=d.elements,v=d.appState,G=d.updateData;return Da().createElement("fieldset",null,Da().createElement("legend",
null,bb("labels.sloppiness")),Da().createElement(Ma,{group:"sloppiness",options:[{value:0,text:bb("labels.architect"),icon:Da().createElement(Si,{appearance:v.appearance})},{value:1,text:bb("labels.artist"),icon:Da().createElement(zm,{appearance:v.appearance})},{value:2,text:bb("labels.cartoonist"),icon:Da().createElement(uk,{appearance:v.appearance})}],value:qg(u,v,function(W){return W.roughness},v.currentItemRoughness),onChange:function(W){return G(W)}}))}}),ne({name:"changeStrokeStyle",perform:function(d,
u,v){return{elements:we(d,u,function(G){return yg(G,{strokeStyle:v})}),appState:Ne(Ne({},u),{},{currentItemStrokeStyle:v}),commitToHistory:!0}},PanelComponent:function(d){var u=d.elements,v=d.appState,G=d.updateData;return Da().createElement("fieldset",null,Da().createElement("legend",null,bb("labels.strokeStyle")),Da().createElement(Ma,{group:"strokeStyle",options:[{value:"solid",text:bb("labels.strokeStyle_solid"),icon:Da().createElement(Yd,{appearance:v.appearance})},{value:"dashed",text:bb("labels.strokeStyle_dashed"),
icon:Da().createElement(el,{appearance:v.appearance})},{value:"dotted",text:bb("labels.strokeStyle_dotted"),icon:Da().createElement(eg,{appearance:v.appearance})}],value:qg(u,v,function(W){return W.strokeStyle},v.currentItemStrokeStyle),onChange:function(W){return G(W)}}))}}),ne({name:"changeOpacity",perform:function(d,u,v){return{elements:we(d,u,function(G){return yg(G,{opacity:v})}),appState:Ne(Ne({},u),{},{currentItemOpacity:v}),commitToHistory:!0}},PanelComponent:function(d){var u,v=d.elements,
G=d.appState,W=d.updateData;return Da().createElement("label",{className:"control-label"},bb("labels.opacity"),Da().createElement("input",{type:"range",min:"0",max:"100",step:"10",onChange:function(fa){return W(+fa.target.value)},onWheel:function(fa){fa.stopPropagation();var wa=+fa.target.value;0>fa.deltaY&&100>wa?W(wa+10):0<fa.deltaY&&0<wa&&W(wa-10)},value:null!==(u=qg(v,G,function(fa){return fa.opacity},G.currentItemOpacity))&&void 0!==u?u:void 0}))}}),ne({name:"changeFontSize",perform:function(d,
u,v){return{elements:we(d,u,function(G){return be(G)?(G=yg(G,{fontSize:v}),qk(G),G):G}),appState:Ne(Ne({},u),{},{currentItemFontSize:v}),commitToHistory:!0}},PanelComponent:function(d){var u=d.elements,v=d.appState,G=d.updateData;return Da().createElement("fieldset",null,Da().createElement("legend",null,bb("labels.fontSize")),Da().createElement(Pa,{group:"font-size",options:[{value:16,text:bb("labels.small")},{value:20,text:bb("labels.medium")},{value:28,text:bb("labels.large")},{value:36,text:bb("labels.veryLarge")}],
value:qg(u,v,function(W){return be(W)&&W.fontSize},v.currentItemFontSize||hc.n5),onChange:function(W){return G(W)}}))}}),ne({name:"changeFontFamily",perform:function(d,u,v){return{elements:we(d,u,function(G){return be(G)?(G=yg(G,{fontFamily:v}),qk(G),G):G}),appState:Ne(Ne({},u),{},{currentItemFontFamily:v}),commitToHistory:!0}},PanelComponent:function(d){var u=d.elements,v=d.appState,G=d.updateData;d=[{value:1,text:bb("labels.handDrawn")},{value:2,text:bb("labels.normal")},{value:3,text:bb("labels.code")}];
return Da().createElement("fieldset",null,Da().createElement("legend",null,bb("labels.fontFamily")),Da().createElement(Pa,{group:"font-family",options:d,value:qg(u,v,function(W){return be(W)&&W.fontFamily},v.currentItemFontFamily||hc.rk),onChange:function(W){return G(W)}}))}}),ne({name:"changeTextAlign",perform:function(d,u,v){return{elements:we(d,u,function(G){return be(G)?(G=yg(G,{textAlign:v}),qk(G),G):G}),appState:Ne(Ne({},u),{},{currentItemTextAlign:v}),commitToHistory:!0}},PanelComponent:function(d){var u=
d.elements,v=d.appState,G=d.updateData;return Da().createElement("fieldset",null,Da().createElement("legend",null,bb("labels.textAlign")),Da().createElement(Pa,{group:"text-align",options:[{value:"left",text:bb("labels.left")},{value:"center",text:bb("labels.center")},{value:"right",text:bb("labels.right")}],value:qg(u,v,function(W){return be(W)&&W.textAlign},v.currentItemTextAlign),onChange:function(W){return G(W)}}))}}),ne({name:"changeSharpness",perform:function(d,u,v){var G=kk(ge(d),u),W=G.length?
G.every(function(fa){return!Fg(fa)}):!hj(u.elementType);G=G.length?G.every(Fg):hj(u.elementType);return{elements:we(d,u,function(fa){return yg(fa,{strokeSharpness:v})}),appState:Ne(Ne({},u),{},{currentItemStrokeSharpness:W?v:u.currentItemStrokeSharpness,currentItemLinearStrokeSharpness:G?v:u.currentItemLinearStrokeSharpness}),commitToHistory:!0}},PanelComponent:function(d){var u=d.elements,v=d.appState,G=d.updateData;return Da().createElement("fieldset",null,Da().createElement("legend",null,bb("labels.edges")),
Da().createElement(Ma,{group:"edges",options:[{value:"sharp",text:bb("labels.sharp"),icon:Da().createElement(fl,{appearance:v.appearance})},{value:"round",text:bb("labels.round"),icon:Da().createElement(Vk,{appearance:v.appearance})}],value:qg(u,v,function(W){return W.strokeSharpness},rk(v.elementType)&&(hj(v.elementType)?v.currentItemLinearStrokeSharpness:v.currentItemStrokeSharpness)||null),onChange:function(W){return G(W)}}))}}),ne({name:"changeArrowhead",perform:function(d,u,v){var G;return{elements:we(d,
u,function(W){if(Fg(W)){var fa=v.position,wa=v.type;if("start"===fa)return yg(W,{startArrowhead:wa});if("end"===fa)return yg(W,{endArrowhead:wa})}return W}),appState:Ne(Ne({},u),{},(G={},G["start"===v.position?"currentItemStartArrowhead":"currentItemEndArrowhead"]=v.type,G)),commitToHistory:!0}},PanelComponent:function(d){var u=d.elements,v=d.appState,G=d.updateData;d=ta.rtl;return Da().createElement("fieldset",null,Da().createElement("legend",null,bb("labels.arrowheads")),Da().createElement("div",
{className:"iconSelectList"},Da().createElement(wd,{label:"arrowhead_start",options:[{value:null,text:bb("labels.arrowhead_none"),icon:Da().createElement(Pk,{appearance:v.appearance}),keyBinding:"q"},{value:"arrow",text:bb("labels.arrowhead_arrow"),icon:Da().createElement(Hh,{appearance:v.appearance,flip:!d}),keyBinding:"w"},{value:"bar",text:bb("labels.arrowhead_bar"),icon:Da().createElement(Hj,{appearance:v.appearance,flip:!d}),keyBinding:"e"},{value:"dot",text:bb("labels.arrowhead_dot"),icon:Da().createElement(Vm,
{appearance:v.appearance,flip:!d}),keyBinding:"r"}],value:qg(u,v,function(W){return Fg(W)&&"arrow"===W.type?W.startArrowhead:v.currentItemStartArrowhead},v.currentItemStartArrowhead),onChange:function(W){return G({position:"start",type:W})}}),Da().createElement(wd,{label:"arrowhead_end",group:"arrowheads",options:[{value:null,text:bb("labels.arrowhead_none"),keyBinding:"q",icon:Da().createElement(Pk,{appearance:v.appearance})},{value:"arrow",text:bb("labels.arrowhead_arrow"),keyBinding:"w",icon:Da().createElement(Hh,
{appearance:v.appearance,flip:d})},{value:"bar",text:bb("labels.arrowhead_bar"),keyBinding:"e",icon:Da().createElement(Hj,{appearance:v.appearance,flip:d})},{value:"dot",text:bb("labels.arrowhead_dot"),keyBinding:"r",icon:Da().createElement(Vm,{appearance:v.appearance,flip:d})}],value:qg(u,v,function(W){return Fg(W)&&"arrow"===W.type?W.endArrowhead:v.currentItemEndArrowhead},v.currentItemEndArrowhead),onChange:function(W){return G({position:"end",type:W})}})))}}),h(2189)),yf=h.n(Ce),lg=Da().createContext(!1),
wg=function(){return window.matchMedia?window.matchMedia(yf().isMobileQuery):{matches:!1,addListener:function(){},removeListener:function(){}}},mg=function(d){d=d.children;var u=(0,jc.useRef)();u.current||(u.current=wg());var v=(0,jc.useState)(u.current.matches),G=v[0],W=v[1];return(0,jc.useEffect)(function(){var fa=function(){return W(u.current.matches)};return u.current.addListener(fa),function(){return u.current.removeListener(fa)}},[]),Da().createElement(lg.Provider,{value:G},d)};ne({name:"changeViewBackgroundColor",
perform:function(d,u,v){return{appState:Ke(Ke({},u),{},{viewBackgroundColor:v}),commitToHistory:!0}},PanelComponent:function(d){var u=d.appState,v=d.updateData;return Da().createElement("div",{style:{position:"relative"}},Da().createElement(lc,{label:bb("labels.canvasBackground"),type:"canvasBackground",color:u.viewBackgroundColor,onChange:function(G){return v(G)}}))}});ne({name:"clearCanvas",perform:function(d,u){return{elements:d.map(function(v){return yg(v,{isDeleted:!0})}),appState:Ke(Ke({},Dh()),
{},{appearance:u.appearance,elementLocked:u.elementLocked,exportBackground:u.exportBackground,exportEmbedScene:u.exportEmbedScene,gridSize:u.gridSize,shouldAddWatermark:u.shouldAddWatermark,showStats:u.showStats,pasteDialog:u.pasteDialog}),commitToHistory:!0}},PanelComponent:function(d){var u=d.updateData;return Da().createElement(gf,{type:"button",icon:Ri,title:bb("buttons.clearReset"),"aria-label":bb("buttons.clearReset"),showAriaLabel:Ve(),onClick:function(){window.confirm(bb("alerts.clearReset"))&&
u(null)}})}});ne({name:"zoomIn",perform:function(d,u){d=ci(Sj(u.zoom.value+hc.V4),u.zoom,{left:u.offsetLeft,top:u.offsetTop},{x:u.width/2,y:u.height/2});return{appState:Ke(Ke({},u),{},{zoom:d}),commitToHistory:!1}},PanelComponent:function(d){var u=d.updateData;return Da().createElement(gf,{type:"button",icon:oi,title:"".concat(bb("buttons.zoomIn")," — ").concat(Wd("CtrlOrCmd++")),"aria-label":bb("buttons.zoomIn"),onClick:function(){u(null)}})},keyTest:function(d){return("Equal"===d.code||"NumpadAdd"===
d.code)&&(d[cf]||d.shiftKey)}});ne({name:"zoomOut",perform:function(d,u){d=ci(Sj(u.zoom.value-hc.V4),u.zoom,{left:u.offsetLeft,top:u.offsetTop},{x:u.width/2,y:u.height/2});return{appState:Ke(Ke({},u),{},{zoom:d}),commitToHistory:!1}},PanelComponent:function(d){var u=d.updateData;return Da().createElement(gf,{type:"button",icon:Ej,title:"".concat(bb("buttons.zoomOut")," — ").concat(Wd("CtrlOrCmd+-")),"aria-label":bb("buttons.zoomOut"),onClick:function(){u(null)}})},keyTest:function(d){return("Minus"===
d.code||"NumpadSubtract"===d.code)&&(d[cf]||d.shiftKey)}});ne({name:"resetZoom",perform:function(d,u){return{appState:Ke(Ke({},u),{},{zoom:ci(1,u.zoom,{left:u.offsetLeft,top:u.offsetTop},{x:u.width/2,y:u.height/2})}),commitToHistory:!1}},PanelComponent:function(d){var u=d.updateData;return Da().createElement(gf,{type:"button",icon:$d,title:bb("buttons.resetZoom"),"aria-label":bb("buttons.resetZoom"),onClick:function(){u(null)}})},keyTest:function(d){return("Digit0"===d.code||"Numpad0"===d.code)&&
(d[cf]||d.shiftKey)}});var ye=function(d,u,v){d=ge(d);var G=uf(d,u);G=v&&0<G.length?Bg(G):Bg(d);v=ci(Math.min(Math.max(Math.floor(Math.min(u.width/(G[2]-G[0]),u.height/(G[3]-G[1]))/hc.V4)*hc.V4,hc.V4),1),u.zoom,{left:u.offsetLeft,top:u.offsetTop});d=(G[0]+G[2])/2;G=(G[1]+G[3])/2;return{appState:Ke(Ke(Ke({},u),Xi({scenePoint:{x:d,y:G},viewportDimensions:{width:u.width,height:u.height},zoom:v})),{},{zoom:v}),commitToHistory:!1}};ne({name:"zoomToSelection",perform:function(d,u){return ye(d,u,!0)},keyTest:function(d){return"Digit2"===
d.code&&d.shiftKey&&!d.altKey&&!d[cf]}});ne({name:"zoomToFit",perform:function(d,u){return ye(d,u,!1)},keyTest:function(d){return"Digit1"===d.code&&d.shiftKey&&!d.altKey&&!d[cf]}});var Rf,If,Mf=ne({name:"finalize",perform:function(d,u,v,G){var W,fa;v=G.canvas;if(u.editingLinearElement){G=u.editingLinearElement;var wa=G.startBindingElement,ua=G.endBindingElement,Ca=dg.getElement(G.elementId);if(Ca)return og(Ca)&&Pf(Ca,wa,ua),{elements:2>Ca.points.length||Rh(Ca)?d.filter(function(jb){return jb.id!==
Ca.id}):void 0,appState:Eg(Eg({},u),{},{editingLinearElement:null}),commitToHistory:!0}}window.document.activeElement instanceof HTMLElement&&window.document.activeElement.blur();if(G=u.multiElement?u.multiElement:"draw"===(null===(fa=u.editingElement)||void 0===fa?void 0:fa.type)?u.editingElement:null){"draw"!==G.type&&"touch"!==u.lastPointerDownWith&&(fa=G.points,(wa=G.lastCommittedPoint)&&fa[fa.length-1]===wa||jf(G,{points:G.points.slice(0,-1)}));Rh(G)&&(d=d.slice(0,-1));fa=ei(G.points,u.zoom.value);
if(("line"===G.type||"draw"===G.type)&&fa){var Na=G.points,Ia=Na[0];jf(G,{points:Na.map(function(jb,pb){return pb===Na.length-1?[Ia[0],Ia[1]]:jb})})}og(G)&&!fa&&1<G.points.length&&(wa=dg.getPointAtIndexGlobalCoordinates(G,-1),fa=wa[0],wa=wa[1],jk(G,u,yh.getScene(G),{x:fa,y:wa}));u.elementLocked||"draw"===u.elementType||(u.selectedElementIds[G.id]=!0)}return(u.elementLocked||"draw"===u.elementType)&&G||Ii(v),{elements:d,appState:Eg(Eg({},u),{},{elementType:(u.elementLocked||"draw"===u.elementType)&&
G?u.elementType:"selection",draggingElement:null,multiElement:null,editingElement:null,startBoundElement:null,suggestedBindings:[],selectedElementIds:G&&!u.elementLocked&&"draw"!==u.elementType?Eg(Eg({},u.selectedElementIds),{},(W={},W[G.id]=!0,W)):u.selectedElementIds}),commitToHistory:"draw"===u.elementType}},keyTest:function(d,u){return"Escape"===d.key&&(null!==u.editingLinearElement||!u.draggingElement&&null===u.multiElement)||("Escape"===d.key||"Enter"===d.key)&&null!==u.multiElement},PanelComponent:function(d){var u=
d.appState;d=d.updateData;return Da().createElement(gf,{type:"button",icon:sk,title:bb("buttons.done"),"aria-label":bb("buttons.done"),onClick:d,visible:null!=u.multiElement})}}),Sg="undefined"!=typeof t&&null!==(Rf=t.env)&&void 0!==Rf&&Rf.REACT_APP_GOOGLE_ANALYTICS_ID&&"undefined"!=typeof window&&window.gtag?function(d,u,v,G){window.gtag("event",u,{event_category:d,event_label:v,value:G})}:("undefined"!=typeof t&&null!==(If=t.env)&&void 0!==If&&If.JEST_WORKER_ID,function(d,u,v,G){}),Qg=(h(8518),
function(){var d=function(u,v){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,W){G.__proto__=W}||function(G,W){for(var fa in W)Object.prototype.hasOwnProperty.call(W,fa)&&(G[fa]=W[fa])})(u,v)};return function(u,v){function G(){this.constructor=u}if("function"!=typeof v&&null!==v)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");d(u,v);u.prototype=null===v?Object.create(v):(G.prototype=v.prototype,new G)}}()),Di=function(d){function u(){for(var v=
[],G=0;G<arguments.length;G++)v[G]=arguments[G];var W,fa;G=this;return G=d.apply(this,v)||this,W=fa=G,G.handleFocus=function(wa){wa=wa.currentTarget;var ua=window.getSelection();if(ua){var Ca=document.createRange();Ca.selectNodeContents(wa);ua.removeAllRanges();ua.addRange(Ca)}},G.handleBlur=function(wa){wa=wa.currentTarget.innerText.trim();wa!==fa.props.value&&fa.props.onChange(wa);(wa=window.getSelection())&&wa.removeAllRanges()},G.handleKeyDown=function(wa){"Enter"!==wa.key||(wa.preventDefault(),
wa.nativeEvent.isComposing||229===wa.keyCode)||wa.currentTarget.blur()},G.makeEditable=function(wa){if(wa)try{wa.contentEditable="plaintext-only"}catch(ua){wa.contentEditable="true"}},W}return Qg(u,d),u.prototype.render=function(){return Da().createElement("span",{suppressContentEditableWarning:!0,ref:this.makeEditable,"data-type":"wysiwyg",className:"TextInput",role:"textbox","aria-label":this.props.label,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,onFocus:this.handleFocus},this.props.value)},
u}(jc.Component),Gj=(h(2680),function(d){var u=d.children,v=d.label,G=d.position;G=void 0===G?"below":G;d=d.long;d=void 0!==d&&d;return Da().createElement("div",{className:"Tooltip"},Da().createElement("span",{className:"above"===G?"Tooltip__label Tooltip__label--above":"Tooltip__label Tooltip__label--below",style:{width:d?"50ch":"10ch"}},v),u)}),hk=function(d){var u=d.title?d.title:"dark"===d.value?bb("buttons.lightMode"):bb("buttons.darkMode");return Da().createElement("label",{className:"ToolIcon ToolIcon_type_floating ToolIcon_size_M",
title:u},Da().createElement("input",{className:"ToolIcon_type_checkbox ToolIcon_toggle_opaque",type:"checkbox",onChange:function(v){return d.onChange(v.target.checked?"dark":"light")},checked:"dark"===d.value,"aria-label":u}),Da().createElement("div",{className:"ToolIcon__icon"},"light"===d.value?$k.MOON:$k.SUN))},$k={SUN:Da().createElement("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512"},Da().createElement("path",{fill:"currentColor",d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"})),
MOON:Da().createElement("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512"},Da().createElement("path",{fill:"currentColor",d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"}))};const xm="chooseFileSystemEntries"in self?
"chooseFileSystemEntries":"showOpenFilePicker"in self&&"showOpenFilePicker",ym=xm?"chooseFileSystemEntries"===xm?h.e(736).then(h.bind(h,9012)):h.e(736).then(h.bind(h,499)):h.e(736).then(h.bind(h,5034));xm?"chooseFileSystemEntries"===xm?h.e(736).then(h.bind(h,6980)):h.e(736).then(h.bind(h,868)):h.e(736).then(h.bind(h,3110));const rf=xm?"chooseFileSystemEntries"===xm?h.e(736).then(h.bind(h,1170)):h.e(736).then(h.bind(h,7814)):h.e(736).then(h.bind(h,4001));var gl,Ti=function(d,u){if(null!=u&&u.collaborators&&
(u=u.collaborators.get(d),null!=u&&u.color))return u.color;d=d.split("").reduce(function(G,W){return G+W.charCodeAt(0)},0);u=Ek.elementBackground.slice(1);var v=Ek.elementStroke.slice(1);return{background:u[d%u.length],stroke:v[d%v.length]}};!function(d){d.ACTIVE="active";d.AWAY="away";d.IDLE="idle"}(gl||(gl={}));var Gm=function(){var d=document.createElement("canvas").getContext("2d");return d?(d.fillStyle="#f00",d.textBaseline="top",d.font="32px Arial",d.fillText("\ud83d\ude00",0,0),0!==d.getImageData(12,
12,1,1).data[0]):!1}(),vl=function(d,u,v,G,W,fa,wa,ua,Ca){void 0===Ca&&(Ca=!1);d.translate(fa,wa);d.rotate(ua);Ca&&d.fillRect(u-fa,v-wa,G,W);d.strokeRect(u-fa,v-wa,G,W);d.rotate(-ua);d.translate(-fa,-wa)},Hm=function(d,u,v,G){d.beginPath();d.arc(u,v,G,0,2*Math.PI);d.fill();d.stroke()},kn=function(d,u,v,G,W,fa,wa,ua){var Ca=void 0===ua?{}:ua;ua=Ca.renderScrollbars;ua=void 0===ua||ua;var Na=Ca.renderSelection,Ia=void 0===Na||Na;Na=Ca.renderOptimizations;var jb=void 0!==Na&&Na;Ca=Ca.renderGrid;var pb=
void 0===Ca||Ca;if(!fa)return{atLeastOneVisibleElement:!1};var qb=fa.getContext("2d");qb.scale(G,G);var bc=fa.width/G,Vb=fa.height/G;(wa.exportWithDarkMode&&(qb.filter=hc.Gi),"string"==typeof wa.viewBackgroundColor)?(("transparent"===wa.viewBackgroundColor||5===wa.viewBackgroundColor.length||9===wa.viewBackgroundColor.length||/(hsla|rgba)\(/.test(wa.viewBackgroundColor))&&qb.clearRect(0,0,bc,Vb),Ca=qb.fillStyle,qb.fillStyle=wa.viewBackgroundColor,qb.fillRect(0,0,bc,Vb),qb.fillStyle=Ca):qb.clearRect(0,
0,bc,Vb);Ca=wa.zoom.translation.x;Na=wa.zoom.translation.y;qb.translate(Ca,Na);qb.scale(wa.zoom.value,wa.zoom.value);pb&&u.gridSize&&function(zd,Zd,je,$e,Eh,$h){var Bj=zd.strokeStyle;zd.strokeStyle="rgba(0,0,0,0.1)";zd.beginPath();for(var cj=je;cj<je+Eh+2*Zd;cj+=Zd)zd.moveTo(cj,$e-Zd),zd.lineTo(cj,$e+$h+2*Zd);for(cj=$e;cj<$e+$h+2*Zd;cj+=Zd)zd.moveTo(je-Zd,cj),zd.lineTo(je+Eh+2*Zd,cj);zd.stroke();zd.strokeStyle=Bj}(qb,u.gridSize,-Math.ceil(Ca/wa.zoom.value/u.gridSize)*u.gridSize+wa.scrollX%u.gridSize,
-Math.ceil(Na/wa.zoom.value/u.gridSize)*u.gridSize+wa.scrollY%u.gridSize,bc/wa.zoom.value,Vb/wa.zoom.value);fa=d.filter(function(zd){var Zd={zoom:wa.zoom,offsetLeft:u.offsetLeft,offsetTop:u.offsetTop,scrollX:wa.scrollX,scrollY:wa.scrollY},je=si(zd);zd=je[0];var $e=je[1],Eh=je[2];je=je[3];var $h=ug({clientX:Zd.offsetLeft,clientY:Zd.offsetTop},Zd);Zd=ug({clientX:Zd.offsetLeft+bc,clientY:Zd.offsetTop+Vb},Zd);return $h.x<=Eh&&$h.y<=je&&Zd.x>=zd&&Zd.y>=$e});(fa.forEach(function(zd){on(zd,W,qb,jb,wa)}),
u.editingLinearElement)&&(pb=dg.getElement(u.editingLinearElement.elementId))&&function(zd,Zd,je,$e){zd.translate(je.scrollX,je.scrollY);var Eh=zd.strokeStyle,$h=zd.lineWidth;zd.lineWidth=1/je.zoom.value;dg.getPointsGlobalCoordinates($e).forEach(function(Bj,cj){var Vl;zd.strokeStyle="red";zd.setLineDash([]);zd.fillStyle=(null===(Vl=Zd.editingLinearElement)||void 0===Vl?void 0:Vl.activePointIndex)===cj?"rgba(255, 127, 127, 0.9)":"rgba(255, 255, 255, 0.9)";Hm(zd,Bj[0],Bj[1],dg.POINT_HANDLE_SIZE/2/je.zoom.value)});
zd.setLineDash([]);zd.lineWidth=$h;zd.translate(-je.scrollX,-je.scrollY);zd.strokeStyle=Eh}(qb,u,wa,pb);if(v&&on(v,W,qb,jb,wa),u.isBindingEnabled&&u.suggestedBindings.filter(function(zd){return null!=zd}).forEach(function(zd){var Zd=qb.strokeStyle,je=qb.lineWidth,$e=Array.isArray(zd)?fj:am;qb.translate(wa.scrollX,wa.scrollY);$e(qb,zd);qb.strokeStyle=Zd;qb.lineWidth=je;qb.translate(-wa.scrollX,-wa.scrollY)}),Ia&&!u.multiElement&&!u.editingLinearElement){var zc=d.reduce(function(zd,Zd){var je=[];if(u.selectedElementIds[Zd.id]&&
null==zh(u,Zd)&&je.push(Ee.Sn),wa.remoteSelectedElementIds[Zd.id]&&je.push.apply(je,wa.remoteSelectedElementIds[Zd.id].map(function(Eh){return Ti(Eh,u).background})),je.length){var $e=ig(Zd);zd.push({angle:Zd.angle,elementX1:$e[0],elementY1:$e[1],elementX2:$e[2],elementY2:$e[3],selectionColors:je})}return zd},[]);v=function(zd){zd=ck(d,zd);zd=Bg(zd);zc.push({angle:0,elementX1:zd[0],elementX2:zd[2],elementY1:zd[1],elementY2:zd[3],selectionColors:[Ee.Sn]})};Ia=0;for(pb=Li(u);Ia<pb.length;Ia++)v(pb[Ia]);
u.editingGroupId&&v(u.editingGroupId);zc.forEach(function(zd){var Zd=zd.angle,je=zd.elementX1,$e=zd.elementY1,Eh=zd.selectionColors,$h=zd.elementX2-je;zd=zd.elementY2-$e;var Bj=qb.getLineDash(),cj=qb.lineWidth,Vl=qb.lineDashOffset,un=qb.strokeStyle,fm=4/wa.zoom.value,vn=8/wa.zoom.value,Wm=4/wa.zoom.value;qb.lineWidth=1/wa.zoom.value;qb.translate(wa.scrollX,wa.scrollY);for(var fo=Eh.length,Xm=0;Xm<fo;++Xm)qb.strokeStyle=Eh[Xm],qb.setLineDash([vn,Wm+(vn+Wm)*(fo-1)]),qb.lineDashOffset=(vn+Wm)*Xm,vl(qb,
je-fm,$e-fm,$h+2*fm,zd+2*fm,je+$h/2,$e+zd/2,Zd);qb.lineDashOffset=Vl;qb.strokeStyle=un;qb.lineWidth=cj;qb.setLineDash(Bj);qb.translate(-wa.scrollX,-wa.scrollY)});Ia=uf(d,u);if(qb.translate(wa.scrollX,wa.scrollY),1===Ia.length)qb.fillStyle=Ee.ix,v=wj(Ia[0],wa.zoom,"mouse"),u.viewModeEnabled||vk(qb,wa,v,Ia[0].angle);else if(1<Ia.length&&!u.isRotating){v=4/wa.zoom.value;qb.fillStyle=Ee.ix;var ed=Bg(Ia);Ia=ed[0];pb=ed[1];var id=ed[2];ed=ed[3];var vd=qb.getLineDash();qb.setLineDash([2/wa.zoom.value]);
var le=qb.lineWidth;qb.lineWidth=1/wa.zoom.value;vl(qb,Ia-v,pb-v,id-Ia+2*v,ed-pb+2*v,(Ia+id)/2,(pb+ed)/2,0);qb.lineWidth=le;qb.setLineDash(vd);v=Fk([Ia,pb,id,ed],0,wa.zoom,"mouse",Al);vk(qb,wa,v,0)}qb.translate(-wa.scrollX,-wa.scrollY)}for(var ke in qb.scale(1/wa.zoom.value,1/wa.zoom.value),qb.translate(-Ca,-Na),wa.remotePointerViewportCoords){Ca=wa.remotePointerViewportCoords[ke];id=Ca.x;ed=Ca.y;id-=u.offsetLeft;ed-=u.offsetTop;vd=0>id||id>bc-9||0>ed||ed>Vb-14;id=Math.max(id,0);id=Math.min(id,bc-
9);ed=Math.max(ed,0);ed=Math.min(ed,Vb-14);Ca=Ti(ke,u);Na=Ca.background;v=Ca.stroke;Ia=qb.strokeStyle;pb=(Ca=qb.fillStyle,qb.globalAlpha);qb.strokeStyle=v;qb.fillStyle=Na;le=wa.remotePointerUserStates[ke];(vd||le===gl.AWAY)&&(qb.globalAlpha=.48);wa.remotePointerButton&&"down"===wa.remotePointerButton[ke]&&(qb.beginPath(),qb.arc(id,ed,15,0,2*Math.PI,!1),qb.lineWidth=3,qb.strokeStyle="#ffffff88",qb.stroke(),qb.closePath(),qb.beginPath(),qb.arc(id,ed,15,0,2*Math.PI,!1),qb.lineWidth=1,qb.strokeStyle=
v,qb.stroke(),qb.closePath());qb.beginPath();qb.moveTo(id,ed);qb.lineTo(id+1,ed+14);qb.lineTo(id+4,ed+9);qb.lineTo(id+9,ed+10);qb.lineTo(id,ed);qb.fill();qb.stroke();var Oe=wa.remotePointerUsernames[ke],Je="";le===gl.AWAY?Je=Gm?"⚫️":" (".concat(gl.AWAY,")"):le===gl.IDLE?Je=Gm?"\ud83d\udca4":" (".concat(gl.IDLE,")"):le===gl.ACTIVE&&(Je=Gm?"\ud83d\udfe2":"");le="".concat(Oe?"".concat(Oe," "):"").concat(Je);!vd&&le&&(id+=9,ed+=14,vd=qb.measureText(le),Oe=vd.actualBoundingBoxDescent+vd.actualBoundingBoxAscent,
qb.fillStyle=v,qb.fillRect(id-1,ed-1,vd.width+8+2,Oe+8+2),qb.fillStyle=Na,qb.fillRect(id,ed,vd.width+8,Oe+8),qb.fillStyle=Ee.ix,qb.fillText(le,id+4,ed+4+vd.actualBoundingBoxAscent));qb.strokeStyle=Ia;qb.fillStyle=Ca;qb.globalAlpha=pb;qb.closePath()}if(ua){var df=function(zd,Zd,je,$e){var Eh=$e.scrollX,$h=$e.scrollY,Bj=$e.zoom;if(0===zd.length)return{horizontal:null,vertical:null};$e=Bg(zd);var cj=$e[0],Vl=$e[1];zd=$e[2];$e=$e[3];var un=Zd/Bj.value,fm=je/Bj.value,vn=Zd-un,Wm=je-fm;Bj=parseInt(ag("sat"));
var fo=parseInt(ag("sab")),Xm=parseInt(ag("sal")),Vr=parseInt(ag("sar")),Ut=ta.rtl;Eh=vn/2-Eh+Xm;$h=Wm/2-$h+Bj;un=Eh+un-Vr;fm=$h+fm-fo;cj=Math.min(cj,Eh);Vl=Math.min(Vl,$h);zd=Math.max(zd,un);$e=Math.max($e,fm);return{horizontal:Eh===cj&&un===zd?null:{x:Math.max(Xm,4)+(Eh-cj)/(zd-cj)*Zd,y:je-6-Math.max(4,fo),width:(un-Eh)/(zd-cj)*Zd-Math.max(8,Xm+Vr),height:6},vertical:$h===Vl&&fm===$e?null:{x:Ut?Math.max(Xm,4):Zd-6-Math.max(Vr,4),y:($h-Vl)/($e-Vl)*je+Math.max(Bj,4),width:6,height:(fm-$h)/($e-Vl)*
je-Math.max(8,Bj+fo)}}}(d,bc,Vb,wa);Ca=qb.fillStyle;Ia=qb.strokeStyle;qb.fillStyle="rgba(0,0,0,0.3)";qb.strokeStyle="rgba(255,255,255,0.8)";[df.horizontal,df.vertical].forEach(function(zd){if(zd){var Zd=zd.x,je=zd.y,$e=zd.width;zd=zd.height;qb.beginPath();qb.moveTo(Zd+3,je);qb.lineTo(Zd+$e-3,je);qb.quadraticCurveTo(Zd+$e,je,Zd+$e,je+3);qb.lineTo(Zd+$e,je+zd-3);qb.quadraticCurveTo(Zd+$e,je+zd,Zd+$e-3,je+zd);qb.lineTo(Zd+3,je+zd);qb.quadraticCurveTo(Zd,je+zd,Zd,je+zd-3);qb.lineTo(Zd,je+3);qb.quadraticCurveTo(Zd,
je,Zd+3,je);qb.closePath();qb.fill();qb.stroke()}});qb.fillStyle=Ca;qb.strokeStyle=Ia}return qb.scale(1/G,1/G),{atLeastOneVisibleElement:0<fa.length,scrollBars:df}},vk=function(d,u,v,G){Object.keys(v).forEach(function(W){var fa=v[W];if(void 0!==fa){var wa=d.lineWidth;d.lineWidth=1/u.zoom.value;"rotation"===W?Hm(d,fa[0]+fa[2]/2,fa[1]+fa[3]/2,fa[2]/2):vl(d,fa[0],fa[1],fa[2],fa[3],fa[0]+fa[2]/2,fa[1]+fa[3]/2,G,!0);d.lineWidth=wa}})},am=function(d,u){var v=ig(u),G=v[0],W=v[1],fa=v[2]-G;v=v[3]-W;var wa=
Zi(u,fa,v);d.strokeStyle="rgba(0,0,0,.05)";d.lineWidth=wa-4;wa=2+wa/2;switch(u.type){case "rectangle":case "text":vl(d,G-wa,W-wa,fa+2*wa,v+2*wa,G+fa/2,W+v/2,u.angle);break;case "diamond":var ua=Math.hypot(fa,v);!function(Ca,Na,Ia,jb,pb,qb){Ca.translate(jb,pb);Ca.rotate(qb);Ca.beginPath();Ca.moveTo(0,Ia/2);Ca.lineTo(Na/2,0);Ca.lineTo(0,-Ia/2);Ca.lineTo(-Na/2,0);Ca.closePath();Ca.stroke();Ca.rotate(-qb);Ca.translate(-jb,-pb)}(d,fa+wa*ua/v*2,v+wa*ua/fa*2,G+fa/2,W+v/2,u.angle);break;case "ellipse":!function(Ca,
Na,Ia,jb,pb,qb){Ca.beginPath();Ca.ellipse(jb,pb,Na/2,Ia/2,qb,0,2*Math.PI);Ca.stroke()}(d,fa+2*wa,v+2*wa,G+fa/2,W+v/2,u.angle)}},fj=function(d,u){var v=u[0],G=u[1];u=u[2];var W=Zi(u,u.width,u.height);d.strokeStyle="rgba(0,0,0,0)";d.fillStyle="rgba(0,0,0,.05)";("both"===G?[0,-1]:"start"===G?[0]:[-1]).forEach(function(fa){fa=dg.getPointAtIndexGlobalCoordinates(v,fa);Hm(d,fa[0],fa[1],W)})},Ij=function(d,u,v,G){G=void 0===G?{}:G;var W=G.offsetX,fa=void 0===W?0:W;G=G.offsetY;var wa=void 0===G?0:G;v&&d.forEach(function(ua){ua.isDeleted||
function(Ca,Na,Ia,jb,pb){var qb=ig(Ca),bc=qb[0],Vb=qb[1],zc=(qb[2]-bc)/2-(Ca.x-bc),ed=(qb[3]-Vb)/2-(Ca.y-Vb),id=180*Ca.angle/Math.PI;qb=Na.generator;switch(Ca.type){case "selection":throw Error("Selection rendering is not supported for SVG");case "rectangle":case "diamond":case "ellipse":Yj(Ca,qb);qb=Na.draw(wi.get(Ca));1!=(ke=Ca.opacity/100)&&(qb.setAttribute("stroke-opacity","".concat(ke)),qb.setAttribute("fill-opacity","".concat(ke)));qb.setAttribute("transform","translate(".concat(jb||0," ").concat(pb||
0,") rotate(").concat(id," ").concat(zc," ").concat(ed,")"));Ia.appendChild(qb);break;case "line":case "draw":case "arrow":Yj(Ca,qb);var vd=Ia.ownerDocument.createElementNS("http://www.w3.org/2000/svg","g"),le=Ca.opacity/100;wi.get(Ca).forEach(function(je){je=Na.draw(je);1!==le&&(je.setAttribute("stroke-opacity","".concat(le)),je.setAttribute("fill-opacity","".concat(le)));je.setAttribute("transform","translate(".concat(jb||0," ").concat(pb||0,") rotate(").concat(id," ").concat(zc," ").concat(ed,
")"));"line"!==Ca.type&&"draw"!==Ca.type||!ei(Ca.points)||"transparent"===Ca.backgroundColor||je.setAttribute("fill-rule","evenodd");vd.appendChild(je)});Ia.appendChild(vd);break;default:if(!be(Ca))throw Error("Unimplemented type ".concat(Ca.type));var ke=Ca.opacity/100;qb=Ia.ownerDocument.createElementNS("http://www.w3.org/2000/svg","g");1!==ke&&(qb.setAttribute("stroke-opacity","".concat(ke)),qb.setAttribute("fill-opacity","".concat(ke)));qb.setAttribute("transform","translate(".concat(jb||0," ").concat(pb||
0,") rotate(").concat(id," ").concat(zc," ").concat(ed,")"));ke=Ca.text.replace(/\r\n?/g,"\n").split("\n");bc=Ca.height/ke.length;Vb=Ca.height-Ca.baseline;for(var Oe="center"===Ca.textAlign?Ca.width/2:"right"===Ca.textAlign?Ca.width:0,Je=xh.test(Ca.text)?"rtl":"ltr",df="center"===Ca.textAlign?"middle":"right"===Ca.textAlign||"rtl"===Je?"end":"start",zd=0;zd<ke.length;zd++){var Zd=Ia.ownerDocument.createElementNS("http://www.w3.org/2000/svg","text");Zd.textContent=ke[zd];Zd.setAttribute("x","".concat(Oe));
Zd.setAttribute("y","".concat((zd+1)*bc-Vb));Zd.setAttribute("font-family","".concat(hc.ut[Ca.fontFamily],", ").concat(hc._D));Zd.setAttribute("font-size","".concat(Ca.fontSize,"px"));Zd.setAttribute("fill",Ca.strokeColor);Zd.setAttribute("text-anchor",df);Zd.setAttribute("style","white-space: pre;");Zd.setAttribute("direction",Je);qb.appendChild(Zd)}Ia.appendChild(qb)}}(ua,u,v,ua.x+fa,ua.y+wa)})},wl=function(d,u){for(var v=0,G=u.length,W=d.length;v<G;v++,W++)d[W]=u[v];return d},vm=function(d,u,v,
G){var W=v.exportBackground,fa=v.exportPadding;fa=void 0===fa?10:fa;var wa=v.viewBackgroundColor,ua=v.scale,Ca=void 0===ua?1:ua;v=v.shouldAddWatermark;void 0===G&&(G=function(Ia,jb){var pb=document.createElement("canvas");return pb.width=Ia*Ca,pb.height=jb*Ca,{canvas:pb,scale:Ca}});d=Yn(d,v);var Na=Jm(d,fa,v);v=Na[0];ua=Na[1];Na=G(Na[2],Na[3]);G=Na.canvas;Na=Na.scale;return kn(d,u,null,void 0===Na?Ca:Na,Qh.canvas(G),G,{viewBackgroundColor:W?wa:null,exportWithDarkMode:u.exportWithDarkMode,scrollX:-v+
fa,scrollY:-ua+fa,zoom:Dh().zoom,remotePointerViewportCoords:{},remoteSelectedElementIds:{},shouldCacheIgnoreZoom:!1,remotePointerUsernames:{},remotePointerUserStates:{}},{renderScrollbars:!1,renderSelection:!1,renderOptimizations:!1,renderGrid:!1}),G},Pl=function(d,u){var v=u.exportBackground,G=u.exportPadding;G=void 0===G?10:G;var W=u.viewBackgroundColor,fa=u.exportWithDarkMode,wa=u.scale;wa=void 0===wa?1:wa;var ua=u.shouldAddWatermark;u=u.metadata;u=void 0===u?"":u;d=Yn(d,ua);var Ca=Jm(d,G,ua);
ua=Ca[0];var Na=Ca[1],Ia=Ca[2],jb=Ca[3];Ca=document.createElementNS("http://www.w3.org/2000/svg","svg");if(Ca.setAttribute("version","1.1"),Ca.setAttribute("xmlns","http://www.w3.org/2000/svg"),Ca.setAttribute("viewBox","0 0 ".concat(Ia," ").concat(jb)),Ca.setAttribute("width","".concat(Ia*wa)),Ca.setAttribute("height","".concat(jb*wa)),fa&&Ca.setAttribute("filter",hc.Gi),Ca.innerHTML="\n  ".concat("\x3c!-- svg-source:excalidraw --\x3e","\n  ").concat(u,'\n  \x3cdefs\x3e\n    \x3cstyle\x3e\n      @font-face {\n        font-family: "Virgil";\n        src: url("https://excalidraw.com/Virgil.woff2");\n      }\n      @font-face {\n        font-family: "Cascadia";\n        src: url("https://excalidraw.com/Cascadia.woff2");\n      }\n    \x3c/style\x3e\n  \x3c/defs\x3e\n  '),
v&&W)v=Ca.ownerDocument.createElementNS("http://www.w3.org/2000/svg","rect"),v.setAttribute("x","0"),v.setAttribute("y","0"),v.setAttribute("width","".concat(Ia)),v.setAttribute("height","".concat(jb)),v.setAttribute("fill",W),Ca.appendChild(v);v=Qh.svg(Ca);return Ij(d,v,Ca,{offsetX:-ua+G,offsetY:-Na+G}),Ca},Yn=function(d,u){var v=wl([],d);u&&(u=Bg(d),d=u[2],u=u[3],v=wl([],v),d=Kj({text:bb("labels.madeWithExcalidraw"),fontSize:16,fontFamily:hc.rk,textAlign:"right",verticalAlign:hc.hs,x:d,y:u+16,strokeColor:Ee.MA[5],
backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:1,strokeStyle:"solid",roughness:1,opacity:100,strokeSharpness:"sharp"}),v=wl(v,[d]));return v},Jm=function(d,u,v){d=Bg(d);var G=d[0],W=d[1];return[G,W,Math.abs(G-d[2])+2*u,Math.abs(W-d[3])+u+(v?0:u)]},Tj=function(d,u){for(var v=0,G=u.length,W=d.length;v<G;v++,W++)d[W]=u[v];return d},Mi=function(d){return(d=/^[$€£¥₩]?([0-9,]+(\.[0-9]+)?)$/.exec(d))?parseFloat(d[1].replace(/,/g,"")):null},Hn=function(d,u){return d.slice(1).every(function(v){return null!==
Mi(v[u])})},In=function(d){var u=d[0].length;if(2<u)return{type:"NOT_SPREADSHEET",reason:"More than 2 columns"};if(1===u){if(!Hn(d,0))return{type:"NOT_SPREADSHEET",reason:"Value is not numeric"};u=null===Mi(d[0][0]);var v=(u?d.slice(1):d).map(function(fa){return Mi(fa[0])});return 2>v.length?{type:"NOT_SPREADSHEET",reason:"Less than two rows"}:{type:"VALID_SPREADSHEET",spreadsheet:{title:u?d[0][0]:null,labels:null,values:v}}}var G=Hn(d,0)?0:1;if(!Hn(d,G))return{type:"NOT_SPREADSHEET",reason:"Value is not numeric"};
var W=(G+1)%2;v=(u=null===Mi(d[0][G]))?d.slice(1):d;return 2>v.length?{type:"NOT_SPREADSHEET",reason:"Less than 2 rows"}:{type:"VALID_SPREADSHEET",spreadsheet:{title:u?d[0][G]:null,labels:v.map(function(fa){return fa[W]}),values:v.map(function(fa){return Mi(fa[G])})}}},Wk=Ek.elementBackground.slice(2,Ek.elementBackground.length),gj={fillStyle:"hachure",fontFamily:hc.rk,fontSize:hc.n5,opacity:100,roughness:1,strokeColor:Ek.elementStroke[0],strokeSharpness:"sharp",strokeStyle:"solid",strokeWidth:1,
verticalAlign:"middle"},Im=function(d){return{chartWidth:44*d.values.length+12,chartHeight:280}},Vn=function(d,u,v,G,W,fa){var wa=Im(d),ua=wa.chartWidth,Ca=wa.chartHeight;wa=d.title?Kj(We(We({backgroundColor:W,groupIds:[G]},gj),{},{text:d.title,x:u+ua/2,y:v-256-24-hc.n5,strokeSharpness:"sharp",strokeStyle:"solid",textAlign:"center"})):null;fa=fa?Ol(We(We({backgroundColor:W,groupIds:[G]},gj),{},{type:"rectangle",x:u,y:v-Ca,width:ua,height:Ca,strokeColor:Ek.elementStroke[0],fillStyle:"solid",opacity:6})):
null;return Tj(Tj(Tj(Tj(Tj([],fa?[fa]:[]),wa?[wa]:[]),function(Na,Ia,jb,pb,qb){var bc;return(null===(bc=Na.labels)||void 0===bc?void 0:bc.map(function(Vb,zc){return Kj(We(We({groupIds:[pb],backgroundColor:qb},gj),{},{text:8<Vb.length?"".concat(Vb.slice(0,5),"..."):Vb,x:Ia+44*zc+24,y:jb+6,width:32,angle:5.87,fontSize:16,textAlign:"center",verticalAlign:"top"}))}))||[]}(d,u,v,G,W)),function(Na,Ia,jb,pb,qb){var bc=Kj(We(We({groupIds:[pb],backgroundColor:qb},gj),{},{x:Ia-12,y:jb-12,text:"0",textAlign:"right"}));
return[bc,Kj(We(We({groupIds:[pb],backgroundColor:qb},gj),{},{x:Ia-12,y:jb-256-bc.height/2,text:Math.max.apply(Math,Na.values).toLocaleString(),textAlign:"right"}))]}(d,u,v,G,W)),function(Na,Ia,jb,pb,qb){var bc=Im(Na);Na=bc.chartWidth;bc=bc.chartHeight;return[Te(We(We({backgroundColor:qb,groupIds:[pb]},gj),{},{type:"line",x:Ia,y:jb,startArrowhead:null,endArrowhead:null,width:Na,points:[[0,0],[Na,0]]})),Te(We(We({backgroundColor:qb,groupIds:[pb]},gj),{},{type:"line",x:Ia,y:jb,startArrowhead:null,endArrowhead:null,
height:bc,points:[[0,0],[0,-bc]]})),Te(We(We({backgroundColor:qb,groupIds:[pb]},gj),{},{type:"line",x:Ia,y:jb-256-12,startArrowhead:null,endArrowhead:null,strokeStyle:"dotted",width:Na,opacity:50,points:[[0,0],[Na,0]]}))]}(d,u,v,G,W))},Wn=function(d,u,v,G){return"line"===d?function(W,fa,wa){for(var ua=Math.max.apply(Math,W.values),Ca=xi(),Na=Wk[Math.floor(Math.random()*Wk.length)],Ia=0,jb=[],pb=0,qb=W.values;pb<qb.length;pb++)jb.push([44*Ia,-qb[pb]/ua*256]),Ia++;Ia=Math.max.apply(Math,jb.map(function(Vb){return Vb[0]}));
pb=Math.max.apply(Math,jb.map(function(Vb){return Vb[1]}));qb=Math.min.apply(Math,jb.map(function(Vb){return Vb[0]}));var bc=Math.min.apply(Math,jb.map(function(Vb){return Vb[1]}));jb=Te(We(We({backgroundColor:Na,groupIds:[Ca]},gj),{},{type:"line",x:fa+12+16,y:wa-12,startArrowhead:null,endArrowhead:null,height:pb-bc,width:Ia-qb,strokeWidth:2,points:jb}));Ia=W.values.map(function(Vb,zc){zc=44*zc+6;Vb=-Vb/ua*256+6;return Ol(We(We({backgroundColor:Na,groupIds:[Ca]},gj),{},{fillStyle:"solid",strokeWidth:2,
type:"ellipse",x:fa+zc+16,y:wa+Vb-24,width:12,height:12}))});pb=W.values.map(function(Vb,zc){zc=44*zc+6;Vb=Vb/ua*256+18;return Te(We(We({backgroundColor:Na,groupIds:[Ca]},gj),{},{type:"line",x:fa+zc+16+6,y:wa-Vb,startArrowhead:null,endArrowhead:null,height:Vb,strokeStyle:"dotted",opacity:50,points:[[0,0],[0,Vb]]}))});return Tj(Tj(Tj(Tj([],Vn(W,fa,wa,Ca,Na,"production"===hc.Vi.DEVELOPMENT)),[jb]),pb),Ia)}(u,v,G):function(W,fa,wa){var ua=Math.max.apply(Math,W.values),Ca=xi(),Na=Wk[Math.floor(Math.random()*
Wk.length)],Ia=W.values.map(function(jb,pb){jb=jb/ua*256;return Ol(We(We({backgroundColor:Na,groupIds:[Ca]},gj),{},{type:"rectangle",x:fa+44*pb+12,y:wa-jb-12,width:32,height:jb}))});return Tj(Tj([],Ia),Vn(W,fa,wa,Ca,Na,"production"===hc.Vi.DEVELOPMENT))}(u,v,G)},Xn=function(){var d=function(u,v){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,W){G.__proto__=W}||function(G,W){for(var fa in W)Object.prototype.hasOwnProperty.call(W,fa)&&(G[fa]=W[fa])})(u,v)};return function(u,
v){function G(){this.constructor=u}if("function"!=typeof v&&null!==v)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");d(u,v);u.prototype=null===v?Object.create(v):(G.prototype=v.prototype,new G)}}(),rn=function(d){function u(v,G){void 0===v&&(v="Couldn't export canvas.");void 0===G&&(G="CANVAS_ERROR");var W=d.call(this)||this;return W.name=G,W.message=v,W}return Xn(u,d),u}(Error),Nj=function(d,u){var v,G,W,fa,wa,ua,Ca,Na;d={type:d.type,version:d.version||1,versionNonce:null!==
(v=d.versionNonce)&&void 0!==v?v:0,isDeleted:null!==(G=d.isDeleted)&&void 0!==G&&G,id:d.id||xi(),fillStyle:d.fillStyle||"hachure",strokeWidth:d.strokeWidth||1,strokeStyle:null!==(W=d.strokeStyle)&&void 0!==W?W:"solid",roughness:null!==(fa=d.roughness)&&void 0!==fa?fa:1,opacity:null==d.opacity?100:d.opacity,angle:d.angle||0,x:d.x||0,y:d.y||0,strokeColor:d.strokeColor,backgroundColor:d.backgroundColor,width:d.width||0,height:d.height||0,seed:null!==(wa=d.seed)&&void 0!==wa?wa:1,groupIds:null!==(ua=
d.groupIds)&&void 0!==ua?ua:[],strokeSharpness:null!==(Ca=d.strokeSharpness)&&void 0!==Ca?Ca:hj(d.type)?"round":"sharp",boundElementIds:null!==(Na=d.boundElementIds)&&void 0!==Na?Na:[]};return Fe(Fe(Fe({},d),Ml(d)),u)},wk=function(d){return(d||[]).reduce(function(u,v){if("selection"!==v.type&&!Rh(v)){a:{var G;switch(v.type){case "text":var W=v.fontSize,fa=v.fontFamily;if("font"in v){W=v.font.split(" ");fa=W[1];W=parseInt(W[0],10);b:{for(var wa=0,ua=Object.entries(hc.ut);wa<ua.length;wa++){var Ca=
ua[wa],Na=Ca[0];if(Ca[1].includes(fa)){fa=parseInt(Na);break b}}fa=hc.rk}}v=Nj(v,{fontSize:W,fontFamily:fa,text:null!==(G=v.text)&&void 0!==G?G:"",baseline:v.baseline,textAlign:v.textAlign||hc.Hg,verticalAlign:v.verticalAlign||hc.hs});break a;case "draw":case "line":case "arrow":G=v.startArrowhead;G=void 0===G?null:G;W=v.endArrowhead;W=void 0===W?"arrow"===v.type?"arrow":null:W;v=Nj(v,{startBinding:v.startBinding,endBinding:v.endBinding,points:!Array.isArray(v.points)||2>v.points.length?[[0,0],[v.width,
v.height]]:v.points,lastCommittedPoint:null,startArrowhead:G,endArrowhead:W});break a;case "ellipse":case "rectangle":case "diamond":v=Nj(v,{});break a}v=void 0}v&&u.push(v)}return u},[])},ln=function(d,u){d=d||{};for(var v=Dh(),G={},W=0,fa=Object.entries(v);W<fa.length;W++){var wa=fa[W],ua=wa[0];wa=wa[1];var Ca=d[ua],Na=u?u[ua]:void 0;G[ua]=void 0!==Ca?Ca:void 0!==Na?Na:wa}return Fe(Fe({},G),{},{offsetLeft:d.offsetLeft||0,offsetTop:d.offsetTop||0,zoom:"number"==typeof d.zoom?{value:d.zoom,translation:v.zoom.translation}:
d.zoom||v.zoom})},mn=function(d,u){return{elements:wk(null==d?void 0:d.elements),appState:ln(null==d?void 0:d.appState,u||null)}},tn=function(d,u){function v(Ca){return function(Na){return function(Ia){if(G)throw new TypeError("Generator is already executing.");for(;ua;)try{if(G=1,W&&(fa=2&Ia[0]?W.return:Ia[0]?W.throw||((fa=W.return)&&fa.call(W),0):W.next)&&!(fa=fa.call(W,Ia[1])).done)return fa;switch(W=0,fa&&(Ia=[2&Ia[0],fa.value]),Ia[0]){case 0:case 1:fa=Ia;break;case 4:return ua.label++,{value:Ia[1],
done:!1};case 5:ua.label++;W=Ia[1];Ia=[0];continue;case 7:Ia=ua.ops.pop();ua.trys.pop();continue;default:if(!(fa=ua.trys,(fa=0<fa.length&&fa[fa.length-1])||6!==Ia[0]&&2!==Ia[0])){ua=0;continue}if(3===Ia[0]&&(!fa||Ia[1]>fa[0]&&Ia[1]<fa[3]))ua.label=Ia[1];else if(6===Ia[0]&&ua.label<fa[1])ua.label=fa[1],fa=Ia;else if(fa&&ua.label<fa[2])ua.label=fa[2],ua.ops.push(Ia);else{fa[2]&&ua.ops.pop();ua.trys.pop();continue}}Ia=u.call(d,ua)}catch(jb){Ia=[6,jb],W=0}finally{G=fa=0}if(5&Ia[0])throw Ia[1];return{value:Ia[0]?
Ia[1]:void 0,done:!0}}([Ca,Na])}}var G,W,fa,wa,ua={label:0,sent:function(){if(1&fa[0])throw fa[1];return fa[1]},trys:[],ops:[]};return wa={next:v(0),throw:v(1),return:v(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa},mj=function(d,u){for(var v=0,G=u.length,W=d.length;v<G;v++,W++)d[W]=u[v];return d},ph=function(){function d(){}return d.importLibrary=function(u){return Pc()(function(){var v,G,W,fa;return tn(this,function(wa){switch(wa.label){case 0:return[4,qp(u)];case 1:return(v=
wa.sent())&&v.library?(G=function(ua,Ca){return!ua.find(function(Na){return Na.length===Ca.length&&Na.every(function(Ia,jb){return Ia.id===Ca[jb].id&&Ia.versionNonce===Ca[jb].versionNonce})})},[4,d.loadLibrary()]):[2];case 2:return W=wa.sent(),fa=v.library.reduce(function(ua,Ca){Ca=ge(wk(Ca));return G(W,Ca)&&ua.push(Ca),ua},[]),d.saveLibrary(mj(mj([],W),fa)),[2]}})})()},d}();ph.libraryCache=null;ph.resetLibrary=function(){ph.libraryCache=null;localStorage.removeItem(hc.I.LOCAL_STORAGE_LIBRARY)};ph.loadLibrary=
function(){return new Promise(function(){var d=Pc()(function(u){var v,G;return tn(this,function(W){if(ph.libraryCache)return[2,u(JSON.parse(JSON.stringify(ph.libraryCache)))];try{if(!(v=localStorage.getItem(hc.I.LOCAL_STORAGE_LIBRARY)))return[2,u([])];G=JSON.parse(v).map(function(fa){return wk(fa)});ph.libraryCache=JSON.parse(JSON.stringify(G));u(G)}catch(fa){console.error(fa),u([])}return[2]})});return function(u){return d.apply(this,arguments)}}())};ph.saveLibrary=function(d){var u=ph.libraryCache;
try{var v=JSON.stringify(d);ph.libraryCache=JSON.parse(v);localStorage.setItem(hc.I.LOCAL_STORAGE_LIBRARY,v)}catch(G){ph.libraryCache=u,console.error(G)}};var qm=function(d,u){function v(Ca){return function(Na){return function(Ia){if(G)throw new TypeError("Generator is already executing.");for(;ua;)try{if(G=1,W&&(fa=2&Ia[0]?W.return:Ia[0]?W.throw||((fa=W.return)&&fa.call(W),0):W.next)&&!(fa=fa.call(W,Ia[1])).done)return fa;switch(W=0,fa&&(Ia=[2&Ia[0],fa.value]),Ia[0]){case 0:case 1:fa=Ia;break;case 4:return ua.label++,
{value:Ia[1],done:!1};case 5:ua.label++;W=Ia[1];Ia=[0];continue;case 7:Ia=ua.ops.pop();ua.trys.pop();continue;default:if(!(fa=ua.trys,(fa=0<fa.length&&fa[fa.length-1])||6!==Ia[0]&&2!==Ia[0])){ua=0;continue}if(3===Ia[0]&&(!fa||Ia[1]>fa[0]&&Ia[1]<fa[3]))ua.label=Ia[1];else if(6===Ia[0]&&ua.label<fa[1])ua.label=fa[1],fa=Ia;else if(fa&&ua.label<fa[2])ua.label=fa[2],ua.ops.push(Ia);else{fa[2]&&ua.ops.pop();ua.trys.pop();continue}}Ia=u.call(d,ua)}catch(jb){Ia=[6,jb],W=0}finally{G=fa=0}if(5&Ia[0])throw Ia[1];
return{value:Ia[0]?Ia[1]:void 0,done:!0}}([Ca,Na])}}var G,W,fa,wa,ua={label:0,sent:function(){if(1&fa[0])throw fa[1];return fa[1]},trys:[],ops:[]};return wa={next:v(0),throw:v(1),return:v(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa},rm=function(d,u){return JSON.stringify({type:"excalidraw",version:2,source:window.location.origin,elements:Df(d),appState:vi(u,"export")},null,2)},bm=function(){var d=Pc()(function(u,v){var G;return qm(this,function(W){switch(W.label){case 0:return G=
rm(u,v),[4,jh(new Blob([G],{type:"application/json"}),{fileName:v.name,description:"Excalidraw file",extensions:[".excalidraw"]},v.fileHandle)];case 1:return[2,{fileHandle:W.sent()}]}})});return function(u,v){return d.apply(this,arguments)}}(),nn=function(){var d=Pc()(function(u){var v;return qm(this,function(G){switch(G.label){case 0:return[4,uh({description:"Excalidraw files",extensions:[".json",".excalidraw",".png",".svg"],mimeTypes:["application/json","image/png","image/svg+xml"]})];case 1:return v=
G.sent(),[2,Om(v,u)]}})});return function(u){return d.apply(this,arguments)}}(),sm=function(){var d=Pc()(function(){var u,v;return qm(this,function(G){switch(G.label){case 0:return[4,ph.loadLibrary()];case 1:return u=G.sent(),v=JSON.stringify({type:"excalidrawlib",version:1,library:u},null,2),"library.excalidrawlib",[4,jh(new Blob([v],{type:hc.LO.excalidrawlib}),{fileName:"library.excalidrawlib",description:"Excalidraw library file",extensions:[".excalidrawlib"]})];case 2:return G.sent(),[2]}})});
return function(){return d.apply(this,arguments)}}(),pp=function(){var d=Pc()(function(){var u;return qm(this,function(v){switch(v.label){case 0:return[4,uh({description:"Excalidraw library files",extensions:[".json",".excalidrawlib"],mimeTypes:["application/json"]})];case 1:return u=v.sent(),ph.importLibrary(u),[2]}})});return function(){return d.apply(this,arguments)}}(),Km=function(d,u){function v(Ca){return function(Na){return function(Ia){if(G)throw new TypeError("Generator is already executing.");
for(;ua;)try{if(G=1,W&&(fa=2&Ia[0]?W.return:Ia[0]?W.throw||((fa=W.return)&&fa.call(W),0):W.next)&&!(fa=fa.call(W,Ia[1])).done)return fa;switch(W=0,fa&&(Ia=[2&Ia[0],fa.value]),Ia[0]){case 0:case 1:fa=Ia;break;case 4:return ua.label++,{value:Ia[1],done:!1};case 5:ua.label++;W=Ia[1];Ia=[0];continue;case 7:Ia=ua.ops.pop();ua.trys.pop();continue;default:if(!(fa=ua.trys,(fa=0<fa.length&&fa[fa.length-1])||6!==Ia[0]&&2!==Ia[0])){ua=0;continue}if(3===Ia[0]&&(!fa||Ia[1]>fa[0]&&Ia[1]<fa[3]))ua.label=Ia[1];else if(6===
Ia[0]&&ua.label<fa[1])ua.label=fa[1],fa=Ia;else if(fa&&ua.label<fa[2])ua.label=fa[2],ua.ops.push(Ia);else{fa[2]&&ua.ops.pop();ua.trys.pop();continue}}Ia=u.call(d,ua)}catch(jb){Ia=[6,jb],W=0}finally{G=fa=0}if(5&Ia[0])throw Ia[1];return{value:Ia[0]?Ia[1]:void 0,done:!0}}([Ca,Na])}}var G,W,fa,wa,ua={label:0,sent:function(){if(1&fa[0])throw fa[1];return fa[1]},trys:[],ops:[]};return wa={next:v(0),throw:v(1),return:v(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa},Cn=function(){var d=
Pc()(function(u){var v;return Km(this,function(G){switch(G.label){case 0:if("image/png"!==u.type)return[3,6];G.label=1;case 1:return G.trys.push([1,4,,5]),[4,Promise.all([h.e(736),h.e(9)]).then(h.bind(h,8527))];case 2:return[4,G.sent().decodePngMetadata(u)];case 3:return[2,G.sent()];case 4:throw"INVALID"===G.sent().message?Error(bb("alerts.imageDoesNotContainScene")):Error(bb("alerts.cannotRestoreFromImage"));case 5:return[3,15];case 6:return"text"in Blob?[4,u.text()]:[3,8];case 7:return v=G.sent(),
[3,10];case 8:return[4,new Promise(function(W){var fa=new FileReader;fa.readAsText(u,"utf8");fa.onloadend=function(){fa.readyState===FileReader.DONE&&W(fa.result)}})];case 9:v=G.sent(),G.label=10;case 10:if("image/svg+xml"!==u.type)return[3,15];G.label=11;case 11:return G.trys.push([11,14,,15]),[4,Promise.all([h.e(736),h.e(9)]).then(h.bind(h,8527))];case 12:return[4,G.sent().decodeSvgMetadata({svg:v})];case 13:return[2,G.sent()];case 14:throw"INVALID"===G.sent().message?Error(bb("alerts.imageDoesNotContainScene")):
Error(bb("alerts.cannotRestoreFromImage"));case 15:return[2,v]}})});return function(u){return d.apply(this,arguments)}}(),Om=function(){var d=Pc()(function(u,v){var G,W;return Km(this,function(fa){switch(fa.label){case 0:return[4,Cn(u)];case 1:G=fa.sent();try{var wa=W=JSON.parse(G);if("excalidraw"!==(null==wa?void 0:wa.type)||wa.elements&&(!Array.isArray(wa.elements)||wa.appState&&"object"!=typeof wa.appState))throw Error(bb("alerts.couldNotLoadInvalidFile"));var ua=Df(W.elements||[]),Ca=null==v?
void 0:v.appearance,Na;if(Na=u.handle){var Ia=["application/json",hc.LO.excalidraw],jb=Ia.includes;a:{if("string"==typeof u)var pb=u;else{if(u.type){var qb=u.type;break a}pb=u.name||""}qb=/\.(excalidraw|json)$/.test(pb)?"application/json":/\.png$/.test(pb)?"image/png":/\.jpe?g$/.test(pb)?"image/jpeg":/\.svg$/.test(pb)?"image/svg+xml":""}Na=jb.call(Ia,qb)}return[2,mn({elements:ua,appState:Bb(Bb({appearance:Ca,fileHandle:Na?u.handle:null},vi(W.appState||{},"export")),v?mi(W.elements||[],v):{})},v)]}catch(bc){throw console.error(bc.message),
Error(bb("alerts.couldNotLoadInvalidFile"));}}})});return function(u,v){return d.apply(this,arguments)}}(),qp=function(){var d=Pc()(function(u){var v,G;return Km(this,function(W){switch(W.label){case 0:return[4,Cn(u)];case 1:if(v=W.sent(),"excalidrawlib"!==(G=JSON.parse(v)).type)throw Error(bb("alerts.couldNotLoadInvalidFile"));return[2,G]}})});return function(u){return d.apply(this,arguments)}}(),Lm=function(){var d=Pc()(function(u){return Km(this,function(v){return[2,new Promise(function(G,W){try{u.toBlob(function(fa){if(!fa)return W(new rn(bb("canvasError.canvasTooBig"),
"CANVAS_POSSIBLY_TOO_BIG"));G(fa)})}catch(fa){W(fa)}})]})});return function(u){return d.apply(this,arguments)}}(),Vj=function(d,u){function v(Ca){return function(Na){return function(Ia){if(G)throw new TypeError("Generator is already executing.");for(;ua;)try{if(G=1,W&&(fa=2&Ia[0]?W.return:Ia[0]?W.throw||((fa=W.return)&&fa.call(W),0):W.next)&&!(fa=fa.call(W,Ia[1])).done)return fa;switch(W=0,fa&&(Ia=[2&Ia[0],fa.value]),Ia[0]){case 0:case 1:fa=Ia;break;case 4:return ua.label++,{value:Ia[1],done:!1};
case 5:ua.label++;W=Ia[1];Ia=[0];continue;case 7:Ia=ua.ops.pop();ua.trys.pop();continue;default:if(!(fa=ua.trys,(fa=0<fa.length&&fa[fa.length-1])||6!==Ia[0]&&2!==Ia[0])){ua=0;continue}if(3===Ia[0]&&(!fa||Ia[1]>fa[0]&&Ia[1]<fa[3]))ua.label=Ia[1];else if(6===Ia[0]&&ua.label<fa[1])ua.label=fa[1],fa=Ia;else if(fa&&ua.label<fa[2])ua.label=fa[2],ua.ops.push(Ia);else{fa[2]&&ua.ops.pop();ua.trys.pop();continue}}Ia=u.call(d,ua)}catch(jb){Ia=[6,jb],W=0}finally{G=fa=0}if(5&Ia[0])throw Ia[1];return{value:Ia[0]?
Ia[1]:void 0,done:!0}}([Ca,Na])}}var G,W,fa,wa,ua={label:0,sent:function(){if(1&fa[0])throw fa[1];return fa[1]},trys:[],ops:[]};return wa={next:v(0),throw:v(1),return:v(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa},Nm="",Mm=!1,Uh="clipboard"in navigator&&"readText"in navigator.clipboard,Wj="clipboard"in navigator&&"writeText"in navigator.clipboard,Dk="clipboard"in navigator&&"write"in navigator.clipboard&&"ClipboardItem"in window&&"toBlob"in HTMLCanvasElement.prototype,
Ck=function(){var d=Pc()(function(u,v){var G,W,fa;return Vj(this,function(wa){switch(wa.label){case 0:G={type:"excalidraw/elements",created:Date.now(),elements:uf(u,v)},Nm=W=JSON.stringify(G),wa.label=1;case 1:return wa.trys.push([1,3,,4]),Mm=!1,[4,Jb(W)];case 2:return wa.sent(),[3,4];case 3:return fa=wa.sent(),Mm=!0,console.error(fa),[3,4];case 4:return[2]}})});return function(u,v){return d.apply(this,arguments)}}(),L=function(){if(!Nm)return{};try{return JSON.parse(Nm)}catch(d){return console.error(d),
{}}},ka=function(d){d=function(u){var v=u.trim().split("\n").map(function(W){return W.trim().split("\t")});if(v.length&&2!==v[0].length&&(v=u.trim().split("\n").map(function(W){return W.trim().split(",")})),0===v.length)return{type:"NOT_SPREADSHEET",reason:"No values"};var G=v[0].length;if(!v.every(function(W){return W.length===G}))return{type:"NOT_SPREADSHEET",reason:"All rows don't have same number of columns"};u=In(v);return"VALID_SPREADSHEET"!==u.type&&(v=In(function(W){for(var fa=[],wa=0;wa<
W[0].length;wa++){for(var ua=[],Ca=0;Ca<W.length;Ca++)ua.push(W[Ca][wa]);fa.push(ua)}return fa}(v)),"VALID_SPREADSHEET"===v.type)?v:u}(d);return"VALID_SPREADSHEET"===d.type?{spreadsheet:d.spreadsheet}:null},Ba=function(){var d=Pc()(function(u){var v,G,W;return Vj(this,function(fa){switch(fa.label){case 0:return fa.trys.push([0,5,,6]),u?(G=null===(v=u.clipboardData)||void 0===v?void 0:v.getData("text/plain").trim(),[3,4]):[3,1];case 1:return(W=Uh)?[4,navigator.clipboard.readText()]:[3,3];case 2:W=
fa.sent(),fa.label=3;case 3:G=W,fa.label=4;case 4:return[2,G||""];case 5:return fa.sent(),[2,""];case 6:return[2]}})});return function(u){return d.apply(this,arguments)}}(),ab=function(){var d=Pc()(function(u){var v,G,W,fa;return Vj(this,function(wa){switch(wa.label){case 0:return[4,Ba(u)];case 1:if(!(v=wa.sent())||v.includes("\x3c!-- svg-source:excalidraw --\x3e"))return[2,L()];if(G=ka(v))return[2,G];W=L();try{return fa=JSON.parse(v),"excalidraw/elements"===(null==(ua=fa)?void 0:ua.type)&&(null==
W||!W.created||W.created<fa.created)?[2,{elements:fa.elements}]:[2,W]}catch(Ca){return[2,Mm&&W.elements?W:{text:v}]}}var ua})});return function(u){return d.apply(this,arguments)}}(),xb=function(){var d=Pc()(function(u){var v;return Vj(this,function(G){switch(G.label){case 0:return[4,Lm(u)];case 1:return v=G.sent(),[4,navigator.clipboard.write([new window.ClipboardItem({"image/png":v})])];case 2:return G.sent(),[2]}})});return function(u){return d.apply(this,arguments)}}(),Jb=function(){var d=Pc()(function(u){var v,
G;return Vj(this,function(W){switch(W.label){case 0:if(v=!1,!Wj)return[3,4];W.label=1;case 1:return W.trys.push([1,3,,4]),[4,navigator.clipboard.writeText(u||"")];case 2:return W.sent(),v=!0,[3,4];case 3:return G=W.sent(),console.error(G),[3,4];case 4:if(W=!v){var fa=u||" ",wa="rtl"===document.documentElement.getAttribute("dir");W=document.createElement("textarea");W.style.border="0";W.style.padding="0";W.style.margin="0";W.style.position="absolute";W.style[wa?"right":"left"]="-9999px";W.style.top=
"".concat(window.pageYOffset||document.documentElement.scrollTop,"px");W.style.fontSize="12pt";W.setAttribute("readonly","");W.value=fa;document.body.appendChild(W);fa=!1;try{W.select(),W.setSelectionRange(0,W.value.length),fa=document.execCommand("copy")}catch(ua){console.error(ua)}W=!(W.remove(),fa)}if(W)throw Error("couldn't copy");return[2]}})});return function(u){return d.apply(this,arguments)}}(),oc=function(d,u){function v(Ca){return function(Na){return function(Ia){if(G)throw new TypeError("Generator is already executing.");
for(;ua;)try{if(G=1,W&&(fa=2&Ia[0]?W.return:Ia[0]?W.throw||((fa=W.return)&&fa.call(W),0):W.next)&&!(fa=fa.call(W,Ia[1])).done)return fa;switch(W=0,fa&&(Ia=[2&Ia[0],fa.value]),Ia[0]){case 0:case 1:fa=Ia;break;case 4:return ua.label++,{value:Ia[1],done:!1};case 5:ua.label++;W=Ia[1];Ia=[0];continue;case 7:Ia=ua.ops.pop();ua.trys.pop();continue;default:if(!(fa=ua.trys,(fa=0<fa.length&&fa[fa.length-1])||6!==Ia[0]&&2!==Ia[0])){ua=0;continue}if(3===Ia[0]&&(!fa||Ia[1]>fa[0]&&Ia[1]<fa[3]))ua.label=Ia[1];else if(6===
Ia[0]&&ua.label<fa[1])ua.label=fa[1],fa=Ia;else if(fa&&ua.label<fa[2])ua.label=fa[2],ua.ops.push(Ia);else{fa[2]&&ua.ops.pop();ua.trys.pop();continue}}Ia=u.call(d,ua)}catch(jb){Ia=[6,jb],W=0}finally{G=fa=0}if(5&Ia[0])throw Ia[1];return{value:Ia[0]?Ia[1]:void 0,done:!0}}([Ca,Na])}}var G,W,fa,wa,ua={label:0,sent:function(){if(1&fa[0])throw fa[1];return fa[1]},trys:[],ops:[]};return wa={next:v(0),throw:v(1),return:v(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa},Ac=function(){var d=
Pc()(function(u,v,G,W,fa){var wa,ua,Ca,Na,Ia,jb,pb,qb,bc,Vb=fa.exportBackground,zc=fa.exportPadding,ed=void 0===zc?10:zc,id=fa.viewBackgroundColor,vd=fa.name;zc=fa.scale;var le=void 0===zc?1:zc,ke=fa.shouldAddWatermark;return oc(this,function(Oe){switch(Oe.label){case 0:if(0===v.length)throw Error(bb("alerts.cannotExportEmptyCanvas"));return"svg"!==u&&"clipboard-svg"!==u?[3,7]:(ua=Pl,Ca=[v],Na={exportBackground:Vb,exportWithDarkMode:G.exportWithDarkMode,viewBackgroundColor:id,exportPadding:ed,scale:le,
shouldAddWatermark:ke},G.exportEmbedScene&&"svg"===u?[4,Promise.all([h.e(736),h.e(9)]).then(h.bind(h,8527))]:[3,3]);case 1:return[4,Oe.sent().encodeSvgMetadata({text:rm(v,G)})];case 2:return Ia=Oe.sent(),[3,4];case 3:Ia=void 0,Oe.label=4;case 4:return wa=ua.apply(void 0,Ca.concat([(Na.metadata=Ia,Na)])),"svg"!==u?[3,6]:[4,jh(new Blob([wa.outerHTML],{type:"image/svg+xml"}),{fileName:"".concat(vd,".svg"),extensions:[".svg"]})];case 5:return Oe.sent(),[2];case 6:if("clipboard-svg"===u)return Jb(wa.outerHTML),
[2];Oe.label=7;case 7:return(jb=vm(v,G,{exportBackground:Vb,viewBackgroundColor:id,exportPadding:ed,scale:le,shouldAddWatermark:ke})).style.display="none",document.body.appendChild(jb),"png"!==u?[3,13]:(pb="".concat(vd,".png"),[4,Lm(jb)]);case 8:return qb=Oe.sent(),G.exportEmbedScene?[4,Promise.all([h.e(736),h.e(9)]).then(h.bind(h,8527))]:[3,11];case 9:return[4,Oe.sent().encodePngMetadata({blob:qb,metadata:rm(v,G)})];case 10:qb=Oe.sent(),Oe.label=11;case 11:return[4,jh(qb,{fileName:pb,extensions:[".png"]})];
case 12:return Oe.sent(),[3,17];case 13:if("clipboard"!==u)return[3,17];Oe.label=14;case 14:return Oe.trys.push([14,16,,17]),[4,xb(jb)];case 15:return Oe.sent(),[3,17];case 16:if("CANVAS_POSSIBLY_TOO_BIG"===(bc=Oe.sent()).name)throw bc;throw Error(bb("alerts.couldNotCopyToClipboard"));case 17:return jb!==W&&jb.remove(),[2]}})});return function(u,v,G,W,fa){return d.apply(this,arguments)}}(),Lc=function(d,u){function v(Ca){return function(Na){return function(Ia){if(G)throw new TypeError("Generator is already executing.");
for(;ua;)try{if(G=1,W&&(fa=2&Ia[0]?W.return:Ia[0]?W.throw||((fa=W.return)&&fa.call(W),0):W.next)&&!(fa=fa.call(W,Ia[1])).done)return fa;switch(W=0,fa&&(Ia=[2&Ia[0],fa.value]),Ia[0]){case 0:case 1:fa=Ia;break;case 4:return ua.label++,{value:Ia[1],done:!1};case 5:ua.label++;W=Ia[1];Ia=[0];continue;case 7:Ia=ua.ops.pop();ua.trys.pop();continue;default:if(!(fa=ua.trys,(fa=0<fa.length&&fa[fa.length-1])||6!==Ia[0]&&2!==Ia[0])){ua=0;continue}if(3===Ia[0]&&(!fa||Ia[1]>fa[0]&&Ia[1]<fa[3]))ua.label=Ia[1];else if(6===
Ia[0]&&ua.label<fa[1])ua.label=fa[1],fa=Ia;else if(fa&&ua.label<fa[2])ua.label=fa[2],ua.ops.push(Ia);else{fa[2]&&ua.ops.pop();ua.trys.pop();continue}}Ia=u.call(d,ua)}catch(jb){Ia=[6,jb],W=0}finally{G=fa=0}if(5&Ia[0])throw Ia[1];return{value:Ia[0]?Ia[1]:void 0,done:!0}}([Ca,Na])}}var G,W,fa,wa,ua={label:0,sent:function(){if(1&fa[0])throw fa[1];return fa[1]},trys:[],ops:[]};return wa={next:v(0),throw:v(1),return:v(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa},Xc,nd,
Qd;ne({name:"changeProjectName",perform:function(d,u,v){return Sg("change","title"),{appState:Ta(Ta({},u),{},{name:v}),commitToHistory:!1}},PanelComponent:function(d){var u=d.appState,v=d.updateData;return Da().createElement(Di,{label:bb("labels.fileTitle"),value:u.name||"Unnamed",onChange:function(G){return v(G)}})}});ne({name:"changeExportBackground",perform:function(d,u,v){return{appState:Ta(Ta({},u),{},{exportBackground:v}),commitToHistory:!1}},PanelComponent:function(d){var u=d.appState,v=d.updateData;
return Da().createElement("label",null,Da().createElement("input",{type:"checkbox",checked:u.exportBackground,onChange:function(G){return v(G.target.checked)}})," ",bb("labels.withBackground"))}});ne({name:"changeExportEmbedScene",perform:function(d,u,v){return{appState:Ta(Ta({},u),{},{exportEmbedScene:v}),commitToHistory:!1}},PanelComponent:function(d){var u=d.appState,v=d.updateData;return Da().createElement("label",{style:{display:"flex"}},Da().createElement("input",{type:"checkbox",checked:u.exportEmbedScene,
onChange:function(G){return v(G.target.checked)}})," ",bb("labels.exportEmbedScene"),Da().createElement(Gj,{label:bb("labels.exportEmbedScene_details"),position:"above",long:!0},Da().createElement("div",{className:"TooltipIcon"},fd)))}});ne({name:"changeShouldAddWatermark",perform:function(d,u,v){return{appState:Ta(Ta({},u),{},{shouldAddWatermark:v}),commitToHistory:!1}},PanelComponent:function(d){var u=d.appState,v=d.updateData;return Da().createElement("label",null,Da().createElement("input",{type:"checkbox",
checked:u.shouldAddWatermark,onChange:function(G){return v(G.target.checked)}})," ",bb("labels.addWatermark"))}});ne({name:"saveScene",perform:(Xc=Pc()(function(d,u,v){var G,W,fa;return Lc(this,function(wa){switch(wa.label){case 0:G=!!u.fileHandle,wa.label=1;case 1:return wa.trys.push([1,3,,4]),[4,bm(d,u)];case 2:return W=wa.sent().fileHandle,[2,{commitToHistory:!1,appState:Ta(Ta({},u),{},{fileHandle:W,toastMessage:G?W.name?bb("toast.fileSavedToFilename").replace("{filename}",'"'.concat(W.name,'"')):
bb("toast.fileSaved"):null})}];case 3:return"AbortError"!==(null==(fa=wa.sent())?void 0:fa.name)&&console.error(fa),[2,{commitToHistory:!1}];case 4:return[2]}})}),function(d,u,v){return Xc.apply(this,arguments)}),keyTest:function(d){return"s"===d.key&&d[cf]&&!d.shiftKey},PanelComponent:function(d){var u=d.updateData;return Da().createElement(gf,{type:"button",icon:De,title:bb("buttons.save"),"aria-label":bb("buttons.save"),showAriaLabel:Ve(),onClick:function(){return u(null)}})}});ne({name:"saveAsScene",
perform:(nd=Pc()(function(d,u,v){var G,W;return Lc(this,function(fa){switch(fa.label){case 0:return fa.trys.push([0,2,,3]),[4,bm(d,Ta(Ta({},u),{},{fileHandle:null}))];case 1:return G=fa.sent().fileHandle,[2,{commitToHistory:!1,appState:Ta(Ta({},u),{},{fileHandle:G})}];case 2:return"AbortError"!==(null==(W=fa.sent())?void 0:W.name)&&console.error(W),[2,{commitToHistory:!1}];case 3:return[2]}})}),function(d,u,v){return nd.apply(this,arguments)}),keyTest:function(d){return"s"===d.key&&d.shiftKey&&d[cf]},
PanelComponent:function(d){var u=d.updateData;return Da().createElement(gf,{type:"button",icon:Fm,title:bb("buttons.saveAs"),"aria-label":bb("buttons.saveAs"),showAriaLabel:Ve(),hidden:!("chooseFileSystemEntries"in window||"showOpenFilePicker"in window),onClick:function(){return u(null)}})}});ne({name:"loadScene",perform:(Qd=Pc()(function(d,u){var v,G,W,fa;return Lc(this,function(wa){switch(wa.label){case 0:return wa.trys.push([0,2,,3]),[4,nn(u)];case 1:return v=wa.sent(),G=v.elements,W=v.appState,
[2,{elements:G,appState:W,commitToHistory:!0}];case 2:return"AbortError"===(null==(fa=wa.sent())?void 0:fa.name)?[2,!1]:[2,{elements:d,appState:Ta(Ta({},u),{},{errorMessage:fa.message}),commitToHistory:!1}];case 3:return[2]}})}),function(d,u){return Qd.apply(this,arguments)}),keyTest:function(d){return d[cf]&&"o"===d.key},PanelComponent:function(d){var u=d.updateData;d.appState;return Da().createElement(gf,{type:"button",icon:om,title:bb("buttons.load"),"aria-label":bb("buttons.load"),showAriaLabel:Ve(),
onClick:u})}});ne({name:"exportWithDarkMode",perform:function(d,u,v){return{appState:Ta(Ta({},u),{},{exportWithDarkMode:v}),commitToHistory:!1}},PanelComponent:function(d){var u=d.appState,v=d.updateData;return Da().createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"-45px",marginBottom:"10px"}},Da().createElement(hk,{value:u.exportWithDarkMode?"dark":"light",onChange:function(G){v("dark"===G)},title:bb("labels.toggleExportColorScheme")}))}});var fe="{}",qf=ne({name:"copyStyles",
perform:function(d,u){d=d.find(function(v){return u.selectedElementIds[v.id]});return d&&(fe=JSON.stringify(d)),{appState:tb(tb({},u),{},{toastMessage:bb("toast.copyStyles")}),commitToHistory:!1}},contextItemLabel:"labels.copyStyles",keyTest:function(d){return d[cf]&&d.altKey&&"KeyC"===d.code}}),hf=ne({name:"pasteStyles",perform:function(d,u){var v=JSON.parse(fe);return"text"!==(null==v?void 0:v.type)&&"diamond"!==(null==v?void 0:v.type)&&"rectangle"!==(null==v?void 0:v.type)&&"ellipse"!==(null==
v?void 0:v.type)&&"arrow"!==(null==v?void 0:v.type)&&"draw"!==(null==v?void 0:v.type)&&"line"!==(null==v?void 0:v.type)?{elements:d,commitToHistory:!1}:{elements:d.map(function(G){return u.selectedElementIds[G.id]?(G=yg(G,{backgroundColor:null==v?void 0:v.backgroundColor,strokeWidth:null==v?void 0:v.strokeWidth,strokeColor:null==v?void 0:v.strokeColor,strokeStyle:null==v?void 0:v.strokeStyle,fillStyle:null==v?void 0:v.fillStyle,opacity:null==v?void 0:v.opacity,roughness:null==v?void 0:v.roughness}),
be(G)&&(jf(G,{fontSize:(null==v?void 0:v.fontSize)||hc.n5,fontFamily:(null==v?void 0:v.fontFamily)||hc.rk,textAlign:(null==v?void 0:v.textAlign)||hc.Hg}),qk(G)),G):G}),commitToHistory:!0}},contextItemLabel:"labels.pasteStyles",keyTest:function(d){return d[cf]&&d.altKey&&"KeyV"===d.code}}),gi=function(d){return Da().createElement("label",{title:"".concat(d.title," — ?"),className:"help-icon"},Da().createElement("div",{onClick:d.onClick},fd))};ne({name:"toggleCanvasMenu",perform:function(d,u){return{appState:qc(qc({},
u),{},{openMenu:"canvas"===u.openMenu?null:"canvas"}),commitToHistory:!1}},PanelComponent:function(d){var u=d.appState;d=d.updateData;return Da().createElement(gf,{type:"button",icon:Sk,"aria-label":bb("buttons.menu"),onClick:d,selected:"canvas"===u.openMenu})}});ne({name:"toggleEditMenu",perform:function(d,u){return{appState:qc(qc({},u),{},{openMenu:"shape"===u.openMenu?null:"shape"}),commitToHistory:!1}},PanelComponent:function(d){var u=d.elements,v=d.appState;d=d.updateData;return Da().createElement(gf,
{visible:rh(v,ge(u)),type:"button",icon:Mh,"aria-label":bb("buttons.edit"),onClick:d,selected:"shape"===v.openMenu})}});ne({name:"toggleFullScreen",perform:function(){return wh()||document.documentElement.requestFullscreen(),wh()&&document.exitFullscreen(),{commitToHistory:!1}},keyTest:function(d){return"KeyF"===d.code&&!d[cf]}});ne({name:"toggleShortcuts",perform:function(d,u){return{appState:qc(qc({},u),{},{showHelpDialog:!u.showHelpDialog}),commitToHistory:!1}},PanelComponent:function(d){d=d.updateData;
return Da().createElement(gi,{title:bb("helpDialog.title"),onClick:d})},keyTest:function(d){return"?"===d.key}});var Zk=function(d,u){for(var v=0,G=u.length,W=d.length;v<G;v++,W++)d[W]=u[v];return d},ak=function(d,u){d=uf(ge(d),u);return 2<=d.length&&!function(v){if(2<=v.length)for(var G=function(ua){if(v.reduce(function(Ca,Na){return Ca&&Na.groupIds.includes(ua)},!0))return{value:!0}},W=0,fa=v[0].groupIds;W<fa.length;W++){var wa=G(fa[W]);if("object"==typeof wa)return wa.value}return!1}(d)},cg=ne({name:"group",
perform:function(d,u){var v=uf(ge(d),u);if(2>v.length)return{appState:u,elements:d,commitToHistory:!1};var G=Li(u);if(1===G.length&&(G=new Set(ck(d,G[0]).map(function(wa){return wa.id})),v=new Set(v.map(function(wa){return wa.id})),(new Set(Zk(Zk([],Array.from(G)),Array.from(v)))).size===G.size))return{appState:u,elements:d,commitToHistory:!1};var W=xi();G=d.map(function(wa){if(u.selectedElementIds[wa.id]){var ua=u.editingGroupId;var Ca=zl([],wa.groupIds);ua=ua?Ca.indexOf(ua):-1;Ca=(Ca.splice(-1<
ua?ua:Ca.length,0,W),Ca);wa=yg(wa,{groupIds:Ca})}return wa});d=ck(G,W);var fa=G.lastIndexOf(d[d.length-1]);v=G.slice(fa+1);G=G.slice(0,fa).filter(function(wa){return!wa.groupIds.includes(W)});d=Zk(Zk(Zk([],G),d),v);return{appState:bk(W,Nc(Nc({},u),{},{selectedGroupIds:{}}),ge(d)),elements:d,commitToHistory:!0}},contextItemLabel:"labels.group",contextItemPredicate:function(d,u){return ak(d,u)},keyTest:function(d){return!d.shiftKey&&d[cf]&&"KeyG"===d.code},PanelComponent:function(d){var u=d.elements,
v=d.appState,G=d.updateData;return Da().createElement(gf,{hidden:!ak(u,v),type:"button",icon:Da().createElement(sf,{appearance:v.appearance}),onClick:function(){return G(null)},title:"".concat(bb("labels.group")," — ").concat(Wd("CtrlOrCmd+G")),"aria-label":bb("labels.group"),visible:kg(ge(u),v)})}}),yi=ne({name:"ungroup",perform:function(d,u){if(0===Li(u).length)return{appState:u,elements:d,commitToHistory:!1};d=d.map(function(v){var G=function(W,fa){return W.filter(function(wa){return!fa[wa]})}(v.groupIds,
u.selectedGroupIds);return G.length===v.groupIds.length?v:yg(v,{groupIds:G})});return{appState:Wh(Nc(Nc({},u),{},{selectedGroupIds:{}}),ge(d)),elements:d,commitToHistory:!0}},keyTest:function(d){return d.shiftKey&&d[cf]&&"KeyG"===d.code},contextItemLabel:"labels.ungroup",contextItemPredicate:function(d,u){return 0<Li(u).length},PanelComponent:function(d){var u=d.elements,v=d.appState,G=d.updateData;return Da().createElement(gf,{type:"button",hidden:0===Li(v).length,icon:Da().createElement(Ok,{appearance:v.appearance}),
onClick:function(){return G(null)},title:"".concat(bb("labels.ungroup")," — ").concat(Wd("CtrlOrCmd+Shift+G")),"aria-label":bb("labels.ungroup"),visible:kg(ge(u),v)})}}),Kk=(h(1395),function(d){var u=d.children,v=d.color,G=d.border;d=d.onClick;return Da().createElement("div",{className:"Avatar",style:{background:v,border:"1px solid ".concat(G)},onClick:d},u)});ne({name:"goToCollaborator",perform:function(d,u,v){return v?{appState:Yc(Yc(Yc({},u),Xi({scenePoint:v,viewportDimensions:{width:u.width,height:u.height},
zoom:u.zoom})),{},{openMenu:"canvas"===u.openMenu?null:u.openMenu}),commitToHistory:!1}:{appState:u,commitToHistory:!1}},PanelComponent:function(d){var u=d.appState,v=d.updateData;d=d.id;if(!d)return null;var G=u.collaborators.get(d);if(!G)return null;d=Ti(d,u);u=d.background;d=d.stroke;var W=function(fa){if(!fa)return"?";fa=fa.trim().split(" ");return 2>fa.length?fa[0].substring(0,2).toUpperCase():(fa[0][0]+fa[fa.length-1][0]).toUpperCase()}(G.username);return Da().createElement(Kk,{color:u,border:d,
onClick:function(){return v(G.pointer)}},W)}});var Qm=function(d,u){for(var v=0,G=u.length,W=d.length;v<G;v++,W++)d[W]=u[v];return d},Oo=ne({name:"addToLibrary",perform:function(d,u){var v=uf(ge(d),u);return ph.loadLibrary().then(function(G){ph.saveLibrary(Qm(Qm([],G),[v.map(Lj)]))}),!1},contextItemLabel:"labels.addToLibrary"}),Fn=function(d,u){for(var v=0,G=u.length,W=d.length;v<G;v++,W++)d[W]=u[v];return d},ao=function(d){var u=new Map;return d.forEach(function(v){var G=0===v.groupIds.length?v.id:
v.groupIds[v.groupIds.length-1],W=u.get(G)||[];u.set(G,Fn(Fn([],W),[v]))}),Array.from(u.values())},Cf=function(d,u,v){var G,W,fa,wa=v.axis;v=v.position;d=Xj(d);var ua="x"===wa?["minX","maxX"]:["minY","maxY"],Ca=ua[0];ua=ua[1];return tc(tc({},{x:0,y:0}),{},"start"===v?((G={})[wa]=u[Ca]-d[Ca],G):"end"===v?((W={})[wa]=u[ua]-d[ua],W):((fa={})[wa]=(u[Ca]+u[ua])/2-(d[Ca]+d[ua])/2,fa))},Xj=function(d){d=Bg(d);return{minX:d[0],minY:d[1],maxX:d[2],maxY:d[3]}},Zh=function(d,u){return 1<uf(ge(d),u).length},
Ki=function(d,u,v){u=function(W,fa){var wa=ao(W),ua=Xj(W);return wa.flatMap(function(Ca){var Na=Cf(Ca,ua,fa);return Ca.map(function(Ia){return yg(Ia,{x:Ia.x+Na.x,y:Ia.y+Na.y})})})}(uf(ge(d),u),v);var G=$i(u);return d.map(function(W){return G[W.id]||W})},sn=(ne({name:"alignTop",perform:function(d,u){return{appState:u,elements:Ki(d,u,{position:"start",axis:"y"}),commitToHistory:!0}},keyTest:function(d){return d[cf]&&d.shiftKey&&"ArrowUp"===d.key},PanelComponent:function(d){var u=d.elements,v=d.appState,
G=d.updateData;return Da().createElement(gf,{hidden:!Zh(u,v),type:"button",icon:Da().createElement(Gh,{appearance:v.appearance}),onClick:function(){return G(null)},title:"".concat(bb("labels.alignTop")," — ").concat(Wd("CtrlOrCmd+Shift+Up")),"aria-label":bb("labels.alignTop"),visible:kg(ge(u),v)})}}),ne({name:"alignBottom",perform:function(d,u){return{appState:u,elements:Ki(d,u,{position:"end",axis:"y"}),commitToHistory:!0}},keyTest:function(d){return d[cf]&&d.shiftKey&&"ArrowDown"===d.key},PanelComponent:function(d){var u=
d.elements,v=d.appState,G=d.updateData;return Da().createElement(gf,{hidden:!Zh(u,v),type:"button",icon:Da().createElement(rg,{appearance:v.appearance}),onClick:function(){return G(null)},title:"".concat(bb("labels.alignBottom")," — ").concat(Wd("CtrlOrCmd+Shift+Down")),"aria-label":bb("labels.alignBottom"),visible:kg(ge(u),v)})}}),ne({name:"alignLeft",perform:function(d,u){return{appState:u,elements:Ki(d,u,{position:"start",axis:"x"}),commitToHistory:!0}},keyTest:function(d){return d[cf]&&d.shiftKey&&
"ArrowLeft"===d.key},PanelComponent:function(d){var u=d.elements,v=d.appState,G=d.updateData;return Da().createElement(gf,{hidden:!Zh(u,v),type:"button",icon:Da().createElement(Aj,{appearance:v.appearance}),onClick:function(){return G(null)},title:"".concat(bb("labels.alignLeft")," — ").concat(Wd("CtrlOrCmd+Shift+Left")),"aria-label":bb("labels.alignLeft"),visible:kg(ge(u),v)})}}),ne({name:"alignRight",perform:function(d,u){return{appState:u,elements:Ki(d,u,{position:"end",axis:"x"}),commitToHistory:!0}},
keyTest:function(d){return d[cf]&&d.shiftKey&&"ArrowRight"===d.key},PanelComponent:function(d){var u=d.elements,v=d.appState,G=d.updateData;return Da().createElement(gf,{hidden:!Zh(u,v),type:"button",icon:Da().createElement(hd,{appearance:v.appearance}),onClick:function(){return G(null)},title:"".concat(bb("labels.alignRight")," — ").concat(Wd("CtrlOrCmd+Shift+Right")),"aria-label":bb("labels.alignRight"),visible:kg(ge(u),v)})}}),ne({name:"alignVerticallyCentered",perform:function(d,u){return{appState:u,
elements:Ki(d,u,{position:"center",axis:"y"}),commitToHistory:!0}},PanelComponent:function(d){var u=d.elements,v=d.appState,G=d.updateData;return Da().createElement(gf,{hidden:!Zh(u,v),type:"button",icon:Da().createElement(ad,{appearance:v.appearance}),onClick:function(){return G(null)},title:bb("labels.centerVertically"),"aria-label":bb("labels.centerVertically"),visible:kg(ge(u),v)})}}),ne({name:"alignHorizontallyCentered",perform:function(d,u){return{appState:u,elements:Ki(d,u,{position:"center",
axis:"x"}),commitToHistory:!0}},PanelComponent:function(d){var u=d.elements,v=d.appState,G=d.updateData;return Da().createElement(gf,{hidden:!Zh(u,v),type:"button",icon:Da().createElement(Tk,{appearance:v.appearance}),onClick:function(){return G(null)},title:bb("labels.centerHorizontally"),"aria-label":bb("labels.centerHorizontally"),visible:kg(ge(u),v)})}}),function(d,u){for(var v=0,G=u.length,W=d.length;v<G;v++,W++)d[W]=u[v];return d}),jq=function(d){var u=new Map;return d.forEach(function(v){var G=
0===v.groupIds.length?v.id:v.groupIds[v.groupIds.length-1],W=u.get(G)||[];u.set(G,sn(sn([],W),[v]))}),Array.from(u.values())},xj=function(d){var u=Bg(d);d=u[0];var v=u[1],G=u[2];u=u[3];return{minX:d,minY:v,maxX:G,maxY:u,width:G-d,height:u-v,midX:(d+G)/2,midY:(v+u)/2}},No=function(d,u){return 1<uf(ge(d),u).length},Dn=function(d,u,v){u=function(W,fa){var wa="x"===fa.axis?["minX","midX","maxX","width"]:["minY","midY","maxY","height"],ua=wa[0],Ca=wa[1],Na=wa[2],Ia=wa[3],jb=xj(W);W=jq(W).map(function(vd){return[vd,
xj(vd)]}).sort(function(vd,le){return vd[1][Ca]-le[1][Ca]});for(var pb=wa=0;pb<W.length;pb++)wa+=W[pb][1][Ia];var qb=(jb[Ia]-wa)/(W.length-1);if(0>qb){var bc=W.findIndex(function(vd){return vd[1][ua]===jb[ua]}),Vb=W.findIndex(function(vd){return vd[1][Na]===jb[Na]}),zc=(W[Vb][1][Ca]-W[bc][1][Ca])/(W.length-1),ed=W[bc][1][Ca];return W.flatMap(function(vd,le){var ke=vd[0];vd=vd[1];var Oe={x:0,y:0};return le!==bc&&le!==Vb&&(ed+=zc,Oe[fa.axis]=ed-vd[Ca]),ke.map(function(Je){return yg(Je,{x:Je.x+Oe.x,
y:Je.y+Oe.y})})})}var id=jb[ua];return W.flatMap(function(vd){var le=vd[0];vd=vd[1];var ke={x:0,y:0};return ke[fa.axis]=id-vd[ua],id+=qb,id+=vd[Ia],le.map(function(Oe){return yg(Oe,{x:Oe.x+ke.x,y:Oe.y+ke.y})})})}(uf(ge(d),u),v);var G=$i(u);return d.map(function(W){return G[W.id]||W})},Zn=(ne({name:"distributeHorizontally",perform:function(d,u){return{appState:u,elements:Dn(d,u,{space:"between",axis:"x"}),commitToHistory:!0}},keyTest:function(d){return d.altKey&&"KeyH"===d.code},PanelComponent:function(d){var u=
d.elements,v=d.appState,G=d.updateData;return Da().createElement(gf,{hidden:!No(u,v),type:"button",icon:Da().createElement(od,{appearance:v.appearance}),onClick:function(){return G(null)},title:"".concat(bb("labels.distributeHorizontally")," — ").concat(Wd("Alt+H")),"aria-label":bb("labels.distributeHorizontally"),visible:kg(ge(u),v)})}}),ne({name:"distributeVertically",perform:function(d,u){return{appState:u,elements:Dn(d,u,{space:"between",axis:"y"}),commitToHistory:!0}},keyTest:function(d){return d.altKey&&
"KeyV"===d.code},PanelComponent:function(d){var u=d.elements,v=d.appState,G=d.updateData;return Da().createElement(gf,{hidden:!No(u,v),type:"button",icon:Da().createElement(Og,{appearance:v.appearance}),onClick:function(){return G(null)},title:"".concat(bb("labels.distributeVertically")," — ").concat(Wd("Alt+V")),"aria-label":bb("labels.distributeVertically"),visible:kg(ge(u),v)})}}),function(d,u){function v(Ca){return function(Na){return function(Ia){if(G)throw new TypeError("Generator is already executing.");
for(;ua;)try{if(G=1,W&&(fa=2&Ia[0]?W.return:Ia[0]?W.throw||((fa=W.return)&&fa.call(W),0):W.next)&&!(fa=fa.call(W,Ia[1])).done)return fa;switch(W=0,fa&&(Ia=[2&Ia[0],fa.value]),Ia[0]){case 0:case 1:fa=Ia;break;case 4:return ua.label++,{value:Ia[1],done:!1};case 5:ua.label++;W=Ia[1];Ia=[0];continue;case 7:Ia=ua.ops.pop();ua.trys.pop();continue;default:if(!(fa=ua.trys,(fa=0<fa.length&&fa[fa.length-1])||6!==Ia[0]&&2!==Ia[0])){ua=0;continue}if(3===Ia[0]&&(!fa||Ia[1]>fa[0]&&Ia[1]<fa[3]))ua.label=Ia[1];else if(6===
Ia[0]&&ua.label<fa[1])ua.label=fa[1],fa=Ia;else if(fa&&ua.label<fa[2])ua.label=fa[2],ua.ops.push(Ia);else{fa[2]&&ua.ops.pop();ua.trys.pop();continue}}Ia=u.call(d,ua)}catch(jb){Ia=[6,jb],W=0}finally{G=fa=0}if(5&Ia[0])throw Ia[1];return{value:Ia[0]?Ia[1]:void 0,done:!0}}([Ca,Na])}}var G,W,fa,wa,ua={label:0,sent:function(){if(1&fa[0])throw fa[1];return fa[1]},trys:[],ops:[]};return wa={next:v(0),throw:v(1),return:v(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa}),pn=
ne({name:"copy",perform:function(d,u){return Ck(ge(d),u),{commitToHistory:!1}},contextItemLabel:"labels.copy"}),iq=ne({name:"cut",perform:function(d,u,v,G){return pn.perform(d,u,v,G),Rg.perform(d,u,v,G)},contextItemLabel:"labels.cut",keyTest:function(d){return d[cf]&&"KeyX"===d.code}}),up=ne({name:"copyAsSvg",perform:function(){var d=Pc()(function(u,v,G,W){var fa,wa;return Zn(this,function(ua){switch(ua.label){case 0:if(!W.canvas)return[2,{commitToHistory:!1}];fa=uf(ge(u),v);ua.label=1;case 1:return ua.trys.push([1,
3,,4]),[4,Ac("clipboard-svg",fa.length?fa:ge(u),v,W.canvas,v)];case 2:return ua.sent(),[2,{commitToHistory:!1}];case 3:return wa=ua.sent(),console.error(wa),[2,{appState:he(he({},v),{},{errorMessage:wa.message}),commitToHistory:!1}];case 4:return[2]}})});return function(u,v,G,W){return d.apply(this,arguments)}}(),contextItemLabel:"labels.copyAsSvg"}),tp=ne({name:"copyAsPng",perform:function(){var d=Pc()(function(u,v,G,W){var fa,wa;return Zn(this,function(ua){switch(ua.label){case 0:if(!W.canvas)return[2,
{commitToHistory:!1}];fa=uf(ge(u),v);ua.label=1;case 1:return ua.trys.push([1,3,,4]),[4,Ac("clipboard",fa.length?fa:ge(u),v,W.canvas,v)];case 2:return ua.sent(),[2,{appState:he(he({},v),{},{toastMessage:bb("toast.copyToClipboardAsPng",{exportSelection:fa.length?bb("toast.selection"):bb("toast.canvas"),exportColorScheme:v.exportWithDarkMode?bb("buttons.darkMode"):bb("buttons.lightMode")})}),commitToHistory:!1}];case 3:return wa=ua.sent(),console.error(wa),[2,{appState:he(he({},v),{},{errorMessage:wa.message}),
commitToHistory:!1}];case 4:return[2]}})});return function(u,v,G,W){return d.apply(this,arguments)}}(),contextItemLabel:"labels.copyAsPng",keyTest:function(d){return"KeyC"===d.code&&d.altKey&&d.shiftKey}}),rp=ne({name:"gridMode",perform:function(d,u){return Sg("view","mode","grid"),{appState:Ae(Ae({},u),{},{gridSize:this.checked(u)?null:hc.k}),commitToHistory:!1}},checked:function(d){return null!==d.gridSize},contextItemLabel:"labels.showGrid",keyTest:function(d){return d[cf]&&"Quote"===d.code}}),
oe=ne({name:"zenMode",perform:function(d,u){return Sg("view","mode","zen"),{appState:ic(ic({},u),{},{zenModeEnabled:!this.checked(u)}),commitToHistory:!1}},checked:function(d){return d.zenModeEnabled},contextItemLabel:"buttons.zenMode",keyTest:function(d){return!d[cf]&&d.altKey&&"KeyZ"===d.code}}),$n=ne({name:"stats",perform:function(d,u){return{appState:kc(kc({},u),{},{showStats:!this.checked(u)}),commitToHistory:!1}},checked:function(d){return d.showStats},contextItemLabel:"stats.title"}),sp=function(d,
u,v){if(!(u.multiElement||u.resizingElement||u.editingElement||u.draggingElement)){v=v();if(null===v)return{commitToHistory:!1};var G=$i(d),W=v.elements,fa=$i(W);d=d.filter(function(wa){return!fa.hasOwnProperty(wa.id)});W=W.map(function(wa){return yg(G[wa.id]||wa,wa)}).concat(d.map(function(wa){return yg(wa,{isDeleted:!0})}));return tj(W,d),{elements:W,appState:Ad(Ad({},u),v.appState),commitToHistory:!1,syncHistory:!0}}return{commitToHistory:!1}},um=function(){function d(u,v,G,W){var fa=this;this.actions=
{};this.renderAction=function(wa,ua){if(fa.actions[wa]&&"PanelComponent"in fa.actions[wa]){var Ca=fa.actions[wa];wa=Ca.PanelComponent;return Da().createElement(wa,{elements:fa.getElementsIncludingDeleted(),appState:fa.getAppState(),updateData:function(Na){fa.updater(Ca.perform(fa.getElementsIncludingDeleted(),fa.getAppState(),Na,fa.app))},id:ua})}return null};this.updater=function(wa){if(!(wa&&"then"in wa))return u(wa);wa.then(function(ua){return u(ua)})};this.getAppState=v;this.getElementsIncludingDeleted=
G;this.app=W}return d.prototype.registerAction=function(u){this.actions[u.name]=u},d.prototype.registerAll=function(u){var v=this;u.forEach(function(G){return v.registerAction(G)})},d.prototype.handleKeyDown=function(u){var v=this,G=Object.values(this.actions).sort(function(W,fa){return(fa.keyPriority||0)-(W.keyPriority||0)}).filter(function(W){return W.keyTest&&W.keyTest(u,v.getAppState(),v.getElementsIncludingDeleted())});return 0!==G.length&&!(this.getAppState().viewModeEnabled&&!Object.values(hc.EH).includes(G[0].name))&&
(u.preventDefault(),this.updater(G[0].perform(this.getElementsIncludingDeleted(),this.getAppState(),null,this.app)),!0)},d.prototype.executeAction=function(u){this.updater(u.perform(this.getElementsIncludingDeleted(),this.getAppState(),null,this.app))},d}(),Tm=function(d){d=Array.from(d.values());return{x:co(d,function(u){return u.x})/d.length,y:co(d,function(u){return u.y})/d.length}},bo=function(d){var u=d[0];d=d[1];return Math.hypot(u.x-d.x,u.y-d.y)},co=function(d,u){return d.reduce(function(v,
G){return v+u(G)},0)},Po,kq=function(){function d(){var u=this;this.elementCache=new Map;this.recording=!0;this.stateHistory=[];this.redoStack=[];this.lastEntry=null;this.generateEntry=function(v,G){return u.dehydrateHistoryEntry({appState:{selectedElementIds:v.selectedElementIds,viewBackgroundColor:v.viewBackgroundColor,editingLinearElement:v.editingLinearElement,editingGroupId:v.editingGroupId,name:v.name},elements:G.reduce(function(W,fa){if(Fg(fa)&&v.multiElement&&v.multiElement.id===fa.id){if(v.multiElement&&
v.multiElement.id===fa.id&&2>fa.points.length)return W;W.push(Xe(Xe({},fa),{},{points:fa.lastCommittedPoint!==fa.points[fa.points.length-1]?fa.points.slice(0,-1):fa.points}))}else W.push(fa);return W},[])})}}return d.prototype.hydrateHistoryEntry=function(u){var v=u.elements,G=this;return{appState:JSON.parse(u.appState),elements:v.map(function(W){var fa,wa=null===(fa=G.elementCache.get(W.id))||void 0===fa?void 0:fa.get(W.versionNonce);if(!wa)throw Error("Element not found: ".concat(W.id,":").concat(W.versionNonce));
return wa})}},d.prototype.dehydrateHistoryEntry=function(u){var v=u.elements,G=this;return{appState:JSON.stringify(u.appState),elements:v.map(function(W){G.elementCache.has(W.id)||G.elementCache.set(W.id,new Map);var fa=G.elementCache.get(W.id);return fa.has(W.versionNonce)||fa.set(W.versionNonce,Lj(W)),{id:W.id,versionNonce:W.versionNonce}})}},d.prototype.getSnapshotForTest=function(){var u=this;return{recording:this.recording,stateHistory:this.stateHistory.map(function(v){return u.hydrateHistoryEntry(v)}),
redoStack:this.redoStack.map(function(v){return u.hydrateHistoryEntry(v)})}},d.prototype.clear=function(){this.stateHistory.length=0;this.redoStack.length=0;this.lastEntry=null;this.elementCache.clear()},d.prototype.shouldCreateEntry=function(u){var v,G=this.lastEntry;if(!G||u.elements.length!==G.elements.length)return!0;for(var W=u.elements.length-1;-1<W;W--){var fa=u.elements[W],wa=G.elements[W];if(!fa||!wa||fa.id!==wa.id||fa.versionNonce!==wa.versionNonce)return!0}for(v in u.appState){var ua,Ca;
if(("editingLinearElement"!==v||(null===(ua=u.appState[v])||void 0===ua?void 0:ua.elementId)!==(null===(Ca=G.appState[v])||void 0===Ca?void 0:Ca.elementId))&&"selectedElementIds"!==v&&u.appState[v]!==G.appState[v])return!0}return!1},d.prototype.pushEntry=function(u,v){u=this.generateEntry(u,v);(v=this.hydrateHistoryEntry(u))&&this.shouldCreateEntry(v)&&(this.stateHistory.push(u),this.lastEntry=v,this.clearRedoStack())},d.prototype.clearRedoStack=function(){this.redoStack.splice(0,this.redoStack.length)},
d.prototype.redoOnce=function(){if(0===this.redoStack.length)return null;var u=this.redoStack.pop();return void 0!==u?(this.stateHistory.push(u),this.hydrateHistoryEntry(u)):null},d.prototype.undoOnce=function(){if(1===this.stateHistory.length)return null;var u=this.stateHistory.pop(),v=this.stateHistory[this.stateHistory.length-1];return void 0!==u?(this.redoStack.push(u),this.hydrateHistoryEntry(v)):null},d.prototype.setCurrentState=function(u,v){this.lastEntry=this.hydrateHistoryEntry(this.generateEntry(u,
v))},d.prototype.resumeRecording=function(){this.recording=!0},d.prototype.record=function(u,v){this.recording&&(this.pushEntry(u,v),this.recording=!1)},d}(),wm=[{icon:Da().createElement("svg",{viewBox:"0 0 320 512",className:""},Da().createElement("path",{d:"M302.189 329.126H196.105l55.831 135.993c3.889 9.428-.555 19.999-9.444 23.999l-49.165 21.427c-9.165 4-19.443-.571-23.332-9.714l-53.053-129.136-86.664 89.138C18.729 472.71 0 463.554 0 447.977V18.299C0 1.899 19.921-6.096 30.277 5.443l284.412 292.542c11.472 11.179 3.007 31.141-12.5 31.141z"})),
value:"selection",key:["v","s"]},{icon:Da().createElement("svg",{viewBox:"0 0 448 512"},Da().createElement("path",{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"})),value:"rectangle",key:"r"},{icon:Da().createElement("svg",{viewBox:"0 0 223.646 223.646"},Da().createElement("path",{d:"M111.823 0L16.622 111.823 111.823 223.646 207.025 111.823z"})),value:"diamond",key:"d"},{icon:Da().createElement("svg",{viewBox:"0 0 512 512"},Da().createElement("path",
{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"})),value:"ellipse",key:"e"},{icon:Da().createElement("svg",{viewBox:"0 0 448 512",className:"rtl-mirror"},Da().createElement("path",{d:"M313.941 216H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12h301.941v46.059c0 21.382 25.851 32.09 40.971 16.971l86.059-86.059c9.373-9.373 9.373-24.569 0-33.941l-86.059-86.059c-15.119-15.119-40.971-4.411-40.971 16.971V216z"})),value:"arrow",key:"a"},{icon:Da().createElement("svg",{viewBox:"0 0 6 6"},
Da().createElement("line",{x1:"0",y1:"3",x2:"6",y2:"3",stroke:"currentColor",strokeLinecap:"round"})),value:"line",key:["p","l"]},{icon:Da().createElement("svg",{viewBox:"0 0 512 512"},Da().createElement("path",{fill:"currentColor",d:"M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"})),value:"draw",key:"x"},
{icon:Da().createElement("svg",{viewBox:"0 0 448 512"},Da().createElement("path",{d:"M432 416h-23.41L277.88 53.69A32 32 0 0 0 247.58 32h-47.16a32 32 0 0 0-30.3 21.69L39.41 416H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-19.58l23.3-64h152.56l23.3 64H304a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM176.85 272L224 142.51 271.15 272z"})),value:"text",key:"t"}],Mo=(h(4518),{cut:[Wd("CtrlOrCmd+X")],copy:[Wd("CtrlOrCmd+C")],
paste:[Wd("CtrlOrCmd+V")],copyStyles:[Wd("CtrlOrCmd+Alt+C")],pasteStyles:[Wd("CtrlOrCmd+Alt+V")],selectAll:[Wd("CtrlOrCmd+A")],deleteSelectedElements:[Wd("Del")],duplicateSelection:[Wd("CtrlOrCmd+D"),Wd("Alt+".concat(bb("helpDialog.drag")))],sendBackward:[Wd("CtrlOrCmd+[")],bringForward:[Wd("CtrlOrCmd+]")],sendToBack:[Wd(Kg?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+[")],bringToFront:[Wd(Kg?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]")],copyAsPng:[Wd("Shift+Alt+C")],copyAsSvg:[],group:[Wd("CtrlOrCmd+G")],ungroup:[Wd("CtrlOrCmd+Shift+G")],
gridMode:[Wd("CtrlOrCmd+'")],zenMode:[Wd("Alt+Z")],stats:[],addToLibrary:[],viewMode:[Wd("Alt+R")]}),hq=function(d){var u,v=d.options,G=d.onCloseRequest,W=d.top,fa=d.left,wa=d.actionManager,ua=d.appState;d=!(null===(u=document.querySelector(".excalidraw"))||void 0===u||!u.classList.contains("Appearance_dark"));return Da().createElement("div",{className:xc("excalidraw",{"Appearance_dark Appearance_dark-background-none":d})},Da().createElement(gb,{onCloseRequest:G,top:W,left:fa,fitInViewport:!0},Da().createElement("ul",
{className:"context-menu",onContextMenu:function(Ca){return Ca.preventDefault()}},v.map(function(Ca,Na){var Ia;if("separator"===Ca)return Da().createElement("hr",{key:Na,className:"context-menu-option-separator"});var jb,pb=Ca.name,qb=Ca.contextItemLabel?bb(Ca.contextItemLabel):"";return Da().createElement("li",{key:Na,"data-testid":pb,onClick:G},Da().createElement("button",{className:xc("context-menu-option",{dangerous:"deleteSelectedElements"===pb,checkmark:null===(Ia=Ca.checked)||void 0===Ia?void 0:
Ia.call(Ca,ua)}),onClick:function(){return wa.executeAction(Ca)}},Da().createElement("div",{className:"context-menu-option__label"},qb),Da().createElement("kbd",{className:"context-menu-option__shortcut"},pb?(jb=Mo[pb])&&0<jb.length?jb[0]:"":"")))}))))},Lo=function(){if(Po)return Po;var d=document.createElement("div");return document.body.appendChild(d),Po=d},Rm=function(){(0,$f.unmountComponentAtNode)(Lo())};const En=function(d){var u=[];d.options.forEach(function(v){v&&u.push(v)});u.length&&(0,
$f.render)(Da().createElement(hq,{top:d.top,left:d.left,options:u,onCloseRequest:Rm,actionManager:d.actionManager,appState:d.appState}),Lo())};h(1575);const al=function(d){var u=d.children,v=d.gap,G=d.align,W=d.justifyContent,fa=d.className;d=d.style;return Da().createElement("div",{className:xc("Stack Stack_horizontal",fa),style:Tc({"--gap":v,alignItems:G,justifyContent:W},d)},u)},bl=function(d){var u=d.children,v=d.gap,G=d.align,W=d.justifyContent;d=d.className;return Da().createElement("div",{className:xc("Stack Stack_vertical",
d),style:{"--gap":v,justifyItems:G,justifyContent:W}},u)};var Yq=function(d){var u=d.appState,v=d.renderAction,G=d.elementType;d=kk(ge(d.elements),u);u=!!u.editingElement;var W=Ve(),fa="rtl"===document.documentElement.getAttribute("dir"),wa=Oj(G)||d.some(function(Ca){return Oj(Ca.type)&&(Na=Ca.backgroundColor,Ia=5===Na.length&&"0"===Na.substr(4,1),jb=9===Na.length&&"00"===Na.substr(7,2),!(Ia||jb||Na===Ek.elementBackground[0]));var Na,Ia,jb}),ua=Oj(G)||d.some(function(Ca){return Oj(Ca.type)});return Da().createElement("div",
{className:"panelColumn"},v("changeStrokeColor"),ua&&v("changeBackgroundColor"),wa&&v("changeFillStyle"),(Uf(G)||d.some(function(Ca){return Uf(Ca.type)}))&&Da().createElement(Da().Fragment,null,v("changeStrokeWidth"),v("changeStrokeStyle"),v("changeSloppiness")),(rk(G)||d.some(function(Ca){return rk(Ca.type)}))&&Da().createElement(Da().Fragment,null,v("changeSharpness")),("text"===G||d.some(function(Ca){return"text"===Ca.type}))&&Da().createElement(Da().Fragment,null,v("changeFontSize"),v("changeFontFamily"),
v("changeTextAlign")),("arrow"===G||d.some(function(Ca){return"arrow"===Ca.type}))&&Da().createElement(Da().Fragment,null,v("changeArrowhead")),v("changeOpacity"),Da().createElement("fieldset",null,Da().createElement("legend",null,bb("labels.layers")),Da().createElement("div",{className:"buttonList"},v("sendToBack"),v("sendBackward"),v("bringToFront"),v("bringForward"))),1<d.length&&Da().createElement("fieldset",null,Da().createElement("legend",null,bb("labels.align")),Da().createElement("div",{className:"buttonList"},
fa?Da().createElement(Da().Fragment,null,v("alignRight"),v("alignHorizontallyCentered"),v("alignLeft")):Da().createElement(Da().Fragment,null,v("alignLeft"),v("alignHorizontallyCentered"),v("alignRight")),2<d.length&&v("distributeHorizontally"),Da().createElement("div",{className:"iconRow"},v("alignTop"),v("alignVerticallyCentered"),v("alignBottom"),2<d.length&&v("distributeVertically")))),!W&&!u&&0<d.length&&Da().createElement("fieldset",null,Da().createElement("legend",null,bb("labels.actions")),
Da().createElement("div",{className:"buttonList"},v("duplicateSelection"),v("deleteSelectedElements"),v("group"),v("ungroup"))))},Tr=Da().createElement("svg",{viewBox:"0 0 512 512"},Da().createElement("path",{d:"M296 32h192c13.255 0 24 10.745 24 24v160c0 13.255-10.745 24-24 24H296c-13.255 0-24-10.745-24-24V56c0-13.255 10.745-24 24-24zm-80 0H24C10.745 32 0 42.745 0 56v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24zM0 296v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zm296 184h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H296c-13.255 0-24 10.745-24 24v160c0 13.255 10.745 24 24 24z"})),
gq=function(d){var u=d.canvas,v=d.elementType,G=d.setAppState,W=d.isLibraryOpen;return Da().createElement(Da().Fragment,null,wm.map(function(fa,wa){var ua=fa.value,Ca=fa.icon,Na=fa.key;fa=bb("toolBar.".concat(ua));Na="".concat(kj("string"==typeof Na?Na:Na[0])," ").concat(bb("helpDialog.or")," ").concat(wa+1);return Da().createElement(gf,{className:"Shape",key:ua,type:"radio",icon:Ca,checked:v===ua,name:"editor-current-shape",title:"".concat(kj(fa)," — ").concat(Na),keyBindingLabel:"".concat(wa+1),
"aria-label":kj(fa),"aria-keyshortcuts":Na,"data-testid":ua,onChange:function(){G({elementType:ua,multiElement:null,selectedElementIds:{}});ui(u,ua);G({})}})}),Da().createElement(gf,{className:"Shape ToolIcon_type_button__library",type:"button",icon:Tr,name:"editor-library",keyBindingLabel:"9","aria-keyshortcuts":"9",title:"".concat(kj(bb("toolBar.library"))," — 9"),"aria-label":kj(bb("toolBar.library")),onClick:function(){G({isLibraryOpen:!W})}}))},Sr=function(d){var u=d.renderAction;d=d.zoom;return Da().createElement(bl,
{gap:1},Da().createElement(al,{gap:1,align:"center"},u("zoomIn"),u("zoomOut"),u("resetZoom"),Da().createElement("div",{style:{marginInlineStart:4}},(100*d.value).toFixed(0),"%")))},Xq=function(d){var u=d.appState,v=d.setAppState;d=d.actionManager;return Da().createElement("div",{style:{display:"flex"}},d.renderAction("changeViewBackgroundColor"),Da().createElement("div",{style:{marginInlineStart:"0.25rem"}},Da().createElement(hk,{value:u.appearance,onChange:function(G){v({appearance:G})}})))};h(3211);
const Zq=function(d){var u=d.isCollaborating,v=d.collaboratorCount;d=d.onClick;return Da().createElement(Da().Fragment,null,Da().createElement(gf,{className:xc("CollabButton",{"is-collaborating":u}),onClick:d,icon:Kl,type:"button",title:bb("labels.liveCollaboration"),"aria-label":bb("labels.liveCollaboration"),showAriaLabel:Ve()},0<v&&Da().createElement("div",{className:"CollabButton-collaborators"},v)))};h(3040);h(7428);var hl=Da().forwardRef(function(d,u){var v=d.children,G=d.padding,W=d.className;
d=d.style;return Da().createElement("div",{className:xc("Island",W),style:wb({"--padding":G},d),ref:u},v)}),Ur=(h(205),function(d){var u=vp();return u?(0,$f.createPortal)(Da().createElement("div",{className:xc("Modal",d.className),role:"dialog","aria-modal":"true",onKeyDown:function(v){"Escape"===v.key&&(v.nativeEvent.stopImmediatePropagation(),d.onCloseRequest())},"aria-labelledby":d.labelledBy},Da().createElement("div",{className:"Modal__background",onClick:d.onCloseRequest}),Da().createElement("div",
{className:"Modal__content",style:{"--max-width":"".concat(d.maxWidth,"px")}},d.children)),u):null}),vp=function(){var d=(0,jc.useState)(null),u=d[0],v=d[1];return(0,jc.useLayoutEffect)(function(){var G,W=!(null===(G=document.querySelector(".excalidraw"))||void 0===G||!G.classList.contains("Appearance_dark")),fa=document.createElement("div");return fa.classList.add("excalidraw","excalidraw-modal-container"),W&&(fa.classList.add("Appearance_dark"),fa.classList.add("Appearance_dark-background-none")),
document.body.appendChild(fa),v(fa),function(){document.body.removeChild(fa)}},[]),u},D=function(d){var u=function(){var W=(0,jc.useState)(null),fa=W[1];return[W[0],(0,jc.useCallback)(function(wa){return fa(wa)},[])]}(),v=u[0];u=u[1];(0,jc.useEffect)(function(){if(v){var W=G(v);0<W.length&&!1!==d.autofocus&&(W[1]||W[0]).focus();var fa=function(wa){if("Tab"===wa.key){var ua=G(v),Ca=document.activeElement,Na=ua.findIndex(function(Ia){return Ia===Ca});0===Na&&wa.shiftKey?(ua[ua.length-1].focus(),wa.preventDefault()):
Na!==ua.length-1||wa.shiftKey||(ua[0].focus(),wa.preventDefault())}};return v.addEventListener("keydown",fa),function(){return v.removeEventListener("keydown",fa)}}},[v,d.autofocus]);var G=function(W){return(W=W.querySelectorAll("button, a, input, select, textarea, div[tabindex]"))?Array.from(W):[]};return Da().createElement(Ur,{className:xc("Dialog",d.className),labelledBy:"dialog-title",maxWidth:d.small?550:800,onCloseRequest:d.onCloseRequest},Da().createElement(hl,{ref:u},Da().createElement("h2",
{id:"dialog-title",className:"Dialog__title"},Da().createElement("span",{className:"Dialog__titleContent"},d.title),Da().createElement("button",{className:"Modal__close",onClick:d.onCloseRequest,"aria-label":bb("buttons.close")},Ve()?kh:uj)),Da().createElement("div",{className:"Dialog__content"},d.children)))},O=function(d){var u=d.message,v=d.onClose,G=(0,jc.useState)(!!u);d=G[0];var W=G[1];G=Da().useCallback(function(){W(!1);v&&v()},[v]);return Da().createElement(Da().Fragment,null,d&&Da().createElement(D,
{small:!0,onCloseRequest:G,title:bb("errorDialog.title")},Da().createElement("div",null,u.split("\n").map(function(fa){return Da().createElement(Da().Fragment,null,fa,Da().createElement("br",null))}))))},na=(h(8623),[1,2,3]),Ha=na.includes(devicePixelRatio)?devicePixelRatio:1,Za="filter"in document.createElement("canvas").getContext("2d"),sb=function(){return Da().createElement("div",null,Da().createElement("h3",null,bb("canvasError.cannotShowPreview")),Da().createElement("p",null,Da().createElement("span",
null,bb("canvasError.canvasTooBig"))),Da().createElement("em",null,"(",bb("canvasError.canvasTooBigTip"),")"))},Ib=function(d,u){(0,$f.unmountComponentAtNode)(u);u.innerHTML="";d instanceof HTMLCanvasElement?u.appendChild(d):(0,$f.render)(Da().createElement(sb,null),u)},$b=function(d){var u=d.elements,v=d.appState,G=d.exportPadding,W=void 0===G?10:G;G=d.actionManager;var fa=d.onExportToPng,wa=d.onExportToSvg,ua=d.onExportToClipboard,Ca=d.onExportToBackend,Na=kg(u,v);d=(0,jc.useState)(Ha);var Ia=d[0],
jb=d[1];d=(0,jc.useState)(Na);var pb=d[0],qb=d[1],bc=(0,jc.useRef)(null),Vb=v.exportBackground,zc=v.viewBackgroundColor,ed=v.shouldAddWatermark,id=pb?uf(u,v):u;return(0,jc.useEffect)(function(){qb(Na)},[Na]),(0,jc.useEffect)(function(){var vd=bc.current;if(vd)try{var le=vm(id,v,{exportBackground:Vb,viewBackgroundColor:zc,exportPadding:W,scale:Ia,shouldAddWatermark:ed});Lm(le).then(function(){Ib(le,vd)}).catch(function(ke){console.error(ke);Ib(new rn,vd)})}catch(ke){console.error(ke),Ib(new rn,vd)}},
[v,id,Vb,W,zc,Ia,ed]),Da().createElement("div",{className:"ExportDialog"},Da().createElement("div",{className:"ExportDialog__preview",ref:bc}),Za&&G.renderAction("exportWithDarkMode"),Da().createElement(bl,{gap:2,align:"center"},Da().createElement("div",{className:"ExportDialog__actions"},Da().createElement(al,{gap:2},Da().createElement(gf,{type:"button",label:"PNG",title:bb("buttons.exportToPng"),"aria-label":bb("buttons.exportToPng"),onClick:function(){return fa(id,Ia)}}),Da().createElement(gf,
{type:"button",label:"SVG",title:bb("buttons.exportToSvg"),"aria-label":bb("buttons.exportToSvg"),onClick:function(){return wa(id,Ia)}}),Dk&&Da().createElement(gf,{type:"button",icon:tk,title:bb("buttons.copyPngToClipboard"),"aria-label":bb("buttons.copyPngToClipboard"),onClick:function(){return ua(id,Ia)}}),Ca&&Da().createElement(gf,{type:"button",icon:tl,title:bb("buttons.getShareableLink"),"aria-label":bb("buttons.getShareableLink"),onClick:function(){return Ca(id)}})),Da().createElement("div",
{className:"ExportDialog__name"},G.renderAction("changeProjectName")),Da().createElement(al,{gap:2},na.map(function(vd){var le=function(Oe,Je,df,zd){Oe=Yn(Oe,df);Je=Jm(Oe,Je,df).map(function(Zd){return Math.trunc(Zd*zd)});return[Je[2],Je[3]]}(id,W,ed,vd),ke=le[0];le=le[1];ke="".concat(bb("buttons.scale")," ").concat(vd,"x (").concat(ke,"x").concat(le,")");return Da().createElement(gf,{key:vd,size:"s",type:"radio",icon:"".concat(vd,"x"),name:"export-canvas-scale",title:ke,"aria-label":ke,id:"export-canvas-scale",
checked:vd===Ia,onChange:function(){return jb(vd)}})}))),G.renderAction("changeExportBackground"),Na&&Da().createElement("div",null,Da().createElement("label",null,Da().createElement("input",{type:"checkbox",checked:pb,onChange:function(vd){return qb(vd.currentTarget.checked)}})," ",bb("labels.onlySelected"))),G.renderAction("changeExportEmbedScene"),G.renderAction("changeShouldAddWatermark")))},Bc=function(d){var u=d.elements,v=d.appState,G=d.exportPadding;G=void 0===G?10:G;var W=d.actionManager,
fa=d.onExportToPng,wa=d.onExportToSvg,ua=d.onExportToClipboard;d=d.onExportToBackend;var Ca=(0,jc.useState)(!1),Na=Ca[0],Ia=Ca[1],jb=(0,jc.useRef)(null);Ca=Da().useCallback(function(){var pb;Ia(!1);null===(pb=jb.current)||void 0===pb||pb.focus()},[]);return Da().createElement(Da().Fragment,null,Da().createElement(gf,{onClick:function(){Ia(!0)},icon:th,type:"button","aria-label":bb("buttons.export"),showAriaLabel:Ve(),title:bb("buttons.export"),ref:jb}),Na&&Da().createElement(D,{onCloseRequest:Ca,
title:bb("buttons.export")},Da().createElement($b,{elements:u,appState:v,exportPadding:G,actionManager:W,onExportToPng:fa,onExportToSvg:wa,onExportToClipboard:ua,onExportToBackend:d,onCloseRequest:Ca})))},cd=(h(4193),function(d){var u=d.children,v=d.side;d=d.className;return Da().createElement("div",{className:xc("FixedSideContainer","FixedSideContainer_side_".concat(v),d)},u)}),re=Da().memo(function(d){d=d.appearance;return Da().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",
height:"40",viewBox:"0 0 250 250",className:"github-corner rtl-mirror"},Da().createElement("a",{href:"https://github.com/excalidraw/excalidraw",target:"_blank",rel:"noopener noreferrer","aria-label":"GitHub repository"},Da().createElement("path",{d:"M0 0l115 115h15l12 27 108 108V0z",fill:"light"===d?Ee.MA[6]:Ee.MA[8]}),Da().createElement("path",{className:"octo-arm",d:"M128 109c-15-9-9-19-9-19 3-7 2-11 2-11-1-7 3-2 3-2 4 5 2 11 2 11-3 10 5 15 9 16",style:{transformOrigin:"130px 106px"},fill:"light"===
d?Ee.ix:Ee.Sn}),Da().createElement("path",{className:"octo-body",d:"M115 115s4 2 5 0l14-14c3-2 6-3 8-3-8-11-15-24 2-41 5-5 10-7 16-7 1-2 3-7 12-11 0 0 5 3 7 16 4 2 8 5 12 9s7 8 9 12c14 3 17 7 17 7-4 8-9 11-11 11 0 6-2 11-7 16-16 16-30 10-41 2 0 3-1 7-5 11l-12 11c-1 1 1 5 1 5z",fill:"light"===d?Ee.ix:Ee.Sn})))}),zf=(h(9705),function(d){return(d=function(u){var v=u.appState,G=u.elements,W=v.elementType;u=v.isResizing;var fa=v.isRotating,wa=v.lastPointerDownWith,ua=null!==v.multiElement;if("arrow"===
W||"line"===W)return bb(ua?"hints.linearElementMulti":"hints.linearElement");if("draw"===W)return bb("hints.freeDraw");if("text"===W)return bb("hints.text");G=uf(G,v);return u&&"mouse"===wa&&1===G.length?(v=G[0],Fg(v)&&2===v.points.length?bb("hints.lockAngle"):bb("hints.resize")):fa&&"mouse"===wa?bb("hints.rotate"):1===G.length&&Fg(G[0])?v.editingLinearElement?v.editingLinearElement.activePointIndex?bb("hints.lineEditor_pointSelected"):bb("hints.lineEditor_nothingSelected"):bb("hints.lineEditor_info"):
null}({appState:d.appState,elements:d.elements}))?(d=Wd(d),Da().createElement("div",{className:"HintViewer"},Da().createElement("span",null,d))):null}),Fd=(h(8465),h(8680),Da().createElement("svg",{viewBox:"0 0 1792 1792"},Da().createElement("path",{fill:"currentColor",d:"M1600 736v192q0 40-28 68t-68 28h-416v416q0 40-28 68t-68 28h-192q-40 0-68-28t-28-68v-416h-416q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h416v-416q0-40 28-68t68-28h192q40 0 68 28t28 68v416h416q40 0 68 28t28 68z"}))),Qe=function(d){var u=
d.elements,v=d.pendingElements,G=d.onRemoveFromLibrary;d=d.onClick;var W=(0,jc.useRef)(null);(0,jc.useEffect)(function(){var Na=u||v;if(Na){var Ia=Pl(Na,{exportBackground:!1,viewBackgroundColor:Ee.ix,shouldAddWatermark:!1});Na=0;for(var jb=W.current.children;Na<jb.length;Na++){var pb=jb[Na];"svg"===pb.tagName&&W.current.removeChild(pb)}W.current.appendChild(Ia);var qb=W.current;return function(){qb.removeChild(Ia)}}},[u,v]);var fa=(0,jc.useState)(!1),wa=fa[0],ua=fa[1];fa=Ve();var Ca=(wa||fa)&&v&&
Da().createElement("div",{className:"library-unit__adder"},Fd);return Da().createElement("div",{className:xc("library-unit",{"library-unit__active":u||v}),onMouseEnter:function(){return ua(!0)},onMouseLeave:function(){return ua(!1)}},Da().createElement("div",{className:xc("library-unit__dragger",{"library-unit__pulse":!!v}),ref:W,draggable:!!u,onClick:u||v?d:void 0,onDragStart:function(Na){ua(!1);Na.dataTransfer.setData(hc.LO.excalidrawlib,JSON.stringify(u))}}),Ca,u&&(wa||fa)&&Da().createElement("button",
{className:"library-unit__removeFromLibrary","aria-label":bb("labels.removeFromLibrary"),onClick:G},uj))},Af=Da().createElement("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},Da().createElement("path",{d:"M640 768h512v-192q0-106-75-181t-181-75-181 75-75 181v192zm832 96v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h32v-192q0-184 132-316t316-132 316 132 132 316v192h32q40 0 68 28t28 68z"})),mf=Da().createElement("svg",{width:"1792",
height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg",className:"unlocked-icon rtl-mirror"},Da().createElement("path",{d:"M1728 576v256q0 26-19 45t-45 19h-64q-26 0-45-19t-19-45v-256q0-106-75-181t-181-75-181 75-75 181v192h96q40 0 68 28t28 68v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h672v-192q0-185 131.5-316.5t316.5-131.5 316.5 131.5 131.5 316.5z"})),Qc=function(d){return Da().createElement("label",{className:xc("ToolIcon ToolIcon__lock ToolIcon_type_floating zen-mode-visibility",
"ToolIcon_size_".concat(d.size||"m"),{"zen-mode-visibility--hidden":d.zenModeEnabled}),title:"".concat(d.title," — Q")},Da().createElement("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:d.name,id:d.id,onChange:d.onChange,checked:d.checked,"aria-label":d.title}),Da().createElement("div",{className:"ToolIcon__icon"},d.checked?Af:mf))},Ec=function(d){var u=d.heading,v=d.children;d=Vh()(d,["heading","children"]);var G=Da().createElement("h2",{className:"visually-hidden",id:"".concat(u,
"-title")},bb("headings.".concat(u)));return Da().createElement("section",Pd()({},d,{"aria-labelledby":"".concat(u,"-title")}),"function"==typeof v?v(G):Da().createElement(Da().Fragment,null,G,v))},Oc=(h(3142),function(d){var u=d.children,v=d.className;d=d.mobile;return Da().createElement("div",{className:xc("UserList",v,{UserList_mobile:d})},u)}),xd=function(d){var u=d.appState,v=d.elements,G=d.libraryMenu,W=d.actionManager,fa=d.exportButton,wa=d.setAppState,ua=d.onCollabButtonClick,Ca=d.onLockToggle,
Na=d.canvas,Ia=d.isCollaborating,jb=d.renderCustomFooter;d=d.viewModeEnabled;return Da().createElement(Da().Fragment,null,!d&&Da().createElement(cd,{side:"top",className:"App-top-bar"},Da().createElement(Ec,{heading:"shapes"},function(pb){return Da().createElement(bl,{gap:4,align:"center"},Da().createElement(al,{gap:1},Da().createElement(hl,{padding:1},pb,Da().createElement(al,{gap:1},Da().createElement(gq,{canvas:Na,elementType:u.elementType,setAppState:wa,isLibraryOpen:u.isLibraryOpen}))),Da().createElement(Qc,
{checked:u.elementLocked,onChange:Ca,title:bb("toolBar.lock")})),G)}),Da().createElement(zf,{appState:u,elements:v})),Da().createElement("div",{className:"App-bottom-bar",style:{marginBottom:14,marginLeft:14,marginRight:14}},Da().createElement(hl,{padding:0},"canvas"===u.openMenu?Da().createElement(Ec,{className:"App-mobile-menu",heading:"canvasActions"},Da().createElement("div",{className:"panelColumn"},Da().createElement(bl,{gap:4},d?Da().createElement(Da().Fragment,null,W.renderAction("saveScene"),
W.renderAction("saveAsScene"),fa):Da().createElement(Da().Fragment,null,W.renderAction("loadScene"),W.renderAction("saveScene"),W.renderAction("saveAsScene"),fa,W.renderAction("clearCanvas"),ua&&Da().createElement(Zq,{isCollaborating:Ia,collaboratorCount:u.collaborators.size,onClick:ua}),Da().createElement(Xq,{actionManager:W,appState:u,setAppState:wa})),null==jb?void 0:jb(!0),0<u.collaborators.size&&Da().createElement("fieldset",null,Da().createElement("legend",null,bb("labels.collaborators")),Da().createElement(Oc,
{mobile:!0},Array.from(u.collaborators).filter(function(pb){pb[0];return 0!==Object.keys(pb[1]).length}).map(function(pb){var qb=pb[0];pb[1];return Da().createElement(Da().Fragment,{key:qb},W.renderAction("goToCollaborator",qb))})))))):"shape"===u.openMenu&&!d&&rh(u,v)?Da().createElement(Ec,{className:"App-mobile-menu",heading:"selectedShapeActions"},Da().createElement(Yq,{appState:u,elements:v,renderAction:W.renderAction,elementType:u.elementType})):null,Da().createElement("footer",{className:"App-toolbar"},
d?Da().createElement("div",{className:"App-toolbar-content"},W.renderAction("toggleCanvasMenu")):Da().createElement("div",{className:"App-toolbar-content"},W.renderAction("toggleCanvasMenu"),W.renderAction("toggleEditMenu"),W.renderAction("undo"),W.renderAction("redo"),W.renderAction(u.multiElement?"finalize":"duplicateSelection"),W.renderAction("deleteSelectedElements")),u.scrolledOutside&&!u.openMenu&&Da().createElement("button",{className:"scroll-back-to-content",onClick:function(){wa(function(pb){for(var qb=
1;qb<arguments.length;qb++){var bc=null!=arguments[qb]?arguments[qb]:{};qb%2?yd(Object(bc),!0).forEach(function(Vb){pd()(pb,Vb,bc[Vb])}):Object.getOwnPropertyDescriptors?Object.defineProperties(pb,Object.getOwnPropertyDescriptors(bc)):yd(Object(bc)).forEach(function(Vb){Object.defineProperty(pb,Vb,Object.getOwnPropertyDescriptor(bc,Vb))})}return pb}({},mi(v,u)))}},bb("buttons.scrollBackToContent"))))))},Bd=(h(8416),function(d){var u=(0,jc.useRef)(null),v=(0,jc.useState)(null),G=v[0],W=v[1];return(0,
jc.useLayoutEffect)(function(){if(d.spreadsheet){var fa=Wn(d.chartType,d.spreadsheet,0,0);W(fa);var wa=Pl(fa,{exportBackground:!1,viewBackgroundColor:Ee.ix,shouldAddWatermark:!1}),ua=u.current;return ua.appendChild(wa),d.selected&&ua.parentNode.focus(),function(){ua.removeChild(wa)}}},[d.spreadsheet,d.chartType,d.selected]),Da().createElement("button",{className:"ChartPreview",onClick:function(){G&&d.onClick(d.chartType,G)}},Da().createElement("div",{ref:u}))}),Jf=function(d){var u=d.setAppState,
v=d.appState,G=d.onClose,W=d.onInsertChart;d=Da().useCallback(function(){G&&G()},[G]);var fa=function(wa,ua){W(ua);Sg("magic","chart",wa);u({currentChartType:wa,pasteDialog:{shown:!1,data:null}})};return Da().createElement(D,{small:!0,onCloseRequest:d,title:bb("labels.pasteCharts"),className:"PasteChartDialog",autofocus:!1},Da().createElement("div",{className:"container"},Da().createElement(Bd,{chartType:"bar",spreadsheet:v.pasteDialog.data,selected:"bar"===v.currentChartType,onClick:fa}),Da().createElement(Bd,
{chartType:"line",spreadsheet:v.pasteDialog.data,selected:"line"===v.currentChartType,onClick:fa})))},He=(h(341),function(){return Da().createElement("div",{className:"HelpDialog--header"},Da().createElement("a",{className:"HelpDialog--btn",href:"https://github.com/excalidraw/excalidraw#documentation",target:"_blank",rel:"noopener noreferrer"},bb("helpDialog.documentation")),Da().createElement("a",{className:"HelpDialog--btn",href:"https://blog.excalidraw.com",target:"_blank",rel:"noopener noreferrer"},
bb("helpDialog.blog")),Da().createElement("a",{className:"HelpDialog--btn",href:"https://github.com/excalidraw/excalidraw/issues",target:"_blank",rel:"noopener noreferrer"},bb("helpDialog.github")))}),Kf=function(d){return Da().createElement(Da().Fragment,null,Da().createElement("h3",null,d.title),d.children)},ng=function(d){return Da().createElement("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between"}},d.children)},Nf=function(d){return Da().createElement("div",
{style:{width:"49%"}},d.children)},tm=function(d){return Da().createElement("div",{className:"HelpDialog--island"},Da().createElement("h3",{className:"HelpDialog--island-title"},d.caption),d.children)},tf=function(d){return Da().createElement("div",{className:"HelpDialog--shortcut"},Da().createElement("div",{style:{display:"flex",margin:"0",padding:"4px 8px",alignItems:"center"}},Da().createElement("div",{style:{lineHeight:1.4}},d.label),Da().createElement("div",{style:{display:"flex",flex:"0 0 auto",
justifyContent:"flex-end",marginInlineStart:"auto",minWidth:"30%"}},d.shortcuts.map(function(u,v){return Da().createElement(Da().Fragment,{key:v},Da().createElement(au,null,u),d.isOr&&v!==d.shortcuts.length-1&&bb("helpDialog.or"))}))))};tf.defaultProps={isOr:!0};var au=function(d){return Da().createElement("kbd",Pd()({className:"HelpDialog--key"},d))},bu=function(d){var u=d.onClose;d=Da().useCallback(function(){u&&u()},[u]);return Da().createElement(Da().Fragment,null,Da().createElement(D,{onCloseRequest:d,
title:bb("helpDialog.title"),className:"HelpDialog"},Da().createElement(He,null),Da().createElement(Kf,{title:bb("helpDialog.shortcuts")},Da().createElement(ng,null,Da().createElement(Nf,null,Da().createElement(tm,{caption:bb("helpDialog.shapes")},Da().createElement(tf,{label:bb("toolBar.selection"),shortcuts:["V","1"]}),Da().createElement(tf,{label:bb("toolBar.rectangle"),shortcuts:["R","2"]}),Da().createElement(tf,{label:bb("toolBar.diamond"),shortcuts:["D","3"]}),Da().createElement(tf,{label:bb("toolBar.ellipse"),
shortcuts:["E","4"]}),Da().createElement(tf,{label:bb("toolBar.arrow"),shortcuts:["A","5"]}),Da().createElement(tf,{label:bb("toolBar.line"),shortcuts:["P","6"]}),Da().createElement(tf,{label:bb("toolBar.draw"),shortcuts:["Shift+P","7"]}),Da().createElement(tf,{label:bb("toolBar.text"),shortcuts:["T","8"]}),Da().createElement(tf,{label:bb("helpDialog.textNewLine"),shortcuts:[Wd("Enter"),Wd("Shift+Enter")]}),Da().createElement(tf,{label:bb("helpDialog.textFinish"),shortcuts:[Wd("Esc"),Wd("CtrlOrCmd+Enter")]}),
Da().createElement(tf,{label:bb("helpDialog.curvedArrow"),shortcuts:["A",bb("helpDialog.click"),bb("helpDialog.click"),bb("helpDialog.click")],isOr:!1}),Da().createElement(tf,{label:bb("helpDialog.curvedLine"),shortcuts:["L",bb("helpDialog.click"),bb("helpDialog.click"),bb("helpDialog.click")],isOr:!1}),Da().createElement(tf,{label:bb("toolBar.lock"),shortcuts:["Q"]}),Da().createElement(tf,{label:bb("helpDialog.preventBinding"),shortcuts:[Wd("CtrlOrCmd")]})),Da().createElement(tm,{caption:bb("helpDialog.view")},
Da().createElement(tf,{label:bb("buttons.zoomIn"),shortcuts:[Wd("CtrlOrCmd++")]}),Da().createElement(tf,{label:bb("buttons.zoomOut"),shortcuts:[Wd("CtrlOrCmd+-")]}),Da().createElement(tf,{label:bb("buttons.resetZoom"),shortcuts:[Wd("CtrlOrCmd+0")]}),Da().createElement(tf,{label:bb("helpDialog.zoomToFit"),shortcuts:["Shift+1"]}),Da().createElement(tf,{label:bb("helpDialog.zoomToSelection"),shortcuts:["Shift+2"]}),Da().createElement(tf,{label:bb("buttons.fullScreen"),shortcuts:["F"]}),Da().createElement(tf,
{label:bb("buttons.zenMode"),shortcuts:[Wd("Alt+Z")]}),Da().createElement(tf,{label:bb("labels.showGrid"),shortcuts:[Wd("CtrlOrCmd+'")]}),Da().createElement(tf,{label:bb("labels.viewMode"),shortcuts:[Wd("Alt+R")]}))),Da().createElement(Nf,null,Da().createElement(tm,{caption:bb("helpDialog.editor")},Da().createElement(tf,{label:bb("labels.selectAll"),shortcuts:[Wd("CtrlOrCmd+A")]}),Da().createElement(tf,{label:bb("labels.multiSelect"),shortcuts:[Wd("Shift+".concat(bb("helpDialog.click")))]}),Da().createElement(tf,
{label:bb("labels.moveCanvas"),shortcuts:[Wd("Space+".concat(bb("helpDialog.drag"))),Wd("Wheel+".concat(bb("helpDialog.drag")))],isOr:!0}),Da().createElement(tf,{label:bb("labels.cut"),shortcuts:[Wd("CtrlOrCmd+X")]}),Da().createElement(tf,{label:bb("labels.copy"),shortcuts:[Wd("CtrlOrCmd+C")]}),Da().createElement(tf,{label:bb("labels.paste"),shortcuts:[Wd("CtrlOrCmd+V")]}),Da().createElement(tf,{label:bb("labels.copyAsPng"),shortcuts:[Wd("Shift+Alt+C")]}),Da().createElement(tf,{label:bb("labels.copyStyles"),
shortcuts:[Wd("CtrlOrCmd+Alt+C")]}),Da().createElement(tf,{label:bb("labels.pasteStyles"),shortcuts:[Wd("CtrlOrCmd+Alt+V")]}),Da().createElement(tf,{label:bb("labels.delete"),shortcuts:[Wd("Del")]}),Da().createElement(tf,{label:bb("labels.sendToBack"),shortcuts:[Wd(Kg?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+[")]}),Da().createElement(tf,{label:bb("labels.bringToFront"),shortcuts:[Wd(Kg?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]")]}),Da().createElement(tf,{label:bb("labels.sendBackward"),shortcuts:[Wd("CtrlOrCmd+[")]}),
Da().createElement(tf,{label:bb("labels.bringForward"),shortcuts:[Wd("CtrlOrCmd+]")]}),Da().createElement(tf,{label:bb("labels.alignTop"),shortcuts:[Wd("CtrlOrCmd+Shift+Up")]}),Da().createElement(tf,{label:bb("labels.alignBottom"),shortcuts:[Wd("CtrlOrCmd+Shift+Down")]}),Da().createElement(tf,{label:bb("labels.alignLeft"),shortcuts:[Wd("CtrlOrCmd+Shift+Left")]}),Da().createElement(tf,{label:bb("labels.alignRight"),shortcuts:[Wd("CtrlOrCmd+Shift+Right")]}),Da().createElement(tf,{label:bb("labels.duplicateSelection"),
shortcuts:[Wd("CtrlOrCmd+D"),Wd("Alt+".concat(bb("helpDialog.drag")))]}),Da().createElement(tf,{label:bb("buttons.undo"),shortcuts:[Wd("CtrlOrCmd+Z")]}),Da().createElement(tf,{label:bb("buttons.redo"),shortcuts:Jj?[Wd("CtrlOrCmd+Y"),Wd("CtrlOrCmd+Shift+Z")]:[Wd("CtrlOrCmd+Shift+Z")]}),Da().createElement(tf,{label:bb("labels.group"),shortcuts:[Wd("CtrlOrCmd+G")]}),Da().createElement(tf,{label:bb("labels.ungroup"),shortcuts:[Wd("CtrlOrCmd+Shift+G")]})))))))},Xr=function(d,u){function v(Ca){return function(Na){return function(Ia){if(G)throw new TypeError("Generator is already executing.");
for(;ua;)try{if(G=1,W&&(fa=2&Ia[0]?W.return:Ia[0]?W.throw||((fa=W.return)&&fa.call(W),0):W.next)&&!(fa=fa.call(W,Ia[1])).done)return fa;switch(W=0,fa&&(Ia=[2&Ia[0],fa.value]),Ia[0]){case 0:case 1:fa=Ia;break;case 4:return ua.label++,{value:Ia[1],done:!1};case 5:ua.label++;W=Ia[1];Ia=[0];continue;case 7:Ia=ua.ops.pop();ua.trys.pop();continue;default:if(!(fa=ua.trys,(fa=0<fa.length&&fa[fa.length-1])||6!==Ia[0]&&2!==Ia[0])){ua=0;continue}if(3===Ia[0]&&(!fa||Ia[1]>fa[0]&&Ia[1]<fa[3]))ua.label=Ia[1];else if(6===
Ia[0]&&ua.label<fa[1])ua.label=fa[1],fa=Ia;else if(fa&&ua.label<fa[2])ua.label=fa[2],ua.ops.push(Ia);else{fa[2]&&ua.ops.pop();ua.trys.pop();continue}}Ia=u.call(d,ua)}catch(jb){Ia=[6,jb],W=0}finally{G=fa=0}if(5&Ia[0])throw Ia[1];return{value:Ia[0]?Ia[1]:void 0,done:!0}}([Ca,Na])}}var G,W,fa,wa,ua={label:0,sent:function(){if(1&fa[0])throw fa[1];return fa[1]},trys:[],ops:[]};return wa={next:v(0),throw:v(1),return:v(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa},Ss=function(d,
u){for(var v=0,G=u.length,W=d.length;v<G;v++,W++)d[W]=u[v];return d},$t=function(d){var u=d.library,v=d.onRemoveFromLibrary,G=d.onAddToLibrary,W=d.onInsertShape,fa=d.pendingElements,wa=d.setAppState,ua=d.setLibraryItems;d=Ve()?4:6;var Ca=Math.max(1,Math.ceil((u.length+(0<fa.length?1:0))/d)),Na=[],Ia=!1;Na.push(Da().createElement("div",{className:"layer-ui__library-header"},Da().createElement(gf,{key:"import",type:"button",title:bb("buttons.load"),"aria-label":bb("buttons.load"),icon:om,onClick:function(){pp().then(function(){wa({isLibraryOpen:!1})}).catch(Gk).catch(function(zc){wa({errorMessage:zc.message})})}}),
Da().createElement(gf,{key:"export",type:"button",title:bb("buttons.export"),"aria-label":bb("buttons.export"),icon:th,onClick:function(){sm().catch(Gk).catch(function(zc){wa({errorMessage:zc.message})})}}),Da().createElement(gf,{key:"reset",type:"button",title:bb("buttons.resetLibrary"),"aria-label":bb("buttons.resetLibrary"),icon:Ri,onClick:function(){window.confirm(bb("alerts.resetLibrary"))&&(ph.resetLibrary(),ua([]))}}),Da().createElement("a",{href:"https://libraries.excalidraw.com",target:"_excalidraw_libraries"},
bb("labels.libraries"))));for(var jb=0;jb<Ca;jb++){for(var pb=d*jb,qb=[],bc=0;bc<d;bc++){var Vb=0<fa.length&&!Ia&&pb+bc>=u.length;Ia=Ia||Vb;qb.push(Da().createElement(bl,{key:bc},Da().createElement(Qe,{elements:u[pb+bc],pendingElements:Vb?fa:void 0,onRemoveFromLibrary:v.bind(null,pb+bc),onClick:Vb?G.bind(null,fa):W.bind(null,u[pb+bc])})))}Na.push(Da().createElement(al,{align:"center",gap:1,key:jb},qb))}return Da().createElement(bl,{align:"start",gap:1,className:"layer-ui__library-items"},Na)},Yt=
function(d){var u=d.onClickOutside,v=d.onInsertShape,G=d.pendingElements,W=d.onAddToLibrary;d=d.setAppState;var fa=(0,jc.useRef)(null);!function(qb,bc){(0,jc.useEffect)(function(){var Vb=function(zc){qb.current&&(zc.target instanceof Element&&(qb.current.contains(zc.target)||!document.body.contains(zc.target))||bc(zc))};return document.addEventListener("pointerdown",Vb,!1),function(){document.removeEventListener("pointerdown",Vb)}},[qb,bc])}(fa,function(qb){qb.target.closest(".ToolIcon_type_button__library")||
u(qb)});var wa=(0,jc.useState)([]),ua=wa[0],Ca=wa[1],Na=(0,jc.useState)("preloading");wa=Na[0];var Ia=Na[1],jb=(0,jc.useRef)(null);(0,jc.useEffect)(function(){return Promise.race([new Promise(function(qb){jb.current=setTimeout(function(){qb("loading")},100)}),ph.loadLibrary().then(function(qb){Ca(qb);Ia("ready")})]).then(function(qb){"loading"===qb&&Ia("loading")}),function(){clearTimeout(jb.current)}},[]);Na=(0,jc.useCallback)(function(){var qb=Pc()(function(bc){var Vb,zc;return Xr(this,function(ed){switch(ed.label){case 0:return[4,
ph.loadLibrary()];case 1:return Vb=ed.sent(),zc=Vb.filter(function(id,vd){return vd!==bc}),ph.saveLibrary(zc),Ca(zc),[2]}})});return function(bc){return qb.apply(this,arguments)}}(),[]);var pb=(0,jc.useCallback)(function(){var qb=Pc()(function(bc){var Vb,zc;return Xr(this,function(ed){switch(ed.label){case 0:return[4,ph.loadLibrary()];case 1:return Vb=ed.sent(),zc=Ss(Ss([],Vb),[bc]),W(),ph.saveLibrary(zc),Ca(zc),[2]}})});return function(bc){return qb.apply(this,arguments)}}(),[W]);return"preloading"===
wa?null:Da().createElement(hl,{padding:1,ref:fa,className:"layer-ui__library"},"loading"===wa?Da().createElement("div",{className:"layer-ui__library-message"},bb("labels.libraryLoadingMessage")):Da().createElement($t,{library:ua,onRemoveFromLibrary:Na,onAddToLibrary:pb,onInsertShape:v,pendingElements:G,setAppState:d,setLibraryItems:Ca}))};const Zt=Da().memo(function(d){var u,v=d.actionManager,G=d.appState,W=d.setAppState,fa=d.canvas,wa=d.elements,ua=d.onCollabButtonClick,Ca=d.onLockToggle,Na=d.onInsertElements,
Ia=d.zenModeEnabled,jb=d.showExitZenModeBtn,pb=d.toggleZenMode,qb=d.isCollaborating,bc=d.onExportToBackend,Vb=d.renderCustomFooter;d=d.viewModeEnabled;var zc=Ve(),ed=function(){var ke=function(Oe){return function(){var Je=Pc()(function(df,zd){return Xr(this,function(Zd){switch(Zd.label){case 0:return fa?[4,Ac(Oe,df,G,fa,{exportBackground:G.exportBackground,name:G.name,viewBackgroundColor:G.viewBackgroundColor,scale:zd,shouldAddWatermark:G.shouldAddWatermark}).catch(Gk).catch(function(je){console.error(je);
W({errorMessage:je.message})})]:[3,2];case 1:Zd.sent(),Zd.label=2;case 2:return[2]}})});return function(df,zd){return Je.apply(this,arguments)}}()};return Da().createElement(Bc,{elements:wa,appState:G,actionManager:v,onExportToPng:ke("png"),onExportToSvg:ke("svg"),onExportToClipboard:ke("clipboard"),onExportToBackend:bc?function(Oe){bc&&bc(Oe,G,fa)}:void 0})},id=(0,jc.useCallback)(function(ke){W({isLibraryOpen:!1})},[W]),vd=(0,jc.useCallback)(function(){W({selectedElementIds:{},selectedGroupIds:{}})},
[W]),le=G.isLibraryOpen?Da().createElement(Yt,{pendingElements:uf(wa,G),onClickOutside:id,onInsertShape:Na,onAddToLibrary:vd,setAppState:W}):null;Na=Da().createElement(Da().Fragment,null,G.isLoading&&Da().createElement(nc,null),G.errorMessage&&Da().createElement(O,{message:G.errorMessage,onClose:function(){return W({errorMessage:null})}}),G.showHelpDialog&&Da().createElement(bu,{onClose:function(){return W({showHelpDialog:!1})}}),G.pasteDialog.shown&&Da().createElement(Jf,{setAppState:W,appState:G,
onInsertChart:Na,onClose:function(){return W({pasteDialog:{shown:!1,data:null}})}}));return zc?Da().createElement(Da().Fragment,null,Na,Da().createElement(xd,{appState:G,elements:wa,actionManager:v,libraryMenu:le,exportButton:ed(),setAppState:W,onCollabButtonClick:ua,onLockToggle:Ca,canvas:fa,isCollaborating:qb,renderCustomFooter:Vb,viewModeEnabled:d})):Da().createElement("div",{className:xc("layer-ui__wrapper",{"disable-pointerEvents":G.draggingElement||G.resizingElement||G.editingElement&&!be(G.editingElement)})},
Na,(u=rh(G,wa),Da().createElement(cd,{side:"top"},Da().createElement("div",{className:"App-menu App-menu_top"},Da().createElement(bl,{gap:4,className:xc({"disable-pointerEvents":Ia})},d?Da().createElement(Ec,{heading:"canvasActions",className:xc("zen-mode-transition",{"transition-left":Ia})},Da().createElement(hl,{padding:2,style:{zIndex:1}},Da().createElement(bl,{gap:4},Da().createElement(al,{gap:1,justifyContent:"space-between"},v.renderAction("saveScene"),v.renderAction("saveAsScene"),ed())))):
Da().createElement(Ec,{heading:"canvasActions",className:xc("zen-mode-transition",{"transition-left":Ia})},Da().createElement(hl,{padding:2,style:{zIndex:1}},Da().createElement(bl,{gap:4},Da().createElement(al,{gap:1,justifyContent:"space-between"},v.renderAction("loadScene"),v.renderAction("saveScene"),v.renderAction("saveAsScene"),ed(),v.renderAction("clearCanvas"),ua&&Da().createElement(Zq,{isCollaborating:qb,collaboratorCount:G.collaborators.size,onClick:ua})),Da().createElement(Xq,{actionManager:v,
appState:G,setAppState:W})))),u&&Da().createElement(Ec,{heading:"selectedShapeActions",className:xc("zen-mode-transition",{"transition-left":Ia})},Da().createElement(hl,{className:hc.$C.SHAPE_ACTIONS_MENU,padding:2,style:{maxHeight:"".concat(G.height-200,"px")}},Da().createElement(Yq,{appState:G,elements:wa,renderAction:v.renderAction,elementType:G.elementType})))),!d&&Da().createElement(Ec,{heading:"shapes"},function(ke){return Da().createElement(bl,{gap:4,align:"start"},Da().createElement(al,{gap:1},
Da().createElement(hl,{padding:1,className:xc({"zen-mode":Ia})},Da().createElement(zf,{appState:G,elements:wa}),ke,Da().createElement(al,{gap:1},Da().createElement(gq,{canvas:fa,elementType:G.elementType,setAppState:W,isLibraryOpen:G.isLibraryOpen}))),Da().createElement(Qc,{zenModeEnabled:Ia,checked:G.elementLocked,onChange:Ca,title:bb("toolBar.lock")})),le)}),Da().createElement(Oc,{className:xc("zen-mode-transition",{"transition-right":Ia})},0<G.collaborators.size&&Array.from(G.collaborators).filter(function(ke){ke[0];
return 0!==Object.keys(ke[1]).length}).map(function(ke){var Oe=ke[0];ke=ke[1];return Da().createElement(Gj,{label:ke.username||"Unknown user",key:Oe},v.renderAction("goToCollaborator",Oe))}))))),Da().createElement("div",{className:xc("App-menu App-menu_bottom zen-mode-transition",{"App-menu_bottom--transition-left":Ia})},Da().createElement(bl,{gap:2},Da().createElement(Ec,{heading:"canvasActions"},Da().createElement(hl,{padding:1},Da().createElement(Sr,{renderAction:v.renderAction,zoom:G.zoom})),
Da().createElement("a",{className:xc("encrypted-icon tooltip zen-mode-visibility",{"zen-mode-visibility--hidden":Ia}),href:"https://blog.excalidraw.com/end-to-end-encryption/",target:"_blank",rel:"noopener noreferrer"},Da().createElement(Gj,{label:bb("encrypted.tooltip"),position:"above",long:!0},Vd))))),Da().createElement("aside",{className:xc("layer-ui__wrapper__github-corner zen-mode-transition",{"transition-right":Ia})},Da().createElement(re,{appearance:G.appearance})),Da().createElement("footer",
{role:"contentinfo",className:"layer-ui__wrapper__footer"},Da().createElement("div",{className:xc("zen-mode-transition",{"transition-right disable-pointerEvents":Ia})},null==Vb?void 0:Vb(!1),v.renderAction("toggleShortcuts")),Da().createElement("button",{className:xc("disable-zen-mode",{"disable-zen-mode--visible":jb}),onClick:pb},bb("buttons.exitZenMode"))),G.scrolledOutside&&Da().createElement("button",{className:"scroll-back-to-content",onClick:function(){W(function(ke){for(var Oe=1;Oe<arguments.length;Oe++){var Je=
null!=arguments[Oe]?arguments[Oe]:{};Oe%2?lf(Object(Je),!0).forEach(function(df){pd()(ke,df,Je[df])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ke,Object.getOwnPropertyDescriptors(Je)):lf(Object(Je)).forEach(function(df){Object.defineProperty(ke,df,Object.getOwnPropertyDescriptor(Je,df))})}return ke}({},mi(wa,G)))}},bb("buttons.scrollBackToContent")))},function(d,u){var v=function(fa){fa.suggestedBindings;fa.startBoundElement;return Vh()(fa,["suggestedBindings","startBoundElement"])},
G=v(d.appState),W=v(u.appState);v=Object.keys(G);return d.renderCustomFooter===u.renderCustomFooter&&d.langCode===u.langCode&&d.elements===u.elements&&v.every(function(fa){return G[fa]===W[fa]})});var Rs=function(){try{var d=localStorage.getItem("excalidraw");return d?JSON.stringify(d).length:0}catch(u){return console.error(u),0}},cu=(h(7287),function(d,u){function v(Ca){return function(Na){return function(Ia){if(G)throw new TypeError("Generator is already executing.");for(;ua;)try{if(G=1,W&&(fa=
2&Ia[0]?W.return:Ia[0]?W.throw||((fa=W.return)&&fa.call(W),0):W.next)&&!(fa=fa.call(W,Ia[1])).done)return fa;switch(W=0,fa&&(Ia=[2&Ia[0],fa.value]),Ia[0]){case 0:case 1:fa=Ia;break;case 4:return ua.label++,{value:Ia[1],done:!1};case 5:ua.label++;W=Ia[1];Ia=[0];continue;case 7:Ia=ua.ops.pop();ua.trys.pop();continue;default:if(!(fa=ua.trys,(fa=0<fa.length&&fa[fa.length-1])||6!==Ia[0]&&2!==Ia[0])){ua=0;continue}if(3===Ia[0]&&(!fa||Ia[1]>fa[0]&&Ia[1]<fa[3]))ua.label=Ia[1];else if(6===Ia[0]&&ua.label<
fa[1])ua.label=fa[1],fa=Ia;else if(fa&&ua.label<fa[2])ua.label=fa[2],ua.ops.push(Ia);else{fa[2]&&ua.ops.pop();ua.trys.pop();continue}}Ia=u.call(d,ua)}catch(jb){Ia=[6,jb],W=0}finally{G=fa=0}if(5&Ia[0])throw Ia[1];return{value:Ia[0]?Ia[1]:void 0,done:!0}}([Ca,Na])}}var G,W,fa,wa,ua={label:0,sent:function(){if(1&fa[0])throw fa[1];return fa[1]},trys:[],ops:[]};return wa={next:v(0),throw:v(1),return:v(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa}),Ts=ti(function(d){var u=
Rs();try{var v=localStorage.getItem("excalidraw-state"),G=localStorage.getItem("excalidraw-collab"),W=localStorage.getItem(hc.I.LOCAL_STORAGE_LIBRARY);var fa=(v?JSON.stringify(v).length:0)+(G?JSON.stringify(G).length:0)+(W?JSON.stringify(W).length:0)+Rs()}catch(wa){fa=(console.error(wa),0)}d({scene:u,total:fa})},500),eu=function(d){var u=Ve(),v=(0,jc.useState)({scene:0,total:0}),G=v[0],W=v[1];(0,jc.useEffect)(function(){Ts(function(Na){W(Na)})});(0,jc.useEffect)(function(){return function(){return Ts.cancel()}},
[]);v=Bg(d.elements);var fa=kk(d.elements,d.appState),wa=Bg(fa);if(u&&d.appState.openMenu)return null;var ua,Ca;u=Lf();return u!==hc.eQ?(Ca=u.slice(0,16).replace("T"," "),ua=u.slice(21)):Ca=bb("stats.versionNotAvailable"),Da().createElement("div",{className:"Stats"},Da().createElement(hl,{padding:2},Da().createElement("div",{className:"close",onClick:d.onClose},uj),Da().createElement("h3",null,bb("stats.title")),Da().createElement("table",null,Da().createElement("tbody",null,Da().createElement("tr",
null,Da().createElement("th",{colSpan:2},bb("stats.scene"))),Da().createElement("tr",null,Da().createElement("td",null,bb("stats.elements")),Da().createElement("td",null,d.elements.length)),Da().createElement("tr",null,Da().createElement("td",null,bb("stats.width")),Da().createElement("td",null,Math.round(v[2])-Math.round(v[0]))),Da().createElement("tr",null,Da().createElement("td",null,bb("stats.height")),Da().createElement("td",null,Math.round(v[3])-Math.round(v[1]))),Da().createElement("tr",null,
Da().createElement("th",{colSpan:2},bb("stats.storage"))),Da().createElement("tr",null,Da().createElement("td",null,bb("stats.scene")),Da().createElement("td",null,xl(G.scene,1))),Da().createElement("tr",null,Da().createElement("td",null,bb("stats.total")),Da().createElement("td",null,xl(G.total,1))),1===fa.length&&Da().createElement("tr",null,Da().createElement("th",{colSpan:2},bb("stats.element"))),1<fa.length&&Da().createElement(Da().Fragment,null,Da().createElement("tr",null,Da().createElement("th",
{colSpan:2},bb("stats.selected"))),Da().createElement("tr",null,Da().createElement("td",null,bb("stats.elements")),Da().createElement("td",null,fa.length))),0<fa.length&&Da().createElement(Da().Fragment,null,Da().createElement("tr",null,Da().createElement("td",null,"x"),Da().createElement("td",null,Math.round(1===fa.length?fa[0].x:wa[0]))),Da().createElement("tr",null,Da().createElement("td",null,"y"),Da().createElement("td",null,Math.round(1===fa.length?fa[0].y:wa[1]))),Da().createElement("tr",null,
Da().createElement("td",null,bb("stats.width")),Da().createElement("td",null,Math.round(1===fa.length?fa[0].width:wa[2]-wa[0]))),Da().createElement("tr",null,Da().createElement("td",null,bb("stats.height")),Da().createElement("td",null,Math.round(1===fa.length?fa[0].height:wa[3]-wa[1])))),1===fa.length&&Da().createElement("tr",null,Da().createElement("td",null,bb("stats.angle")),Da().createElement("td",null,"".concat(Math.round(180*fa[0].angle/Math.PI),"°"))),Da().createElement("tr",null,Da().createElement("th",
{colSpan:2},bb("stats.version"))),Da().createElement("tr",null,Da().createElement("td",{colSpan:2,style:{textAlign:"center",cursor:"pointer"},onClick:Pc()(function(){return cu(this,function(Na){switch(Na.label){case 0:return Na.trys.push([0,2,,3]),[4,Jb(Lf())];case 1:return Na.sent(),d.setAppState({toastMessage:bb("toast.copyToClipboard")}),[3,3];case 2:return Na.sent(),[3,3];case 3:return[2]}})}),title:bb("stats.versionCopy")},Ca,Da().createElement("br",null),ua))))))},fu=(h(5849),function(d){var u=
d.message,v=d.clearToast,G=(0,jc.useRef)(0),W=(0,jc.useCallback)(function(){return G.current=window.setTimeout(function(){return v()},hc.Lg)},[v]);return(0,jc.useEffect)(function(){return W(),function(){return clearTimeout(G.current)}},[W,u]),Da().createElement("div",{className:"Toast",onMouseEnter:function(){return clearTimeout(null==G?void 0:G.current)},onMouseLeave:W},Da().createElement("p",{className:"Toast__message"},u))}),Us=ne({name:"viewMode",perform:function(d,u){return Sg("view","mode",
"view"),{appState:Xf(Xf({},u),{},{viewModeEnabled:!this.checked(u),selectedElementIds:{}}),commitToHistory:!1}},checked:function(d){return d.viewModeEnabled},contextItemLabel:"labels.viewMode",keyTest:function(d){return!d[cf]&&d.altKey&&"KeyR"===d.code}}),gu=function(){var d=function(u,v){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,W){G.__proto__=W}||function(G,W){for(var fa in W)Object.prototype.hasOwnProperty.call(W,fa)&&(G[fa]=W[fa])})(u,v)};return function(u,v){function G(){this.constructor=
u}if("function"!=typeof v&&null!==v)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");d(u,v);u.prototype=null===v?Object.create(v):(G.prototype=v.prototype,new G)}}(),dp=function(d,u){function v(Ca){return function(Na){return function(Ia){if(G)throw new TypeError("Generator is already executing.");for(;ua;)try{if(G=1,W&&(fa=2&Ia[0]?W.return:Ia[0]?W.throw||((fa=W.return)&&fa.call(W),0):W.next)&&!(fa=fa.call(W,Ia[1])).done)return fa;switch(W=0,fa&&(Ia=[2&Ia[0],fa.value]),
Ia[0]){case 0:case 1:fa=Ia;break;case 4:return ua.label++,{value:Ia[1],done:!1};case 5:ua.label++;W=Ia[1];Ia=[0];continue;case 7:Ia=ua.ops.pop();ua.trys.pop();continue;default:if(!(fa=ua.trys,(fa=0<fa.length&&fa[fa.length-1])||6!==Ia[0]&&2!==Ia[0])){ua=0;continue}if(3===Ia[0]&&(!fa||Ia[1]>fa[0]&&Ia[1]<fa[3]))ua.label=Ia[1];else if(6===Ia[0]&&ua.label<fa[1])ua.label=fa[1],fa=Ia;else if(fa&&ua.label<fa[2])ua.label=fa[2],ua.ops.push(Ia);else{fa[2]&&ua.ops.pop();ua.trys.pop();continue}}Ia=u.call(d,ua)}catch(jb){Ia=
[6,jb],W=0}finally{G=fa=0}if(5&Ia[0])throw Ia[1];return{value:Ia[0]?Ia[1]:void 0,done:!0}}([Ca,Na])}}var G,W,fa,wa,ua={label:0,sent:function(){if(1&fa[0])throw fa[1];return fa[1]},trys:[],ops:[]};return wa={next:v(0),throw:v(1),return:v(2)},"function"==typeof Symbol&&(wa[Symbol.iterator]=function(){return this}),wa},gh=function(d,u){for(var v=0,G=u.length,W=d.length;v<G;v++,W++)d[W]=u[v];return d},nk=new kq,wq=!1,Zr=0,Jp=0,Kp=0,ep=!1,xq=!1,$r=!1,Yr={horizontal:null,vertical:null},go=0,lq=!1,ho=null,
Bl=new Map,wp=null,ar=null,zp=null,Wr=function(d){function u(v){var G=this;var W=G=d.call(this,v)||this;Vt.call(G);var fa,wa,ua,Ca=Dh(),Na=v.width,Ia=void 0===Na?window.innerWidth:Na;Na=v.height;var jb=void 0===Na?window.innerHeight:Na,pb=v.offsetLeft,qb=v.offsetTop;Na=v.excalidrawRef;var bc=v.viewModeEnabled;bc=void 0!==bc&&bc;var Vb=v.zenModeEnabled;Vb=void 0!==Vb&&Vb;v=v.gridModeEnabled;v=void 0!==v&&v;if(G.state=Sa(Sa(Sa({},Ca),{},{isLoading:!0,width:Ia,height:jb},G.getCanvasOffsets({offsetLeft:pb,
offsetTop:qb})),{},{viewModeEnabled:bc,zenModeEnabled:Vb,gridSize:v?hc.k:null}),Na){var zc;Ca="current"in Na&&(null===(zc=Na.current)||void 0===zc?void 0:zc.readyPromise)||((ua=new Promise(function(ed,id){fa=ed;wa=id})).resolve=fa,ua.reject=wa,ua);ua={ready:!0,readyPromise:Ca,updateScene:G.updateScene,resetScene:G.resetScene,getSceneElementsIncludingDeleted:G.getSceneElementsIncludingDeleted,history:{clear:G.resetHistory},setScrollToCenter:G.setScrollToCenter,getSceneElements:G.getSceneElements,getAppState:function(){return W.state}};
"function"==typeof Na?Na(ua):Na.current=ua;Ca.resolve(ua)}return G.scene=new yh,G.actionManager=new um(G.syncActionResult,function(){return W.state},function(){return W.scene.getElementsIncludingDeleted()},G),G.actionManager.registerAll(jg),G.actionManager.registerAction({name:"undo",perform:function(ed,id){return sp(ed,id,function(){return nk.undoOnce()})},keyTest:function(ed){return ed[cf]&&"z"===ed.key.toLowerCase()&&!ed.shiftKey},PanelComponent:function(ed){ed=ed.updateData;return Da().createElement(gf,
{type:"button",icon:lh,"aria-label":bb("buttons.undo"),onClick:ed})},commitToHistory:function(){return!1}}),G.actionManager.registerAction(function(ed){return{name:"redo",perform:function(id,vd){return sp(id,vd,function(){return ed.redoOnce()})},keyTest:function(id){return id[cf]&&id.shiftKey&&"z"===id.key.toLowerCase()||Jj&&id.ctrlKey&&!id.shiftKey&&"y"===id.key},PanelComponent:function(id){id=id.updateData;return Da().createElement(gf,{type:"button",icon:Fj,"aria-label":bb("buttons.redo"),onClick:id})},
commitToHistory:function(){return!1}}}(nk)),G}return gu(u,d),u.prototype.renderCanvas=function(){var v=window.devicePixelRatio,G=this.state,W=G.width,fa=G.height,wa=W*v;v*=fa;return G.viewModeEnabled?Da().createElement("canvas",{id:"canvas",style:{width:W,height:fa,cursor:"grabbing"},width:wa,height:v,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.removePointer,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,
onPointerDown:this.handleCanvasPointerDown},bb("labels.drawingCanvas")):Da().createElement("canvas",{id:"canvas",style:{width:W,height:fa},width:wa,height:v,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerDown:this.handleCanvasPointerDown,onDoubleClick:this.handleCanvasDoubleClick,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.removePointer,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,onDrop:this.handleCanvasOnDrop},bb("labels.drawingCanvas"))},
u.prototype.render=function(){var v,G=this,W=this.state,fa=W.zenModeEnabled,wa=W.width,ua=W.height;W=W.viewModeEnabled;var Ca=this.props,Na=Ca.onCollabButtonClick,Ia=Ca.onExportToBackend;Ca=Ca.renderFooter;var jb=wa/2,pb=ua/2;return Da().createElement("div",{className:xc("excalidraw",{"excalidraw--view-mode":W}),ref:this.excalidrawContainerRef,style:{width:wa,height:ua}},Da().createElement(Zt,{canvas:this.canvas,appState:this.state,setAppState:this.setAppState,actionManager:this.actionManager,elements:this.scene.getElements(),
onCollabButtonClick:Na,onLockToggle:this.toggleLock,onInsertElements:function(qb){return G.addElementsFromPasteOrLibrary(qb,jb,pb)},zenModeEnabled:fa,toggleZenMode:this.toggleZenMode,langCode:ta.code,isCollaborating:this.props.isCollaborating||!1,onExportToBackend:Ia,renderCustomFooter:Ca,viewModeEnabled:W,showExitZenModeBtn:void 0===(null===(v=this.props)||void 0===v?void 0:v.zenModeEnabled)&&fa}),Da().createElement("div",{className:"excalidraw-textEditorContainer"}),this.state.showStats&&Da().createElement(eu,
{appState:this.state,setAppState:this.setAppState,elements:this.scene.getElements(),onClose:this.toggleStats}),null!==this.state.toastMessage&&Da().createElement(fu,{message:this.state.toastMessage,clearToast:this.clearToast}),Da().createElement("main",null,this.renderCanvas()))},u.prototype.componentDidMount=function(){var v=this;return Pc()(function(){return dp(this,function(G){return"production"!==hc.Vi.TEST&&"production"!==hc.Vi.DEVELOPMENT||(v.setState.bind(v),Object.defineProperties(window.h,
{state:{configurable:!0,get:function(){return v.state}},setState:{configurable:!0,value:function(){for(var W=[],fa=0;fa<arguments.length;fa++)W[fa]=arguments[fa];return v.setState.apply(v,W)}},app:{configurable:!0,value:v}})),v.scene.addCallback(v.onSceneUpdated),v.addEventListeners(),"number"==typeof v.props.offsetLeft&&"number"==typeof v.props.offsetTop?v.initializeScene():v.setState(v.getCanvasOffsets(v.props),function(){v.initializeScene()}),[2]})})()},u.prototype.componentWillUnmount=function(){this.unmounted=
!0;this.removeEventListeners();this.scene.destroy();clearTimeout(go);go=0},u.prototype.removeEventListeners=function(){document.removeEventListener(hc.Ks.COPY,this.onCopy);document.removeEventListener(hc.Ks.PASTE,this.pasteFromClipboard);document.removeEventListener(hc.Ks.CUT,this.onCut);document.removeEventListener(hc.Ks.KEYDOWN,this.onKeyDown,!1);document.removeEventListener(hc.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition,!1);document.removeEventListener(hc.Ks.KEYUP,this.onKeyUp);window.removeEventListener(hc.Ks.RESIZE,
this.onResize,!1);window.removeEventListener(hc.Ks.UNLOAD,this.onUnload,!1);window.removeEventListener(hc.Ks.BLUR,this.onBlur,!1);window.removeEventListener(hc.Ks.DRAG_OVER,this.disableEvent,!1);window.removeEventListener(hc.Ks.DROP,this.disableEvent,!1);document.removeEventListener(hc.Ks.GESTURE_START,this.onGestureStart,!1);document.removeEventListener(hc.Ks.GESTURE_CHANGE,this.onGestureChange,!1);document.removeEventListener(hc.Ks.GESTURE_END,this.onGestureEnd,!1)},u.prototype.addEventListeners=
function(){var v,G;this.removeEventListeners();document.addEventListener(hc.Ks.COPY,this.onCopy);document.addEventListener(hc.Ks.KEYDOWN,this.onKeyDown,!1);document.addEventListener(hc.Ks.KEYUP,this.onKeyUp,{passive:!0});document.addEventListener(hc.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition);null===(v=document.fonts)||void 0===v||null===(G=v.addEventListener)||void 0===G||G.call(v,"loadingdone",this.onFontLoaded);document.addEventListener(hc.Ks.GESTURE_START,this.onGestureStart,!1);document.addEventListener(hc.Ks.GESTURE_CHANGE,
this.onGestureChange,!1);document.addEventListener(hc.Ks.GESTURE_END,this.onGestureEnd,!1);this.state.viewModeEnabled||(document.addEventListener(hc.Ks.PASTE,this.pasteFromClipboard),document.addEventListener(hc.Ks.CUT,this.onCut),document.addEventListener(hc.Ks.SCROLL,this.onScroll),window.addEventListener(hc.Ks.RESIZE,this.onResize,!1),window.addEventListener(hc.Ks.UNLOAD,this.onUnload,!1),window.addEventListener(hc.Ks.BLUR,this.onBlur,!1),window.addEventListener(hc.Ks.DRAG_OVER,this.disableEvent,
!1),window.addEventListener(hc.Ks.DROP,this.disableEvent,!1))},u.prototype.componentDidUpdate=function(v,G){var W,fa,wa,ua,Ca=this;(v.langCode!==this.props.langCode&&this.updateLanguage(),v.width!==this.props.width||v.height!==this.props.height||"number"==typeof this.props.offsetLeft&&v.offsetLeft!==this.props.offsetLeft||"number"==typeof this.props.offsetTop&&v.offsetTop!==this.props.offsetTop)&&this.setState(Sa({width:null!==(wa=this.props.width)&&void 0!==wa?wa:window.innerWidth,height:null!==
(ua=this.props.height)&&void 0!==ua?ua:window.innerHeight},this.getCanvasOffsets(this.props)));v.viewModeEnabled!==this.props.viewModeEnabled&&this.setState({viewModeEnabled:!!this.props.viewModeEnabled},this.addEventListeners);G.viewModeEnabled!==this.state.viewModeEnabled&&this.addEventListeners();v.zenModeEnabled!==this.props.zenModeEnabled&&this.setState({zenModeEnabled:!!this.props.zenModeEnabled});v.gridModeEnabled!==this.props.gridModeEnabled&&this.setState({gridSize:this.props.gridModeEnabled?
hc.k:null});null===(W=document.querySelector(".excalidraw"))||void 0===W||W.classList.toggle("Appearance_dark","dark"===this.state.appearance);this.state.editingLinearElement&&!this.state.selectedElementIds[this.state.editingLinearElement.elementId]&&setTimeout(function(){Ca.actionManager.executeAction(Mf)});v=G.multiElement;G.elementType!==this.state.elementType&&null!=v&&this.state.isBindingEnabled&&og(v)&&jk(v,this.state,this.scene,Dg(dg.getPointAtIndexGlobalCoordinates(v,-1)));var Na={},Ia={},
jb={},pb={},qb={};this.state.collaborators.forEach(function(zc,ed){if(zc.selectedElementIds)for(var id=0,vd=Object.keys(zc.selectedElementIds);id<vd.length;id++){var le=vd[id];le in jb||(jb[le]=[]);jb[le].push(ed)}zc.pointer&&(zc.username&&(pb[ed]=zc.username),zc.userState&&(qb[ed]=zc.userState),Ia[ed]=mh({sceneX:zc.pointer.x,sceneY:zc.pointer.y},Ca.state),Na[ed]=zc.button)});G=this.scene.getElements();W=kn(G.filter(function(zc){return!Ca.state.editingElement||"text"!==Ca.state.editingElement.type||
zc.id!==Ca.state.editingElement.id}),this.state,this.state.selectionElement,window.devicePixelRatio,this.rc,this.canvas,{scrollX:this.state.scrollX,scrollY:this.state.scrollY,viewBackgroundColor:this.state.viewBackgroundColor,zoom:this.state.zoom,remotePointerViewportCoords:Ia,remotePointerButton:Na,remoteSelectedElementIds:jb,remotePointerUsernames:pb,remotePointerUserStates:qb,shouldCacheIgnoreZoom:this.state.shouldCacheIgnoreZoom},{renderOptimizations:!0,renderScrollbars:!wg().matches});v=W.atLeastOneVisibleElement;
(W=W.scrollBars)&&(Yr=W);var bc,Vb;G="text"!==(null===(fa=this.state.editingElement)||void 0===fa?void 0:fa.type)&&!v&&0<G.length;(this.state.scrolledOutside!==G&&this.setState({scrolledOutside:G}),nk.record(this.state,this.scene.getElementsIncludingDeleted()),this.state.isLoading)||null===(bc=(Vb=this.props).onChange)||void 0===bc||bc.call(Vb,this.scene.getElementsIncludingDeleted(),this.state)},u.resetTapTwice=function(){wq=!1},u.prototype.addTextFromPaste=function(v){var G,W=ug({clientX:Jp,clientY:Kp},
this.state);v=Kj({x:W.x,y:W.y,strokeColor:this.state.currentItemStrokeColor,backgroundColor:this.state.currentItemBackgroundColor,fillStyle:this.state.currentItemFillStyle,strokeWidth:this.state.currentItemStrokeWidth,strokeStyle:this.state.currentItemStrokeStyle,roughness:this.state.currentItemRoughness,opacity:this.state.currentItemOpacity,strokeSharpness:this.state.currentItemStrokeSharpness,text:v,fontSize:this.state.currentItemFontSize,fontFamily:this.state.currentItemFontFamily,textAlign:this.state.currentItemTextAlign,
verticalAlign:hc.hs});this.scene.replaceAllElements(gh(gh([],this.scene.getElementsIncludingDeleted()),[v]));this.setState({selectedElementIds:(G={},G[v.id]=!0,G)});nk.resumeRecording()},u.prototype.selectShapeTool=function(v){var G;ep||ui(this.canvas,v);(G=document.activeElement)instanceof HTMLElement&&G.className.includes("ToolIcon")&&document.activeElement.blur();hj(v)||this.setState({suggestedBindings:[]});"selection"!==v?this.setState({elementType:v,selectedElementIds:{},selectedGroupIds:{},
editingGroupId:null}):this.setState({elementType:v})},u.prototype.handleTextWysiwyg=function(v,G){G=G.isExistingElement;var W=void 0!==G&&G,fa=this,wa=function(ua,Ca){void 0===Ca&&(Ca=!1);fa.scene.replaceAllElements(gh([],fa.scene.getElementsIncludingDeleted().map(function(Na){if(Na.id===v.id&&be(Na)){var Ia=Ca;Ia={text:ua,isDeleted:null!=Ia?Ia:Na.isDeleted};var jb=Wi(ua,Vi(Na));var pb=jb.width;var qb=jb.height;jb=jb.baseline;var bc=Na.textAlign;var Vb=Na.verticalAlign;if("center"===bc&&"middle"===
Vb)bc=Wi(Na.text,Vi(Na)),Vb=Xh(Na,{width:pb-bc.width,height:qb-bc.height}),bc=Na.x-Vb.x,Vb=Na.y-Vb.y;else{var zc=ig(Na);Vb=zc[0];var ed=zc[1],id=zc[2];zc=zc[3];var vd=Pg(Na,pb,qb);bc=(Vb=Zf({s:!0,e:"center"===bc||"left"===bc,w:"center"===bc||"right"===bc},Na.x,Na.y,Na.angle,(Vb-vd[0])/2,(ed-vd[1])/2,(id-vd[2])/2,(zc-vd[3])/2))[0];Vb=Vb[1]}pb={width:pb,height:qb,x:Number.isFinite(bc)?bc:Na.x,y:Number.isFinite(Vb)?Vb:Na.y,baseline:jb};Na=yg(Na,La(Ia,pb))}return Na})))};!function(ua){var Ca=ua.id,Na=
ua.appState,Ia=ua.onChange,jb=ua.onSubmit,pb=ua.getViewportCoords,qb=ua.element;ua=ua.canvas;var bc=function(){var Je,df=null===(Je=yh.getScene(qb))||void 0===Je?void 0:Je.getElement(Ca);if(df&&be(df)){Je=pb(df.x,df.y);var zd=Je[0],Zd=Je[1];Je=df.textAlign;var je=df.angle;Vb.value=df.text;var $e=df.text.replace(/\r\n?/g,"\n").split("\n"),Eh=df.height/$e.length;$e=(Na.offsetLeft+Na.width-zd-8)/Na.zoom.value-Number(getComputedStyle(document.querySelector(".excalidraw").parentNode).marginRight.slice(0,
-2));var $h=Object,Bj=$h.assign,cj=Vb.style,Vl=Vi(df);Eh="".concat(Eh,"px");var un="".concat(df.width,"px"),fm="".concat(df.height,"px");zd="".concat(zd,"px");Zd="".concat(Zd,"px");var vn=df.width;var Wm=Na.zoom,fo=180*je/Math.PI;je=(vn-2*Na.offsetLeft)*(Wm.value-1)/2;var Xm=(df.height-2*Na.offsetTop)*(Wm.value-1)/2;vn=(vn>$e&&1!==Wm.value&&(je=$e/2*(Wm.value-1)),"translate(".concat(je,"px, ").concat(Xm,"px) scale(").concat(Wm.value,") rotate(").concat(fo,"deg)"));Bj.call($h,cj,{font:Vl,lineHeight:Eh,
width:un,height:fm,left:zd,top:Zd,transform:vn,textAlign:Je,color:df.strokeColor,opacity:df.opacity/100,filter:"var(--appearance-filter)",maxWidth:"".concat($e,"px")})}},Vb=document.createElement("textarea");Vb.dir="auto";Vb.tabIndex=0;Vb.dataset.type="wysiwyg";Vb.wrap="off";Object.assign(Vb.style,{position:"absolute",display:"inline-block",minHeight:"1em",backfaceVisibility:"hidden",margin:0,padding:0,border:0,outline:0,resize:"none",background:"transparent",overflow:"hidden",whiteSpace:"pre",zIndex:"var(--zIndex-wysiwyg)"});
bc();Ia&&(Vb.oninput=function(){Ia(sl(Vb.value))});Vb.onkeydown=function(Je){"Escape"===Je.key?(Je.preventDefault(),ed()):"Enter"===Je.key&&Je[cf]?(Je.preventDefault(),Je.isComposing||229===Je.keyCode)||ed():"Enter"!==Je.key||Je.altKey||Je.stopPropagation()};var zc=function(Je){Je.preventDefault();Je.stopPropagation()},ed=function(){jb(sl(Vb.value));ke||(ke=!0,Vb.onblur=null,Vb.oninput=null,Vb.onkeydown=null,Oe&&Oe.disconnect(),window.removeEventListener("resize",bc),window.removeEventListener("wheel",
zc,!0),window.removeEventListener("pointerdown",vd),window.removeEventListener("pointerup",id),window.removeEventListener("blur",ed),le(),Vb.remove())},id=function(){window.removeEventListener("pointerup",id);setTimeout(function(){Vb.onblur=ed;Vb.focus()})},vd=function(Je){Je.target instanceof HTMLElement&&Je.target.closest(".".concat(hc.$C.SHAPE_ACTIONS_MENU))&&!Cg(Je.target)&&(Vb.onblur=null,window.addEventListener("pointerup",id),window.addEventListener("blur",ed))},le=yh.getScene(qb).addCallback(function(){bc();
Vb.focus()}),ke=!1;Vb.onblur=ed;var Oe=null;ua&&"ResizeObserver"in window?(Oe=new window.ResizeObserver(function(){bc()})).observe(ua):window.addEventListener("resize",bc);window.addEventListener("pointerdown",vd);window.addEventListener("wheel",zc,{passive:!1,capture:!0});document.querySelector(".excalidraw-textEditorContainer").appendChild(Vb);Vb.focus();Vb.select()}({id:v.id,appState:this.state,canvas:this.canvas,getViewportCoords:function(ua,Ca){ua=mh({sceneX:ua,sceneY:Ca},fa.state);return[ua.x-
fa.state.offsetLeft,ua.y-fa.state.offsetTop]},onChange:bg(function(ua){wa(ua);!v.isDeleted&&Ai(v)}),onSubmit:bg(function(ua){var Ca=!ua.trim();wa(ua,Ca);Ca?tj(fa.scene.getElements(),[v]):fa.setState(function(Na){var Ia;return{selectedElementIds:Sa(Sa({},Na.selectedElementIds),{},(Ia={},Ia[v.id]=!0,Ia))}});Ca&&!W||nk.resumeRecording();fa.setState({draggingElement:null,editingElement:null});fa.state.elementLocked&&ui(fa.canvas,fa.state.elementType)}),element:v});this.setState({selectedElementIds:{},
selectedGroupIds:{},editingGroupId:null});wa(v.text)},u.prototype.getTextElementAtPosition=function(v,G){return(v=this.getElementAtPosition(v,G))&&be(v)&&!v.isDeleted?v:null},u.prototype.getElementAtPosition=function(v,G){var W=this.getElementsAtPosition(v,G);if(1<W.length){var fa=W[W.length-1];return Lk(fa,this.state,v,G)?W[W.length-2]:fa}return 1===W.length?W[0]:null},u.prototype.getElementsAtPosition=function(v,G){var W,fa,wa=this;return W=this.scene.getElements(),fa=function(ua){var Ca=wa.state,
Na=10/Ca.zoom.value,Ia=[v,G];return Ca.selectedElementIds[ua.id]?Rl(ua,Ia,Na):fk(ua,Ca,Ia)},W.filter(function(ua){return!ua.isDeleted&&fa(ua)})},u.prototype.maybeCleanupAfterMissingPointerUp=function(v){null!==ho&&ho(v)},u.prototype.updateGestureOnPointerDown=function(v){Bl.set(v.pointerId,{x:v.clientX,y:v.clientY});2===Bl.size&&(wp=Tm(Bl),zp=this.state.zoom.value,ar=bo(Array.from(Bl.values())))},u.prototype.initialPointerDownState=function(v){var G=ug(v,this.state),W=uf(this.scene.getElements(),
this.state),fa=Bg(W),wa=fa[0],ua=fa[1],Ca=fa[2];fa=fa[3];return{origin:G,originInGrid:Dg(ri(G.x,G.y,this.state.gridSize)),scrollbars:ki(Yr,v.clientX-this.state.offsetLeft,v.clientY-this.state.offsetTop),lastCoords:Sa({},G),originalElements:this.scene.getElements().reduce(function(Na,Ia){return Na.set(Ia.id,Lj(Ia)),Na},new Map),resize:{handleType:!1,isResizing:!1,offset:{x:0,y:0},arrowDirection:"origin",center:{x:(Ca+wa)/2,y:(fa+ua)/2}},hit:{element:null,allHitElements:[],wasAddedToSelection:!1,hasBeenDuplicated:!1,
hasHitCommonBoundingBoxOfSelectedElements:this.isHittingCommonBoundingBoxOfSelectedElements(G,W)},drag:{hasOccurred:!1,offset:null},eventListeners:{onMove:null,onUp:null,onKeyUp:null,onKeyDown:null}}},u.prototype.handleDraggingScrollBar=function(v,G){var W=this;if(!G.scrollbars.isOverEither||this.state.multiElement)return!1;$r=!0;G.lastCoords.x=v.clientX;G.lastCoords.y=v.clientY;var fa=bg(function(ua){ua.target instanceof HTMLElement&&W.handlePointerMoveOverScrollbars(ua,G)}),wa=bg(function(){$r=
!1;ui(W.canvas,W.state.elementType);ho=null;W.setState({cursorButton:"up"});W.savePointer(v.clientX,v.clientY,"up");window.removeEventListener(hc.Ks.POINTER_MOVE,fa);window.removeEventListener(hc.Ks.POINTER_UP,wa)});return ho=wa,window.addEventListener(hc.Ks.POINTER_MOVE,fa),window.addEventListener(hc.Ks.POINTER_UP,wa),!0},u.prototype.isASelectedElement=function(v){return null!=v&&this.state.selectedElementIds[v.id]},u.prototype.isHittingCommonBoundingBoxOfSelectedElements=function(v,G){if(2>G.length)return!1;
var W=10/this.state.zoom.value;G=Bg(G);var fa=G[1],wa=G[2],ua=G[3];return v.x>G[0]-W&&v.x<wa+W&&v.y>fa-W&&v.y<ua+W},u.prototype.onKeyDownFromPointerDownHandler=function(v){var G=this;return bg(function(W){G.maybeHandleResize(v,W)||G.maybeDragNewGenericElement(v,W)})},u.prototype.onKeyUpFromPointerDownHandler=function(v){var G=this;return bg(function(W){"Alt"===W.key&&W.preventDefault();G.maybeHandleResize(v,W)||G.maybeDragNewGenericElement(v,W)})},u.prototype.onPointerMoveFromPointerDownHandler=function(v){var G=
this;return bg(function(W){if(null===v.drag.offset&&(v.drag.offset=Dg(function(id,vd,le){id=Bg(id);return[vd-id[0],le-id[1]]}(uf(G.scene.getElements(),G.state),v.origin.x,v.origin.y))),W.target instanceof HTMLElement&&!G.handlePointerMoveOverScrollbars(W,v)){var fa=ug(W,G.state),wa=ri(fa.x,fa.y,G.state.gridSize),ua=wa[0];wa=wa[1];if(v.drag.hasOccurred||"arrow"!==G.state.elementType&&"line"!==G.state.elementType||!(Math.hypot(v.origin.x-fa.x,v.origin.y-fa.y)<hc.f)){if(v.resize.isResizing&&(v.lastCoords.x=
fa.x,v.lastCoords.y=fa.y,G.maybeHandleResize(v,W)))return!0;if(G.state.editingLinearElement&&dg.handlePointDragging(G.state,function(id){return G.setState(id)},fa.x,fa.y,function(id,vd){G.maybeSuggestBindingForLinearElementAtCursor(id,vd,fa)}))return v.lastCoords.x=fa.x,void(v.lastCoords.y=fa.y);if(v.hit.allHitElements.some(function(id){return G.isASelectedElement(id)})||v.hit.hasHitCommonBoundingBoxOfSelectedElements){v.drag.hasOccurred=!0;var Ca=uf(G.scene.getElements(),G.state);if(0<Ca.length){ua=
ri(fa.x-v.drag.offset.x,fa.y-v.drag.offset.y,G.state.gridSize);var Na=ua[0];ua=ua[1];wa=[Math.abs(fa.x-v.origin.x),Math.abs(fa.y-v.origin.y)];if(function(id,vd,le,ke,Oe,Je,df,zd){void 0===Je&&(Je=!1);void 0===df&&(df=0);void 0===zd&&(zd=0);Oe=Bg(vd);var Zd=le-Oe[0],je=ke-Oe[1];vd.forEach(function($e){if(Je){var Eh=Je&&df<zd;var $h=Je&&df>zd;var Bj=id.originalElements.get($e.id);Eh=Eh&&Bj?Bj.x:$e.x+Zd;$h=$h&&Bj?Bj.y:$e.y+je}else Eh=$e.x+Zd,$h=$e.y+je;jf($e,{x:Eh,y:$h});Ai($e,{simultaneouslyUpdated:vd})})}(v,
Ca,Na,ua,G.scene,W.shiftKey,wa[0],wa[1]),G.maybeSuggestBindingForAll(Ca),W.altKey&&!v.hit.hasBeenDuplicated){v.hit.hasBeenDuplicated=!0;Ca=[];W=[];var Ia=new Map;wa=new Map;for(var jb=v.hit.element,pb=0,qb=G.scene.getElementsIncludingDeleted();pb<qb.length;pb++){var bc=qb[pb];if(G.state.selectedElementIds[bc.id]||bc.id===(null==jb?void 0:jb.id)&&v.hit.wasAddedToSelection){var Vb=Yi(G.state.editingGroupId,Ia,bc),zc=ri(v.origin.x-v.drag.offset.x,v.origin.y-v.drag.offset.y,G.state.gridSize);jf(Vb,{x:Vb.x+
(zc[0]-Na),y:Vb.y+(zc[1]-ua)});Ca.push(Vb);W.push(bc);wa.set(bc.id,Vb.id)}else Ca.push(bc)}Na=gh(gh([],Ca),W);Uj(Na,W,wa,"duplicatesServeAsOld");G.scene.replaceAllElements(Na)}return}}if(Ca=G.state.draggingElement)if(Fg(Ca)?(v.drag.hasOccurred=!0,Ia=Ca.points,pb=jb=void 0,"draw"===Ca.type?(jb=fa.x-Ca.x,pb=fa.y-Ca.y):(jb=ua-Ca.x,pb=wa-Ca.y),W.shiftKey&&2===Ia.length&&(jb=(Na=Ye(G.state.elementType,jb,pb)).width,pb=Na.height),1===Ia.length?jf(Ca,{points:gh(gh([],Ia),[[jb,pb]])}):1<Ia.length&&("draw"===
Ca.type?jf(Ca,{points:M(gh(gh([],Ia),[[jb,pb]]),.7/G.state.zoom.value)}):jf(Ca,{points:gh(gh([],Ia.slice(0,-1)),[[jb,pb]])})),og(Ca)&&G.maybeSuggestBindingForLinearElementAtCursor(Ca,"end",fa,G.state.startBoundElement)):(v.lastCoords.x=fa.x,v.lastCoords.y=fa.y,G.maybeDragNewGenericElement(v,W)),"selection"===G.state.elementType){Na=G.scene.getElements();!W.shiftKey&&kg(Na,G.state)&&G.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null});var ed=function(id,vd){vd=ig(vd);var le=
vd[0],ke=vd[1],Oe=vd[2],Je=vd[3];return id.filter(function(df){var zd=si(df),Zd=zd[0],je=zd[1],$e=zd[2];zd=zd[3];return"selection"!==df.type&&le<=Zd&&ke<=je&&Oe>=$e&&Je>=zd})}(Na,Ca);G.setState(function(id){return Wh(Sa(Sa({},id),{},{selectedElementIds:Sa(Sa({},id.selectedElementIds),ed.reduce(function(vd,le){return vd[le.id]=!0,vd},{}))}),G.scene.getElements())})}}}})},u.prototype.handlePointerMoveOverScrollbars=function(v,G){return G.scrollbars.isOverHorizontal?(v=v.clientX,this.setState({scrollX:this.state.scrollX-
(v-G.lastCoords.x)/this.state.zoom.value}),G.lastCoords.x=v,!0):G.scrollbars.isOverVertical?(v=v.clientY,this.setState({scrollY:this.state.scrollY-(v-G.lastCoords.y)/this.state.zoom.value}),G.lastCoords.y=v,!0):!1},u.prototype.onPointerUpFromPointerDownHandler=function(v){var G=this;return bg(function(W){var fa=G.state,wa=fa.draggingElement,ua=fa.resizingElement,Ca=fa.multiElement,Na=fa.elementType,Ia=fa.elementLocked,jb=fa.isResizing;fa=fa.isRotating;if(G.setState({isResizing:!1,isRotating:!1,resizingElement:null,
selectionElement:null,cursorButton:"up",editingElement:Ca||be(G.state.editingElement)?G.state.editingElement:null}),G.savePointer(W.clientX,W.clientY,"up"),G.state.editingLinearElement){var pb=dg.handlePointerUp(W,G.state.editingLinearElement,G.state);pb!==G.state.editingLinearElement&&G.setState({editingLinearElement:pb,suggestedBindings:[]})}if(ho=null,window.removeEventListener(hc.Ks.POINTER_MOVE,v.eventListeners.onMove),window.removeEventListener(hc.Ks.POINTER_UP,v.eventListeners.onUp),window.removeEventListener(hc.Ks.KEYDOWN,
v.eventListeners.onKeyDown),window.removeEventListener(hc.Ks.KEYUP,v.eventListeners.onKeyUp),"draw"!==(null==wa?void 0:wa.type))if(Fg(wa))1<wa.points.length&&nk.resumeRecording(),W=ug(W,G.state),v.drag.hasOccurred||!wa||Ca?v.drag.hasOccurred&&!Ca&&(G.state.isBindingEnabled&&og(wa)&&jk(wa,G.state,G.scene,W),G.setState({suggestedBindings:[],startBoundElement:null}),Ia||"draw"===Na?G.setState(function(Vb){var zc;return{draggingElement:null,selectedElementIds:Sa(Sa({},Vb.selectedElementIds),{},(zc={},
zc[G.state.draggingElement.id]=!0,zc))}}):(Ii(G.canvas),G.setState(function(Vb){var zc;return{draggingElement:null,elementType:"selection",selectedElementIds:Sa(Sa({},Vb.selectedElementIds),{},(zc={},zc[G.state.draggingElement.id]=!0,zc))}}))):(jf(wa,{points:gh(gh([],wa.points),[[W.x-wa.x,W.y-wa.y]])}),G.setState({multiElement:wa,editingElement:G.state.draggingElement}));else{if("selection"!==Na&&wa&&Rh(wa))return G.scene.replaceAllElements(G.scene.getElementsIncludingDeleted().slice(0,-1)),void G.setState({draggingElement:null});
wa&&jf(wa,Ml(wa));ua&&nk.resumeRecording();ua&&Rh(ua)&&G.scene.replaceAllElements(G.scene.getElementsIncludingDeleted().filter(function(Vb){return Vb.id!==ua.id}));var qb=v.hit.element;if(qb&&!v.drag.hasOccurred&&!v.hit.wasAddedToSelection)if(W.shiftKey)if(G.state.selectedElementIds[qb.id])if(null!=zh(G.state,qb)){var bc=qb.groupIds.flatMap(function(Vb){return ck(G.scene.getElements(),Vb)}).map(function(Vb){var zc;return(zc={})[Vb.id]=!1,zc}).reduce(function(Vb,zc){return Sa(Sa({},Vb),zc)},{});G.setState(function(Vb){return{selectedGroupIds:Sa(Sa({},
Vb.selectedElementIds),qb.groupIds.map(function(zc){var ed;return(ed={})[zc]=!1,ed}).reduce(function(zc,ed){return Sa(Sa({},zc),ed)},{})),selectedElementIds:Sa(Sa({},Vb.selectedElementIds),bc)}})}else G.setState(function(Vb){var zc;return{selectedElementIds:Sa(Sa({},Vb.selectedElementIds),{},(zc={},zc[qb.id]=!1,zc))}});else G.setState(function(Vb){var zc;return{selectedElementIds:Sa(Sa({},Vb.selectedElementIds),{},(zc={},zc[qb.id]=!0,zc))}});else G.setState(function(Vb){var zc;return Sa({},Wh(Sa(Sa({},
Vb),{},{selectedElementIds:(zc={},zc[qb.id]=!0,zc)}),G.scene.getElements()))});G.state.editingLinearElement||v.drag.hasOccurred||G.state.isResizing||!(qb&&Lk(qb,G.state,v.origin.x,v.origin.y)||!qb&&v.hit.hasHitCommonBoundingBoxOfSelectedElements)?(!Ia&&"draw"!==Na&&wa&&G.setState(function(Vb){var zc;return{selectedElementIds:Sa(Sa({},Vb.selectedElementIds),{},(zc={},zc[wa.id]=!0,zc))}}),("selection"!==Na||kg(G.scene.getElements(),G.state))&&nk.resumeRecording(),(v.drag.hasOccurred||jb||fa)&&(G.state.isBindingEnabled?
vg:ih)(uf(G.scene.getElements(),G.state)),Ia||"draw"===Na?G.setState({draggingElement:null,suggestedBindings:[]}):(Ii(G.canvas),G.setState({draggingElement:null,suggestedBindings:[],elementType:"selection"}))):G.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})}else G.actionManager.executeAction(Mf)})},u.prototype.maybeSuggestBindingForAll=function(v){var G;v=(G=new Set(v.map(function(W){return W.id})),v.flatMap(function(W){return og(W)?Il(W).filter(function(fa){return!G.has(fa.id)}):
yk(W)?sh(W).filter(function(fa){return!G.has(fa[0].id)}):[]}));this.setState({suggestedBindings:v})},u.prototype.clearSelection=function(v){this.setState(function(G){return{selectedElementIds:{},selectedGroupIds:{},editingGroupId:G.editingGroupId&&null!=v&&v.groupIds.includes(G.editingGroupId)?G.editingGroupId:null}});this.setState({selectedElementIds:{},previousSelectedElementIds:this.state.selectedElementIds})},u.prototype.getTextWysiwygSnappedToCenterPosition=function(v,G,W,fa,wa){if(wa=function(ua,
Ca,Na){for(var Ia=null,jb=ua.length-1;0<=jb;--jb)if(!ua[jb].isDeleted){var pb=ig(ua[jb]),qb=pb[1],bc=pb[2],Vb=pb[3];if(pb[0]<Ca&&Ca<bc&&qb<Na&&Na<Vb){Ia=ua[jb];break}}return Ia}(this.scene.getElementsIncludingDeleted().filter(function(ua){return!be(ua)}),v,G))if(fa=wa.x+wa.width/2,wa=wa.y+wa.height/2,Math.hypot(v-fa,G-wa)<hc.wZ)return v=mh({sceneX:fa,sceneY:wa},W),{viewportX:v.x,viewportY:v.y,elementCenterX:fa,elementCenterY:wa}},u.prototype.getCanvasOffsets=function(v){var G,W;return"number"==typeof(null==
v?void 0:v.offsetLeft)&&"number"==typeof(null==v?void 0:v.offsetTop)?{offsetLeft:v.offsetLeft,offsetTop:v.offsetTop}:null!==(G=this.excalidrawContainerRef)&&void 0!==G&&null!==(W=G.current)&&void 0!==W&&W.parentElement?(W=this.excalidrawContainerRef.current.parentElement.getBoundingClientRect(),G=W.left,W=W.top,{offsetLeft:"number"==typeof(null==v?void 0:v.offsetLeft)?v.offsetLeft:G,offsetTop:"number"==typeof(null==v?void 0:v.offsetTop)?v.offsetTop:W}):{offsetLeft:"number"==typeof(null==v?void 0:
v.offsetLeft)?v.offsetLeft:0,offsetTop:"number"==typeof(null==v?void 0:v.offsetTop)?v.offsetTop:0}},u.prototype.updateLanguage=function(){var v=this;return Pc()(function(){var G;return dp(this,function(W){switch(W.label){case 0:return G=ca.find(function(fa){return fa.code===v.props.langCode})||Va,[4,cb(G)];case 1:return W.sent(),v.setAppState({}),[2]}})})()},u}(Da().Component);Wr.defaultProps={width:window.innerWidth,height:window.innerHeight};var Vt=function(){var d=this;this.rc=this.canvas=null;
this.unmounted=!1;this.excalidrawContainerRef=Da().createRef();this.getSceneElementsIncludingDeleted=function(){return d.scene.getElementsIncludingDeleted()};this.getSceneElements=function(){return d.scene.getElements()};this.syncActionResult=bg(function(u){if(!d.unmounted&&!1!==u){var v=null;if(u.elements&&(u.elements.forEach(function(Na){var Ia;(null===(Ia=d.state.editingElement)||void 0===Ia?void 0:Ia.id)===Na.id&&d.state.editingElement!==Na&&!Na.isDeleted&&(v=Na)}),d.scene.replaceAllElements(u.elements),
u.commitToHistory&&nk.resumeRecording()),u.appState||v){var G,W,fa;u.commitToHistory&&nk.resumeRecording();var wa=(null==u||null===(G=u.appState)||void 0===G?void 0:G.viewModeEnabled)||!1,ua=(null==u||null===(W=u.appState)||void 0===W?void 0:W.zenModeEnabled)||!1,Ca=(null==u||null===(fa=u.appState)||void 0===fa?void 0:fa.gridSize)||null;void 0!==d.props.viewModeEnabled&&(wa=d.props.viewModeEnabled);void 0!==d.props.zenModeEnabled&&(ua=d.props.zenModeEnabled);void 0!==d.props.gridModeEnabled&&(Ca=
d.props.gridModeEnabled?hc.k:null);d.setState(function(Na){var Ia;return Object.assign(u.appState||{},{editingElement:v||(null===(Ia=u.appState)||void 0===Ia?void 0:Ia.editingElement)||null,width:Na.width,height:Na.height,offsetTop:Na.offsetTop,offsetLeft:Na.offsetLeft,viewModeEnabled:wa,zenModeEnabled:ua,gridSize:Ca})},function(){u.syncHistory&&nk.setCurrentState(d.state,d.scene.getElementsIncludingDeleted())})}}});this.onBlur=bg(function(){ep=!1;d.setState({isBindingEnabled:!0})});this.onUnload=
function(){d.onBlur()};this.disableEvent=function(u){u.preventDefault()};this.onFontLoaded=function(){d.scene.getElementsIncludingDeleted().forEach(function(u){be(u)&&wi.delete(u)});d.onSceneUpdated()};this.importLibraryFromUrl=function(){var u=Pc()(function(v){var G,W,fa,wa,ua;return dp(this,function(Ca){switch(Ca.label){case 0:window.history.replaceState({},hc.iC,window.location.origin),Ca.label=1;case 1:return Ca.trys.push([1,7,,8]),[4,fetch(v)];case 2:return[4,Ca.sent().blob()];case 3:return G=
Ca.sent(),wa=(fa=JSON).parse,[4,G.text()];case 4:Ca=W=wa.apply(fa,[Ca.sent()]);if("object"!=typeof Ca||!Ca||"excalidrawlib"!==Ca.type||1!==Ca.version)throw Error();return window.confirm(bb("alerts.confirmAddLibrary",{numShapes:W.library.length}))?[4,ph.importLibrary(G)]:[3,6];case 5:Ca.sent(),d.setState({isLibraryOpen:!0}),Ca.label=6;case 6:return[3,8];case 7:return ua=Ca.sent(),window.alert(bb("alerts.errorLoadingLibrary")),console.error(ua),[3,8];case 8:return[2]}})});return function(v){return u.apply(this,
arguments)}}();this.resetHistory=function(){nk.clear()};this.resetScene=bg(function(u){d.scene.replaceAllElements([]);d.setState(function(v){return Sa(Sa({},Dh()),{},{isLoading:(null==u||!u.resetLoadingState)&&v.isLoading,appearance:d.state.appearance})});d.resetHistory()});this.initializeScene=Pc()(function(){var u,v,G,W,fa;return dp(this,function(wa){switch(wa.label){case 0:"launchQueue"in window&&"LaunchParams"in window&&window.launchQueue.setConsumer(function(){var ua=Pc()(function(Ca){var Na,
Ia;return dp(this,function(jb){switch(jb.label){case 0:return Ca.files.length?[4,(Na=Ca.files[0]).getFile()]:[2];case 1:return(Ia=jb.sent()).handle=Na,Om(Ia,d.state).then(function(pb){return d.syncActionResult({elements:pb.elements,appState:Sa(Sa({},pb.appState||d.state),{},{isLoading:!1}),commitToHistory:!0})}).catch(function(pb){d.setState({isLoading:!1,errorMessage:pb.message})}),[2]}})});return function(Ca){return ua.apply(this,arguments)}}()),d.state.isLoading||d.setState({isLoading:!0}),v=null,
wa.label=1;case 1:return wa.trys.push([1,3,,4]),[4,d.props.initialData];case 2:return v=wa.sent()||null,[3,4];case 3:return G=wa.sent(),console.error(G),[3,4];case 4:return(W=mn(v,null)).appState=Sa(Sa({},W.appState),{},{isLoading:!1}),null!==(u=v)&&void 0!==u&&u.scrollToCenter&&(W.appState=Sa(Sa({},W.appState),mi(W.elements,Sa(Sa({},W.appState),{},{width:d.state.width,height:d.state.height,offsetTop:d.state.offsetTop,offsetLeft:d.state.offsetLeft})))),d.resetHistory(),d.syncActionResult(Sa(Sa({},
W),{},{commitToHistory:!0})),(fa=(new URLSearchParams(window.location.search)).get("addLibrary"))?[4,d.importLibraryFromUrl(fa)]:[3,6];case 5:wa.sent(),wa.label=6;case 6:return[2]}})});this.onResize=bg(function(){d.scene.getElementsIncludingDeleted().forEach(function(u){return wi.delete(u)});d.setState({})});this.onScroll=ti(function(){var u=d.getCanvasOffsets(),v=u.offsetTop,G=u.offsetLeft;d.setState(function(W){return W.offsetLeft===G&&W.offsetTop===v?null:{offsetTop:v,offsetLeft:G}})},hc.HM);this.onCut=
bg(function(u){Cg(u.target)||(d.cutAll(),u.preventDefault())});this.onCopy=bg(function(u){var v=document.getSelection();null!=v&&v.anchorNode&&!d.excalidrawContainerRef.current.contains(v.anchorNode)||Cg(u.target)||(d.copyAll(),u.preventDefault())});this.cutAll=function(){d.copyAll();d.actionManager.executeAction(Rg)};this.copyAll=function(){Ck(d.scene.getElements(),d.state)};this.onTapStart=function(u){if(!wq)return wq=!0,clearTimeout(Zr),void(Zr=window.setTimeout(Wr.resetTapTwice,hc.Gj));if(wq&&
1===u.touches.length){var v=u.touches[0];d.handleCanvasDoubleClick({clientX:v.clientX,clientY:v.clientY});wq=!1;clearTimeout(Zr)}u.preventDefault();2===u.touches.length&&d.setState({selectedElementIds:{}})};this.onTapEnd=function(u){u.preventDefault();0<u.touches.length&&d.setState({previousSelectedElementIds:{},selectedElementIds:d.state.previousSelectedElementIds})};this.pasteFromClipboard=bg(function(){var u=Pc()(function(v){var G,W,fa;return dp(this,function(wa){switch(wa.label){case 0:return G=
document.activeElement,W=document.elementFromPoint(Jp,Kp),!v||W instanceof HTMLCanvasElement&&!Cg(G)?[4,ab(v)]:[2];case 1:return(fa=wa.sent()).errorMessage?d.setState({errorMessage:fa.errorMessage}):fa.spreadsheet?d.setState({pasteDialog:{data:fa.spreadsheet,shown:!0}}):fa.elements?d.addElementsFromPasteOrLibrary(fa.elements):fa.text&&d.addTextFromPaste(fa.text),d.selectShapeTool("selection"),null==v||v.preventDefault(),[2]}})});return function(v){return u.apply(this,arguments)}}());this.addElementsFromPasteOrLibrary=
function(u,v,G){void 0===v&&(v=Jp);void 0===G&&(G=Kp);var W=Bg(u),fa=W[0],wa=W[1],ua=Math.abs(fa-W[2])/2;W=Math.abs(wa-W[3])/2;v=ug({clientX:v,clientY:G},d.state);ua=v.x-ua;W=v.y-W;var Ca=new Map;ua=ri(ua,W,d.state.gridSize);var Na=ua[0],Ia=ua[1],jb=new Map;ua=u.map(function(pb){var qb=Yi(d.state.editingGroupId,Ca,pb,{x:pb.x+Na-fa,y:pb.y+Ia-wa});return jb.set(pb.id,qb.id),qb});W=gh(gh([],d.scene.getElementsIncludingDeleted()),ua);Uj(W,u,jb);d.scene.replaceAllElements(W);nk.resumeRecording();d.setState(Wh(Sa(Sa({},
d.state),{},{isLibraryOpen:!1,selectedElementIds:ua.reduce(function(pb,qb){return pb[qb.id]=!0,pb},{}),selectedGroupIds:{}}),d.scene.getElements()))};this.setAppState=function(u){d.setState(u)};this.removePointer=function(u){"touch"===u.pointerType&&go&&(clearTimeout(go),go=0,lq=!1);Bl.delete(u.pointerId)};this.toggleLock=function(){d.setState(function(u){return{elementLocked:!u.elementLocked,elementType:u.elementLocked?"selection":u.elementType}})};this.toggleZenMode=function(){d.actionManager.executeAction(oe)};
this.toggleStats=function(){d.state.showStats||Sg("dialog","stats");d.actionManager.executeAction($n)};this.setScrollToCenter=function(u){d.setState(Sa({},mi(ge(u),d.state,d.canvas)))};this.clearToast=function(){d.setState({toastMessage:null})};this.updateScene=bg(function(u){var v;u.commitToHistory&&nk.resumeRecording();null!==(v=u.appState)&&void 0!==v&&v.viewBackgroundColor&&d.setState({viewBackgroundColor:u.appState.viewBackgroundColor});u.elements&&d.scene.replaceAllElements(u.elements);u.collaborators&&
d.setState({collaborators:u.collaborators})});this.onSceneUpdated=function(){d.setState({})};this.updateCurrentCursorPosition=bg(function(u){Jp=u.x;Kp=u.y});this.onKeyDown=bg(function(u){var v;if(!(("Proxy"in window&&(!u.shiftKey&&/^[A-Z]$/.test(u.key)||u.shiftKey&&/^[a-z]$/.test(u.key))&&(u=new Proxy(u,{get:function(wa,ua){var Ca=wa[ua];return"function"==typeof Ca?Ca.bind(wa):"key"===ua?u.shiftKey?wa.key.toUpperCase():wa.key.toLowerCase():Ca}})),Cg(u.target)&&"Escape"!==u.key||xg(u.key)&&(v=u.target,
v instanceof HTMLElement&&"wysiwyg"===v.dataset.type||v instanceof HTMLBRElement||v instanceof HTMLInputElement||v instanceof HTMLTextAreaElement||v instanceof HTMLSelectElement))||("?"===u.key&&d.setState({showHelpDialog:!0}),d.actionManager.handleKeyDown(u)||d.state.viewModeEnabled))){if(u[cf]&&d.setState({isBindingEnabled:!1}),"Digit9"===u.code&&d.setState({isLibraryOpen:!d.state.isLibraryOpen}),xg(u.key)){v=d.state.gridSize&&(u.shiftKey?hc.$e:d.state.gridSize)||(u.shiftKey?hc.Iw:hc.$e);var G=
d.scene.getElements().filter(function(wa){return d.state.selectedElementIds[wa.id]}),W=0,fa=0;"ArrowLeft"===u.key?W=-v:"ArrowRight"===u.key?W=v:"ArrowUp"===u.key?fa=-v:"ArrowDown"===u.key&&(fa=v);G.forEach(function(wa){jf(wa,{x:wa.x+W,y:wa.y+fa});Ai(wa,{simultaneouslyUpdated:G})});d.maybeSuggestBindingForAll(G);u.preventDefault()}else if("Enter"===u.key)if(v=uf(d.scene.getElements(),d.state),1===v.length&&Fg(v[0]))d.state.editingLinearElement&&d.state.editingLinearElement.elementId===v[0].id||(nk.resumeRecording(),
d.setState({editingLinearElement:new dg(v[0],d.scene)}));else{if(1===v.length&&!Fg(v[0]))return v=v[0],d.startTextEditing({sceneX:v.x+v.width/2,sceneY:v.y+v.height/2}),void u.preventDefault()}else u.ctrlKey||u.altKey||u.metaKey||null!==d.state.draggingElement||((v=function(wa){var ua=wm.find(function(Ca,Na){return wa===(Na+1).toString()||("string"==typeof Ca.key?Ca.key===wa:Ca.key.includes(wa))});return(null==ua?void 0:ua.value)||null}(u.key))?d.selectShapeTool(v):"q"===u.key&&d.toggleLock());" "===
u.key&&0===Bl.size&&(ep=!0,Ji(d.canvas,hc.oc.GRABBING))}});this.onKeyUp=bg(function(u){if(" "===u.key&&("selection"===d.state.elementType?Ii(d.canvas):(ui(d.canvas,d.state.elementType),d.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})),ep=!1),u[cf]||d.state.isBindingEnabled||d.setState({isBindingEnabled:!0}),xg(u.key))u=uf(d.scene.getElements(),d.state),d.state.isBindingEnabled?vg(u):ih(u),d.setState({suggestedBindings:[]})});this.onGestureStart=bg(function(u){u.preventDefault();
d.setState({selectedElementIds:{}});zp=d.state.zoom.value});this.onGestureChange=bg(function(u){if(u.preventDefault(),2!==Bl.size){var v=zp;v&&d.setState(function(G){var W=G.zoom,fa=G.offsetLeft;G=G.offsetTop;return{zoom:ci(Sj(v*u.scale),W,{left:fa,top:G},{x:Jp,y:Kp})}})}});this.onGestureEnd=bg(function(u){u.preventDefault();d.setState({previousSelectedElementIds:{},selectedElementIds:d.state.previousSelectedElementIds});zp=null});this.startTextEditing=function(u){var v=u.sceneX,G=u.sceneY;u=u.insertAtParentCenter;
var W=void 0===u||u;u=d.getTextElementAtPosition(v,G);W=W&&d.getTextWysiwygSnappedToCenterPosition(v,G,d.state,d.canvas,window.devicePixelRatio);v=u||Kj({x:W?W.elementCenterX:v,y:W?W.elementCenterY:G,strokeColor:d.state.currentItemStrokeColor,backgroundColor:d.state.currentItemBackgroundColor,fillStyle:d.state.currentItemFillStyle,strokeWidth:d.state.currentItemStrokeWidth,strokeStyle:d.state.currentItemStrokeStyle,roughness:d.state.currentItemRoughness,opacity:d.state.currentItemOpacity,strokeSharpness:d.state.currentItemStrokeSharpness,
text:"",fontSize:d.state.currentItemFontSize,fontFamily:d.state.currentItemFontFamily,textAlign:W?"center":d.state.currentItemTextAlign,verticalAlign:W?"middle":hc.hs});d.setState({editingElement:v});u?W&&"center"===v.textAlign||jf(v,{verticalAlign:hc.hs}):(d.scene.replaceAllElements(gh(gh([],d.scene.getElementsIncludingDeleted()),[v])),W||jf(v,{y:v.y-v.baseline/2}));d.setState({editingElement:v});d.handleTextWysiwyg(v,{isExistingElement:!!u})};this.handleCanvasDoubleClick=function(u){if(!d.state.multiElement&&
"selection"===d.state.elementType){var v=uf(d.scene.getElements(),d.state);if(1===v.length&&Fg(v[0]))d.state.editingLinearElement&&d.state.editingLinearElement.elementId===v[0].id||(nk.resumeRecording(),d.setState({editingLinearElement:new dg(v[0],d.scene)}));else{Ii(d.canvas);var G=ug(u,d.state);v=G.x;G=G.y;if(0<Li(d.state).length){var W=d.getElementAtPosition(v,G),fa=W&&function(wa,ua){return wa.groupIds.find(function(Ca){return ua[Ca]})}(W,d.state.selectedGroupIds);if(fa)return void d.setState(function(wa){var ua;
return Wh(Sa(Sa({},wa),{},{editingGroupId:fa,selectedElementIds:(ua={},ua[W.id]=!0,ua),selectedGroupIds:{}}),d.scene.getElements())})}Ii(d.canvas);u[cf]||d.startTextEditing({sceneX:v,sceneY:G,insertAtParentCenter:!u.altKey})}}};this.handleCanvasPointerMove=function(u){d.savePointer(u.clientX,u.clientY,d.state.cursorButton);Bl.has(u.pointerId)&&Bl.set(u.pointerId,{x:u.clientX,y:u.clientY});var v=zp;if(2===Bl.size&&wp&&v&&ar){var G=Tm(Bl),W=G.x-wp.x,fa=G.y-wp.y;wp=G;var wa=bo(Array.from(Bl.values()))/
ar;d.setState(function(bc){var Vb=bc.zoom,zc=bc.offsetLeft,ed=bc.offsetTop;return{scrollX:bc.scrollX+W/Vb.value,scrollY:bc.scrollY+fa/Vb.value,zoom:ci(Sj(v*wa),Vb,{left:zc,top:ed},G),shouldCacheIgnoreZoom:!0}});d.resetShouldCacheIgnoreZoomDebounced()}else wp=ar=zp=null;if(!(ep||xq||$r)){var ua=ki(Yr,u.clientX-d.state.offsetLeft,u.clientY-d.state.offsetTop).isOverEither;d.state.draggingElement||d.state.multiElement||(ua?Ii(d.canvas):ui(d.canvas,d.state.elementType));var Ca=ug(u,d.state),Na=Ca.x,Ia=
Ca.y;if(d.state.editingLinearElement&&!d.state.editingLinearElement.isDragging){var jb=dg.handlePointerMove(u,Na,Ia,d.state.editingLinearElement,d.state.gridSize);jb!==d.state.editingLinearElement&&d.setState({editingLinearElement:jb});null!=jb.lastUncommittedPoint?d.maybeSuggestBindingAtCursor(Ca):d.setState({suggestedBindings:[]})}"arrow"===d.state.elementType&&(jb=d.state.draggingElement,og(jb)?d.maybeSuggestBindingForLinearElementAtCursor(jb,"end",Ca,d.state.startBoundElement):d.maybeSuggestBindingAtCursor(Ca));
if(d.state.multiElement){ua=d.state.multiElement;Ca=ua.x;jb=ua.y;u=ua.points;var pb=ua.lastCommittedPoint,qb=u[u.length-1];return ui(d.canvas,d.state.elementType),void(qb===pb?Math.hypot(qb[0]-(Na-Ca),qb[1]-(Ia-jb))>=hc.qx?jf(ua,{points:gh(gh([],u),[[Na-Ca,Ia-jb]])}):Ji(d.canvas,hc.oc.POINTER):2<u.length&&pb&&Math.hypot(pb[0]-(Na-Ca),pb[1]-(Ia-jb))<hc.qx?(Ji(d.canvas,hc.oc.POINTER),jf(ua,{points:u.slice(0,-1)})):(ei(u,d.state.zoom.value)&&Ji(d.canvas,hc.oc.POINTER),jf(ua,{points:gh(gh([],u.slice(0,
-1)),[[Na-Ca,Ia-jb]])})))}if(!(u.buttons||"selection"!==d.state.elementType&&"text"!==d.state.elementType)){pb=d.scene.getElements();jb=uf(pb,d.state);if(1!==jb.length||ua||d.state.editingLinearElement){if(1<jb.length&&!ua&&(Na=of(Bg(jb),Na,Ia,d.state.zoom,u.pointerType)))return void Ji(d.canvas,Ie({transformHandleType:Na}))}else if((Na=Oi(pb,d.state,Na,Ia,d.state.zoom,u.pointerType))&&Na.transformHandleType)return void Ji(d.canvas,Ie(Na));Na=d.getElementAtPosition(Ca.x,Ca.y);"text"===d.state.elementType?
Ji(d.canvas,be(Na)?hc.oc.TEXT:hc.oc.CROSSHAIR):ua?Ji(d.canvas,hc.oc.AUTO):Na||d.isHittingCommonBoundingBoxOfSelectedElements(Ca,jb)?Ji(d.canvas,hc.oc.MOVE):Ji(d.canvas,hc.oc.AUTO)}}};this.handleTouchMove=function(u){lq=!0};this.handleCanvasPointerDown=function(u){if(u.persist(),d.maybeOpenContextMenuAfterPointerDownOnTouchDevices(u),d.maybeCleanupAfterMissingPointerUp(u),!(xq||(d.setState({lastPointerDownWith:u.pointerType,cursorButton:"down"}),d.savePointer(u.clientX,u.clientY,"down"),d.handleCanvasPanUsingWheelOrSpaceDrag(u)||
u.button!==hc.Oh.MAIN&&u.button!==hc.Oh.TOUCH||(d.updateGestureOnPointerDown(u),u.preventDefault(),document.activeElement instanceof HTMLElement&&document.activeElement.blur(),1<Bl.size)))){var v=d.initialPointerDownState(u);if(!d.handleDraggingScrollBar(u,v)&&(d.clearSelectionIfNotUsingSelection(),d.updateBindingEnabledOnPointerMove(u),!d.handleSelectionOnPointerDown(u,v)))if("text"!==d.state.elementType){"arrow"===d.state.elementType||"draw"===d.state.elementType||"line"===d.state.elementType?d.handleLinearElementOnPointerDown(u,
d.state.elementType,v):d.createGenericElementOnPointerDown(d.state.elementType,v);u=d.onPointerMoveFromPointerDownHandler(v);var G=d.onPointerUpFromPointerDownHandler(v),W=d.onKeyDownFromPointerDownHandler(v),fa=d.onKeyUpFromPointerDownHandler(v);ho=G;d.state.viewModeEnabled||(window.addEventListener(hc.Ks.POINTER_MOVE,u),window.addEventListener(hc.Ks.POINTER_UP,G),window.addEventListener(hc.Ks.KEYDOWN,W),window.addEventListener(hc.Ks.KEYUP,fa),v.eventListeners.onMove=u,v.eventListeners.onUp=G,v.eventListeners.onKeyUp=
fa,v.eventListeners.onKeyDown=W)}else d.handleTextOnPointerDown(u,v)}};this.maybeOpenContextMenuAfterPointerDownOnTouchDevices=function(u){"touch"===u.pointerType&&(lq=!1,go?lq=!0:go=window.setTimeout(function(){go=0;lq||d.openContextMenu({clientX:u.clientX,clientY:u.clientY})},hc.nM))};this.handleCanvasPanUsingWheelOrSpaceDrag=function(u){if(0!==Bl.size||!(u.button===hc.Oh.WHEEL||u.button===hc.Oh.MAIN&&ep||d.state.viewModeEnabled))return!1;xq=!0;var v=!1,G=/Linux/.test(window.navigator.platform);
Ji(d.canvas,hc.oc.GRABBING);var W=u.clientX,fa=u.clientY,wa=bg(function(Ca){var Na=W-Ca.clientX,Ia=fa-Ca.clientY;if(W=Ca.clientX,fa=Ca.clientY,G&&!v&&(1<Math.abs(Na)||1<Math.abs(Ia))){v=!0;var jb=function(qb){document.body.removeEventListener(hc.Ks.PASTE,jb);qb.stopPropagation()},pb=function(){setTimeout(function(){document.body.removeEventListener(hc.Ks.PASTE,jb);window.removeEventListener(hc.Ks.POINTER_UP,pb)},100)};document.body.addEventListener(hc.Ks.PASTE,jb);window.addEventListener(hc.Ks.POINTER_UP,
pb)}d.setState({scrollX:d.state.scrollX-Na/d.state.zoom.value,scrollY:d.state.scrollY-Ia/d.state.zoom.value})}),ua=bg(ho=function(){ho=null;xq=!1;ep||ui(d.canvas,d.state.elementType);d.setState({cursorButton:"up"});d.savePointer(u.clientX,u.clientY,"up");window.removeEventListener(hc.Ks.POINTER_MOVE,wa);window.removeEventListener(hc.Ks.POINTER_UP,ua);window.removeEventListener(hc.Ks.BLUR,ua)});return window.addEventListener(hc.Ks.BLUR,ua),window.addEventListener(hc.Ks.POINTER_MOVE,wa,{passive:!0}),
window.addEventListener(hc.Ks.POINTER_UP,ua),!0};this.clearSelectionIfNotUsingSelection=function(){"selection"!==d.state.elementType&&d.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})};this.handleSelectionOnPointerDown=function(u,v){if("selection"===d.state.elementType){var G=d.scene.getElements(),W=uf(G,d.state);1!==W.length||d.state.editingLinearElement?1<W.length&&(v.resize.handleType=of(Bg(W),v.origin.x,v.origin.y,d.state.zoom,u.pointerType)):(G=Oi(G,d.state,v.origin.x,
v.origin.y,d.state.zoom,u.pointerType),null!=G&&(d.setState({resizingElement:G.element}),v.resize.handleType=G.transformHandleType));if(v.resize.handleType)Ji(d.canvas,Ie({transformHandleType:v.resize.handleType})),v.resize.isResizing=!0,v.resize.offset=Dg(function(pb,qb,bc,Vb){var zc,ed=1===qb.length?ig(qb[0]):Bg(qb),id=ed[0],vd=ed[1],le=ed[2];ed=ed[3];qb=1===qb.length?qb[0].angle:0;switch(bc=(zc=Hf(bc,Vb,(id+le)/2,(vd+ed)/2,-qb))[0],Vb=zc[1],pb){case "n":return Hf(bc-(id+le)/2,Vb-vd,0,0,qb);case "s":return Hf(bc-
(id+le)/2,Vb-ed,0,0,qb);case "w":return Hf(bc-id,Vb-(vd+ed)/2,0,0,qb);case "e":return Hf(bc-le,Vb-(vd+ed)/2,0,0,qb);case "nw":return Hf(bc-id,Vb-vd,0,0,qb);case "ne":return Hf(bc-le,Vb-vd,0,0,qb);case "sw":return Hf(bc-id,Vb-ed,0,0,qb);case "se":return Hf(bc-le,Vb-ed,0,0,qb);default:return[0,0]}}(v.resize.handleType,W,v.origin.x,v.origin.y)),1===W.length&&Fg(W[0])&&2===W[0].points.length&&(v.resize.arrowDirection=(ua=v.resize.handleType,Ca=W[0],Na=Ca.points[1],Ia=Na[0],jb=Na[1],"nw"===ua&&(0>Ia||
0>jb)||"ne"===ua&&0<=Ia||"sw"===ua&&0>=Ia||"se"===ua&&(0<Ia||0<jb)?"end":"origin"));else{var fa;if(d.state.editingLinearElement&&(W=dg.handlePointerDown(u,d.state,function(pb){return d.setState(pb)},nk,v.origin),W.hitElement&&(v.hit.element=W.hitElement),W.didAddPoint))return!0;v.hit.element=null!==(fa=v.hit.element)&&void 0!==fa?fa:d.getElementAtPosition(v.origin.x,v.origin.y);v.hit.allHitElements=d.getElementsAtPosition(v.origin.x,v.origin.y);var wa=v.hit.element;fa=v.hit.allHitElements.some(function(pb){return d.isASelectedElement(pb)});
if(null!==wa&&fa||u.shiftKey||v.hit.hasHitCommonBoundingBoxOfSelectedElements||d.clearSelection(wa),null!=wa){if(u[cf])return d.setState(function(pb){var qb;pb=$a($a({},pb),{},{editingGroupId:wa.groupIds.length?wa.groupIds[0]:null,selectedGroupIds:{},selectedElementIds:(qb={},qb[wa.id]=!0,qb)});return Sa(Sa({},pb),{},{previousSelectedElementIds:d.state.selectedElementIds})}),!1;d.state.selectedElementIds[wa.id]||(d.state.editingGroupId&&!wa.groupIds.includes(d.state.editingGroupId)&&d.setState({selectedElementIds:{},
selectedGroupIds:{},editingGroupId:null}),fa||v.hit.hasHitCommonBoundingBoxOfSelectedElements||(d.setState(function(pb){var qb;return Wh(Sa(Sa({},pb),{},{selectedElementIds:Sa(Sa({},pb.selectedElementIds),{},(qb={},qb[wa.id]=!0,qb))}),d.scene.getElements())}),v.hit.wasAddedToSelection=!0))}d.setState({previousSelectedElementIds:d.state.selectedElementIds})}}var ua,Ca,Na,Ia,jb;return!1};this.handleTextOnPointerDown=function(u,v){var G;"text"!==(null===(G=d.state.editingElement)||void 0===G?void 0:
G.type)&&(d.startTextEditing({sceneX:v.origin.x,sceneY:v.origin.y,insertAtParentCenter:!u.altKey}),Ii(d.canvas),d.state.elementLocked||d.setState({elementType:"selection"}))};this.handleLinearElementOnPointerDown=function(u,v,G){if(d.state.multiElement){var W=d.state.multiElement;if("line"===W.type&&ei(W.points,d.state.zoom.value))return jf(W,{lastCommittedPoint:W.points[W.points.length-1]}),void d.actionManager.executeAction(Mf);v=W.x;u=W.y;var fa=W.lastCommittedPoint;if(1<W.points.length&&fa&&Math.hypot(fa[0]-
(G.origin.x-v),fa[1]-(G.origin.y-u))<hc.qx)return void d.actionManager.executeAction(Mf);d.setState(function(Ca){var Na;return{selectedElementIds:Sa(Sa({},Ca.selectedElementIds),{},(Na={},Na[W.id]=!0,Na))}});jf(W,{lastCommittedPoint:W.points[W.points.length-1]});Ji(d.canvas,hc.oc.POINTER)}else{u=ri(G.origin.x,G.origin.y,"draw"===v?null:d.state.gridSize);var wa=d.state;fa=wa.currentItemStartArrowhead;wa=wa.currentItemEndArrowhead;fa="arrow"===v?[fa,wa]:[null,null];var ua=Te({type:v,x:u[0],y:u[1],strokeColor:d.state.currentItemStrokeColor,
backgroundColor:d.state.currentItemBackgroundColor,fillStyle:d.state.currentItemFillStyle,strokeWidth:d.state.currentItemStrokeWidth,strokeStyle:d.state.currentItemStrokeStyle,roughness:d.state.currentItemRoughness,opacity:d.state.currentItemOpacity,strokeSharpness:d.state.currentItemLinearStrokeSharpness,startArrowhead:fa[0],endArrowhead:fa[1]});d.setState(function(Ca){var Na;return{selectedElementIds:Sa(Sa({},Ca.selectedElementIds),{},(Na={},Na[ua.id]=!1,Na))}});jf(ua,{points:gh(gh([],ua.points),
[[0,0]])});G=bi(G.origin,d.scene);d.scene.replaceAllElements(gh(gh([],d.scene.getElementsIncludingDeleted()),[ua]));d.setState({draggingElement:ua,editingElement:ua,startBoundElement:G,suggestedBindings:[]})}};this.createGenericElementOnPointerDown=function(u,v){v=ri(v.origin.x,v.origin.y,d.state.gridSize);u=Ol({type:u,x:v[0],y:v[1],strokeColor:d.state.currentItemStrokeColor,backgroundColor:d.state.currentItemBackgroundColor,fillStyle:d.state.currentItemFillStyle,strokeWidth:d.state.currentItemStrokeWidth,
strokeStyle:d.state.currentItemStrokeStyle,roughness:d.state.currentItemRoughness,opacity:d.state.currentItemOpacity,strokeSharpness:d.state.currentItemStrokeSharpness});"selection"===u.type?d.setState({selectionElement:u,draggingElement:u}):(d.scene.replaceAllElements(gh(gh([],d.scene.getElementsIncludingDeleted()),[u])),d.setState({multiElement:null,draggingElement:u,editingElement:u}))};this.updateBindingEnabledOnPointerMove=function(u){u=!u[cf];d.state.isBindingEnabled!==u&&d.setState({isBindingEnabled:u})};
this.maybeSuggestBindingAtCursor=function(u){u=bi(u,d.scene);d.setState({suggestedBindings:null!=u?[u]:[]})};this.maybeSuggestBindingForLinearElementAtCursor=function(u,v,G,W){v=bi(G,d.scene);d.setState({suggestedBindings:null==v||(null==W?void 0:W.id)===v.id&&3>u.points.length?[]:[v]})};this.handleCanvasRef=function(u){var v,G,W;null!==u?(d.canvas=u,d.rc=Qh.canvas(d.canvas),d.canvas.addEventListener(hc.Ks.WHEEL,d.handleWheel,{passive:!1}),d.canvas.addEventListener(hc.Ks.TOUCH_START,d.onTapStart),
d.canvas.addEventListener(hc.Ks.TOUCH_END,d.onTapEnd)):(null===(v=d.canvas)||void 0===v||v.removeEventListener(hc.Ks.WHEEL,d.handleWheel),null===(G=d.canvas)||void 0===G||G.removeEventListener(hc.Ks.TOUCH_START,d.onTapStart),null===(W=d.canvas)||void 0===W||W.removeEventListener(hc.Ks.TOUCH_END,d.onTapEnd))};this.handleCanvasOnDrop=function(){var u=Pc()(function(v){var G,W,fa,wa,ua,Ca,Na,Ia,jb,pb,qb;return dp(this,function(bc){switch(bc.label){case 0:return bc.trys.push([0,3,,4]),"image/png"!==(null==
(W=v.dataTransfer.files[0])?void 0:W.type)&&"image/svg+xml"!==(null==W?void 0:W.type)?[3,2]:[4,Om(W,d.state)];case 1:return fa=bc.sent(),wa=fa.elements,ua=fa.appState,d.syncActionResult({elements:wa,appState:Sa(Sa({},ua||d.state),{},{isLoading:!1}),commitToHistory:!0}),[2];case 2:return[3,4];case 3:return Ca=bc.sent(),[2,d.setState({isLoading:!1,errorMessage:Ca.message})];case 4:if(""!==(Na=v.dataTransfer.getData(hc.LO.excalidrawlib)))return d.addElementsFromPasteOrLibrary(JSON.parse(Na),v.clientX,
v.clientY),[2];if(!("application/json"===(null==(Ia=null===(G=v.dataTransfer)||void 0===G?void 0:G.files[0])?void 0:Ia.type)||null!=Ia&&Ia.name.endsWith(".excalidraw")))return[3,9];if(d.setState({isLoading:!0}),!("chooseFileSystemEntries"in window||"showOpenFilePicker"in window))return[3,8];bc.label=5;case 5:return bc.trys.push([5,7,,8]),jb=v.dataTransfer.items[0],pb=Ia,[4,jb.getAsFileSystemHandle()];case 6:return pb.handle=bc.sent(),[3,8];case 7:return qb=bc.sent(),console.warn(qb.name,qb.message),
[3,8];case 8:return Om(Ia,d.state).then(function(Vb){return d.syncActionResult({elements:Vb.elements,appState:Sa(Sa({},Vb.appState||d.state),{},{isLoading:!1}),commitToHistory:!0})}).catch(function(Vb){d.setState({isLoading:!1,errorMessage:Vb.message})}),[3,10];case 9:(null==Ia?void 0:Ia.type)===hc.LO.excalidrawlib||null!=Ia&&Ia.name.endsWith(".excalidrawlib")?ph.importLibrary(Ia).then(function(){d.setState({isLibraryOpen:!1})}).catch(function(Vb){return d.setState({isLoading:!1,errorMessage:Vb.message})}):
d.setState({isLoading:!1,errorMessage:bb("alerts.couldNotLoadInvalidFile")}),bc.label=10;case 10:return[2]}})});return function(v){return u.apply(this,arguments)}}();this.handleCanvasContextMenu=function(u){u.preventDefault();d.openContextMenu(u)};this.maybeDragNewGenericElement=function(u,v){var G=d.state.draggingElement,W=u.lastCoords;if(G)if("selection"===G.type)li(G,d.state.elementType,u.origin.x,u.origin.y,W.x,W.y,Math.abs(u.origin.x-W.x),Math.abs(u.origin.y-W.y),v.shiftKey,v.altKey);else{var fa=
ri(W.x,W.y,d.state.gridSize);W=fa[0];fa=fa[1];li(G,d.state.elementType,u.originInGrid.x,u.originInGrid.y,W,fa,Math.abs(u.originInGrid.x-W),Math.abs(u.originInGrid.y-fa),v.shiftKey,v.altKey);d.maybeSuggestBindingForAll([G])}};this.maybeHandleResize=function(u,v){var G=uf(d.scene.getElements(),d.state),W=u.resize.handleType;d.setState({isResizing:W&&"rotation"!==W,isRotating:"rotation"===W});var fa=u.lastCoords;fa=ri(fa.x-u.resize.offset.x,fa.y-u.resize.offset.y,d.state.gridSize);a:{var wa=u.resize.arrowDirection,
ua=v.shiftKey,Ca=v.altKey;v=v.shiftKey;var Na=fa[0],Ia=fa[1];fa=u.resize.center.x;var jb=u.resize.center.y;if(1===G.length){fa=G[0];if("rotation"===W)W=ig(fa),W=5*Math.PI/2+Math.atan2(Ia-(W[1]+W[3])/2,Na-(W[0]+W[2])/2),ua&&(W+=hc.ay/2,W-=W%hc.ay),W=Qf(W),jf(fa,{angle:W}),Ai(fa);else if(!Fg(fa)||2!==fa.points.length||"nw"!==W&&"ne"!==W&&"sw"!==W&&"se"!==W)if(!be(fa)||"nw"!==W&&"ne"!==W&&"sw"!==W&&"se"!==W){if(W){wa=u.originalElements.get(fa.id);var pb=Pg(wa,wa.width,wa.height);ua=[pb[0],pb[1]];u=[pb[2],
pb[3]];pb=[(ua[0]+u[0])/2,(ua[1]+u[1])/2];jb=ij([Na,Ia],pb,-wa.angle);Na=Pg(fa,fa.width,fa.height);var qb=Na[2]-Na[0],bc=Na[3]-Na[1];Na=(u[0]-ua[0])/qb;Ia=(u[1]-ua[1])/bc;W.includes("e")&&(Na=(jb[0]-ua[0])/qb);W.includes("s")&&(Ia=(jb[1]-ua[1])/bc);W.includes("w")&&(Na=(u[0]-jb[0])/qb);W.includes("n")&&(Ia=(u[1]-jb[1])/bc);jb=wa.width;qb=wa.height;Na*=fa.width;Ia*=fa.height;if(Ca&&(Na=2*Na-jb,Ia=2*Ia-qb),v){bc=Math.abs(Na)/jb;var Vb=Math.abs(Ia)/qb;if(1===W.length&&(Ia*=bc,Na*=Vb),2===W.length)bc=
Math.max(bc,Vb),Na=jb*bc*Math.sign(Na),Ia=qb*bc*Math.sign(Ia)}Vb=Pg(wa,Na,Ia);jb=Vb[0];qb=Vb[1];bc=Vb[2]-jb;Vb=Vb[3]-qb;var zc=ej([],ua);if(["n","w","nw"].includes(W)&&(zc=[u[0]-Math.abs(bc),u[1]-Math.abs(Vb)]),"ne"===W)zc=[ua[0],u[1]],zc=[zc[0],zc[1]-Math.abs(Vb)];"sw"===W&&(ua=[u[0],ua[1]],zc=[ua[0]-Math.abs(bc),ua[1]]);v&&(["s","n"].includes(W)&&(zc[0]=pb[0]-bc/2),["e","w"].includes(W)&&(zc[1]=pb[1]-Vb/2));0>Na&&(W.includes("e")&&(zc[0]-=Math.abs(bc)),W.includes("w")&&(zc[0]+=Math.abs(bc)));0>
Ia&&(W.includes("s")&&(zc[1]-=Math.abs(Vb)),W.includes("n")&&(zc[1]+=Math.abs(Vb)));Ca&&(zc[0]=pb[0]-Math.abs(bc)/2,zc[1]=pb[1]-Math.abs(Vb)/2);W=wa.angle;Ca=ij(zc,pb,W);v=ij([zc[0]+Math.abs(bc)/2,zc[1]+Math.abs(Vb)/2],pb,W);zc=ij(Ca,v,-W);W=kf(wa,Na,Ia);Ca=ej([],zc);Ca[0]+=wa.x-jb;Ca[1]+=wa.y-qb;W=Hc({width:Math.abs(Na),height:Math.abs(Ia),x:Ca[0],y:Ca[1]},W);0!==W.width&&0!==W.height&&Number.isFinite(W.x)&&Number.isFinite(W.y)&&(Ai(fa,{newSize:{width:W.width,height:W.height}}),jf(fa,W))}}else{wa=
ig(fa);u=wa[0];ua=wa[1];v=wa[2];wa=wa[3];Ia=Hf(Na,Ia,(u+v)/2,(ua+wa)/2,-fa.angle);Na=Ia[0];Ia=Ia[1];switch(W){case "se":pb=Math.max((Na-u)/(v-u),(Ia-ua)/(wa-ua));break;case "nw":pb=Math.max((v-Na)/(v-u),(wa-Ia)/(wa-ua));break;case "ne":pb=Math.max((Na-u)/(v-u),(wa-Ia)/(wa-ua));break;case "sw":pb=Math.max((v-Na)/(v-u),(Ia-ua)/(wa-ua))}0<pb&&(Na=fa.width*pb,pb*=fa.height,Ia=Ng(fa,Na,pb),null!==Ia&&(jb=Pg(fa,Na,pb),u=(u-jb[0])/2,ua=(ua-jb[1])/2,v=(v-jb[2])/2,wa=(wa-jb[3])/2,W={n:/^(n|ne|nw)$/.test(W)||
Ca&&/^(s|se|sw)$/.test(W),s:/^(s|se|sw)$/.test(W)||Ca&&/^(n|ne|nw)$/.test(W),w:/^(w|nw|sw)$/.test(W)||Ca&&/^(e|ne|se)$/.test(W),e:/^(e|ne|se)$/.test(W)||Ca&&/^(w|nw|sw)$/.test(W)},W=Zf(W,fa.x,fa.y,fa.angle,u,ua,v,wa),jf(fa,{fontSize:Ia.size,width:Na,height:pb,baseline:Ia.baseline,x:W[0],y:W[1]})));Ai(fa)}else W=ig(fa),Ca=Hf(Na,Ia,(W[0]+W[2])/2,(W[1]+W[3])/2,-fa.angle),W=Ca[0],Ca=Ca[1],Ca="end"===wa?[W-fa.x,Ca-fa.y]:[fa.x+fa.points[1][0]-W,fa.y+fa.points[1][1]-Ca],W=Ca[0],Ca=Ca[1],ua&&(v=fa.angle,
W=Ye.apply(void 0,ej([fa.type],Hf(W,Ca,0,0,v))),Ca=Hf(W.width,W.height,0,0,-v),W=Ca[0],Ca=Ca[1]),v=Zf("end"===wa?{s:!0,e:!0}:{n:!0,w:!0},fa.x,fa.y,fa.angle,0,0,(fa.points[1][0]-W)/2,(fa.points[1][1]-Ca)/2),jf(fa,{x:v[0],y:v[1],points:[[0,0],[W,Ca]]});fa=!0}else{if(1<G.length){if("rotation"===W){fa=(rl(u,G,Na,Ia,ua,fa,jb),!0);break a}if("nw"===W||"ne"===W||"sw"===W||"se"===W){fa=(Jl(G,W,Na,Ia),!0);break a}}fa=!1}}return!!fa&&(d.maybeSuggestBindingForAll(G),!0)};this.openContextMenu=function(u){var v,
G=u.clientX;u=u.clientY;var W=ug({clientX:G,clientY:u},d.state),fa=W.x,wa=W.y,ua=cg.contextItemPredicate(d.actionManager.getElementsIncludingDeleted(),d.actionManager.getAppState()),Ca=yi.contextItemPredicate(d.actionManager.getElementsIncludingDeleted(),d.actionManager.getAppState());W=wg().matches;var Na=d.scene.getElements();fa=d.getElementAtPosition(fa,wa);wa=[];(Dk&&0<Na.length&&wa.push(tp),Wj&&0<Na.length&&wa.push(up),fa)?(d.state.selectedElementIds[fa.id]||d.setState({selectedElementIds:(v=
{},v[fa.id]=!0,v)}),d.state.viewModeEnabled?En({options:gh([navigator.clipboard&&pn],wa),top:u,left:G,actionManager:d.actionManager,appState:d.state}):En({options:gh(gh([W&&iq,W&&navigator.clipboard&&pn,W&&navigator.clipboard&&{name:"paste",perform:function(Ia,jb){return d.pasteFromClipboard(null),{commitToHistory:!1}},contextItemLabel:"labels.paste"},W&&"separator"],wa),["separator",qf,hf,"separator",ua&&cg,Ca&&yi,(ua||Ca)&&"separator",Oo,"separator",Am,ul,l,E,"separator",oa,Rg]),top:u,left:G,actionManager:d.actionManager,
appState:d.state})):(v=gh(gh([],wa),[void 0===d.props.gridModeEnabled&&rp,void 0===d.props.zenModeEnabled&&oe,void 0===d.props.viewModeEnabled&&Us,$n]),(En({options:v,top:u,left:G,actionManager:d.actionManager,appState:d.state}),d.state.viewModeEnabled)||En({options:[W&&navigator.clipboard&&{name:"paste",perform:function(Ia,jb){return d.pasteFromClipboard(null),{commitToHistory:!1}},contextItemLabel:"labels.paste"},W&&navigator.clipboard&&"separator",Dk&&0<Na.length&&tp,Wj&&0<Na.length&&up,(Dk&&0<
Na.length||Wj&&0<Na.length)&&"separator",ea,"separator",void 0===d.props.gridModeEnabled&&rp,void 0===d.props.zenModeEnabled&&oe,void 0===d.props.viewModeEnabled&&Us,$n],top:u,left:G,actionManager:d.actionManager,appState:d.state}))};this.handleWheel=bg(function(u){if(u.preventDefault(),!xq){var v=u.deltaX,G=u.deltaY,W=d.state,fa=W.selectedElementIds,wa=W.previousSelectedElementIds;if(u.metaKey||u.ctrlKey){u=Math.sign(G);W=Math.abs(G);10<W&&(W=10);W*=u;0!==Object.keys(wa).length&&setTimeout(function(){d.setState({selectedElementIds:wa,
previousSelectedElementIds:{}})},1E3);var ua=d.state.zoom.value-W/100;return ua+=Math.log10(Math.max(1,d.state.zoom.value))*-u,ua=Math.round(ua*hc.V4*100)/(100*hc.V4),d.setState(function(Ca){var Na=Ca.zoom,Ia=Ca.offsetLeft;Ca=Ca.offsetTop;return{zoom:ci(Sj(ua),Na,{left:Ia,top:Ca},{x:Jp,y:Kp}),selectedElementIds:{},previousSelectedElementIds:0!==Object.keys(fa).length?fa:wa,shouldCacheIgnoreZoom:!0}}),void d.resetShouldCacheIgnoreZoomDebounced()}u.shiftKey?d.setState(function(Ca){return{scrollX:Ca.scrollX-
(G||v)/Ca.zoom.value}}):d.setState(function(Ca){var Na=Ca.zoom;return{scrollX:Ca.scrollX-v/Na.value,scrollY:Ca.scrollY-G/Na.value}})}});this.savePointer=function(u,v,G){var W,fa;u&&v&&(u=ug({clientX:u,clientY:v},d.state),isNaN(u.x)||isNaN(u.y),null===(W=(fa=d.props).onPointerUpdate)||void 0===W||W.call(fa,{pointer:u,button:G,pointersMap:Bl}))};this.resetShouldCacheIgnoreZoomDebounced=ti(function(){d.unmounted||d.setState({shouldCacheIgnoreZoom:!1})},300)};"production"!==hc.Vi.TEST&&"production"!==
hc.Vi.DEVELOPMENT||(window.h=window.h||{},Object.defineProperties(window.h,{elements:{configurable:!0,get:function(){return this.app.scene.getElementsIncludingDeleted()},set:function(d){return this.app.scene.replaceAllElements(d)}},history:{configurable:!0,get:function(){return nk}},library:{configurable:!0,value:ph}}));h(8234);h(4651);var Qs=function(d){var u=d.width,v=d.height,G=d.offsetLeft,W=d.offsetTop,fa=d.onChange,wa=d.initialData,ua=d.excalidrawRef,Ca=d.onCollabButtonClick,Na=d.isCollaborating,
Ia=d.onPointerUpdate,jb=d.onExportToBackend,pb=d.renderFooter,qb=d.langCode;qb=void 0===qb?Va.code:qb;var bc=d.viewModeEnabled,Vb=d.zenModeEnabled;d=d.gridModeEnabled;return(0,jc.useEffect)(function(){var zc=function(ed){"number"==typeof ed.scale&&1!==ed.scale&&ed.preventDefault()};return document.addEventListener("touchmove",zc,{passive:!1}),function(){document.removeEventListener("touchmove",zc)}},[]),Da().createElement(se,{langCode:qb},Da().createElement(mg,null,Da().createElement(Wr,{width:u,
height:v,offsetLeft:G,offsetTop:W,onChange:fa,initialData:wa,excalidrawRef:ua,onCollabButtonClick:Ca,isCollaborating:Na,onPointerUpdate:Ia,onExportToBackend:jb,renderFooter:pb,langCode:qb,viewModeEnabled:bc,zenModeEnabled:Vb,gridModeEnabled:d})))};Qs.defaultProps={lanCode:Va.code};var Wt=(0,jc.forwardRef)(function(d,u){return Da().createElement(Qs,hb()({},d,{excalidrawRef:u}))});const Xt=Da().memo(Wt,function(d,u){d.initialData;var v=rc()(d,["initialData"]),G=(u.initialData,rc()(u,["initialData"]));
d=Object.keys(d);u=Object.keys(u);return d.length===u.length&&d.every(function(W){return v[W]===G[W]})});h(6009);const du=Xt},4698:z=>{z.exports=x},6207:z=>{z.exports=m}},a={};return n.m=r,n.n=z=>{var q=z&&z.__esModule?()=>z.default:()=>z;return n.d(q,{a:q}),q},e=Object.getPrototypeOf?z=>Object.getPrototypeOf(z):z=>z.__proto__,n.t=function(z,q){if((1&q&&(z=this(z)),8&q)||"object"==typeof z&&z&&(4&q&&z.__esModule||16&q&&"function"==typeof z.then))return z;var h=Object.create(null);n.r(h);var y={};
g=g||[null,e({}),e([]),e(e)];for(q=2&q&&z;"object"==typeof q&&!~g.indexOf(q);q=e(q))Object.getOwnPropertyNames(q).forEach(B=>y[B]=()=>z[B]);return y.default=()=>z,n.d(h,y),h},n.d=(z,q)=>{for(var h in q)n.o(q,h)&&!n.o(z,h)&&Object.defineProperty(z,h,{enumerable:!0,get:q[h]})},n.f={},n.e=z=>Promise.all(Object.keys(n.f).reduce((q,h)=>(n.f[h](z,q),q),[])),n.u=z=>"excalidraw-assets/"+{9:"image",43:"i18n-de-DE-json",60:"i18n-ko-KR-json",62:"i18n-zh-TW-json",137:"i18n-ja-JP-json",149:"i18n-pt-PT-json",164:"i18n-kab-KAB-json",
196:"i18n-nl-NL-json",213:"i18n-tr-TR-json",242:"i18n-my-MM-json",246:"i18n-nb-NO-json",262:"i18n-he-IL-json",280:"i18n-pa-IN-json",304:"i18n-zh-CN-json",317:"i18n-es-ES-json",351:"i18n-ca-ES-json",364:"i18n-fr-FR-json",381:"i18n-pt-BR-json",384:"i18n-bg-BG-json",401:"i18n-sk-SK-json",465:"i18n-it-IT-json",472:"i18n-fi-FI-json",491:"i18n-id-ID-json",526:"i18n-el-GR-json",558:"i18n-ar-SA-json",565:"i18n-oc-FR-json",583:"i18n-uk-UA-json",661:"i18n-hu-HU-json",698:"i18n-sv-SE-json",710:"i18n-fa-IR-json",
736:"vendor",752:"i18n-ro-RO-json",852:"i18n-pl-PL-json",869:"i18n-ru-RU-json",920:"i18n-nn-NO-json",933:"i18n-hi-IN-json"}[z]+"-"+{9:"4c2d5c85067885b645af",43:"4823c48393124a3bc5fc",60:"75e2d73e015b1ef6a00d",62:"a0c2b649e55b974d40c5",137:"f474ca90ec8965ba76bc",149:"c9da04f1ebc22a355f86",164:"2fe8f05383d9a2909403",196:"2f881bef64ae25c364ac",213:"c242fdecb3c6041308d2",242:"ce2b98acffdb55807b6f",246:"c2cc1faff5c7d28c9137",262:"31401716f9d4fa7a8bbe",280:"e7099ca1ca91c8c95b90",304:"79915d2ad7106b7382fd",
317:"7cd687c81182a9b5ed38",351:"6ac46acbf7738365c825",364:"61ce1bd7bc0a3d36b14d",381:"364638bb52b1d6ba5d98",384:"a01c652fed411bb7e219",401:"0e83170f656b45bc1b89",465:"29c2adfbbe19b39bc050",472:"0890c5432a9aab3f4334",491:"43dd7122a92d9af1cc73",526:"71e0e6e546481de5271a",558:"3be99fb5f680b3d25ba6",565:"deee05849e45de2af8e7",583:"0605fca3af66a20c3875",661:"b10cefa097a941371ce6",698:"2e1cd9ef4c7da46616c6",710:"cb2081671627c079b0fe",736:"3525c448906ddcdcb701",752:"22baa4391c498a5fffc5",852:"488381cf4df470095153",
869:"f6493c191c20d85e2b08",920:"ee5d2b7fda6783d75f36",933:"f3ae9dac7b038b673e45"}[z]+".js",n.o=(z,q)=>Object.prototype.hasOwnProperty.call(z,q),k={},n.l=(z,q,h,y)=>{if(k[z])k[z].push(q);else{var B;if(void 0!==h){y=document.getElementsByTagName("script");for(var H=0;H<y.length;H++){var M=y[H];if(M.getAttribute("src")==z||M.getAttribute("data-webpack")=="Excalidraw:"+h){var P=M;break}}}P||(B=!0,(P=document.createElement("script")).charset="utf-8",P.timeout=120,n.nc&&P.setAttribute("nonce",n.nc),P.setAttribute("data-webpack",
"Excalidraw:"+h),P.src=z);k[z]=[q];q=(C,F)=>{P.onerror=P.onload=null;clearTimeout(I);var w=k[z];if(delete k[z],P.parentNode&&P.parentNode.removeChild(P),w&&w.forEach(aa=>aa(F)),C)return C(F)};var I=setTimeout(q.bind(null,void 0,{type:"timeout",target:P}),12E4);P.onerror=q.bind(null,P.onerror);P.onload=q.bind(null,P.onload);B&&document.head.appendChild(P)}},n.r=z=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(z,Symbol.toStringTag,{value:"Module"});Object.defineProperty(z,"__esModule",
{value:!0})},n.p="",(()=>{var z={163:0};n.f.j=(y,B)=>{var H=n.o(z,y)?z[y]:void 0;if(0!==H)if(H)B.push(H[2]);else{var M=new Promise((I,C)=>{H=z[y]=[I,C]});B.push(H[2]=M);B=n.p+n.u(y);var P=Error();n.l(B,I=>{if(n.o(z,y)&&(0!==(H=z[y])&&(z[y]=void 0),H)){var C=I&&("load"===I.type?"missing":I.type);I=I&&I.target&&I.target.src;P.message="Loading chunk "+y+" failed.\n("+C+": "+I+")";P.name="ChunkLoadError";P.type=C;P.request=I;H[1](P)}},"chunk-"+y,y)}};var q=(y,B)=>{for(var H,M,[P,I,C]=B,F=0,w=[];F<P.length;F++)M=
P[F],n.o(z,M)&&z[M]&&w.push(z[M][0]),z[M]=0;for(H in I)n.o(I,H)&&(n.m[H]=I[H]);C&&C(n);for(y&&y(B);w.length;)w.shift()()},h=self.webpackChunkExcalidraw=self.webpackChunkExcalidraw||[];h.forEach(q.bind(null,0));h.push=q.bind(null,h.push.bind(h))})(),n(3956)})()})};
'use strict';
var $frontend$handler$draw$load_excalidraw_file$$ = function($file$jscomp$51$$, $ok_handler$jscomp$26$$) {
  var $temp__5720__auto__$jscomp$444$$ = $APP.$frontend$state$get_current_repo$$();
  $APP.$cljs$core$truth_$$($temp__5720__auto__$jscomp$444$$) && $APP.$frontend$util$p_handle$cljs$0core$0IFn$0_invoke$0arity$03$$($APP.$frontend$handler$file$load_file$$($temp__5720__auto__$jscomp$444$$, $file$jscomp$51$$), function($content$jscomp$140$$) {
    return $ok_handler$jscomp$26$$.$cljs$core$IFn$_invoke$arity$1$ ? $ok_handler$jscomp$26$$.$cljs$core$IFn$_invoke$arity$1$($content$jscomp$140$$) : $ok_handler$jscomp$26$$.call(null, $content$jscomp$140$$);
  }, function($error$jscomp$59$$) {
    return $APP.$cljs$core$println$$.$cljs$core$IFn$_invoke$arity$variadic$($APP.$cljs$core$prim_seq$cljs$0core$0IFn$0_invoke$0arity$02$$(["Error loading ", $file$jscomp$51$$, ": ", $error$jscomp$59$$]));
  });
}, $frontend$extensions$excalidraw$update_draw_content_width$$ = function($state$jscomp$274$$) {
  var $el$jscomp$56_el__$1$jscomp$1_width$jscomp$56$$ = $APP.$rum$core$dom_node$$($state$jscomp$274$$);
  $el$jscomp$56_el__$1$jscomp$1_width$jscomp$56$$ = $APP.$cljs$core$truth_$$($el$jscomp$56_el__$1$jscomp$1_width$jscomp$56$$) ? $el$jscomp$56_el__$1$jscomp$1_width$jscomp$56$$.querySelector(".draw-wrap") : $el$jscomp$56_el__$1$jscomp$1_width$jscomp$56$$;
  $el$jscomp$56_el__$1$jscomp$1_width$jscomp$56$$ = $APP.$cljs$core$truth_$$($el$jscomp$56_el__$1$jscomp$1_width$jscomp$56$$) ? $el$jscomp$56_el__$1$jscomp$1_width$jscomp$56$$.clientWidth : $el$jscomp$56_el__$1$jscomp$1_width$jscomp$56$$;
  $APP.$cljs$core$reset_BANG_$$($cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_draw_DASH_width$$.$cljs$core$IFn$_invoke$arity$1$($state$jscomp$274$$), $el$jscomp$56_el__$1$jscomp$1_width$jscomp$56$$);
  return $state$jscomp$274$$;
}, $cljs$cst$keyword$view_DASH_mode_DASH_enabled$$ = new $APP.$cljs$core$Keyword$$(null, "view-mode-enabled", "view-mode-enabled", -588220561), $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_view_DASH_mode_QMARK_$$ = new $APP.$cljs$core$Keyword$$("frontend.extensions.excalidraw", "view-mode?", "frontend.extensions.excalidraw/view-mode?", 525380621), $cljs$cst$keyword$viewBackgroundColor$$ = new $APP.$cljs$core$Keyword$$(null, "viewBackgroundColor", "viewBackgroundColor", 1889137994), 
$cljs$cst$keyword$grid_DASH_mode_DASH_enabled$$ = new $APP.$cljs$core$Keyword$$(null, "grid-mode-enabled", "grid-mode-enabled", 584978327), $cljs$cst$keyword$gridSize$$ = new $APP.$cljs$core$Keyword$$(null, "gridSize", "gridSize", 843108791), $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_elements$$ = new $APP.$cljs$core$Keyword$$("frontend.extensions.excalidraw", "elements", "frontend.extensions.excalidraw/elements", 1745667967), $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_loading_QMARK_$$ = 
new $APP.$cljs$core$Keyword$$("frontend.extensions.excalidraw", "loading?", "frontend.extensions.excalidraw/loading?", -1335058663), $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_data$$ = new $APP.$cljs$core$Keyword$$("frontend.extensions.excalidraw", "data", "frontend.extensions.excalidraw/data", -1371036113), $cljs$cst$keyword$zen_DASH_mode_DASH_enabled$$ = new $APP.$cljs$core$Keyword$$(null, "zen-mode-enabled", "zen-mode-enabled", -955634269), $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_zen_DASH_mode_QMARK_$$ = 
new $APP.$cljs$core$Keyword$$("frontend.extensions.excalidraw", "zen-mode?", "frontend.extensions.excalidraw/zen-mode?", 1559773511), $cljs$cst$keyword$appState$$ = new $APP.$cljs$core$Keyword$$(null, "appState", "appState", -1920687968), $cljs$cst$keyword$initial_DASH_data$$ = new $APP.$cljs$core$Keyword$$(null, "initial-data", "initial-data", -1315709804), $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_draw_DASH_width$$ = new $APP.$cljs$core$Keyword$$("frontend.extensions.excalidraw", 
"draw-width", "frontend.extensions.excalidraw/draw-width", -681100043);
$APP.$JSCompiler_StaticMethods_beforeLoadModuleCode$$("excalidraw");
var $module$node_modules$$excalidraw$excalidraw$dist$excalidraw_min$$ = $APP.$shadow$js$require$$(556);
var $frontend$extensions$excalidraw$excalidraw$$, $frontend$extensions$excalidraw$_STAR_bounding_width$$, $frontend$extensions$excalidraw$draw_inner$$, $frontend$extensions$excalidraw$draw_container$$;
$APP.$frontend$extensions$excalidraw$$ = {};
$frontend$extensions$excalidraw$excalidraw$$ = $APP.$frontend$rum$adapt_class$cljs$0core$0IFn$0_invoke$0arity$02$$($APP.$goog$object$get$$($module$node_modules$$excalidraw$excalidraw$dist$excalidraw_min$$, "default"));
$frontend$extensions$excalidraw$_STAR_bounding_width$$ = $APP.$cljs$core$atom$$.$cljs$core$IFn$_invoke$arity$1$(null);
$frontend$extensions$excalidraw$draw_inner$$ = $APP.$rum$core$lazy_build$$($APP.$rum$core$build_defcs$$, function($state$jscomp$275$$, $data$jscomp$203$$, $option$jscomp$25$$) {
  $APP.$frontend$state$sub$$($APP.$cljs$cst$keyword$git_SLASH_current_DASH_repo$$);
  $APP.$rum$core$react$$($frontend$extensions$excalidraw$_STAR_bounding_width$$);
  var $_STAR_draw_width$$ = $APP.$cljs$core$get$$.$cljs$core$IFn$_invoke$arity$2$($state$jscomp$275$$, $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_draw_DASH_width$$), $_STAR_zen_mode_QMARK_$$ = $APP.$cljs$core$get$$.$cljs$core$IFn$_invoke$arity$2$($state$jscomp$275$$, $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_zen_DASH_mode_QMARK_$$), $_STAR_view_mode_QMARK_$$ = $APP.$cljs$core$get$$.$cljs$core$IFn$_invoke$arity$2$($state$jscomp$275$$, $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_view_DASH_mode_QMARK_$$), 
  $wide_mode_QMARK_$$ = $APP.$frontend$state$sub$$($APP.$cljs$cst$keyword$ui_SLASH_wide_DASH_mode_QMARK_$$), $_STAR_elements$$ = $APP.$cljs$core$get$$.$cljs$core$IFn$_invoke$arity$2$($state$jscomp$275$$, $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_elements$$), $file$jscomp$98$$ = $APP.$cljs$cst$keyword$file$$.$cljs$core$IFn$_invoke$arity$1$($option$jscomp$25$$);
  return $APP.$cljs$core$truth_$$($data$jscomp$203$$) ? $APP.$daiquiri$core$create_element$$("div", {onMouseDown:function($e$jscomp$670$$) {
    return $APP.$frontend$util$stop$$($e$jscomp$670$$);
  }, className:"overflow-hidden"}, [$APP.$daiquiri$core$create_element$$("div", {style:{fontSize:10}, className:"my-1"}, [$APP.$daiquiri$core$create_element$$("a", {onClick:$APP.$frontend$handler$ui$toggle_wide_mode_BANG_$$, className:"mr-2"}, [$APP.$daiquiri$interpreter$interpret$$($APP.$frontend$util$format$cljs$0core$0IFn$0_invoke$0arity$0variadic$$("Wide Mode (%s)", $APP.$cljs$core$prim_seq$cljs$0core$0IFn$0_invoke$0arity$02$$([$APP.$cljs$core$truth_$$($wide_mode_QMARK_$$) ? "ON" : "OFF"])))]), 
  $APP.$daiquiri$core$create_element$$("a", {onClick:function() {
    return $APP.$cljs$core$swap_BANG_$$.$cljs$core$IFn$_invoke$arity$2$($_STAR_zen_mode_QMARK_$$, $APP.$cljs$core$not$$);
  }, className:"mr-2"}, [$APP.$daiquiri$interpreter$interpret$$($APP.$frontend$util$format$cljs$0core$0IFn$0_invoke$0arity$0variadic$$("Zen Mode (%s)", $APP.$cljs$core$prim_seq$cljs$0core$0IFn$0_invoke$0arity$02$$([$APP.$cljs$core$truth_$$($APP.$cljs$core$_deref$$($_STAR_zen_mode_QMARK_$$)) ? "ON" : "OFF"])))]), $APP.$daiquiri$core$create_element$$("a", {onClick:function() {
    return $APP.$cljs$core$swap_BANG_$$.$cljs$core$IFn$_invoke$arity$2$($_STAR_view_mode_QMARK_$$, $APP.$cljs$core$not$$);
  }, className:"mr-2"}, [$APP.$daiquiri$interpreter$interpret$$($APP.$frontend$util$format$cljs$0core$0IFn$0_invoke$0arity$0variadic$$("View Mode (%s)", $APP.$cljs$core$prim_seq$cljs$0core$0IFn$0_invoke$0arity$02$$([$APP.$cljs$core$truth_$$($APP.$cljs$core$_deref$$($_STAR_view_mode_QMARK_$$)) ? "ON" : "OFF"])))])]), $APP.$daiquiri$core$create_element$$("div", {onMouseDown:function($e$jscomp$671$$) {
    $APP.$frontend$util$stop$$($e$jscomp$671$$);
    return $APP.$frontend$state$set_state_BANG_$$($APP.$cljs$cst$keyword$block_SLASH_component_DASH_editing_DASH_mode_QMARK_$$, !0);
  }, onBlur:function() {
    return $APP.$frontend$state$set_state_BANG_$$($APP.$cljs$cst$keyword$block_SLASH_component_DASH_editing_DASH_mode_QMARK_$$, !1);
  }, className:"draw-wrap"}, [$APP.$daiquiri$interpreter$interpret$$(function() {
    var $G__99290$$ = $APP.$cljs$core$merge$$.$cljs$core$IFn$_invoke$arity$variadic$($APP.$cljs$core$prim_seq$cljs$0core$0IFn$0_invoke$0arity$02$$([new $APP.$cljs$core$PersistentArrayMap$$(null, 6, [$APP.$cljs$cst$keyword$on_DASH_change$$, function($elements$jscomp$16$$, $state__$1$jscomp$10_state__$2$$) {
      var $elements__GT_clj$$ = $APP.$cljs_bean$core$__GT_clj$$($elements$jscomp$16$$);
      return $APP.$cljs$core$seq$$($elements__GT_clj$$) && $APP.$cljs$core$not_EQ_$$.$cljs$core$IFn$_invoke$arity$2$($elements$jscomp$16$$, $APP.$cljs$core$_deref$$($_STAR_elements$$)) ? ($state__$1$jscomp$10_state__$2$$ = $APP.$cljs_bean$core$__GT_clj$$($state__$1$jscomp$10_state__$2$$), $APP.$frontend$handler$draw$save_excalidraw_BANG_$$($file$jscomp$98$$, JSON.stringify($APP.$cljs_bean$core$__GT_js$$(new $APP.$cljs$core$PersistentArrayMap$$(null, 5, [$APP.$cljs$cst$keyword$type$$, "excalidraw", 
      $APP.$cljs$cst$keyword$version$$, 2, $APP.$cljs$cst$keyword$source$$, $APP.$frontend$config$website$$, $APP.$cljs$cst$keyword$elements$$, $elements$jscomp$16$$, $cljs$cst$keyword$appState$$, $APP.$cljs$core$select_keys$$($state__$1$jscomp$10_state__$2$$, new $APP.$cljs$core$PersistentVector$$(null, 2, 5, $APP.$cljs$core$PersistentVector$EMPTY_NODE$$, [$cljs$cst$keyword$gridSize$$, $cljs$cst$keyword$viewBackgroundColor$$], null))], null)))), $APP.$cljs$core$reset_BANG_$$($_STAR_elements$$, $elements$jscomp$16$$)) : 
      null;
    }, $cljs$cst$keyword$zen_DASH_mode_DASH_enabled$$, $APP.$cljs$core$_deref$$($_STAR_zen_mode_QMARK_$$), $cljs$cst$keyword$view_DASH_mode_DASH_enabled$$, $APP.$cljs$core$_deref$$($_STAR_view_mode_QMARK_$$), $cljs$cst$keyword$grid_DASH_mode_DASH_enabled$$, !1, $cljs$cst$keyword$initial_DASH_data$$, $data$jscomp$203$$, $APP.$cljs$cst$keyword$width$$, $APP.$cljs$core$_deref$$($_STAR_draw_width$$)], null), $APP.$cljs$core$truth_$$($wide_mode_QMARK_$$) ? new $APP.$cljs$core$PersistentArrayMap$$(null, 
    1, [$APP.$cljs$cst$keyword$height$$, 650], null) : new $APP.$cljs$core$PersistentArrayMap$$(null, 1, [$APP.$cljs$cst$keyword$height$$, 500], null)]));
    return $frontend$extensions$excalidraw$excalidraw$$.$cljs$core$IFn$_invoke$arity$1$ ? $frontend$extensions$excalidraw$excalidraw$$.$cljs$core$IFn$_invoke$arity$1$($G__99290$$) : $frontend$extensions$excalidraw$excalidraw$$.call(null, $G__99290$$);
  }())])]) : null;
}, new $APP.$cljs$core$PersistentVector$$(null, 7, 5, $APP.$cljs$core$PersistentVector$EMPTY_NODE$$, [$APP.$rum$core$reactive$$, $APP.$rum$core$local$cljs$0core$0IFn$0_invoke$0arity$02$$(800, $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_draw_DASH_width$$), $APP.$rum$core$local$cljs$0core$0IFn$0_invoke$0arity$02$$(!0, $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_zen_DASH_mode_QMARK_$$), $APP.$rum$core$local$cljs$0core$0IFn$0_invoke$0arity$02$$(!1, $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_view_DASH_mode_QMARK_$$), 
$APP.$rum$core$local$cljs$0core$0IFn$0_invoke$0arity$02$$(null, $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_elements$$), new $APP.$cljs$core$PersistentArrayMap$$(null, 1, [$APP.$cljs$cst$keyword$did_DASH_mount$$, $frontend$extensions$excalidraw$update_draw_content_width$$], null), new $APP.$cljs$core$PersistentArrayMap$$(null, 1, [$APP.$cljs$cst$keyword$did_DASH_update$$, $frontend$extensions$excalidraw$update_draw_content_width$$], null)], null), "frontend.extensions.excalidraw/draw-inner");
$frontend$extensions$excalidraw$draw_container$$ = $APP.$rum$core$lazy_build$$($APP.$rum$core$build_defcs$$, function($_STAR_loading_QMARK_$jscomp$1_loading_QMARK_$jscomp$5_state$jscomp$276$$, $attrs99291_option$jscomp$26$$) {
  var $_STAR_data_data$jscomp$204$$ = $APP.$cljs$core$get$$.$cljs$core$IFn$_invoke$arity$2$($_STAR_loading_QMARK_$jscomp$1_loading_QMARK_$jscomp$5_state$jscomp$276$$, $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_data$$);
  $_STAR_loading_QMARK_$jscomp$1_loading_QMARK_$jscomp$5_state$jscomp$276$$ = $APP.$cljs$core$get$$.$cljs$core$IFn$_invoke$arity$2$($_STAR_loading_QMARK_$jscomp$1_loading_QMARK_$jscomp$5_state$jscomp$276$$, $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_loading_QMARK_$$);
  $_STAR_loading_QMARK_$jscomp$1_loading_QMARK_$jscomp$5_state$jscomp$276$$ = $APP.$rum$core$react$$($_STAR_loading_QMARK_$jscomp$1_loading_QMARK_$jscomp$5_state$jscomp$276$$);
  $_STAR_data_data$jscomp$204$$ = $APP.$rum$core$react$$($_STAR_data_data$jscomp$204$$);
  var $db_restoring_QMARK_$jscomp$4$$ = $APP.$frontend$state$sub$$($APP.$cljs$cst$keyword$db_SLASH_restoring_QMARK_$$);
  return $APP.$cljs$core$truth_$$($APP.$cljs$cst$keyword$file$$.$cljs$core$IFn$_invoke$arity$1$($attrs99291_option$jscomp$26$$)) ? $APP.$cljs$core$truth_$$($db_restoring_QMARK_$jscomp$4$$) ? ($attrs99291_option$jscomp$26$$ = $APP.$frontend$ui$loading$$("Loading"), $APP.$daiquiri$core$create_element$$("div", $APP.$cljs$core$map_QMARK_$$($attrs99291_option$jscomp$26$$) ? $APP.$daiquiri$interpreter$attributes$$($APP.$daiquiri$normalize$merge_with_class$cljs$0core$0IFn$0_invoke$0arity$0variadic$$($APP.$cljs$core$prim_seq$cljs$0core$0IFn$0_invoke$0arity$02$$([new $APP.$cljs$core$PersistentArrayMap$$(null, 
  1, [$APP.$cljs$cst$keyword$class$$, new $APP.$cljs$core$PersistentVector$$(null, 1, 5, $APP.$cljs$core$PersistentVector$EMPTY_NODE$$, ["ls-center"], null)], null), $attrs99291_option$jscomp$26$$]))) : {className:"ls-center"}, $APP.$cljs$core$map_QMARK_$$($attrs99291_option$jscomp$26$$) ? null : [$APP.$daiquiri$interpreter$interpret$$($attrs99291_option$jscomp$26$$)])) : !1 === $_STAR_loading_QMARK_$jscomp$1_loading_QMARK_$jscomp$5_state$jscomp$276$$ ? $frontend$extensions$excalidraw$draw_inner$$($_STAR_data_data$jscomp$204$$, 
  $attrs99291_option$jscomp$26$$) : null : null;
}, new $APP.$cljs$core$PersistentVector$$(null, 2, 5, $APP.$cljs$core$PersistentVector$EMPTY_NODE$$, [$APP.$rum$core$reactive$$, new $APP.$cljs$core$PersistentArrayMap$$(null, 1, [$APP.$cljs$cst$keyword$init$$, function($state$jscomp$277$$) {
  var $file$jscomp$99_option$jscomp$27_vec__99292$$ = $APP.$cljs$cst$keyword$rum_SLASH_args$$.$cljs$core$IFn$_invoke$arity$1$($state$jscomp$277$$);
  $file$jscomp$99_option$jscomp$27_vec__99292$$ = $APP.$cljs$core$nth$$.$cljs$core$IFn$_invoke$arity$3$($file$jscomp$99_option$jscomp$27_vec__99292$$, 0, null);
  $file$jscomp$99_option$jscomp$27_vec__99292$$ = $APP.$cljs$cst$keyword$file$$.$cljs$core$IFn$_invoke$arity$1$($file$jscomp$99_option$jscomp$27_vec__99292$$);
  var $_STAR_data$jscomp$1$$ = $APP.$cljs$core$atom$$.$cljs$core$IFn$_invoke$arity$1$(null), $_STAR_loading_QMARK_$jscomp$2$$ = $APP.$cljs$core$atom$$.$cljs$core$IFn$_invoke$arity$1$(!0);
  $APP.$cljs$core$truth_$$($file$jscomp$99_option$jscomp$27_vec__99292$$) && $frontend$handler$draw$load_excalidraw_file$$($file$jscomp$99_option$jscomp$27_vec__99292$$, function($data$jscomp$205_e$jscomp$inline_7609$$) {
    if ($APP.$clojure$string$blank_QMARK_$$($data$jscomp$205_e$jscomp$inline_7609$$)) {
      var $data__$1$jscomp$9$$ = null;
    } else {
      try {
        $data__$1$jscomp$9$$ = JSON.parse($data$jscomp$205_e$jscomp$inline_7609$$);
      } catch ($e99287$jscomp$inline_7610$$) {
        if ($e99287$jscomp$inline_7610$$ instanceof Error) {
          $data$jscomp$205_e$jscomp$inline_7609$$ = $e99287$jscomp$inline_7610$$, $APP.$cljs$core$println$$.$cljs$core$IFn$_invoke$arity$variadic$($APP.$cljs$core$prim_seq$cljs$0core$0IFn$0_invoke$0arity$02$$(["from json error:"])), console.dir($data$jscomp$205_e$jscomp$inline_7609$$), $data__$1$jscomp$9$$ = $APP.$frontend$handler$notification$show_BANG_$cljs$0core$0IFn$0_invoke$0arity$02$$($APP.$frontend$util$format$$("Could not load this invalid excalidraw file"), $APP.$cljs$cst$keyword$error$$);
        } else {
          throw $e99287$jscomp$inline_7610$$;
        }
      }
    }
    $APP.$cljs$core$reset_BANG_$$($_STAR_data$jscomp$1$$, $data__$1$jscomp$9$$);
    return $APP.$cljs$core$reset_BANG_$$($_STAR_loading_QMARK_$jscomp$2$$, !1);
  });
  return $APP.$cljs$core$assoc$$.$cljs$core$IFn$_invoke$arity$variadic$($state$jscomp$277$$, $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_data$$, $_STAR_data$jscomp$1$$, $APP.$cljs$core$prim_seq$cljs$0core$0IFn$0_invoke$0arity$02$$([$cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_loading_QMARK_$$, $_STAR_loading_QMARK_$jscomp$2$$]));
}], null)], null), "frontend.extensions.excalidraw/draw-container");
$APP.$frontend$extensions$excalidraw$draw$$ = $APP.$rum$core$lazy_build$$($APP.$rum$core$build_defc$$, function($option$jscomp$28$$) {
  var $repo$jscomp$411$$ = $APP.$frontend$state$get_current_repo$$(), $granted_QMARK_$jscomp$2$$ = $APP.$frontend$state$sub$$(new $APP.$cljs$core$PersistentVector$$(null, 2, 5, $APP.$cljs$core$PersistentVector$EMPTY_NODE$$, [$APP.$cljs$cst$keyword$nfs_SLASH_user_DASH_granted_QMARK_$$, $repo$jscomp$411$$], null));
  return $APP.$frontend$config$local_db_QMARK_$$($repo$jscomp$411$$) && $APP.$cljs$core$not$$($granted_QMARK_$jscomp$2$$) && $APP.$cljs$core$not$$($APP.$frontend$util$electron_QMARK_$$()) ? null : $frontend$extensions$excalidraw$draw_container$$($option$jscomp$28$$);
}, new $APP.$cljs$core$PersistentVector$$(null, 1, 5, $APP.$cljs$core$PersistentVector$EMPTY_NODE$$, [$APP.$rum$core$reactive$$], null), "frontend.extensions.excalidraw/draw");
$APP.$shadow$loader$mm$$.$setLoaded$();

}).call(this);
//# sourceMappingURL=excalidraw.js.map
